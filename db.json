{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"themes/landscape/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/blank.gif","path":"fancybox/blank.gif","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","path":"fancybox/fancybox_loading@2x.gif","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","path":"fancybox/fancybox_loading.gif","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","path":"fancybox/fancybox_overlay.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","path":"fancybox/fancybox_sprite@2x.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","path":"fancybox/fancybox_sprite.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","path":"fancybox/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","path":"fancybox/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","path":"fancybox/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/landscape/source/js/script.js","path":"js/script.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","path":"css/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","path":"css/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","path":"css/fonts/fontawesome-webfont.svg","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","path":"css/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","path":"css/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/landscape/source/css/images/banner.jpg","path":"css/images/banner.jpg","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","path":"fancybox/helpers/fancybox_buttons.png","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","path":"fancybox/helpers/jquery.fancybox-buttons.css","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","path":"fancybox/helpers/jquery.fancybox-buttons.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","path":"fancybox/helpers/jquery.fancybox-media.js","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","path":"fancybox/helpers/jquery.fancybox-thumbs.css","modified":0,"renderable":1},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","path":"fancybox/helpers/jquery.fancybox-thumbs.js","modified":0,"renderable":1},{"_id":"themes/default/source/css/mdui.css","path":"css/mdui.css","modified":0,"renderable":1},{"_id":"themes/default/source/css/style.css","path":"css/style.css","modified":0,"renderable":1},{"_id":"themes/default/source/images/avatar.png","path":"images/avatar.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/banner.png","path":"images/banner.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/favicon.png","path":"images/favicon.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/grey.png","path":"images/grey.png","modified":0,"renderable":1},{"_id":"themes/default/source/js/mdui.js","path":"js/mdui.js","modified":0,"renderable":1},{"_id":"themes/default/source/js/script.js","path":"js/script.js","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/LICENSE.txt","path":"fonts/roboto/LICENSE.txt","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-Black.woff","path":"fonts/roboto/Roboto-Black.woff","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-Black.woff2","path":"fonts/roboto/Roboto-Black.woff2","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-BlackItalic.woff","path":"fonts/roboto/Roboto-BlackItalic.woff","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-BlackItalic.woff2","path":"fonts/roboto/Roboto-BlackItalic.woff2","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-Bold.woff","path":"fonts/roboto/Roboto-Bold.woff","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-Bold.woff2","path":"fonts/roboto/Roboto-Bold.woff2","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-BoldItalic.woff","path":"fonts/roboto/Roboto-BoldItalic.woff","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-BoldItalic.woff2","path":"fonts/roboto/Roboto-BoldItalic.woff2","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-Light.woff","path":"fonts/roboto/Roboto-Light.woff","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-Light.woff2","path":"fonts/roboto/Roboto-Light.woff2","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-LightItalic.woff","path":"fonts/roboto/Roboto-LightItalic.woff","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-LightItalic.woff2","path":"fonts/roboto/Roboto-LightItalic.woff2","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-Medium.woff","path":"fonts/roboto/Roboto-Medium.woff","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-Medium.woff2","path":"fonts/roboto/Roboto-Medium.woff2","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-MediumItalic.woff","path":"fonts/roboto/Roboto-MediumItalic.woff","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-MediumItalic.woff2","path":"fonts/roboto/Roboto-MediumItalic.woff2","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-Regular.woff","path":"fonts/roboto/Roboto-Regular.woff","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-Regular.woff2","path":"fonts/roboto/Roboto-Regular.woff2","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-RegularItalic.woff","path":"fonts/roboto/Roboto-RegularItalic.woff","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-RegularItalic.woff2","path":"fonts/roboto/Roboto-RegularItalic.woff2","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-Thin.woff","path":"fonts/roboto/Roboto-Thin.woff","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-Thin.woff2","path":"fonts/roboto/Roboto-Thin.woff2","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-ThinItalic.woff","path":"fonts/roboto/Roboto-ThinItalic.woff","modified":0,"renderable":1},{"_id":"themes/default/source/fonts/roboto/Roboto-ThinItalic.woff2","path":"fonts/roboto/Roboto-ThinItalic.woff2","modified":0,"renderable":1},{"_id":"themes/default/source/icons/custom-icons/iconfont.eot","path":"icons/custom-icons/iconfont.eot","modified":0,"renderable":1},{"_id":"themes/default/source/icons/custom-icons/iconfont.svg","path":"icons/custom-icons/iconfont.svg","modified":0,"renderable":1},{"_id":"themes/default/source/icons/custom-icons/iconfont.ttf","path":"icons/custom-icons/iconfont.ttf","modified":0,"renderable":1},{"_id":"themes/default/source/icons/custom-icons/iconfont.woff","path":"icons/custom-icons/iconfont.woff","modified":0,"renderable":1},{"_id":"themes/default/source/icons/custom-icons/iconfont.woff2","path":"icons/custom-icons/iconfont.woff2","modified":0,"renderable":1},{"_id":"themes/default/source/icons/material-icons/LICENSE.txt","path":"icons/material-icons/LICENSE.txt","modified":0,"renderable":1},{"_id":"themes/default/source/icons/material-icons/MaterialIcons-Regular.ijmap","path":"icons/material-icons/MaterialIcons-Regular.ijmap","modified":0,"renderable":1},{"_id":"themes/default/source/icons/material-icons/MaterialIcons-Regular.woff","path":"icons/material-icons/MaterialIcons-Regular.woff","modified":0,"renderable":1},{"_id":"themes/default/source/icons/material-icons/MaterialIcons-Regular.woff2","path":"icons/material-icons/MaterialIcons-Regular.woff2","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-1.png","path":"images/random/material-1.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-10.png","path":"images/random/material-10.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-11.png","path":"images/random/material-11.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-12.png","path":"images/random/material-12.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-13.png","path":"images/random/material-13.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-14.png","path":"images/random/material-14.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-15.png","path":"images/random/material-15.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-16.png","path":"images/random/material-16.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-17.png","path":"images/random/material-17.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-18.png","path":"images/random/material-18.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-19.png","path":"images/random/material-19.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-2.png","path":"images/random/material-2.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-3.png","path":"images/random/material-3.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-4.png","path":"images/random/material-4.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-5.png","path":"images/random/material-5.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-6.png","path":"images/random/material-6.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-7.png","path":"images/random/material-7.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-8.png","path":"images/random/material-8.png","modified":0,"renderable":1},{"_id":"themes/default/source/images/random/material-9.png","path":"images/random/material-9.png","modified":0,"renderable":1}],"Cache":[{"_id":"source/_posts/hello-world.md","hash":"7d98d6592de80fdcd2949bd7401cec12afd98cdf","modified":1670462327131},{"_id":"themes/landscape/.npmignore","hash":"58d26d4b5f2f94c2d02a4e4a448088e4a2527c77","modified":1670462325357},{"_id":"themes/landscape/Gruntfile.js","hash":"71adaeaac1f3cc56e36c49d549b8d8a72235c9b9","modified":1670462326972},{"_id":"themes/landscape/LICENSE","hash":"c480fce396b23997ee23cc535518ffaaf7f458f8","modified":1670462326097},{"_id":"themes/landscape/README.md","hash":"37fae88639ef60d63bd0de22314d7cc4c5d94b07","modified":1670462327151},{"_id":"themes/landscape/_config.yml","hash":"79ac6b9ed6a4de5a21ea53fc3f5a3de92e2475ff","modified":1670462327415},{"_id":"themes/landscape/package.json","hash":"544f21a0b2c7034998b36ae94dba6e3e0f39f228","modified":1670462327119},{"_id":"themes/landscape/languages/de.yml","hash":"3ebf0775abbee928c8d7bda943c191d166ded0d3","modified":1670462327421},{"_id":"themes/landscape/languages/default.yml","hash":"3083f319b352d21d80fc5e20113ddf27889c9d11","modified":1670462327426},{"_id":"themes/landscape/languages/es.yml","hash":"76edb1171b86532ef12cfd15f5f2c1ac3949f061","modified":1670462327461},{"_id":"themes/landscape/languages/fr.yml","hash":"415e1c580ced8e4ce20b3b0aeedc3610341c76fb","modified":1670462327466},{"_id":"themes/landscape/languages/ja.yml","hash":"a73e1b9c80fd6e930e2628b393bfe3fb716a21a9","modified":1670462327476},{"_id":"themes/landscape/languages/ko.yml","hash":"881d6a0a101706e0452af81c580218e0bfddd9cf","modified":1670462327489},{"_id":"themes/landscape/languages/nl.yml","hash":"12ed59faba1fc4e8cdd1d42ab55ef518dde8039c","modified":1670462327497},{"_id":"themes/landscape/languages/no.yml","hash":"965a171e70347215ec726952e63f5b47930931ef","modified":1670462327507},{"_id":"themes/landscape/languages/pt.yml","hash":"57d07b75d434fbfc33b0ddb543021cb5f53318a8","modified":1670462327512},{"_id":"themes/landscape/languages/ru.yml","hash":"4fda301bbd8b39f2c714e2c934eccc4b27c0a2b0","modified":1670462327517},{"_id":"themes/landscape/languages/zh-CN.yml","hash":"ca40697097ab0b3672a80b455d3f4081292d1eed","modified":1670462327521},{"_id":"themes/landscape/languages/zh-TW.yml","hash":"53ce3000c5f767759c7d2c4efcaa9049788599c3","modified":1670462327527},{"_id":"themes/landscape/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1670462326532},{"_id":"themes/landscape/layout/category.ejs","hash":"765426a9c8236828dc34759e604cc2c52292835a","modified":1670462326583},{"_id":"themes/landscape/layout/index.ejs","hash":"aa1b4456907bdb43e629be3931547e2d29ac58c8","modified":1670462326627},{"_id":"themes/landscape/layout/layout.ejs","hash":"f155824ca6130080bb057fa3e868a743c69c4cf5","modified":1670462326631},{"_id":"themes/landscape/layout/post.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1670462326668},{"_id":"themes/landscape/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1670462326652},{"_id":"themes/landscape/layout/tag.ejs","hash":"eaa7b4ccb2ca7befb90142e4e68995fb1ea68b2e","modified":1670462326701},{"_id":"themes/landscape/scripts/fancybox.js","hash":"aa411cd072399df1ddc8e2181a3204678a5177d9","modified":1670462326959},{"_id":"themes/landscape/layout/_partial/after-footer.ejs","hash":"d0d753d39038284d52b10e5075979cc97db9cd20","modified":1670462326477},{"_id":"themes/landscape/layout/_partial/archive-post.ejs","hash":"c7a71425a946d05414c069ec91811b5c09a92c47","modified":1670462326492},{"_id":"themes/landscape/layout/_partial/archive.ejs","hash":"950ddd91db8718153b329b96dc14439ab8463ba5","modified":1670462326504},{"_id":"themes/landscape/layout/_partial/article.ejs","hash":"c4c835615d96a950d51fa2c3b5d64d0596534fed","modified":1670462326542},{"_id":"themes/landscape/layout/_partial/footer.ejs","hash":"93518893cf91287e797ebac543c560e2a63b8d0e","modified":1670462326596},{"_id":"themes/landscape/layout/_partial/gauges-analytics.ejs","hash":"aad6312ac197d6c5aaf2104ac863d7eba46b772a","modified":1670462326609},{"_id":"themes/landscape/layout/_partial/google-analytics.ejs","hash":"f921e7f9223d7c95165e0f835f353b2938e40c45","modified":1670462326614},{"_id":"themes/landscape/layout/_partial/head.ejs","hash":"5abf77aec957d9445fc71a8310252f0013c84578","modified":1670462326618},{"_id":"themes/landscape/layout/_partial/header.ejs","hash":"7e749050be126eadbc42decfbea75124ae430413","modified":1670462326623},{"_id":"themes/landscape/layout/_partial/mobile-nav.ejs","hash":"e952a532dfc583930a666b9d4479c32d4a84b44e","modified":1670462326642},{"_id":"themes/landscape/layout/_partial/sidebar.ejs","hash":"930da35cc2d447a92e5ee8f835735e6fd2232469","modified":1670462326681},{"_id":"themes/landscape/layout/_widget/archive.ejs","hash":"beb4a86fcc82a9bdda9289b59db5a1988918bec3","modified":1670462326521},{"_id":"themes/landscape/layout/_widget/recent_posts.ejs","hash":"0d4f064733f8b9e45c0ce131fe4a689d570c883a","modified":1670462326677},{"_id":"themes/landscape/layout/_widget/category.ejs","hash":"dd1e5af3c6af3f5d6c85dfd5ca1766faed6a0b05","modified":1670462326577},{"_id":"themes/landscape/layout/_widget/tag.ejs","hash":"2de380865df9ab5f577f7d3bcadf44261eb5faae","modified":1670462326697},{"_id":"themes/landscape/layout/_widget/tagcloud.ejs","hash":"b4a2079101643f63993dcdb32925c9b071763b46","modified":1670462326708},{"_id":"themes/landscape/source/css/_variables.styl","hash":"628e307579ea46b5928424313993f17b8d729e92","modified":1670462327232},{"_id":"themes/landscape/source/css/_extend.styl","hash":"222fbe6d222531d61c1ef0f868c90f747b1c2ced","modified":1670462327226},{"_id":"themes/landscape/source/css/style.styl","hash":"a70d9c44dac348d742702f6ba87e5bb3084d65db","modified":1670462327349},{"_id":"themes/landscape/source/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1670462326732},{"_id":"themes/landscape/source/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1670462326749},{"_id":"themes/landscape/source/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1670462326741},{"_id":"themes/landscape/source/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1670462327198},{"_id":"themes/landscape/source/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1670462327214},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.js","hash":"d08b03a42d5c4ba456ef8ba33116fdbb7a9cabed","modified":1670462327035},{"_id":"themes/landscape/source/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1670462327207},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.pack.js","hash":"9e0d51ca1dbe66f6c0c7aefd552dc8122e694a6e","modified":1670462327092},{"_id":"themes/landscape/source/fancybox/jquery.fancybox.css","hash":"aaa582fb9eb4b7092dc69fcb2d5b1c20cca58ab6","modified":1670462326379},{"_id":"themes/landscape/source/js/script.js","hash":"2876e0b19ce557fca38d7c6f49ca55922ab666a1","modified":1670462327104},{"_id":"themes/landscape/layout/_partial/post/date.ejs","hash":"6197802873157656e3077c5099a7dda3d3b01c29","modified":1670462326591},{"_id":"themes/landscape/layout/_partial/post/category.ejs","hash":"c6bcd0e04271ffca81da25bcff5adf3d46f02fc0","modified":1670462326558},{"_id":"themes/landscape/layout/_partial/post/gallery.ejs","hash":"3d9d81a3c693ff2378ef06ddb6810254e509de5b","modified":1670462326604},{"_id":"themes/landscape/layout/_partial/post/nav.ejs","hash":"16a904de7bceccbb36b4267565f2215704db2880","modified":1670462326646},{"_id":"themes/landscape/layout/_partial/post/title.ejs","hash":"2f275739b6f1193c123646a5a31f37d48644c667","modified":1670462326715},{"_id":"themes/landscape/layout/_partial/post/tag.ejs","hash":"2fcb0bf9c8847a644167a27824c9bb19ac74dd14","modified":1670462326686},{"_id":"themes/landscape/source/css/_util/mixin.styl","hash":"44f32767d9fd3c1c08a60d91f181ee53c8f0dbb3","modified":1670462327329},{"_id":"themes/landscape/source/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1670462327187},{"_id":"themes/landscape/source/css/_util/grid.styl","hash":"0bf55ee5d09f193e249083602ac5fcdb1e571aed","modified":1670462327305},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1670462326728},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1670462327403},{"_id":"themes/landscape/source/css/_partial/archive.styl","hash":"db15f5677dc68f1730e82190bab69c24611ca292","modified":1670462327245},{"_id":"themes/landscape/source/css/_partial/article.styl","hash":"10685f8787a79f79c9a26c2f943253450c498e3e","modified":1670462327257},{"_id":"themes/landscape/source/css/_partial/comment.styl","hash":"79d280d8d203abb3bd933ca9b8e38c78ec684987","modified":1670462327269},{"_id":"themes/landscape/source/css/_partial/footer.styl","hash":"e35a060b8512031048919709a8e7b1ec0e40bc1b","modified":1670462327273},{"_id":"themes/landscape/source/css/_partial/header.styl","hash":"85ab11e082f4dd86dde72bed653d57ec5381f30c","modified":1670462327312},{"_id":"themes/landscape/source/css/_partial/highlight.styl","hash":"bf4e7be1968dad495b04e83c95eac14c4d0ad7c0","modified":1670462327326},{"_id":"themes/landscape/source/css/_partial/mobile.styl","hash":"a399cf9e1e1cec3e4269066e2948d7ae5854d745","modified":1670462327333},{"_id":"themes/landscape/source/css/_partial/sidebar-aside.styl","hash":"890349df5145abf46ce7712010c89237900b3713","modified":1670462327338},{"_id":"themes/landscape/source/css/_partial/sidebar.styl","hash":"404ec059dc674a48b9ab89cd83f258dec4dcb24d","modified":1670462327346},{"_id":"themes/landscape/source/css/_partial/sidebar-bottom.styl","hash":"8fd4f30d319542babfd31f087ddbac550f000a8a","modified":1670462327343},{"_id":"themes/landscape/source/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1670462327193},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1670462326272},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-buttons.js","hash":"dc3645529a4bf72983a39fa34c1eb9146e082019","modified":1670462327000},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-media.js","hash":"294420f9ff20f4e3584d212b0c262a00a96ecdb3","modified":1670462327006},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1670462326325},{"_id":"themes/landscape/source/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"47da1ae5401c24b5c17cc18e2730780f5c1a7a0c","modified":1670462327010},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1670462327393},{"_id":"themes/landscape/source/css/fonts/fontawesome-webfont.svg","hash":"46fcc0194d75a0ddac0a038aee41b23456784814","modified":1670462327373},{"_id":"themes/landscape/source/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1670462326931},{"_id":"public/2022/12/10/hello-world/index.html","hash":"372337016d2cb86e9dfb250446fc070fdc9debf0","modified":1670681802137},{"_id":"public/archives/index.html","hash":"4289c6aacaa413fb31926e0daa4ef1b79842ddcc","modified":1671031624171},{"_id":"public/archives/2022/index.html","hash":"19c87a16eb5d5ba7f642b1a7b377faedc5eb7f08","modified":1671031624171},{"_id":"public/archives/2022/12/index.html","hash":"aa448db9fe4d1da7e3169d47ec58feabf55d2c79","modified":1671031624171},{"_id":"public/index.html","hash":"4df8c279187f67a9de9ae5beba6c2b2fb0a04025","modified":1671031624171},{"_id":"public/fancybox/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1670681224071},{"_id":"public/fancybox/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1670681224071},{"_id":"public/fancybox/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1670681224071},{"_id":"public/fancybox/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1670681224071},{"_id":"public/fancybox/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1670681224071},{"_id":"public/fancybox/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1670681224071},{"_id":"public/css/fonts/FontAwesome.otf","hash":"b5b4f9be85f91f10799e87a083da1d050f842734","modified":1670681224071},{"_id":"public/css/fonts/fontawesome-webfont.eot","hash":"7619748fe34c64fb157a57f6d4ef3678f63a8f5e","modified":1670681224071},{"_id":"public/css/fonts/fontawesome-webfont.woff","hash":"04c3bf56d87a0828935bd6b4aee859995f321693","modified":1670681224071},{"_id":"public/fancybox/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1670681224071},{"_id":"public/css/fonts/fontawesome-webfont.ttf","hash":"7f09c97f333917034ad08fa7295e916c9f72fd3f","modified":1670681224071},{"_id":"public/fancybox/jquery.fancybox.css","hash":"aaa582fb9eb4b7092dc69fcb2d5b1c20cca58ab6","modified":1670681224071},{"_id":"public/js/script.js","hash":"b5547c449d1e23c90b8b3ed6888d196e319cfa73","modified":1670682860591},{"_id":"public/fancybox/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1670681224071},{"_id":"public/fancybox/helpers/jquery.fancybox-buttons.js","hash":"dc3645529a4bf72983a39fa34c1eb9146e082019","modified":1670681224071},{"_id":"public/fancybox/helpers/jquery.fancybox-media.js","hash":"294420f9ff20f4e3584d212b0c262a00a96ecdb3","modified":1670681224071},{"_id":"public/fancybox/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1670681224071},{"_id":"public/fancybox/helpers/jquery.fancybox-thumbs.js","hash":"47da1ae5401c24b5c17cc18e2730780f5c1a7a0c","modified":1670681224071},{"_id":"public/css/style.css","hash":"30b7d8a70d7f14a270e416fd942c262e082e47a5","modified":1670682860591},{"_id":"public/fancybox/jquery.fancybox.js","hash":"d08b03a42d5c4ba456ef8ba33116fdbb7a9cabed","modified":1670681224071},{"_id":"public/fancybox/jquery.fancybox.pack.js","hash":"9e0d51ca1dbe66f6c0c7aefd552dc8122e694a6e","modified":1670681224071},{"_id":"public/css/fonts/fontawesome-webfont.svg","hash":"46fcc0194d75a0ddac0a038aee41b23456784814","modified":1670681224071},{"_id":"public/css/images/banner.jpg","hash":"f44aa591089fcb3ec79770a1e102fd3289a7c6a6","modified":1670681224071},{"_id":"source/_posts/test.md","hash":"49ad403d1625b60560c4fce3cb171a743e552055","modified":1670682291105},{"_id":"public/2022/12/10/test/index.html","hash":"1c4b06d86abc897369d1eabe5b57abb2760ed849","modified":1670682589707},{"_id":"source/_posts/test/image-20221114100636839.png","hash":"5a1b3e41d0ff45b453e8ac4425fdc09ffc9fda34","modified":1670681661023},{"_id":"source/_posts/test/image-20221114100853171.png","hash":"ead5c3f04a0dba26b116b1f42f451e8fdcfd4010","modified":1670681661023},{"_id":"source/_posts/test/image-20221114101550097.png","hash":"6c1a57039029a7e3693978eb2b0f2ac48931e099","modified":1670681661021},{"_id":"source/_posts/test/image-20221114101724539.png","hash":"74cf36c73738c0451a13c7447a56d04ca1c4246e","modified":1670681661021},{"_id":"source/_posts/test/image-20221114101822265.png","hash":"7d9089b01943dbc4ede2c6383cf25989eab2342c","modified":1670681661022},{"_id":"source/_posts/test/image-20221114102128813.png","hash":"05ac92a4e36f20e90d651c5d343f5f6c51d6c655","modified":1670681661022},{"_id":"source/_posts/test/image-20221114101922603.png","hash":"9e64c1ccfb53bc75cfc1c9d77e054947456c106a","modified":1670681661022},{"_id":"source/_posts/test/image-20221114102020933.png","hash":"16b6b188cb5a9fdb4095d9835182520278ff5597","modified":1670681661022},{"_id":"source/_posts/test/image-20221114102159811.png","hash":"1f0850fc987f82753ef88251b22ff1bf6c71b952","modified":1670681661022},{"_id":"source/_posts/test/image-20221114110839021.png","hash":"c978d579ece438cc2cab12f20024ca61b3a78388","modified":1670681661023},{"_id":"source/_posts/test/image-20221114111841687.png","hash":"76eb5016e4bbbec855299165edba97359c931c7e","modified":1670681661023},{"_id":"source/_posts/test/image-20221114112421792.png","hash":"d5e6b7c4a33a1e434fd9509fa54f7485a4a1aadc","modified":1670681661023},{"_id":"source/_posts/test/image-20221114112632222.png","hash":"b423ad497d4180fba2077b7fd91d1efc1f756db0","modified":1670681661024},{"_id":"source/_posts/test/image-20221114112820387.png","hash":"8bfb9f713b64729a54e232ef26effbb160d0d66a","modified":1670681661024},{"_id":"source/_posts/test/image-20221114112853599.png","hash":"209ddf15d8ffe91ed9375ef57cac65814c98067b","modified":1670681661024},{"_id":"source/_posts/test/image-20221114113340581.png","hash":"550ec425e120e76322d903efb784a5859716ec05","modified":1670681661025},{"_id":"source/_posts/test/image-20221114122717872.png","hash":"0d069ebee993d7e3759c536a51e088fc4abed360","modified":1670681661024},{"_id":"source/_posts/test/image-20221114123037198.png","hash":"41f519096bcd6f79113ad3b6a283257c4466c6a1","modified":1670681661024},{"_id":"source/_posts/test/image-20221114123222454.png","hash":"22d5f8c408765763769256756c1118232cc54682","modified":1670681661025},{"_id":"source/_posts/test/image-20221114085118861.png","hash":"6f7d11f95fb525adcc3b2eb5a224d7b5c2de5706","modified":1670681661033},{"_id":"public/2022/12/10/test/image-20221114100636839.png","hash":"5a1b3e41d0ff45b453e8ac4425fdc09ffc9fda34","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114100853171.png","hash":"ead5c3f04a0dba26b116b1f42f451e8fdcfd4010","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114101550097.png","hash":"6c1a57039029a7e3693978eb2b0f2ac48931e099","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114101724539.png","hash":"74cf36c73738c0451a13c7447a56d04ca1c4246e","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114101822265.png","hash":"7d9089b01943dbc4ede2c6383cf25989eab2342c","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114101922603.png","hash":"9e64c1ccfb53bc75cfc1c9d77e054947456c106a","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114102020933.png","hash":"16b6b188cb5a9fdb4095d9835182520278ff5597","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114102128813.png","hash":"05ac92a4e36f20e90d651c5d343f5f6c51d6c655","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114102159811.png","hash":"1f0850fc987f82753ef88251b22ff1bf6c71b952","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114110839021.png","hash":"c978d579ece438cc2cab12f20024ca61b3a78388","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114111841687.png","hash":"76eb5016e4bbbec855299165edba97359c931c7e","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114112421792.png","hash":"d5e6b7c4a33a1e434fd9509fa54f7485a4a1aadc","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114112632222.png","hash":"b423ad497d4180fba2077b7fd91d1efc1f756db0","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114112820387.png","hash":"8bfb9f713b64729a54e232ef26effbb160d0d66a","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114112853599.png","hash":"209ddf15d8ffe91ed9375ef57cac65814c98067b","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114113340581.png","hash":"550ec425e120e76322d903efb784a5859716ec05","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114122717872.png","hash":"0d069ebee993d7e3759c536a51e088fc4abed360","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114123037198.png","hash":"41f519096bcd6f79113ad3b6a283257c4466c6a1","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114123222454.png","hash":"22d5f8c408765763769256756c1118232cc54682","modified":1670681682391},{"_id":"public/2022/12/10/test/image-20221114085118861.png","hash":"6f7d11f95fb525adcc3b2eb5a224d7b5c2de5706","modified":1670681682391},{"_id":"source/_posts/test/image-20221210222208515.png","hash":"6c1a57039029a7e3693978eb2b0f2ac48931e099","modified":1670682128527},{"_id":"source/_posts/test/image-20221210222218254.png","hash":"74cf36c73738c0451a13c7447a56d04ca1c4246e","modified":1670682138262},{"_id":"source/_posts/test/image-20221210222226783.png","hash":"7d9089b01943dbc4ede2c6383cf25989eab2342c","modified":1670682146802},{"_id":"source/_posts/test/image-20221210222235385.png","hash":"9e64c1ccfb53bc75cfc1c9d77e054947456c106a","modified":1670682155415},{"_id":"source/_posts/test/image-20221210222257879.png","hash":"05ac92a4e36f20e90d651c5d343f5f6c51d6c655","modified":1670682177886},{"_id":"source/_posts/test/image-20221210222244737.png","hash":"16b6b188cb5a9fdb4095d9835182520278ff5597","modified":1670682164746},{"_id":"source/_posts/test/image-20221210222303596.png","hash":"1f0850fc987f82753ef88251b22ff1bf6c71b952","modified":1670682183631},{"_id":"source/_posts/test/image-20221210222311853.png","hash":"5a1b3e41d0ff45b453e8ac4425fdc09ffc9fda34","modified":1670682191874},{"_id":"source/_posts/test/image-20221210222317251.png","hash":"ead5c3f04a0dba26b116b1f42f451e8fdcfd4010","modified":1670682197274},{"_id":"source/_posts/test/image-20221210222330945.png","hash":"c978d579ece438cc2cab12f20024ca61b3a78388","modified":1670682210972},{"_id":"source/_posts/test/image-20221210222343976.png","hash":"76eb5016e4bbbec855299165edba97359c931c7e","modified":1670682224009},{"_id":"source/_posts/test/image-20221210222357432.png","hash":"d5e6b7c4a33a1e434fd9509fa54f7485a4a1aadc","modified":1670682237454},{"_id":"source/_posts/test/image-20221210222403562.png","hash":"b423ad497d4180fba2077b7fd91d1efc1f756db0","modified":1670682243590},{"_id":"source/_posts/test/image-20221210222411967.png","hash":"8bfb9f713b64729a54e232ef26effbb160d0d66a","modified":1670682251996},{"_id":"source/_posts/test/image-20221210222418659.png","hash":"209ddf15d8ffe91ed9375ef57cac65814c98067b","modified":1670682258687},{"_id":"source/_posts/test/image-20221210222426550.png","hash":"0d069ebee993d7e3759c536a51e088fc4abed360","modified":1670682266669},{"_id":"source/_posts/test/image-20221210222434786.png","hash":"41f519096bcd6f79113ad3b6a283257c4466c6a1","modified":1670682274822},{"_id":"source/_posts/test/image-20221210222442083.png","hash":"22d5f8c408765763769256756c1118232cc54682","modified":1670682282117},{"_id":"source/_posts/test/image-20221210222448237.png","hash":"550ec425e120e76322d903efb784a5859716ec05","modified":1670682288249},{"_id":"source/_posts/test/image-20221210222146953.png","hash":"6f7d11f95fb525adcc3b2eb5a224d7b5c2de5706","modified":1670682106984},{"_id":"public/2022/12/10/test/image-20221210222226783.png","hash":"7d9089b01943dbc4ede2c6383cf25989eab2342c","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222208515.png","hash":"6c1a57039029a7e3693978eb2b0f2ac48931e099","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222218254.png","hash":"74cf36c73738c0451a13c7447a56d04ca1c4246e","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222235385.png","hash":"9e64c1ccfb53bc75cfc1c9d77e054947456c106a","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222303596.png","hash":"1f0850fc987f82753ef88251b22ff1bf6c71b952","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222244737.png","hash":"16b6b188cb5a9fdb4095d9835182520278ff5597","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222257879.png","hash":"05ac92a4e36f20e90d651c5d343f5f6c51d6c655","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222311853.png","hash":"5a1b3e41d0ff45b453e8ac4425fdc09ffc9fda34","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222317251.png","hash":"ead5c3f04a0dba26b116b1f42f451e8fdcfd4010","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222330945.png","hash":"c978d579ece438cc2cab12f20024ca61b3a78388","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222343976.png","hash":"76eb5016e4bbbec855299165edba97359c931c7e","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222357432.png","hash":"d5e6b7c4a33a1e434fd9509fa54f7485a4a1aadc","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222411967.png","hash":"8bfb9f713b64729a54e232ef26effbb160d0d66a","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222403562.png","hash":"b423ad497d4180fba2077b7fd91d1efc1f756db0","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222418659.png","hash":"209ddf15d8ffe91ed9375ef57cac65814c98067b","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222426550.png","hash":"0d069ebee993d7e3759c536a51e088fc4abed360","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222434786.png","hash":"41f519096bcd6f79113ad3b6a283257c4466c6a1","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222442083.png","hash":"22d5f8c408765763769256756c1118232cc54682","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222448237.png","hash":"550ec425e120e76322d903efb784a5859716ec05","modified":1670682300913},{"_id":"public/2022/12/10/test/image-20221210222146953.png","hash":"6f7d11f95fb525adcc3b2eb5a224d7b5c2de5706","modified":1670682300913},{"_id":"source/_posts/Hub-Spoke.md","hash":"f7f11298dff5c765310e6e21d3161f524ad487d1","modified":1670682553465},{"_id":"source/_posts/Hub-Spoke/image-20221210222208515.png","hash":"6c1a57039029a7e3693978eb2b0f2ac48931e099","modified":1670682528978},{"_id":"source/_posts/Hub-Spoke/image-20221210222218254.png","hash":"74cf36c73738c0451a13c7447a56d04ca1c4246e","modified":1670682528978},{"_id":"source/_posts/Hub-Spoke/image-20221210222226783.png","hash":"7d9089b01943dbc4ede2c6383cf25989eab2342c","modified":1670682528978},{"_id":"source/_posts/Hub-Spoke/image-20221210222235385.png","hash":"9e64c1ccfb53bc75cfc1c9d77e054947456c106a","modified":1670682528978},{"_id":"source/_posts/Hub-Spoke/image-20221210222244737.png","hash":"16b6b188cb5a9fdb4095d9835182520278ff5597","modified":1670682528978},{"_id":"source/_posts/Hub-Spoke/image-20221210222257879.png","hash":"05ac92a4e36f20e90d651c5d343f5f6c51d6c655","modified":1670682528979},{"_id":"source/_posts/Hub-Spoke/image-20221210222303596.png","hash":"1f0850fc987f82753ef88251b22ff1bf6c71b952","modified":1670682528978},{"_id":"source/_posts/Hub-Spoke/image-20221210222311853.png","hash":"5a1b3e41d0ff45b453e8ac4425fdc09ffc9fda34","modified":1670682528978},{"_id":"source/_posts/Hub-Spoke/image-20221210222317251.png","hash":"ead5c3f04a0dba26b116b1f42f451e8fdcfd4010","modified":1670682528978},{"_id":"source/_posts/Hub-Spoke/image-20221210222330945.png","hash":"c978d579ece438cc2cab12f20024ca61b3a78388","modified":1670682528979},{"_id":"source/_posts/Hub-Spoke/image-20221210222343976.png","hash":"76eb5016e4bbbec855299165edba97359c931c7e","modified":1670682528979},{"_id":"source/_posts/Hub-Spoke/image-20221210222357432.png","hash":"d5e6b7c4a33a1e434fd9509fa54f7485a4a1aadc","modified":1670682528979},{"_id":"source/_posts/Hub-Spoke/image-20221210222403562.png","hash":"b423ad497d4180fba2077b7fd91d1efc1f756db0","modified":1670682528980},{"_id":"source/_posts/Hub-Spoke/image-20221210222411967.png","hash":"8bfb9f713b64729a54e232ef26effbb160d0d66a","modified":1670682528980},{"_id":"source/_posts/Hub-Spoke/image-20221210222418659.png","hash":"209ddf15d8ffe91ed9375ef57cac65814c98067b","modified":1670682528980},{"_id":"source/_posts/Hub-Spoke/image-20221210222426550.png","hash":"0d069ebee993d7e3759c536a51e088fc4abed360","modified":1670682528986},{"_id":"source/_posts/Hub-Spoke/image-20221210222434786.png","hash":"41f519096bcd6f79113ad3b6a283257c4466c6a1","modified":1670682528980},{"_id":"source/_posts/Hub-Spoke/image-20221210222442083.png","hash":"22d5f8c408765763769256756c1118232cc54682","modified":1670682528980},{"_id":"source/_posts/Hub-Spoke/image-20221210222448237.png","hash":"550ec425e120e76322d903efb784a5859716ec05","modified":1670682528980},{"_id":"source/_posts/Hub-Spoke/image-20221210222146953.png","hash":"6f7d11f95fb525adcc3b2eb5a224d7b5c2de5706","modified":1670682528986},{"_id":"public/2022/12/10/Hub-Spoke/index.html","hash":"50d0353baba468adedcc7eb373250a3bf2ee499b","modified":1671031624171},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222218254.png","hash":"74cf36c73738c0451a13c7447a56d04ca1c4246e","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222208515.png","hash":"6c1a57039029a7e3693978eb2b0f2ac48931e099","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222235385.png","hash":"9e64c1ccfb53bc75cfc1c9d77e054947456c106a","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222244737.png","hash":"16b6b188cb5a9fdb4095d9835182520278ff5597","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222257879.png","hash":"05ac92a4e36f20e90d651c5d343f5f6c51d6c655","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222303596.png","hash":"1f0850fc987f82753ef88251b22ff1bf6c71b952","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222311853.png","hash":"5a1b3e41d0ff45b453e8ac4425fdc09ffc9fda34","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222317251.png","hash":"ead5c3f04a0dba26b116b1f42f451e8fdcfd4010","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222330945.png","hash":"c978d579ece438cc2cab12f20024ca61b3a78388","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222343976.png","hash":"76eb5016e4bbbec855299165edba97359c931c7e","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222357432.png","hash":"d5e6b7c4a33a1e434fd9509fa54f7485a4a1aadc","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222403562.png","hash":"b423ad497d4180fba2077b7fd91d1efc1f756db0","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222411967.png","hash":"8bfb9f713b64729a54e232ef26effbb160d0d66a","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222426550.png","hash":"0d069ebee993d7e3759c536a51e088fc4abed360","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222434786.png","hash":"41f519096bcd6f79113ad3b6a283257c4466c6a1","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222226783.png","hash":"7d9089b01943dbc4ede2c6383cf25989eab2342c","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222442083.png","hash":"22d5f8c408765763769256756c1118232cc54682","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222448237.png","hash":"550ec425e120e76322d903efb784a5859716ec05","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222418659.png","hash":"209ddf15d8ffe91ed9375ef57cac65814c98067b","modified":1670682589707},{"_id":"public/2022/12/10/Hub-Spoke/image-20221210222146953.png","hash":"6f7d11f95fb525adcc3b2eb5a224d7b5c2de5706","modified":1670682589707},{"_id":"themes/default/README.md","hash":"263905480632cff258e447a477957b279a78a882","modified":1652101375000},{"_id":"themes/default/.gitignore","hash":"10a056ff135445236571951759679a6d5fa85ff8","modified":1652101375000},{"_id":"themes/default/_config.template.yml","hash":"ae980781ffe964a6078a2899b429a6f14cdb8cf7","modified":1652101375000},{"_id":"themes/default/_config.yml","hash":"ae980781ffe964a6078a2899b429a6f14cdb8cf7","modified":1652101375000},{"_id":"themes/default/languages/default.yml","hash":"9107d4b03be45561a407981dd08f49816963e365","modified":1652101375000},{"_id":"themes/default/languages/en.yml","hash":"6ee2569619ec1547d79aeb0e8b98ec053de4ce45","modified":1652101375000},{"_id":"themes/default/languages/zh-CN.yml","hash":"ce8b7e0584ce22e275044123a7f745038829444f","modified":1652101375000},{"_id":"themes/default/languages/zh-TW.yml","hash":"d68007753a85e63f299d580e3b7f094715a63662","modified":1652101375000},{"_id":"themes/default/layout/archive.ejs","hash":"9b42656e75c58e7145e52408b51f017f6b6d9464","modified":1652101375000},{"_id":"themes/default/layout/category.ejs","hash":"9b42656e75c58e7145e52408b51f017f6b6d9464","modified":1652101375000},{"_id":"themes/default/layout/index.ejs","hash":"9b42656e75c58e7145e52408b51f017f6b6d9464","modified":1652101375000},{"_id":"themes/default/layout/layout.ejs","hash":"2fa26b9f87c523cfeceeeb70620d452fbef25691","modified":1652101375000},{"_id":"themes/default/layout/page.ejs","hash":"3a4bec1afa5dfe930930e9515787a5103f80becd","modified":1652101375000},{"_id":"themes/default/layout/post.ejs","hash":"3a4bec1afa5dfe930930e9515787a5103f80becd","modified":1652101375000},{"_id":"themes/default/layout/tag.ejs","hash":"9b42656e75c58e7145e52408b51f017f6b6d9464","modified":1652101375000},{"_id":"themes/default/scripts/index.js","hash":"05e3629a611b578e74df46b0f000dffd5a8247d6","modified":1652101375000},{"_id":"themes/default/layout/_partial/archive.ejs","hash":"aaae41288795d46a2eb661e1ba78ce3fbd951074","modified":1652101375000},{"_id":"themes/default/layout/_partial/article.ejs","hash":"fe129e8acd415fcd6c9a86f3bc6f01799ff05c29","modified":1652101375000},{"_id":"themes/default/layout/_partial/head.ejs","hash":"b6439d106e278a908b0cf8a5ae00405d61b4eb6f","modified":1652101375000},{"_id":"themes/default/layout/_partial/footer.ejs","hash":"9b1f9d5e446bffc7328484be33f1363d5aa0bcc9","modified":1652101375000},{"_id":"themes/default/layout/_partial/header.ejs","hash":"e757f7f9677275908780d9a13d9a27611bff3455","modified":1652101375000},{"_id":"themes/default/layout/_partial/sidebar.ejs","hash":"ab0601a6c0691e8e58931c189b7a482f39c51995","modified":1652101375000},{"_id":"themes/default/source/css/style.css","hash":"30b7d8a70d7f14a270e416fd942c262e082e47a5","modified":1652101375000},{"_id":"themes/default/source/images/avatar.png","hash":"bf483b0d495dbbcfb308348a945818e1c1cc9696","modified":1652101375000},{"_id":"themes/default/source/images/favicon.png","hash":"b1bcc84cedb2a618e8db93559ce7d58f9274085d","modified":1652101375000},{"_id":"themes/default/source/images/grey.png","hash":"4562825d902a6cdb6414c75bfad492d98584c63a","modified":1652101375000},{"_id":"themes/default/source/js/script.js","hash":"b5547c449d1e23c90b8b3ed6888d196e319cfa73","modified":1652101375000},{"_id":"themes/default/layout/_widget/analytics/baidu-analytics.ejs","hash":"fd11f21389385da7597fe1ff4b20f4ed8f87df29","modified":1652101375000},{"_id":"themes/default/layout/_widget/analytics/cnzz-analytics.ejs","hash":"a55fe521d77a27ebf42c6949569079928e1c64e1","modified":1652101375000},{"_id":"themes/default/layout/_widget/comment/changyan.ejs","hash":"78606a170c89cef7bbe47d16cee5cb580c3783a4","modified":1652101375000},{"_id":"themes/default/layout/_widget/comment/disqus.ejs","hash":"430106f8607275219019550700bed53b0ce2b8ae","modified":1652101375000},{"_id":"themes/default/layout/_widget/analytics/google-analytics.ejs","hash":"177112c8b461107ca7bffa9a1bd6172524d1ccf1","modified":1652101375000},{"_id":"themes/default/layout/_widget/comment/gitalk.ejs","hash":"1cbd70d52be9130327ea4ae6bfefb4664179f635","modified":1652101375000},{"_id":"themes/default/layout/_widget/comment/livere.ejs","hash":"c4ba111ad8fd58d1d2056a7c94347ef1e9f8a239","modified":1652101375000},{"_id":"themes/default/layout/_widget/comment/valine.ejs","hash":"6a691612404aabcb716a478f50293add76714fea","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/LICENSE.txt","hash":"7df059597099bb7dcf25d2a9aedfaf4465f72d8d","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-Black.woff2","hash":"36dd174e41242ff6318083409f7e6c700b25eba2","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-Bold.woff2","hash":"9074123ec9d4d6a7e21c2bee3f0110ca9a73733d","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-Light.woff2","hash":"df835660087fc7421a7667d8b68d759e0e1dbbf8","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-Medium.woff2","hash":"9f358fd5f441565282b54e8dc072a7d68f71a2fc","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-Regular.woff2","hash":"a18bcf95ada923da31f176137b8add02b0ba60f3","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-Thin.woff2","hash":"0592332e221316fd8331110568df461e87689cca","modified":1652101375000},{"_id":"themes/default/source/icons/custom-icons/iconfont.eot","hash":"88cae9d47326f77e37a521e08f4445526eb1a4c9","modified":1652101375000},{"_id":"themes/default/source/icons/custom-icons/iconfont.svg","hash":"21aec1663a5b5b311e094735da407018ac2f97cc","modified":1652101375000},{"_id":"themes/default/source/icons/custom-icons/iconfont.ttf","hash":"888487c710f152616af17d7d5bbcd74a2953a391","modified":1652101375000},{"_id":"themes/default/source/icons/custom-icons/iconfont.woff","hash":"adfa5ab1a81df7c353613492f54e125244b22da2","modified":1652101375000},{"_id":"themes/default/source/icons/custom-icons/iconfont.woff2","hash":"bba0df4d71619c06cb34700c2a8eaa72ddd87a2b","modified":1652101375000},{"_id":"themes/default/source/icons/material-icons/LICENSE.txt","hash":"e9101bd4e253c0f7da54e8f581cf72322df10162","modified":1652101375000},{"_id":"themes/default/source/icons/material-icons/MaterialIcons-Regular.ijmap","hash":"df468e87685c24b2a5d431036d4d5a434efdc28e","modified":1652101375000},{"_id":"themes/default/source/icons/material-icons/MaterialIcons-Regular.woff2","hash":"09963592e8c953cc7e14e3fb0a5b05d5042e8435","modified":1652101375000},{"_id":"themes/default/source/icons/material-icons/MaterialIcons-Regular.woff","hash":"c6c953c2ccb2ca9abb21db8dbf473b5a435f0082","modified":1652101375000},{"_id":"themes/default/source/images/random/material-10.png","hash":"363466a376e4df9e61acc904cd25f3c7ae1a7280","modified":1652101375000},{"_id":"themes/default/source/images/random/material-12.png","hash":"d020b3d42542715c7ae95b3d8603fe3180bfe8f3","modified":1652101375000},{"_id":"themes/default/source/images/random/material-17.png","hash":"ece82810e31f711576db598c845c3d97bd49fe67","modified":1652101375000},{"_id":"themes/default/source/images/random/material-19.png","hash":"768ed1a4966e2e418cb00f6b36d2fc9058328eb3","modified":1652101375000},{"_id":"themes/default/source/images/random/material-3.png","hash":"848eaa70b9b0cd7a2204c78e8aa324d8f96bb097","modified":1652101375000},{"_id":"themes/default/source/images/random/material-4.png","hash":"b475dfbf67a076a4e17a5527fd1973b1d4adac07","modified":1652101375000},{"_id":"themes/default/source/images/random/material-6.png","hash":"2f841e0c064fecb607ad1e149662a0c96d9e725d","modified":1652101375000},{"_id":"themes/default/source/images/random/material-8.png","hash":"57db542d526ef6866cb34e261096e93a0e6f3a82","modified":1652101375000},{"_id":"themes/default/source/images/random/material-9.png","hash":"840319c4d1f38fb8df79eb4669ed2e14d89fd680","modified":1652101375000},{"_id":"themes/default/source/images/banner.png","hash":"09dc164e22c87a9d736d625f0887b4bc33e7477e","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-Black.woff","hash":"100a2d03d89a0e3e027a1500e4f4d715d1ed52a0","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-BlackItalic.woff","hash":"d2f8acc7e66ff51cc180bd998056e68dec30b8c6","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-BlackItalic.woff2","hash":"45dc6a6ae29b2522ac98fc130d300d1c3ceee9b4","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-Bold.woff","hash":"274d0176d3b2e324111d0f836625960bdf24a29a","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-BoldItalic.woff","hash":"83739a927323a1c00a5e61ef6da84fff9e15fbc8","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-BoldItalic.woff2","hash":"99eaed1b19b50aeb3866d9ce568c290d15c965fb","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-Light.woff","hash":"d6d654d36c6cf9053675860d00125d6c543560d8","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-LightItalic.woff2","hash":"d72aa4d470b5923b3f614dd8ca25fd230dda8206","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-LightItalic.woff","hash":"184f1fc46df99866d5dbe03b57f3f6d9b9981ea0","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-Medium.woff","hash":"d3564215ac8f29bbf8c3d0602e1299ebcbe26ea9","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-MediumItalic.woff","hash":"b1afeefecbee33ad50452ce3f728dfcf781c9d49","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-MediumItalic.woff2","hash":"2fbd77f1d63c3d339167aa754e716451d129e23f","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-Regular.woff","hash":"db6450746e5df1eb0636bc84f21aae94e1cafea4","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-RegularItalic.woff","hash":"f3c32fd38c2f5fe34e54bdab2f238e469f48501a","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-RegularItalic.woff2","hash":"bd9360a27d99a093c2f06857c21fd6e98b57a8c0","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-Thin.woff","hash":"2d1c0c4d3ff8f91941499790d4fd63866e7c4852","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-ThinItalic.woff","hash":"ea71e1a7f20df5de8048e06c70d0b756b83f867e","modified":1652101375000},{"_id":"themes/default/source/fonts/roboto/Roboto-ThinItalic.woff2","hash":"cf2e6e6e462a4ff1c980d2c0fdc7b9675a30c82b","modified":1652101375000},{"_id":"themes/default/source/images/random/material-1.png","hash":"4839299eaa4db7272befa7b824e54b647fbbfc44","modified":1652101375000},{"_id":"themes/default/source/images/random/material-11.png","hash":"ce20b0ad08a248c036115374f2edb7301ff60b72","modified":1652101375000},{"_id":"themes/default/source/images/random/material-13.png","hash":"1a8378db3121b583485e2b939cb1aa0e0b14b0c8","modified":1652101375000},{"_id":"themes/default/source/images/random/material-14.png","hash":"b4f65b601960138c69f57171b0ddd55895483f45","modified":1652101375000},{"_id":"themes/default/source/images/random/material-15.png","hash":"36b9937cf3810e4970902b78797ad29b0831f065","modified":1652101375000},{"_id":"themes/default/source/images/random/material-16.png","hash":"ade7f75200d3fb38326e3cf1e9f1a812fb12a43b","modified":1652101375000},{"_id":"themes/default/source/images/random/material-18.png","hash":"4b98204abe36ecd3f30678d2c22059130e0db328","modified":1652101375000},{"_id":"themes/default/source/images/random/material-2.png","hash":"faba2ce69c19d6c1dac392dd10b054e0061f6fb7","modified":1652101375000},{"_id":"themes/default/source/images/random/material-5.png","hash":"5041ebd073a139c67f8ed271e74c967c7eb9c5be","modified":1652101375000},{"_id":"themes/default/source/images/random/material-7.png","hash":"5c49ff3c064aaeb21227c2bd98b5ae422ddca84c","modified":1652101375000},{"_id":"themes/default/source/js/mdui.js","hash":"b7a1b365f3e7d70546dbcbdcb1d24c851683f942","modified":1652101375000},{"_id":"themes/default/source/css/mdui.css","hash":"a205f66802cdf8e9883d9879ee75d85b63247d4b","modified":1652101375000},{"_id":"public/custom.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1670682860591},{"_id":"public/custom.js","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1670682860591},{"_id":"public/images/avatar.png","hash":"bf483b0d495dbbcfb308348a945818e1c1cc9696","modified":1670682860591},{"_id":"public/images/favicon.png","hash":"b1bcc84cedb2a618e8db93559ce7d58f9274085d","modified":1670682860591},{"_id":"public/images/grey.png","hash":"4562825d902a6cdb6414c75bfad492d98584c63a","modified":1670682860591},{"_id":"public/fonts/roboto/LICENSE.txt","hash":"7df059597099bb7dcf25d2a9aedfaf4465f72d8d","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-Black.woff2","hash":"36dd174e41242ff6318083409f7e6c700b25eba2","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-Bold.woff2","hash":"9074123ec9d4d6a7e21c2bee3f0110ca9a73733d","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-Light.woff2","hash":"df835660087fc7421a7667d8b68d759e0e1dbbf8","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-Medium.woff2","hash":"9f358fd5f441565282b54e8dc072a7d68f71a2fc","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-Regular.woff2","hash":"a18bcf95ada923da31f176137b8add02b0ba60f3","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-Thin.woff2","hash":"0592332e221316fd8331110568df461e87689cca","modified":1670682860591},{"_id":"public/icons/custom-icons/iconfont.eot","hash":"88cae9d47326f77e37a521e08f4445526eb1a4c9","modified":1670682860591},{"_id":"public/icons/custom-icons/iconfont.svg","hash":"21aec1663a5b5b311e094735da407018ac2f97cc","modified":1670682860591},{"_id":"public/icons/custom-icons/iconfont.ttf","hash":"888487c710f152616af17d7d5bbcd74a2953a391","modified":1670682860591},{"_id":"public/icons/custom-icons/iconfont.woff","hash":"adfa5ab1a81df7c353613492f54e125244b22da2","modified":1670682860591},{"_id":"public/icons/custom-icons/iconfont.woff2","hash":"bba0df4d71619c06cb34700c2a8eaa72ddd87a2b","modified":1670682860591},{"_id":"public/icons/material-icons/LICENSE.txt","hash":"e9101bd4e253c0f7da54e8f581cf72322df10162","modified":1670682860591},{"_id":"public/icons/material-icons/MaterialIcons-Regular.ijmap","hash":"df468e87685c24b2a5d431036d4d5a434efdc28e","modified":1670682860591},{"_id":"public/icons/material-icons/MaterialIcons-Regular.woff","hash":"c6c953c2ccb2ca9abb21db8dbf473b5a435f0082","modified":1670682860591},{"_id":"public/icons/material-icons/MaterialIcons-Regular.woff2","hash":"09963592e8c953cc7e14e3fb0a5b05d5042e8435","modified":1670682860591},{"_id":"public/images/random/material-12.png","hash":"d020b3d42542715c7ae95b3d8603fe3180bfe8f3","modified":1670682860591},{"_id":"public/images/random/material-10.png","hash":"363466a376e4df9e61acc904cd25f3c7ae1a7280","modified":1670682860591},{"_id":"public/images/random/material-19.png","hash":"768ed1a4966e2e418cb00f6b36d2fc9058328eb3","modified":1670682860591},{"_id":"public/images/random/material-3.png","hash":"848eaa70b9b0cd7a2204c78e8aa324d8f96bb097","modified":1670682860591},{"_id":"public/images/random/material-17.png","hash":"ece82810e31f711576db598c845c3d97bd49fe67","modified":1670682860591},{"_id":"public/images/random/material-4.png","hash":"b475dfbf67a076a4e17a5527fd1973b1d4adac07","modified":1670682860591},{"_id":"public/images/random/material-6.png","hash":"2f841e0c064fecb607ad1e149662a0c96d9e725d","modified":1670682860591},{"_id":"public/images/random/material-8.png","hash":"57db542d526ef6866cb34e261096e93a0e6f3a82","modified":1670682860591},{"_id":"public/images/random/material-9.png","hash":"840319c4d1f38fb8df79eb4669ed2e14d89fd680","modified":1670682860591},{"_id":"public/images/banner.png","hash":"09dc164e22c87a9d736d625f0887b4bc33e7477e","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-Black.woff","hash":"100a2d03d89a0e3e027a1500e4f4d715d1ed52a0","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-BlackItalic.woff","hash":"d2f8acc7e66ff51cc180bd998056e68dec30b8c6","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-BlackItalic.woff2","hash":"45dc6a6ae29b2522ac98fc130d300d1c3ceee9b4","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-Bold.woff","hash":"274d0176d3b2e324111d0f836625960bdf24a29a","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-BoldItalic.woff","hash":"83739a927323a1c00a5e61ef6da84fff9e15fbc8","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-BoldItalic.woff2","hash":"99eaed1b19b50aeb3866d9ce568c290d15c965fb","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-Light.woff","hash":"d6d654d36c6cf9053675860d00125d6c543560d8","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-LightItalic.woff","hash":"184f1fc46df99866d5dbe03b57f3f6d9b9981ea0","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-LightItalic.woff2","hash":"d72aa4d470b5923b3f614dd8ca25fd230dda8206","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-Medium.woff","hash":"d3564215ac8f29bbf8c3d0602e1299ebcbe26ea9","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-MediumItalic.woff","hash":"b1afeefecbee33ad50452ce3f728dfcf781c9d49","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-MediumItalic.woff2","hash":"2fbd77f1d63c3d339167aa754e716451d129e23f","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-Regular.woff","hash":"db6450746e5df1eb0636bc84f21aae94e1cafea4","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-RegularItalic.woff","hash":"f3c32fd38c2f5fe34e54bdab2f238e469f48501a","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-RegularItalic.woff2","hash":"bd9360a27d99a093c2f06857c21fd6e98b57a8c0","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-Thin.woff","hash":"2d1c0c4d3ff8f91941499790d4fd63866e7c4852","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-ThinItalic.woff","hash":"ea71e1a7f20df5de8048e06c70d0b756b83f867e","modified":1670682860591},{"_id":"public/fonts/roboto/Roboto-ThinItalic.woff2","hash":"cf2e6e6e462a4ff1c980d2c0fdc7b9675a30c82b","modified":1670682860591},{"_id":"public/images/random/material-1.png","hash":"4839299eaa4db7272befa7b824e54b647fbbfc44","modified":1670682860591},{"_id":"public/images/random/material-11.png","hash":"ce20b0ad08a248c036115374f2edb7301ff60b72","modified":1670682860591},{"_id":"public/images/random/material-13.png","hash":"1a8378db3121b583485e2b939cb1aa0e0b14b0c8","modified":1670682860591},{"_id":"public/images/random/material-16.png","hash":"ade7f75200d3fb38326e3cf1e9f1a812fb12a43b","modified":1670682860591},{"_id":"public/images/random/material-15.png","hash":"36b9937cf3810e4970902b78797ad29b0831f065","modified":1670682860591},{"_id":"public/images/random/material-18.png","hash":"4b98204abe36ecd3f30678d2c22059130e0db328","modified":1670682860591},{"_id":"public/images/random/material-14.png","hash":"b4f65b601960138c69f57171b0ddd55895483f45","modified":1670682860591},{"_id":"public/images/random/material-2.png","hash":"faba2ce69c19d6c1dac392dd10b054e0061f6fb7","modified":1670682860591},{"_id":"public/images/random/material-5.png","hash":"5041ebd073a139c67f8ed271e74c967c7eb9c5be","modified":1670682860591},{"_id":"public/images/random/material-7.png","hash":"5c49ff3c064aaeb21227c2bd98b5ae422ddca84c","modified":1670682860591},{"_id":"public/js/mdui.js","hash":"b7a1b365f3e7d70546dbcbdcb1d24c851683f942","modified":1670682860591},{"_id":"public/css/mdui.css","hash":"a205f66802cdf8e9883d9879ee75d85b63247d4b","modified":1670682860591},{"_id":"source/_posts/test-tt.md","hash":"7c17f51524bef774af7e78ec3f723605f5a438ff","modified":1670682991722},{"_id":"public/2022/12/10/test-tt/index.html","hash":"3e6485fcbc05b61d53de09fe19bbcdc676f1bf99","modified":1670684744893},{"_id":"source/_posts/4G-LTE配置范例.md","hash":"2c5d298fa19d69fdc70b1b59bb888db27bc4c32c","modified":1671031322895},{"_id":"source/_posts/MPLS-VPN-single.md","hash":"ee429c8de1e277d4e8042e96ee6c85d33123df21","modified":1671031127205},{"_id":"source/_posts/MPLS-VPN-single/wps1.jpg","hash":"7b799b4cdc7fc8e4451b24731ef931fba6e96562","modified":1670685657333},{"_id":"source/_posts/MPLS-VPN-single/wps14.jpg","hash":"e01566b1c533eb44f32c55c39a28b3674875bc64","modified":1670685657335},{"_id":"source/_posts/MPLS-VPN-single/wps11.jpg","hash":"2e8963755099059e2ba30cc2f2a4c039d28833b1","modified":1670685657334},{"_id":"source/_posts/MPLS-VPN-single/wps15.jpg","hash":"0878e2327efc001e9a0f12f09a4580647bbed72b","modified":1670685657335},{"_id":"source/_posts/MPLS-VPN-single/wps2.jpg","hash":"5bb35d2da5c7621bab1935a471cf5e74280a6e5f","modified":1670685657333},{"_id":"source/_posts/MPLS-VPN-single/wps28.jpg","hash":"9fca65245541433490ffd598dd8e8aaf762cf8ee","modified":1670685657336},{"_id":"source/_posts/MPLS-VPN-single/wps29.png","hash":"e2c904c49f134208122af8cd5093342aeaec3577","modified":1670685657336},{"_id":"source/_posts/MPLS-VPN-single/wps3.jpg","hash":"6b2ee3c1c3d3cf6af8b98aa5adfa238b3d913b1e","modified":1670685657333},{"_id":"source/_posts/MPLS-VPN-single/wps32.png","hash":"f5cd3ad99528cf23b049c77c451ceeebd437de9c","modified":1670685657337},{"_id":"source/_posts/MPLS-VPN-single/wps36.png","hash":"6e992c3b3ea479a8c81540b7c1c522f592c642cc","modified":1670685657337},{"_id":"source/_posts/MPLS-VPN-single/wps37.png","hash":"0cc3a66efbde33f9f9a25b48e58911d0addc0b3b","modified":1670685657337},{"_id":"source/_posts/MPLS-VPN-single/wps39.png","hash":"4785308f7c3e00792f6cd18d5fdbf17d5b06e92b","modified":1670685657337},{"_id":"source/_posts/MPLS-VPN-single/wps4.jpg","hash":"b5e56dd6541d178ffd8c9f9b9d3ed31509e3244d","modified":1670685657333},{"_id":"source/_posts/MPLS-VPN-single/wps41.png","hash":"1dbe1cfb5c61132a5546b942d3939882219925d5","modified":1670685657337},{"_id":"source/_posts/MPLS-VPN-single/wps42.png","hash":"4cd5a29059581478d889512a30ef5292a5dac989","modified":1670685657337},{"_id":"source/_posts/MPLS-VPN-single/wps44.jpg","hash":"d0ed55f442adab6fdb79e144fe0fd0455bbfce52","modified":1670685657337},{"_id":"source/_posts/MPLS-VPN-single/wps46.png","hash":"71300eb2e7537fe91dcef31a325cdff98c13b02d","modified":1670685657338},{"_id":"source/_posts/MPLS-VPN-single/wps47.png","hash":"c2c652088ff152eea6135256f5c4d5f818a73097","modified":1670685657338},{"_id":"source/_posts/MPLS-VPN-single/wps48.png","hash":"d848e692271943421c4447d4104c263b8db6d6df","modified":1670685657338},{"_id":"source/_posts/MPLS-VPN-single/wps49.jpg","hash":"df24281c0d79d6cc03dcec8c3838bc1afe31c291","modified":1670685657338},{"_id":"source/_posts/MPLS-VPN-single/wps53.png","hash":"d6d91b39a9cb1bf96218cf6f2b21ee8e28b42381","modified":1670685657338},{"_id":"source/_posts/MPLS-VPN-single/wps55.png","hash":"d6d91b39a9cb1bf96218cf6f2b21ee8e28b42381","modified":1670685657338},{"_id":"source/_posts/MPLS-VPN-single/wps56.png","hash":"e883656e2c170c2eec2dc78e85d5718f199dfa24","modified":1670685657338},{"_id":"source/_posts/MPLS-VPN-single/wps58.png","hash":"e883656e2c170c2eec2dc78e85d5718f199dfa24","modified":1670685657339},{"_id":"source/_posts/MPLS-VPN-single/wps7.jpg","hash":"4171c1ac350edb700eabac7930049b61894fec15","modified":1670685657334},{"_id":"source/_posts/MPLS-VPN-single/wps60.png","hash":"e883656e2c170c2eec2dc78e85d5718f199dfa24","modified":1670685657339},{"_id":"source/_posts/MPLS-VPN-single/wps61.jpg","hash":"6dc1b498b7edf3e81d0d9a5cd5be5fb1ba46fd74","modified":1670685657339},{"_id":"source/_posts/MPLS-VPN-single/wps10.jpg","hash":"d915d7d9e2eb95421611eba5a6fafdf7c4c8f115","modified":1670685657342},{"_id":"source/_posts/MPLS-VPN-single/wps12.jpg","hash":"5abb537a42a19071d11034612730f060460ce88b","modified":1670685657343},{"_id":"source/_posts/MPLS-VPN-single/wps16.jpg","hash":"3d80b17273db62d2120921db2162f457ed4cc0d8","modified":1670685657344},{"_id":"source/_posts/MPLS-VPN-single/wps27.jpg","hash":"7cb98e3f1b69e169e09ca6330337a14b77c67fb4","modified":1670685657345},{"_id":"source/_posts/MPLS-VPN-single/wps26.jpg","hash":"76e2ee7ccc7c054601c2adfba459d862894d3c28","modified":1670685657344},{"_id":"source/_posts/MPLS-VPN-single/wps33.jpg","hash":"8363e5031fb7b85e4f2a4a29e95d26bb7812ea92","modified":1670685657346},{"_id":"source/_posts/MPLS-VPN-single/wps35.jpg","hash":"18df537dd176e50dc729991702c8c863c46f3445","modified":1670685657346},{"_id":"source/_posts/MPLS-VPN-single/wps34.png","hash":"738825f37d8079b2cdedda37ac457b565b5fd4eb","modified":1670685657346},{"_id":"source/_posts/MPLS-VPN-single/wps38.jpg","hash":"2a2477e3cf91b2426afe1c96440ef3068e08f6d4","modified":1670685657346},{"_id":"source/_posts/MPLS-VPN-single/wps40.jpg","hash":"b97f4128dbde76bfc9bf62f5ca439addbb29a3b2","modified":1670685657347},{"_id":"source/_posts/MPLS-VPN-single/wps5.jpg","hash":"59ca41fb356d86e552614e74097d14fbab74829e","modified":1670685657342},{"_id":"source/_posts/MPLS-VPN-single/wps50.jpg","hash":"3cbe5c83376a75ca76cd4ecdde4a62a734a08291","modified":1670685657347},{"_id":"source/_posts/MPLS-VPN-single/wps51.jpg","hash":"f333e0baa46e3f8f505a8dc4e177653518c788a9","modified":1670685657347},{"_id":"source/_posts/MPLS-VPN-single/wps54.jpg","hash":"ae5b8c2eaa0309665cc72fd1642ab1329f167ba7","modified":1670685657358},{"_id":"source/_posts/MPLS-VPN-single/wps57.jpg","hash":"8cc387c67920842e27860bbd639bf806305e041e","modified":1670685657359},{"_id":"source/_posts/MPLS-VPN-single/wps6.jpg","hash":"c7a24151ae1ee89bb740310d564265726f12be1b","modified":1670685657342},{"_id":"source/_posts/MPLS-VPN-single/wps59.jpg","hash":"cbf5011187a4b185d8abea4d9ff8ef281e8b26b3","modified":1670685657359},{"_id":"source/_posts/MPLS-VPN-single/wps9.jpg","hash":"279bdd24218839d51309351ff71ef453e2336f7d","modified":1670685657342},{"_id":"source/_posts/MPLS-VPN-single/wps17.jpg","hash":"473821014f79836a62311775ffa6c23b01cf6b75","modified":1670685657378},{"_id":"source/_posts/MPLS-VPN-single/wps19.jpg","hash":"eaed5e13307854043c01f070c0ed3eaefdf2911e","modified":1670685657378},{"_id":"source/_posts/MPLS-VPN-single/wps21.jpg","hash":"8283fcbf460d9bbd17d43057e25bcffb0e6f7e9b","modified":1670685657378},{"_id":"source/_posts/MPLS-VPN-single/wps13.jpg","hash":"d11ff784d0aca74500c3fc5f66ce9c6d476b64b8","modified":1670685657378},{"_id":"source/_posts/MPLS-VPN-single/wps24.jpg","hash":"38a1435fdae8f8bfddb8e69d4f0792ab7005b381","modified":1670685657378},{"_id":"source/_posts/MPLS-VPN-single/wps22.jpg","hash":"047c700b49a26a31d3af59a002fb74da31a91143","modified":1670685657378},{"_id":"source/_posts/MPLS-VPN-single/wps30.jpg","hash":"1cf90de3ea8884dd6952b64aa96b659d4c460a64","modified":1670685657379},{"_id":"source/_posts/MPLS-VPN-single/wps43.jpg","hash":"ea690bc3b806d34166e9653f1ec021ca7d94c016","modified":1670685657380},{"_id":"source/_posts/MPLS-VPN-single/wps45.jpg","hash":"3488167fa300078ee778ac829810d07c7d226c27","modified":1670685657380},{"_id":"source/_posts/MPLS-VPN-single/wps18.jpg","hash":"31077133d1dad759386e0f3ccadf33ba2ad0f195","modified":1670685657417},{"_id":"source/_posts/MPLS-VPN-single/wps31.jpg","hash":"dc83d064826e8d9eb68ac30e5975c1d022a9a948","modified":1670685657418},{"_id":"source/_posts/MPLS-VPN-single/wps8.jpg","hash":"fc4391469b6478a3bf3825d5d97471250bd011f6","modified":1670685657416},{"_id":"source/_posts/MPLS-VPN-single/wps20.jpg","hash":"958b1a73cec0a773e7c5e25f74c54abd4b95cef1","modified":1670685657487},{"_id":"source/_posts/MPLS-VPN-single/wps23.jpg","hash":"11c305943db513e8ed6877799a939d6ea2f4769b","modified":1670685657488},{"_id":"source/_posts/MPLS-VPN-single/wps52.png","hash":"2a00d9e3a3ae63ee66916054f85b41d8a6ac9f24","modified":1670685657568},{"_id":"source/_posts/MPLS-VPN-single/wps25.png","hash":"35dbde9bcc319e8f063b5520f97dbb621d2d8bd6","modified":1670685658700},{"_id":"public/2022/12/11/4G-LTE配置范例/index.html","hash":"e0a5aa4eaab9bba2b56dca8f289015f53ae516c2","modified":1671031624171},{"_id":"public/2022/12/10/MPLS-VPN-single/index.html","hash":"d8e937559dc8c83f8dc33cec9eedce4193c96d4e","modified":1671031624171},{"_id":"public/2022/12/10/MPLS-VPN-single/wps1.jpg","hash":"7b799b4cdc7fc8e4451b24731ef931fba6e96562","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps11.jpg","hash":"2e8963755099059e2ba30cc2f2a4c039d28833b1","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps15.jpg","hash":"0878e2327efc001e9a0f12f09a4580647bbed72b","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps14.jpg","hash":"e01566b1c533eb44f32c55c39a28b3674875bc64","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps2.jpg","hash":"5bb35d2da5c7621bab1935a471cf5e74280a6e5f","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps28.jpg","hash":"9fca65245541433490ffd598dd8e8aaf762cf8ee","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps29.png","hash":"e2c904c49f134208122af8cd5093342aeaec3577","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps3.jpg","hash":"6b2ee3c1c3d3cf6af8b98aa5adfa238b3d913b1e","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps32.png","hash":"f5cd3ad99528cf23b049c77c451ceeebd437de9c","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps37.png","hash":"0cc3a66efbde33f9f9a25b48e58911d0addc0b3b","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps36.png","hash":"6e992c3b3ea479a8c81540b7c1c522f592c642cc","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps4.jpg","hash":"b5e56dd6541d178ffd8c9f9b9d3ed31509e3244d","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps39.png","hash":"4785308f7c3e00792f6cd18d5fdbf17d5b06e92b","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps42.png","hash":"4cd5a29059581478d889512a30ef5292a5dac989","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps44.jpg","hash":"d0ed55f442adab6fdb79e144fe0fd0455bbfce52","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps46.png","hash":"71300eb2e7537fe91dcef31a325cdff98c13b02d","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps41.png","hash":"1dbe1cfb5c61132a5546b942d3939882219925d5","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps47.png","hash":"c2c652088ff152eea6135256f5c4d5f818a73097","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps48.png","hash":"d848e692271943421c4447d4104c263b8db6d6df","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps49.jpg","hash":"df24281c0d79d6cc03dcec8c3838bc1afe31c291","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps53.png","hash":"d6d91b39a9cb1bf96218cf6f2b21ee8e28b42381","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps55.png","hash":"d6d91b39a9cb1bf96218cf6f2b21ee8e28b42381","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps56.png","hash":"e883656e2c170c2eec2dc78e85d5718f199dfa24","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps58.png","hash":"e883656e2c170c2eec2dc78e85d5718f199dfa24","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps60.png","hash":"e883656e2c170c2eec2dc78e85d5718f199dfa24","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps61.jpg","hash":"6dc1b498b7edf3e81d0d9a5cd5be5fb1ba46fd74","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps10.jpg","hash":"d915d7d9e2eb95421611eba5a6fafdf7c4c8f115","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps16.jpg","hash":"3d80b17273db62d2120921db2162f457ed4cc0d8","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps12.jpg","hash":"5abb537a42a19071d11034612730f060460ce88b","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps26.jpg","hash":"76e2ee7ccc7c054601c2adfba459d862894d3c28","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps27.jpg","hash":"7cb98e3f1b69e169e09ca6330337a14b77c67fb4","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps33.jpg","hash":"8363e5031fb7b85e4f2a4a29e95d26bb7812ea92","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps34.png","hash":"738825f37d8079b2cdedda37ac457b565b5fd4eb","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps35.jpg","hash":"18df537dd176e50dc729991702c8c863c46f3445","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps38.jpg","hash":"2a2477e3cf91b2426afe1c96440ef3068e08f6d4","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps40.jpg","hash":"b97f4128dbde76bfc9bf62f5ca439addbb29a3b2","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps5.jpg","hash":"59ca41fb356d86e552614e74097d14fbab74829e","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps50.jpg","hash":"3cbe5c83376a75ca76cd4ecdde4a62a734a08291","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps51.jpg","hash":"f333e0baa46e3f8f505a8dc4e177653518c788a9","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps54.jpg","hash":"ae5b8c2eaa0309665cc72fd1642ab1329f167ba7","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps57.jpg","hash":"8cc387c67920842e27860bbd639bf806305e041e","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps59.jpg","hash":"cbf5011187a4b185d8abea4d9ff8ef281e8b26b3","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps6.jpg","hash":"c7a24151ae1ee89bb740310d564265726f12be1b","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps7.jpg","hash":"4171c1ac350edb700eabac7930049b61894fec15","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps13.jpg","hash":"d11ff784d0aca74500c3fc5f66ce9c6d476b64b8","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps17.jpg","hash":"473821014f79836a62311775ffa6c23b01cf6b75","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps19.jpg","hash":"eaed5e13307854043c01f070c0ed3eaefdf2911e","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps21.jpg","hash":"8283fcbf460d9bbd17d43057e25bcffb0e6f7e9b","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps24.jpg","hash":"38a1435fdae8f8bfddb8e69d4f0792ab7005b381","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps22.jpg","hash":"047c700b49a26a31d3af59a002fb74da31a91143","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps30.jpg","hash":"1cf90de3ea8884dd6952b64aa96b659d4c460a64","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps43.jpg","hash":"ea690bc3b806d34166e9653f1ec021ca7d94c016","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps45.jpg","hash":"3488167fa300078ee778ac829810d07c7d226c27","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps9.jpg","hash":"279bdd24218839d51309351ff71ef453e2336f7d","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps18.jpg","hash":"31077133d1dad759386e0f3ccadf33ba2ad0f195","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps31.jpg","hash":"dc83d064826e8d9eb68ac30e5975c1d022a9a948","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps20.jpg","hash":"958b1a73cec0a773e7c5e25f74c54abd4b95cef1","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps23.jpg","hash":"11c305943db513e8ed6877799a939d6ea2f4769b","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps8.jpg","hash":"fc4391469b6478a3bf3825d5d97471250bd011f6","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps52.png","hash":"2a00d9e3a3ae63ee66916054f85b41d8a6ac9f24","modified":1670745409943},{"_id":"public/2022/12/10/MPLS-VPN-single/wps25.png","hash":"35dbde9bcc319e8f063b5520f97dbb621d2d8bd6","modified":1670745409943},{"_id":"source/_posts/4G-LTE配置范例/4G实验模式业务验证成功配置.mp4","hash":"b4e6b5b52a4f647e06421f7ec4a498d7de6c47cc","modified":1616321843443},{"_id":"source/_posts/4G-LTE配置范例/4G承载网数据配置.mp4","hash":"a27deb97c3a9b49c1f4f61418b12af8a1757b900","modified":1615880188219},{"_id":"source/_posts/4G-LTE配置范例/实验模式下切换和漫游配置.mp4","hash":"249c42c7f1babdf0403c56076551c9f4ad5f9a8b","modified":1615510245763},{"_id":"public/assets/js/DPlayer.min.js","hash":"67cdbf898da2060497fc876663d83514aa42ee46","modified":1670746226118},{"_id":"public/2022/12/11/4G-LTE配置范例/4G实验模式业务验证成功配置.mp4","hash":"b4e6b5b52a4f647e06421f7ec4a498d7de6c47cc","modified":1670746226118},{"_id":"public/2022/12/11/4G-LTE配置范例/4G承载网数据配置.mp4","hash":"a27deb97c3a9b49c1f4f61418b12af8a1757b900","modified":1670746226118},{"_id":"public/2022/12/11/4G-LTE配置范例/实验模式下切换和漫游配置.mp4","hash":"249c42c7f1babdf0403c56076551c9f4ad5f9a8b","modified":1670746226118},{"_id":"source/js/gotoplayer.js","hash":"d69dee90ec258154a159fa4bfa2996f28666c88f","modified":1670753167702},{"_id":"source/js/ckplayer.js","hash":"df8e2c2a570b99b36fa7b5c78ea0b24c1a4a5e5c","modified":1670753407575},{"_id":"source/js/ckplayer1.js","hash":"14907ec4d656ce93f8cf22e374a5df84c0e5bd11","modified":1670753339259},{"_id":"public/js/gotoplayer.js","hash":"0ac146276c9ac73d0e79ef39e6413a43a48d8581","modified":1670753521308},{"_id":"public/js/ckplayer.js","hash":"df8e2c2a570b99b36fa7b5c78ea0b24c1a4a5e5c","modified":1670753521308},{"_id":"public/js/ckplayer1.js","hash":"eb29823023ab72a7dd2a153ae7d3682d8d394c80","modified":1670753521308},{"_id":"source/_posts/4G-LTE配置范例/启动画面.PNG","hash":"74639721ed004839f5ce7a6efcfdf541a4244737","modified":1671021210988},{"_id":"public/2022/12/11/4G-LTE配置范例/启动画面.PNG","hash":"74639721ed004839f5ce7a6efcfdf541a4244737","modified":1671021325809},{"_id":"source/_posts/4G-LTE配置范例/手机发展史_高清.mp4","hash":"1adc70049c1d6fa9964048cd4cc43aa28a3383bb","modified":1504660252000},{"_id":"public/2022/12/11/4G-LTE配置范例/手机发展史_高清.mp4","hash":"1adc70049c1d6fa9964048cd4cc43aa28a3383bb","modified":1671025132921},{"_id":"source/_posts/4G-LTE配置范例/业务配置1.mp4","hash":"7d8f82c56d5d58314ebc74bfa4dcb8eae00cd78a","modified":1671028721264},{"_id":"source/_posts/4G-LTE配置范例/承载网数据配置2.mp4","hash":"b39c65967875074d18a9b64b3f7c2bb51467d999","modified":1671029070802},{"_id":"source/_posts/4G-LTE配置范例/切换和漫游2.mp4","hash":"95d0dbd08fafddcfc1c6f26964769c2554477e85","modified":1671028977091},{"_id":"source/_posts/4G-LTE配置范例/承载网数据配置1.mp4","hash":"ecacf90f81ecb7d7d40df9c0af4328cdba1d5d39","modified":1671029049446},{"_id":"source/_posts/4G-LTE配置范例/切换和漫游1.mp4","hash":"2aab0021590f910223c53fc7f729904290798195","modified":1671028941394},{"_id":"source/_posts/4G-LTE配置范例/业务配置2.mp4","hash":"886e7c47650388fa95ddbc8978bfc930421473d4","modified":1671028798572},{"_id":"public/2022/12/11/4G-LTE配置范例/业务配置1.mp4","hash":"7d8f82c56d5d58314ebc74bfa4dcb8eae00cd78a","modified":1671031624171},{"_id":"public/2022/12/11/4G-LTE配置范例/承载网数据配置2.mp4","hash":"b39c65967875074d18a9b64b3f7c2bb51467d999","modified":1671031624171},{"_id":"public/2022/12/11/4G-LTE配置范例/切换和漫游2.mp4","hash":"95d0dbd08fafddcfc1c6f26964769c2554477e85","modified":1671031624171},{"_id":"public/2022/12/11/4G-LTE配置范例/承载网数据配置1.mp4","hash":"ecacf90f81ecb7d7d40df9c0af4328cdba1d5d39","modified":1671031624171},{"_id":"public/2022/12/11/4G-LTE配置范例/切换和漫游1.mp4","hash":"2aab0021590f910223c53fc7f729904290798195","modified":1671031624171},{"_id":"public/2022/12/11/4G-LTE配置范例/业务配置2.mp4","hash":"886e7c47650388fa95ddbc8978bfc930421473d4","modified":1671031624171}],"Category":[],"Data":[],"Page":[{"_content":"function gotoplayer(video_address){\n    var videoObject = {  \n    container: '.videosamplex',//“#”代表容器的ID，“.”或“”代表容器的class  \nvariable: 'player',//该属性必需设置，值等于下面的new chplayer()的对象  \nposter: 'pic/wdm.jpg',  \nmobileCkControls: true,//是否在移动端（包括ios）环境中显示控制栏  \nmobileAutoFull: false,//在移动端播放后是否按系统设置的全屏播放  \nh5container: '#videoplayer',//h5环境中使用自定义容器  \nvideo: video_address//视频地址  \n};  \nvar player = new ckplayer(videoObject);  \n}","source":"js/gotoplayer.js","raw":"function gotoplayer(video_address){\n    var videoObject = {  \n    container: '.videosamplex',//“#”代表容器的ID，“.”或“”代表容器的class  \nvariable: 'player',//该属性必需设置，值等于下面的new chplayer()的对象  \nposter: 'pic/wdm.jpg',  \nmobileCkControls: true,//是否在移动端（包括ios）环境中显示控制栏  \nmobileAutoFull: false,//在移动端播放后是否按系统设置的全屏播放  \nh5container: '#videoplayer',//h5环境中使用自定义容器  \nvideo: video_address//视频地址  \n};  \nvar player = new ckplayer(videoObject);  \n}","date":"2022-12-11T10:06:07.702Z","updated":"2022-12-11T10:06:07.702Z","path":"js/gotoplayer.js","layout":"false","title":"","comments":1,"_id":"clbj7iclk0000m0lm9kt58b0v","content":"function gotoplayer(video_address){\n    var videoObject = {  \n    container: '.videosamplex',//“#”代表容器的ID，“.”或“”代表容器的class  \nvariable: 'player',//该属性必需设置，值等于下面的new chplayer()的对象  \nposter: 'pic/wdm.jpg',  \nmobileCkControls: true,//是否在移动端（包括ios）环境中显示控制栏  \nmobileAutoFull: false,//在移动端播放后是否按系统设置的全屏播放  \nh5container: '#videoplayer',//h5环境中使用自定义容器  \nvideo: video_address//视频地址  \n};  \nvar player = new ckplayer(videoObject);  \n}","site":{"data":{}},"excerpt":"","more":"function gotoplayer(video_address){\n    var videoObject = {  \n    container: '.videosamplex',//“#”代表容器的ID，“.”或“”代表容器的class  \nvariable: 'player',//该属性必需设置，值等于下面的new chplayer()的对象  \nposter: 'pic/wdm.jpg',  \nmobileCkControls: true,//是否在移动端（包括ios）环境中显示控制栏  \nmobileAutoFull: false,//在移动端播放后是否按系统设置的全屏播放  \nh5container: '#videoplayer',//h5环境中使用自定义容器  \nvideo: video_address//视频地址  \n};  \nvar player = new ckplayer(videoObject);  \n}"},{"_content":"/*\n\t软件名称：ckplayer\n\t软件版本：X2\n\t软件作者：niandeng\n\t软件网站：http://www.ckplayer.com\n\t--------------------------------------------------------------------------------------------------------------------\n\t开发说明：\n\t使用的主要程序语言：javascript(js)及actionscript3.0(as3.0)(as3.0主要用于flashplayer部分的开发，不在该页面呈现)\n\t功能：播放视频\n\t特点：兼容HTML5-VIDEO(优先)以及FlashPlayer\n\t--------------------------------------------------------------------------------------------------------------------\n\t使用开源代码部分：\n\t1：flashls-http://flashls.org/\n\t=====================================================================================================================\n*/\n\n!(function() {\n\tvar ckplayer = function(obj) {\n\t\t/*\n\t\t\tjavascript部分开发所用的注释说明：\n\t\t\t1：初始化-程序调用时即运行的代码部分\n\t\t\t2：定义样式-定义容器（div,p,canvas等）的样式表，即css\n\t\t\t3：监听动作-监听元素节点（单击-click，鼠标进入-mouseover，鼠标离开-mouseout，鼠标移动-mousemove等）事件\n\t\t\t4：监听事件-监听视频的状态（播放，暂停，全屏，音量调节等）事件\n\t\t\t5：共用函数-这类函数在外部也可以使用\n\t\t\t6：全局变量-定义成全局使用的变量\n\t\t\t7：其它相关注释\n\t\t\t全局变量说明：\n\t\t\t在本软件中所使用到的全局变量（变量（类型）包括Boolean，String，Int，Object（包含元素对象和变量对象），Array，Function等）\n\t\t\t下面列出重要的全局变量：\n\t\t\t\tV:Object：视频对象\n\t\t\t\tVA:Array：视频列表（包括视频地址，类型，清晰度说明）\n\t\t\t\tID:String：视频ID\n\t\t\t\tCB:Object：控制栏各元素的集合对象\n\t\t\t\tPD:Object：内部视频容器对象\n\t\t\t---------------------------------------------------------------------------------------------\n\t\t\t程序开始\n\t\t\t下面为需要初始化配置的全局变量\n\t\t*/\n\t\t//全局变量：播放器默认配置，在外部传递过来相应配置后，则进行相关替换\n\t\tthis.varsDefault = {\n\t\t\tplayerID: '',//播放器ID\n\t\t\tcontainer: '',//视频容器的ID\n\t\t\tvariable: 'ckplayer',//播放函数(变量)名称\n\t\t\tvolume: 0.8,//默认音量，范围0-1\n\t\t\tposter: '',//封面图片地址\n\t\t\tautoplay: false,//是否自动播放\n\t\t\tloop: false,//是否需要循环播放\n\t\t\tlive: false,//是否是直播\n\t\t\tduration: 0,//指定总时间\n\t\t\tforceduration:0,//强制使用该时间为总时间\n\t\t\tseek: 0,//默认需要跳转的秒数\n\t\t\tdrag: '',//拖动时支持的前置参数\n\t\t\tfront: '',//前一集按钮动作\n\t\t\tnext: '',//下一集按钮动作\n\t\t\tloaded: '',//加载播放器后调用的函数\n\t\t\tflashplayer: false,//设置成true则强制使用flashplayer\n\t\t\thtml5m3u8: false,//PC平台上是否使用h5播放器播放m3u8\n\t\t\ttrack: null,//字幕轨道\n\t\t\tcktrack: null,//ck字幕\n\t\t\tcktrackdelay:0,//字幕显示延迟时间\n\t\t\tpreview: null,//预览图片对象\n\t\t\tprompt: null,//提示点功能\n\t\t\tvideo: null,//视频地址\n\t\t\tconfig: '',//调用配置函数名称\n\t\t\ttype: '',//视频格式\n\t\t\tcrossorigin: '',//设置html5视频的crossOrigin属性\n\t\t\tcrossdomain: '',//安全策略文件地址\n\t\t\tunescape: false,//默认flashplayer里需要解码\n\t\t\tmobileCkControls: false,//移动端h5显示控制栏\n\t\t\tmobileAutoFull: true,//移动端是否默认全屏播放\n\t\t\tplaybackrate: 1,//默认倍速\n\t\t\th5container: '',//h5环境中使用自定义容器\n\t\t\tdebug: false,//是否开启调试模式\n\t\t\toverspread:true,//是否让视频铺满播放器\n\t\t\tlanguage:'',//语言文件路径\n\t\t\tstyle:'',//风格文件路径\n\t\t\t//以下为广告相关配置\n\t\t\tadfront: '',\n\t\t\tadfronttime: '',\n\t\t\tadfrontlink: '',\n\t\t\tadpause: '',\n\t\t\tadpausetime: '',\n\t\t\tadpauselink: '',\n\t\t\tadinsert: '',\n\t\t\tadinserttime: '',\n\t\t\tadinsertlink: '',\n\t\t\tinserttime: '',\n\t\t\tadend: '',\n\t\t\tadendtime: '',\n\t\t\tadendlink: '',\n\t\t\tadvertisements: ''\n\t\t};\n\t\t//全局变量:vars\n\t\tthis.vars = {};\n\t\t//全局变量：配置文件函数\n\t\tthis.ckConfig = {};\n\t\tthis.jsonConfig = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：语言配置\n\t\tthis.ckLanguage = {};\n\t\tthis.jsonLanguage = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：语言配置\n\t\tthis.ckStyle = {};\n\t\tthis.jsonStyle = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：右键菜单：[菜单标题,类型(link:链接，default:灰色，function：调用函数，javascript:调用js函数),执行内容(包含链接地址，函数名称),[line(间隔线)]]\n\t\tthis.contextMenu = [['ckplayer', 'link', 'http://www.ckplayer.com', '_blank'], ['version:X2', 'default', 'line']];\n\t\t//全局变量：错误提示列表\n\t\tthis.errorList = [\n\t\t\t['000', 'Object does not exist'], \n\t\t\t['001', 'Variables type is not a object'], \n\t\t\t['002', 'Video object does not exist'],\n\t\t\t['003', 'Video object format error'], \n\t\t\t['004', 'Video object format error'], \n\t\t\t['005', 'Video object format error'], \n\t\t\t['006', '[error] does not exist'], \n\t\t\t['007', 'Ajax error'],\n\t\t\t['008', 'Ajax error'],\n\t\t\t['009', 'Ajax object format error'],\n\t\t\t['010', 'Ajax.status:[error]'],\n\t\t\t['011', '[error] File loading failed or error'],\n\t\t\t['012', '[error]']\n\t\t];\n\t\t//全局变量：HTML5变速播放的值数组/如果不需要可以设置成null\n\t\tthis.playbackRateArr = [[0.5, '0.5X'], [1, '1X'], [1.25, '1.25X'], [1.5, '1.5X'], [2, '2X'], [4, '4X']];\n\t\t//全局变量：保存倍速\n\t\tthis.playbackRateTemp=1;\n\t\t//全局变量：HTML5默认变速播放的值\n\t\tthis.playbackRateDefault = 1;\n\t\t//全局变量：HTML5当前显示的字幕编号\n\t\tthis.subtitlesTemp=-1;\n\t\t//全局变量：定义logo\n\t\tthis.logo = '';\n\t\t//全局变量：是否加载了播放器\n\t\tthis.loaded = false;\n\t\t//全局变量：计时器，监听视频加载出错的状态\n\t\tthis.timerError = null;\n\t\t//全局变量：是否出错\n\t\tthis.error = false;\n\t\t//全局变量：出错地址的数组\n\t\tthis.errorUrl = [];\n\t\t//全局变量：计时器，监听全屏与非全屏状态\n\t\tthis.timerFull = null;\n\t\t//全局变量：是否全屏状态\n\t\tthis.full = false;\n\t\t//全局变量：计时器，监听当前的月/日 时=分=秒\n\t\tthis.timerTime = null;\n\t\t//全局变量：计时器，监听视频加载\n\t\tthis.timerBuffer = null;\n\t\t//全局变量：设置进度按钮及进度条是否跟着时间变化，该属性主要用来在按下进度按钮时暂停进度按钮移动和进度条的长度变化\n\t\tthis.isTimeButtonMove = true;\n\t\t//全局变量：进度栏是否有效，如果是直播，则不需要监听时间让进度按钮和进度条变化\n\t\tthis.isTimeButtonDown = false;\n\t\t//全局变量：计时，用来计算鼠标离开清晰度或字幕或倍速按钮后的计算时间标准\n\t\tthis.timeButtonOver=null;\n\t\t//全局变量：鼠标离开清晰度或字幕或倍速是否需要隐藏\n\t\tthis.buttonHide=false;\n\t\t//全局变量：用来模拟双击功能的判断\n\t\tthis.isClick = false;\n\t\t//全局变量：计时器，用来模拟双击功能的计时器\n\t\tthis.timerClick = null;\n\t\t//全局变量：计时器，监听鼠标在视频上移动显示控制栏\n\t\tthis.timerCBar = null;\n\t\t//全局变量：播放视频时如果该变量的值大于0，则进行跳转后设置该值为0\n\t\tthis.needSeek = 0;\n\t\t//全局变量：当前音量\n\t\tthis.volume = 0;\n\t\t//全局变量：静音时保存临时音量\n\t\tthis.volumeTemp = 0;\n\t\t//全局变量/变量类型：Number/功能：当前播放时间\n\t\tthis.time = 0;\n\t\t//全局变量：定义首次调用\n\t\tthis.isFirst = true;\n\t\t//全局变量：是否使用HTML5-VIDEO播放\n\t\tthis.html5Video = true;\n\t\t//全局变量记录视频容器节点的x;y\n\t\tthis.pdCoor = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\t//全局变量：判断当前使用的播放器类型，html5video或flashplayer\n\t\tthis.playerType = '';\n\t\t//全局变量：加载进度条的长度\n\t\tthis.loadTime = 0;\n\t\t//全局变量：body对象\n\t\tthis.body = document.body || document.documentElement;\n\t\t//全局变量：播放器\n\t\tthis.V = null;\n\t\t//全局变量：保存外部js监听事件数组\n\t\tthis.listenerJsArr = [];\n\t\t//全局变量：保存控制栏显示元素的总宽度\n\t\tthis.buttonLen = 0;\n\t\t//全局变量：保存控制栏显示元素的数组\n\t\tthis.buttonArr = [];\n\t\t//全局变量：保存播放器上新增元件的数组\n\t\tthis.elementArr = [];\n\t\t//全局变量：保存播放器上弹幕的临时数组\n\t\tthis.elementTempArr = [];\n\t\t//全局变量：字幕内容\n\t\tthis.track = [];\n\t\t//全局变量：字幕索引\n\t\tthis.trackIndex = 0;\n\t\t//全局变量：当前显示的字幕内容\n\t\tthis.nowTrackShow = {\n\t\t\tsn: ''\n\t\t};\n\t\t//全局变量：保存字幕元件数组\n\t\tthis.trackElement = [];\n\t\t//全局变量：将视频转换为图片\n\t\tthis.timerVCanvas = null;\n\t\t//全局变量：animate，缓动对象数组\n\t\tthis.animateArray = [];\n\t\t//全局变量：保存animate的元件\n\t\tthis.animateElementArray = [];\n\t\t//全局变量：保存需要在暂停时停止缓动的数组\n\t\tthis.animatePauseArray = [];\n\t\t//全局变量：预览图片加载状态/0=没有加载，1=正在加载，2=加载完成\n\t\tthis.previewStart = 0;\n\t\t//全局变量：预览图片容器\n\t\tthis.previewDiv = null;\n\t\t//全局变量：预览框\n\t\tthis.previewTop = null;\n\t\t//全局变量：预览框的宽\n\t\tthis.previewWidth = 120;\n\t\t//全局变量：预览图片容器缓动函数\n\t\tthis.previewTween = null;\n\t\t//全局变量：是否是m3u8格式，是的话则可以加载hls.js\n\t\tthis.isM3u8 = false;\n\t\t//全局变量：保存提示点数组\n\t\tthis.promptArr = [];\n\t\t//全局变量：显示提示点文件的容器\n\t\tthis.promptElement = null;\n\t\t//全局变量：控制栏是否显示\n\t\tthis.conBarShow = true;\n\t\t//全局变量：是否监听过h5的错误\n\t\tthis.errorAdd = false;\n\t\t//全局变量：是否发送了错误\n\t\tthis.errorSend = false;\n\t\t//全局变量：控制栏是否隐藏\n\t\tthis.controlBarIsShow = true;\n\t\t//全局变量，保存当前缩放比例\n\t\tthis.videoScale = 1;\n\t\t//全局变量：设置字体\n\t\tthis.fontFamily = '\"Microsoft YaHei\"; YaHei; \"\\5FAE\\8F6F\\96C5\\9ED1\"; SimHei; \"\\9ED1\\4F53\";Arial';\n\t\t//全局变量：记录第一次拖动进度按钮时的位置\n\t\tthis.timeSliderLeftTemp = 0;\n\t\t//全局变量：判断是否记录了总时间\n\t\tthis.durationSendJS = false;\n\t\t//全局变量：初始化广告分析是否结束设置\n\t\tthis.adAnalysisEnd = false;\n\t\t//全局变量：广告变量\n\t\tthis.advertisements = {};\n\t\t//全局变量：是否是第一次播放视频\n\t\tthis.isFirstTimePlay = true;\n\t\t//全局变量：当前需要播放的广告类型\n\t\tthis.adType = '';\n\t\t//全局变量：播放广告计数\n\t\tthis.adI = 0;\n\t\t//全局变量：要播放的临时地址\n\t\tthis.videoTemp = {\n\t\t\tsrc: '',\n\t\t\tsource: '',\n\t\t\tcurrentSrc: '',\n\t\t\tloop: false\n\t\t};\n\t\t//全局变量：当前要播放的广告组总时间\n\t\tthis.adTimeAllTotal = 0;\n\t\t//全局变量：肖前要播放的广告时间\n\t\tthis.adTimeTotal = 0;\n\t\t//全局变量：用来做倒计时\n\t\tthis.adCountDownObj = null;\n\t\t//全局变量：前置，中插，结尾广告是否已开始运行\n\t\tthis.adPlayStart = false;\n\t\t//全局变量：目前是否在播放广告\n\t\tthis.adPlayerPlay = false;\n\t\t//全局变量：当前广告是否暂停\n\t\tthis.adIsPause = false;\n\t\t//全局变量：视频广告是否静音\n\t\tthis.adVideoMute = false;\n\t\t//全局变量：是否需要记录当前播放的时间供广告播放结束后进行跳转\n\t\tthis.adIsVideoTime = false;\n\t\t//全局变量：后置广告是否播放\n\t\tthis.endAdPlay = false;\n\t\t//全局变量：暂停广告是否在显示\n\t\tthis.adPauseShow = false;\n\t\t//全局变量：是否需要重置广告以实现重新播放时再播放一次\n\t\tthis.adReset = false;\n\t\t//全局变量：记录鼠标在视频上点击时的坐标\n\t\tthis.videoClickXy={x:0,y:0};\n\t\t//全局变量：是否在播放广告时播放过视频广告\n\t\tthis.adVideoPlay = false;\n\t\t\n\t\t//全局变量：临时存储已加载时间的变量\n\t\tthis.loadTimeTemp=0;\n\t\t//全局变量，临时存储hls形式下首次加载时是否需要暂停或播放的判断\n\t\tthis.hlsAutoPlay=true;\n\t\t//全局变量，loading是否显示\n\t\tthis.loadingShow=false;\n\t\t//全局变量，保存视频地址字符串的\n\t\tthis.videoString='';\n\t\t//全局变量，保存所有自定义元件的数组\n\t\tthis.customeElement=[];\n\t\t//全局变量，保存PD的宽高\n\t\tthis.cdWH={w:0,h:0};\n\t\t//全局变量，保存所有的元素变量\n\t\tthis.CB={};\n\t\t//全局变量，调用当前路径\n\t\tthis.ckplayerPath=this.getPath();\n\t\tif (obj) {\n\t\t\tthis.embed(obj);\n\t\t}\n\t};\n\tckplayer.prototype = {\n\t\t/*\n\t\t\t主要函数部分开始\n\t\t\t主接口函数：\n\t\t\t调用播放器需初始化该函数\n\t\t*/\n\t\tembed: function(c) {\n\t\t\t//c:Object：是调用接口传递的属性对象\n\t\t\tif (window.location.href.substr(0, 7) == 'file://') {//如果是使用的file协议打网页则弹出提示\n\t\t\t\talert('Please use the HTTP protocol to open the page');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(c)) {\n\t\t\t\tthis.eject(this.errorList[0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(c) != 'object') {\n\t\t\t\tthis.eject(this.errorList[1]);\n\t\t\t}\n\t\t\tthis.vars = this.standardization(this.varsDefault, c);\n\t\t\tif (!this.vars['mobileCkControls'] && this.isMobile()) {\n\t\t\t\tthis.vars['flashplayer'] = false;\n\t\t\t\tthis.conBarShow = false;\n\t\t\t}\n\t\t\tvar videoStringTemp = this.vars['video'];\n\t\t\tif (!videoStringTemp) {\n\t\t\t\tthis.eject(this.errorList[2]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(videoStringTemp) == 'string') {\n\t\t\t\tif (videoStringTemp.substr(0, 3) == 'CK:' || videoStringTemp.substr(0, 3) == 'CE:' || videoStringTemp.substr(8, 3) == 'CK:' || videoStringTemp.substr(8, 3) == 'CE:') {\n\t\t\t\t\tthis.vars['flashplayer'] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.varType(videoStringTemp) == 'object') {\n\t\t\t\tif (videoStringTemp.length > 1) {\n\t\t\t\t\tif (videoStringTemp[0][0].substr(0, 3) == 'CK:' || videoStringTemp[0][0].substr(0, 3) == 'CE:' || videoStringTemp[0][0].substr(8, 3) == 'CK:' || videoStringTemp[0][0].substr(8, 3) == 'CE:') {\n\t\t\t\t\t\tthis.vars['flashplayer'] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.videoString=videoStringTemp;\n\t\t\tthis.checkUpConfig();\t\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载config文件\n\t\t*/\n\t\tcheckUpConfig:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar configPath='';\n\t\t\tvar jsTemp=null;\n\t\t\tif (this.vars['config']) {\n\t\t\t\tif (this.vars['config'].substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp= eval(this.vars['config'] + '()');\n\t\t\t\t\tif(!this.isUndefined(jsTemp)){\n\t\t\t\t\t\tthis.ckConfig=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.jsonConfig=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.loadConfig(null);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadConfig(this.ckplayerPath+this.vars['config']);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadConfig(this.ckplayerPath+this.vars['config'].substr(8));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t\t\tvar isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerConfig)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp= ckplayerConfig();\n\t\t\t          \tif(jsTemp){\n\t\t\t          \t\tthis.ckConfig=this.newObj(jsTemp);\n\t\t\t          \t\tthis.jsonConfig=this.newObj(jsTemp);\n\t\t\t          \t\tthis.loadConfig(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthis.loadConfig(this.ckplayerPath+'ckplayer.json');\n\t\t\t\t\t\t}\n\t\t\t        }\n\t\t\t        else {\n\t\t\t           this.loadConfig(this.ckplayerPath+'ckplayer.json');\n\t\t\t        }\n\t\t\t    } catch(e) {\n\t\t\t    \tthisTemp.sysError(thisTemp.errorList[12],e);//系统错误\n\t\t\t    }\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadConfig:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.ckConfig=data;\n\t\t\t\t\t\t\tthisTemp.jsonConfig=thisTemp.newObj(data);\n\t\t\t\t\t\t\tif(!thisTemp.isUndefined(data['flashvars'])){\n\t\t\t\t\t\t\t\tthisTemp.vars=thisTemp.objectAssign(data['flashvars'],thisTemp.vars);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.checkUpLanguage();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'Config');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.checkUpLanguage();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载语言文件\n\t\t*/\n\t\tcheckUpLanguage:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar languagePath='';\n\t\t\tvar jsTemp=null;\n\t\t\tif (this.vars['language']) {\n\t\t\t\tlanguagePath=this.vars['language'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif (this.ckConfig['languagePath']) {\n\t\t\t\t\tlanguagePath=this.ckConfig['languagePath'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (languagePath) {\n\t\t\t\tif (languagePath.substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp = eval(languagePath + '()');\n\t\t\t\t\tif(jsTemp){\n\t\t\t\t\t\tthis.ckLanguage=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.jsonLanguage=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.loadLanguage(null);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadLanguage(this.ckplayerPath+languagePath);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadLanguage(this.ckplayerPath+languagePath.substr(8));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t\t\tvar isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerLanguage)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp = ckplayerLanguage();\n\t\t\t          \tif(jsTemp){\n\t\t\t          \t\tthis.ckLanguage=this.newObj(jsTemp);\n\t\t\t          \t\tthis.jsonLanguage=this.newObj(jsTemp);\n\t\t\t          \t\tthis.loadLanguage(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t this.loadLanguage(this.ckplayerPath+'language.json');\n\t\t\t\t\t\t}\n\t\t\t        }\n\t\t\t        else {\n\t\t\t           this.loadLanguage(this.ckplayerPath+'language.json');\n\t\t\t        }\n\t\t\t    } catch(e) {\n\t\t\t    \tthisTemp.sysError(thisTemp.errorList[12],e);//系统错误\n\t\t\t    }\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadLanguage:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.ckLanguage=data;\n\t\t\t\t\t\t\tthisTemp.jsonLanguage=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.checkUpStyle();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'language.json');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.checkUpStyle();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载皮肤文件\n\t\t*/\n\t\tcheckUpStyle:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar stylePath='';\n\t\t\tvar jsTemp=null;\n\t\t\tvar configJs=this.newObj(this.ckConfig);\n\t\t\tif (this.vars['style']) {\n\t\t\t\tstylePath=this.vars['style'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif (this.ckConfig['stylePath']) {\n\t\t\t\t\tstylePath=''+this.ckConfig['stylePath'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (stylePath) {\n\t\t\t\tif (stylePath.substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp = eval(stylePath + '()');\n\t\t\t\t\tif(!this.isUndefined(jsTemp)){\n\t\t\t          \tthis.jsonStyle=this.newObj(jsTemp);\n\t\t\t          \tthis.ckStyle=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.ckStyle['advertisement']=this.objectAssign(configJs['style']['advertisement'],this.ckStyle['advertisement']);\n\t\t\t\t\t\tthis.ckStyle=this.objectAssign(configJs['style'],this.ckStyle);\n\t\t\t\t\t\tthis.loadStyle(null);\n\t\t\t        }\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadStyle(this.ckplayerPath+stylePath);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadStyle(this.ckplayerPath+stylePath.substr(8));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t       var isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerStyle)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){isFun=false;}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp= ckplayerStyle();\n\t\t\t          \tif(!this.isUndefined(jsTemp)){\n\t\t\t          \t\tthis.jsonStyle=this.newObj(jsTemp);\n\t\t\t          \t\tthis.ckStyle=this.newObj(jsTemp);\n\t\t\t\t\t\t\tthis.ckStyle['advertisement']=this.objectAssign(configJs['style']['advertisement'],this.ckStyle['advertisement']);\n\t\t\t\t\t\t\tthis.ckStyle=this.objectAssign(configJs['style'],this.ckStyle);\n\t\t\t\t\t\t\tthis.loadStyle(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthis.loadStyle(this.ckplayerPath+'style.json');\n\t\t\t\t\t\t}\n\t\t\t\t    }\n\t\t\t        else {\n\t\t\t           this.loadStyle(this.ckplayerPath+'style.json');\n\t\t\t        }\n\t\t\t    } catch(e) {}\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadStyle:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tvar configJs=this.newObj(this.ckConfig);\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.jsonStyle=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.ckStyle=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.ckStyle['advertisement']=thisTemp.objectAssign(configJs['style']['advertisement'],thisTemp.ckStyle['advertisement']);\n\t\t\t\t\t\t\tthisTemp.ckStyle=thisTemp.objectAssign(configJs['style'],thisTemp.ckStyle);\n\t\t\t\t\t\t\tthisTemp.loadConfigHandler();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'Style');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.loadConfigHandler();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t当config,language,style三个文件或函数处理完成后执行的动作\n\t\t*/\n\t\tloadConfigHandler:function(){\n\t\t\tif ((!this.supportVideo() && this.vars['flashplayer'] != '') || (this.vars['flashplayer'] && this.uploadFlash()) || !this.isMsie()) {\n\t\t\t\tthis.html5Video = false;\n\t\t\t\tthis.getVideo();\n\t\t\t} \n\t\t\telse if (this.videoString) {\n\t\t\t\t//判断视频数据类型\n\t\t\t\tthis.analysedVideoUrl(this.videoString);\n\t\t\t} \n\t\t\telse {\n\t\t\t\tthis.eject(this.errorList[2]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据外部传递过来的video开始分析视频地址\n\t\t*/\n\t\tanalysedVideoUrl: function(video) {\n\t\t\tvar i = 0,\n\t\t\ty = 0;\n\t\t\tvar thisTemp = this;\n\t\t\tthis.VA = [];//定义全局变量VA：视频列表（包括视频地址，类型，清晰度说明）\n\t\t\tif (this.varType(video) == 'string') { //如果是字符形式的则判断后缀进行填充\n\t\t\t\tif (video.substr(0, 8) != 'website:') {\n\t\t\t\t\tthis.VA = [[video, '', '', 0]];\n\t\t\t\t\tvar fileExt = this.getFileExt(video);\n\t\t\t\t\tswitch (fileExt) {\n\t\t\t\t\tcase '.mp4':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/mp4';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '.ogg':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/ogg';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '.webm':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/webm';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tthis.getVideo();\n\t\t\t\t} else {\n\t\t\t\t\tif (this.html5Video) {\n\t\t\t\t\t\tvar ajaxObj = {\n\t\t\t\t\t\t\turl: video.substr(8),\n\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\t\t\tthisTemp.analysedUrl(data);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[5]);\n\t\t\t\t\t\t\t\t\tthis.VA = video;\n\t\t\t\t\t\t\t\t\tthisTemp.getVideo();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror:function(data){\n\t\t\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.VA = video;\n\t\t\t\t\t\tthis.getVideo();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t} \n\t\t\telse if(this.varType(video)=='array'){//如果视频地址是数组\n\t\t\t\tif (this.varType(video[0])=='array') { //如果视频地址是二维数组\n\t\t\t\t\tthis.VA = video;\n\t\t\t\t}\n\t\t\t\tthis.getVideo();\n\t\t\t}\n\t\t\telse if(this.varType(video)=='object'){\n\t\t\t\t/*\n\t\t\t\t\t如果video格式是对象形式，则分二种\n\t\t\t\t\t如果video对象里包含type，则直接播放\n\t\t\t\t*/\n\t\t\t\tif (!this.isUndefined(video['type'])) {\n\t\t\t\t\tthis.VA.push([video['file'], video['type'], '', 0]);\n\t\t\t\t\tthis.getVideo();\n\t\t\t\t} else {\n\t\t\t\t\tthis.eject(this.errorList[5]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.eject(this.errorList[4]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t对请求到的视频地址进行重新分析\n\t\t*/\n\t\tanalysedUrl: function(data) {\n\t\t\tthis.vars = this.standardization(this.vars, data);\n\t\t\tif (!this.isUndefined(data['video'])) {\n\t\t\t\tthis.vars['video'] = data['video'];\n\t\t\t}\n\t\t\tthis.analysedVideoUrl(this.vars['video']);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t检查浏览器支持的视频格式，如果是则将支持的视频格式重新分组给播放列表\n\t\t*/\n\t\tgetHtml5Video: function() {\n\t\t\tvar va = this.VA;\n\t\t\tvar nva = [];\n\t\t\tvar mobile = this.isMobile();\n\t\t\tvar video = document.createElement('video');\n\t\t\tvar codecs = function(type) {\n\t\t\t\tvar cod = '';\n\t\t\t\tswitch (type) {\n\t\t\t\tcase 'video/mp4':\n\t\t\t\t\tcod = 'avc1.4D401E, mp4a.40.2';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video/ogg':\n\t\t\t\t\tcod = 'theora, vorbis';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video/webm':\n\t\t\t\t\tcod = 'vp8.0, vorbis';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn cod;\n\t\t\t};\n\t\t\tvar supportType = function(vidType, codType) {\n\t\t\t\tif (!video.canPlayType) {\n\t\t\t\t\tthis.html5Video = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar isSupp = video.canPlayType(vidType + ';codecs=\"' + codType + '\"');\n\t\t\t\tif (isSupp == '') {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tif (this.vars['flashplayer'] || !this.isMsie()) {\n\t\t\t\tthis.html5Video = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (var i = 0; i < va.length; i++) {\n\t\t\t\tvar v = va[i];\n\t\t\t\tif (v) {\n\t\t\t\t\tif (v[1] != '' && !mobile && supportType(v[1], codecs(v[1])) && v[0].substr(0, 4) != 'rtmp') {\n\t\t\t\t\t\tnva.push(v);\n\t\t\t\t\t}\n\t\t\t\t\tif ((this.getFileExt(v[0]) == '.m3u8' || this.vars['type'] == 'video/m3u8' || this.vars['type'] == 'm3u8' || v[1] == 'video/m3u8' || v[1] == 'm3u8') && this.vars['html5m3u8'] && !mobile) {\n\t\t\t\t\t\tthis.isM3u8 = true;\n\t\t\t\t\t\tnva.push(v);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (nva.length > 0) {\n\t\t\t\tthis.VA = nva;\n\t\t\t} else {\n\t\t\t\tif (!mobile) {\n\t\t\t\t\tthis.html5Video = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据视频地址开始构建播放器\n\t\t*/\n\t\tgetVideo: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar v = this.vars;\n\t\t\t//如果存在广告字段则开始分析广告\n\t\t\tif (!this.adAnalysisEnd && (v['adfront'] != '' || v['adpause'] != '' || v['adinsert'] != '' || v['adend'] != '' || v['advertisements'] != '')) {\n\t\t\t\tthis.adAnalysisEnd = true;\n\t\t\t\tthis.adAnalysis();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//如果存在字幕则加载\n\t\t\tif (this.V) { //如果播放器已存在，则认为是从newVideo函数发送过来的请求\n\t\t\t\tthis.changeVideo();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.vars['cktrack']) {\n\t\t\t\tthis.loadTrack();\n\t\t\t}\n\t\t\tif (this.supportVideo() && !this.vars['flashplayer']) {\n\t\t\t\tthis.getHtml5Video(); //判断浏览器支持的视频格式\n\t\t\t}\n\t\t\tvar src = '',\n\t\t\tsource = '',\n\t\t\tposter = '',\n\t\t\tloop = '',\n\t\t\tautoplay = '',\n\t\t\ttrack = '',\n\t\t\tcrossorigin='';\n\t\t\tvar video = v['video'];\n\t\t\tvar i = 0;\n\t\t\tvar vBg=this.ckStyle['background']['backgroundColor'].replace('0x','#');\n\t\t\tthis.CD = this.getByElement(v['container']);\n\t\t\tvolume = v['volume'];\n\t\t\tif (this.isUndefined(this.CD)) {\n\t\t\t\tthis.eject(this.errorList[6], v['container']);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\t//开始构建播放器容器\n\t\t\tthis.V = undefined;\n\t\t\tvar thisPd = null;\n\t\t\tif (v['h5container'] != '') {\n\t\t\t\tthisPd = this.getByElement(v['h5container']);\n\t\t\t\tif (this.isUndefined(thisPd)) {\n\t\t\t\t\tthisPd = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar isVideoH5 = null; //isUndefined  thisPd\n\t\t\tif (v['playerID'] != '') {\n\t\t\t\tisVideoH5 = this.getByElement('#' + v['playerID']);\n\t\t\t\tif (this.isUndefined(isVideoH5)) {\n\t\t\t\t\tisVideoH5 = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (thisPd != null && isVideoH5 != null) {\n\t\t\t\tthis.PD = thisPd; //PD:定义播放器容器对象全局变量\n\t\t\t} else {\n\t\t\t\tvar playerID = 'ckplayer-' + this.randomString();\n\t\t\t\tvar playerDiv = document.createElement('div');\n\t\t\t\tplayerDiv.className = playerID;\n\t\t\t\tthis.CD.innerHTML = '';\n\t\t\t\tthis.CD.appendChild(playerDiv);\n\t\t\t\tthis.PD = playerDiv; //PD:定义播放器容器对象全局变量\n\t\t\t}\n\t\t\tthis.css(this.CD, {\n\t\t\t\tbackgroundColor: vBg,\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tposition: 'relative'\n\t\t\t});\n\t\t\tthis.css(this.PD, {\n\t\t\t\tbackgroundColor: vBg,\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '100%',\n\t\t\t\tfontFamily: this.fontFamily\n\t\t\t});\n\t\t\tif (this.html5Video) { //如果支持HTML5-VIDEO则默认使用HTML5-VIDEO播放器\n\t\t\t\t\n\t\t\t\t//禁止播放器容器上鼠标选择文本\n\t\t\t\tthis.PD.onselectstart = this.PD.ondrag = function() {\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t\t//播放器容器构建完成并且设置好样式\n\t\t\t\t//构建播放器\n\t\t\t\tif (this.VA.length == 1) {\n\t\t\t\t\tthis.videoTemp['src'] = decodeURIComponent(this.VA[0][0]);\n\t\t\t\t\tsrc = ' src=\"' + this.videoTemp['src'] + '\"';\n\n\t\t\t\t} else {\n\t\t\t\t\tvar videoArr = this.VA.slice(0);\n\t\t\t\t\tvideoArr = this.arrSort(videoArr);\n\t\t\t\t\tfor (i = 0; i < videoArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = videoArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t\tif (type == ' type=\"video/m3u8\"' || type == ' type=\"m3u8\"') {\n\t\t\t\t\t\t\t\ttype = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + decodeURIComponent(va[0]) + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.videoTemp['source'] = source;\n\t\t\t\t}\n\t\t\t\t//分析视频地址结束\n\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\tautoplay = ' autoplay=\"autoplay\"';\n\t\t\t\t}\n\t\t\t\tif (v['poster']) {\n\t\t\t\t\tposter = ' poster=\"' + v['poster'] + '\"';\n\t\t\t\t}\n\t\t\t\tif (v['loop']) {\n\t\t\t\t\tloop = ' loop=\"loop\"';\n\t\t\t\t}\n\t\t\t\tif (v['seek'] > 0) {\n\t\t\t\t\tthis.needSeek = v['seek'];\n\t\t\t\t}\n\t\t\t\tif (v['track'] != null && v['cktrack'] == null) {\n\t\t\t\t\tvar trackArr = v['track'];\n\t\t\t\t\tvar trackDefault = '';\n\t\t\t\t\tvar defaultHave = false;\n\t\t\t\t\tfor (i = 0; i < trackArr.length; i++) {\n\t\t\t\t\t\tvar trackObj = trackArr[i];\n\t\t\t\t\t\tif (trackObj['default'] && !defaultHave) {\n\t\t\t\t\t\t\ttrackDefault = ' default';\n\t\t\t\t\t\t\tdefaultHave = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttrackDefault = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttrack += '<track kind=\"' + trackObj['kind'] + '\" src=\"' + trackObj['src'] + '\" srclang=\"' + trackObj['srclang'] + '\" label=\"' + trackObj['label'] + '\"' + trackDefault + '>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(v['crossorigin']){\n\t\t\t\t\tcrossorigin=' crossorigin=\"'+v['crossorigin']+'\"';\n\t\t\t\t}\n\t\t\t\tvar autoLoad = this.ckConfig['config']['autoLoad'];\n\t\t\t\tvar preload = '';\n\t\t\t\tif (!autoLoad) {\n\t\t\t\t\tpreload = ' preload=\"meta\"';\n\t\t\t\t}\n\t\t\t\tvar vid = this.randomString();\n\t\t\t\tvar controls = '';\n\t\t\t\tvar mobileAutoFull = v['mobileAutoFull'];\n\t\t\t\tvar mobileautofull = '';\n\t\t\t\tif (!mobileAutoFull) {\n\t\t\t\t\tmobileautofull = ' x-webkit-airplay=\"true\" playsinline  webkit-playsinline=\"true\"  x5-video-player-type=\"h5\"';\n\t\t\t\t}\n\t\t\t\tif(this.isMobile()){\n\t\t\t\t\tcontrols = ' controls=\"controls\"';\n\t\t\t\t}\n\t\t\t\tif (isVideoH5 != null && thisPd != null) {\n\t\t\t\t\tthis.V = isVideoH5;\n\t\t\t\t\tif (v['poster']) {\n\t\t\t\t\t\tthis.V.poster = v['poster'];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar html = '';\n\t\t\t\t\tif (!this.isM3u8) {\n\t\t\t\t\t\thtml = '<video id=\"' + vid + '\"' + src + ' controlslist=\"nodownload\" width=\"100%\" height=\"100%\"' + autoplay + poster + loop + preload + controls + mobileautofull + track + crossorigin+'>' + source + '</video>';\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml = '<video id=\"' + vid + '\" controlslist=\"nodownload\" width=\"100%\" height=\"100%\"' + poster + loop + preload + controls + mobileautofull + track + crossorigin+'></video>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.PD.innerHTML = html;\n\t\t\t\t\tthis.V = this.getByElement('#' + vid); //V：定义播放器对象全局变量\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.volume = volume; //定义音量\n\t\t\t\t\tif (this.playbackRateArr && this.vars['playbackrate'] > -1) {\n\t\t\t\t\t\tif (this.vars['playbackrate'] < this.playbackRateArr.length) {\n\t\t\t\t\t\t\tthis.playbackRateDefault = this.vars['playbackrate'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.V.playbackRate = this.playbackRateArr[this.playbackRateDefault][0]; //定义倍速\n\t\t\t\t\t}\n\t\t\t\t} catch(error) {}\n\t\t\t\tthis.css(this.V, {\n\t\t\t\t\tbackgroundColor: vBg,\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100%'\n\t\t\t\t});\n\t\t\t\tif (this.isM3u8) {\n\t\t\t\t\tvar loadJsHandler = function() {\n\t\t\t\t\t\tthisTemp.embedHls(thisTemp.VA[0][0], v['autoplay']);\n\t\t\t\t\t};\n\t\t\t\t\tthis.loadJs(this.ckplayerPath + 'hls/hls.min.js', loadJsHandler);\n\t\t\t\t}\n\t\t\t\tthis.css(this.V, 'backgroundColor', vBg);\n\t\t\t\t//创建一个画布容器\n\t\t\t\tif (this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\t\tvar canvasDiv = document.createElement('div');\n\t\t\t\t\tthis.PD.appendChild(canvasDiv);\n\t\t\t\t\tthis.MD = canvasDiv; //定义画布存储容器\n\t\t\t\t\tthis.css(this.MD, {\n\t\t\t\t\t\tbackgroundColor: vBg,\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\ttop: '0px',\n\t\t\t\t\t\tzIndex: '10'\n\t\t\t\t\t});\n\t\t\t\t\tvar cvid = 'ccanvas' + this.randomString();\n\t\t\t\t\tthis.MD.innerHTML = this.newCanvas(cvid, this.MD.offsetWidth, this.MD.offsetHeight);\n\t\t\t\t\tthis.MDC = this.getByElement(cvid + '-canvas');\n\t\t\t\t\tthis.MDCX = this.MDC.getContext('2d');\n\t\t\t\t}\n\t\t\t\tthis.playerType = 'html5video';\n\t\t\t\t//播放器构建完成并且设置好样式\n\t\t\t\t//建立播放器的监听函数，包含操作监听及事件监听\n\t\t\t\tthis.addVEvent();\n\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t//根据清晰度的值构建清晰度切换按钮\n\t\t\t\t\tthis.definition();\n\t\t\t\t\tif (!this.vars['live'] && this.playbackRateArr && this.vars['playbackrate'] > -1) {\n\t\t\t\t\t\tthis.playbackRate();\n\t\t\t\t\t}\n\t\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\t\tthis.loadingStart(true);\n\t\t\t\t\t}\n\t\t\t\t\tthis.subtitleSwitch();\n\t\t\t\t}\n\t\t\t\tthis.playerLoad();\n\t\t\t} else { //如果不支持HTML5-VIDEO则调用flashplayer\n\t\t\t\tthis.embedSWF();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t分析广告数据\n\t\t*/\n\t\tadAnalysis: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar v = this.vars;\n\t\t\tvar isAdvShow = [];\n\t\t\tvar i = 0;\n\t\t\tif (v['advertisements'] != '' && v['advertisements'].substr(0, 8) == 'website:') {\n\t\t\t\tvar ajaxObj = {\n\t\t\t\t\turl: v['advertisements'].substr(8),\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\tvar newData = {};\n\t\t\t\t\t\t\tvar val = null;\n\t\t\t\t\t\t\t//对广告进行分析\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(data['front']) || !thisTemp.isUndefined(data['pause']) || !thisTemp.isUndefined(data['end']) || !thisTemp.isUndefined(data['insert']) || !thisTemp.isUndefined(data['other'])) {\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['front']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['front'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['pause']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['pause'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['insert']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['insert'] = val;\n\t\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(data['inserttime'])) {\n\t\t\t\t\t\t\t\t\t\t\tnewData['inserttime'] = thisTemp.arrayInt(data['inserttime']);\n\t\t\t\t\t\t\t\t\t\t\tisAdvShow = [];\n\t\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < newData['inserttime'].length; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\tisAdvShow.push(false);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tnewData['insertPlay'] = isAdvShow;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['end']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['end'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['other']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['other'] = val;\n\t\t\t\t\t\t\t\t\t\tisAdvShow = [];\n\t\t\t\t\t\t\t\t\t\tvar arrTemp = [];\n\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < val.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\tisAdvShow.push(false);\n\t\t\t\t\t\t\t\t\t\t\tarrTemp.push(parseInt('0' + val[i]['startTime']));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnewData['othertime'] = arrTemp;\n\t\t\t\t\t\t\t\t\t\tnewData['otherPlay'] = isAdvShow;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\tthisTemp.log(event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.advertisements = newData;\n\t\t\t\t\t\t\t//对广告进行分析结束\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisTemp.getVideo();\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){}\n\t\t\t\t};\n\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t} else {\n\t\t\t\t//根据广告分析\n\t\t\t\tthis.adAnalysisOne('front', 'adfront', 'adfronttime', 'adfrontlink', 'adfronttype');\n\t\t\t\tthis.adAnalysisOne('pause', 'adpause', 'adpausetime', 'adpauselink', 'adpausetype');\n\t\t\t\tthis.adAnalysisOne('insert', 'adinsert', 'adinserttime', 'adinsertlink', 'adinserttype');\n\t\t\t\tthis.adAnalysisOne('end', 'adend', 'adendtime', 'adendlink', 'adendtype');\n\t\t\t\tif (!this.isUndefined(this.advertisements['insert'])) {\n\t\t\t\t\tif (!this.isUndefined(v['inserttime'])) {\n\t\t\t\t\t\tthisTemp.advertisements['inserttime'] = v['inserttime'];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!this.isUndefined(thisTemp.advertisements['inserttime'])) {\n\t\t\t\t\tthisTemp.advertisements['inserttime'] = thisTemp.arrayInt(thisTemp.advertisements['inserttime']);\n\t\t\t\t\tisInsert = [];\n\t\t\t\t\tfor (i = 0; i < thisTemp.advertisements['inserttime'].length; i++) {\n\t\t\t\t\t\tisInsert.push(false);\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.advertisements['insertPlay'] = isInsert;\n\t\t\t\t}\n\t\t\t\tthisTemp.getVideo();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t将广告数组数据里不是视频和图片的去除\n\t\t*/\n\t\tarrayDel: function(arr) {\n\t\t\tif(this.isUndefined(arr)){\n\t\t\t\treturn arr;\n\t\t\t}\n\t\t\tif (arr.length == 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar newArr = [];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar type = arr[i]['type'];\n\t\t\t\tif (type == 'mp4' || type == 'mov' || this.isStrImage(type)) {\n\t\t\t\t\tnewArr.push(arr[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (newArr.length > 0) {\n\t\t\t\treturn newArr;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\t/*分析单个类型的广告*/\n\t\tadAnalysisOne: function(adType, adName, adTime, adLink, adStype) {\n\t\t\tvar v = this.vars;\n\t\t\tif (this.isUndefined(v[adName])) {\n\t\t\t\tv[adName] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adTime])) {\n\t\t\t\tv[adTime] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adLink])) {\n\t\t\t\tv[adLink] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adStype])) {\n\t\t\t\tv[adStype] = '';\n\t\t\t}\n\t\t\tif (v[adName] != '') {\n\t\t\t\tvar adList = [];\n\t\t\t\tvar ad = v[adName].split(',');\n\t\t\t\tvar adtime = v[adTime].split(',');\n\t\t\t\tvar adlink = v[adLink].split(',');\n\t\t\t\tvar adstype = v[adStype].split(',');\n\t\t\t\tvar i = 0;\n\t\t\t\tif (ad.length > 0) {\n\t\t\t\t\tvar adLinkLen = adlink.length,\n\t\t\t\t\tadTimeLen = adtime.length;\n\t\t\t\t\tif (v[adLink] == '') {\n\t\t\t\t\t\tadLinkLen = 0;\n\t\t\t\t\t\tadlink = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (v[adTime] == '') {\n\t\t\t\t\t\tadTimeLen = 0;\n\t\t\t\t\t\tadtime = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (adLinkLen < ad.length) {\n\t\t\t\t\t\tfor (i = adLinkLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadlink.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (adTimeLen < ad.length) {\n\t\t\t\t\t\tfor (i = adTimeLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadtime.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar adstypeLen = adstype.length;\n\t\t\t\t\tif (v[adStype] == '') {\n\t\t\t\t\t\tadstypeLen = 0;\n\t\t\t\t\t\tadstype = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (adstypeLen < ad.length) {\n\t\t\t\t\t\tfor (i = adstypeLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadstype.push(this.getFileExt(ad[i]).replace('.', ''));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (i = 0; i < ad.length; i++) {\n\t\t\t\t\t\tvar type = adstype[i];\n\t\t\t\t\t\tif (type == 'mp4' || type == 'mov' || this.isStrImage(type)) {\n\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\tfile: ad[i],\n\t\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t\t\ttime: parseInt(adtime[i]) > 0 ? parseInt(adtime[i]) : this.ckStyle['advertisement']['time'],\n\t\t\t\t\t\t\t\tlink: adlink[i]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tadList.push(obj);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (this.isUndefined(this.advertisements)) {\n\t\t\t\t\t\tthis.advertisements = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (adList.length > 0) {\n\t\t\t\t\t\tthis.advertisements[adType] = adList;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t发送播放器加载成功的消息\n\t\t*/\n\t\tplayerLoad: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.isFirst) {\n\t\t\t\tthis.isFirst = false;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthisTemp.loadedHandler();\n\t\t\t\t},1);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t建立播放器的监听函数，包含操作监听及事件监听\n\t\t*/\n\t\taddVEvent: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar duration=0;\n\t\t\t//监听视频单击事件\n\t\t\tvar eventVideoClick = function(event) {\n\t\t\t\tthisTemp.videoClickXy={x:event.clientX,y:event.clientY};\n\t\t\t\tthisTemp.videoClick();\n\t\t\t};\n\t\t\tthis.addListenerInside('click', eventVideoClick);\n\t\t\tthis.addListenerInside('click', eventVideoClick, this.MDC);\n\t\t\t//延迟计算加载失败事件\n\t\t\tthis.timerErrorFun();\n\t\t\t//监听视频加载到元数据事件\n\t\t\tvar eventJudgeIsLive = function(event) {\n\t\t\t\tthisTemp.sendJS('loadedmetadata');\n\t\t\t\tif (thisTemp.varType(thisTemp.V.duration) == 'number' && thisTemp.V.duration > 1) {\n\t\t\t\t\tduration = thisTemp.V.duration;\n\t\t\t\t\tif(!duration){\n\t\t\t\t\t\tif(thisTemp.vars['duration']>0){\n\t\t\t\t\t\t\tduration=thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.sendJS('duration', duration);\n\t\t\t\t\tthisTemp.formatInserttime(duration);\n\t\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\t\tthisTemp.advertisementsTime(duration + 1);\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.durationSendJS = true;\n\t\t\t\t}\n\t\t\t\tif (thisTemp.conBarShow) {\n\t\t\t\t\tthisTemp.V.controls=null;\n\t\t\t\t\tthisTemp.videoCss();\n\t\t\t\t}\n\t\t\t\tthisTemp.judgeIsLive();\n\t\t\t};\n\t\t\t//监听视频播放事件\n\t\t\tvar eventPlaying = function(event) {\n\t\t\t\tthisTemp.playingHandler();\n\t\t\t\tthisTemp.sendJS('play');\n\t\t\t\tthisTemp.sendJS('paused', false);\n\t\t\t\tif (!thisTemp.durationSendJS && thisTemp.varType(thisTemp.V.duration) == 'number' && thisTemp.V.duration > 0) {\n\t\t\t\t\tduration = thisTemp.V.duration;\n\t\t\t\t\tif(!duration){\n\t\t\t\t\t\tif(thisTemp.vars['duration']>0){\n\t\t\t\t\t\t\tduration=thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.durationSendJS = true;\n\t\t\t\t\tthisTemp.sendJS('duration', duration);\n\t\t\t\t\tthisTemp.formatInserttime(duration);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('playing', eventPlaying);\n\t\t\t//监听视频暂停事件\n\t\t\tvar eventPause = function(event) {\n\t\t\t\tthisTemp.pauseHandler();\n\t\t\t\tthisTemp.sendJS('pause');\n\t\t\t\tthisTemp.sendJS('paused', true);\n\t\t\t};\n\t\t\tthis.addListenerInside('pause', eventPause);\n\t\t\t//监听视频播放结束事件\n\t\t\tvar eventEnded = function(event) {\n\t\t\t\tthisTemp.endedHandler();\n\t\t\t};\n\t\t\tthis.addListenerInside('ended', eventEnded);\n\t\t\t//监听视频播放时间事件\n\t\t\tvar eventTimeupdate = function(event) {\n\t\t\t\tif (thisTemp.loadingShow) {\n\t\t\t\t\tthisTemp.loadingStart(false);\n\t\t\t\t}\n\t\t\t\tif (thisTemp.time) {\n\t\t\t\t\tif (!thisTemp.adPlayerPlay) {\n\t\t\t\t\t\tthisTemp.sendJS('time', thisTemp.time);\n\t\t\t\t\t\t//监听中间插入广告是否需要播放\n\t\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['insert'])) {\n\t\t\t\t\t\t\tthisTemp.checkAdInsert(thisTemp.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//监听其它广告\n\t\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['other'])) {\n\t\t\t\t\t\t\tthisTemp.checkAdOther(thisTemp.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (thisTemp.time < 3 && thisTemp.adReset) {\n\t\t\t\t\t\t\tthisTemp.adReset = false;\n\t\t\t\t\t\t\tthisTemp.endedAdReset();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { //如果是广告则进行广告倒计时\n\t\t\t\t\t\tthisTemp.adPlayerTimeHandler(thisTemp.time);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('timeupdate', eventTimeupdate);\n\t\t\t//监听视频缓冲事件\n\t\t\tvar eventWaiting = function(event) {\n\t\t\t\tthisTemp.loadingStart(true);\n\t\t\t};\n\t\t\tthis.addListenerInside('waiting', eventWaiting);\n\t\t\t//监听视频seek开始事件\n\t\t\tvar eventSeeking = function(event) {\n\t\t\t\tthisTemp.sendJS('seek', 'start');\n\t\t\t};\n\t\t\tthis.addListenerInside('seeking', eventSeeking);\n\t\t\t//监听视频seek结束事件\n\t\t\tvar eventSeeked = function(event) {\n\t\t\t\tthisTemp.seekedHandler();\n\t\t\t\tthisTemp.sendJS('seek', 'ended');\n\t\t\t};\n\t\t\tthis.addListenerInside('seeked', eventSeeked);\n\t\t\t//监听视频音量\n\t\t\tvar eventVolumeChange = function(event) {\n\t\t\t\ttry {\n\t\t\t\t\tthisTemp.volumechangeHandler();\n\t\t\t\t\tthisTemp.sendJS('volume', thisTemp.volume || thisTemp.V.volume);\n\t\t\t\t} catch(event) {}\n\t\t\t};\n\t\t\tthis.addListenerInside('volumechange', eventVolumeChange);\n\t\t\t//监听全屏事件\n\t\t\tvar eventFullChange = function(event) {\n\t\t\t\tvar fullState = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen;\n\t\t\t\tthisTemp.sendJS('full', fullState);\n\t\t\t};\n\t\t\tthis.addListenerInside('fullscreenchange', eventFullChange);\n\t\t\tthis.addListenerInside('webkitfullscreenchange', eventFullChange);\n\t\t\tthis.addListenerInside('mozfullscreenchange', eventFullChange);\n\t\t\t//建立界面\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.interFace();\n\t\t\t}\n\t\t\tthis.addListenerInside('loadedmetadata', eventJudgeIsLive);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重置界面元素\n\t\t*/\n\t\tresetPlayer: function() {\n\t\t\tthis.timeTextHandler();\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.timeProgress(0, 1); //改变时间进度条宽\n\t\t\t\tthis.changeLoad(0);\n\t\t\t\tthis.initPlayPause(); //判断显示播放或暂停按钮\n\t\t\t\tthis.definition(); //构建清晰度按钮\n\t\t\t\tthis.deletePrompt(); //删除提示点\n\t\t\t\tthis.deletePreview(); //删除预览图\n\t\t\t\tthis.trackHide(); //重置字幕\n\t\t\t\tthis.resetTrack();\n\t\t\t\tthis.trackElement = [];\n\t\t\t\tthis.track = [];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建界面元素\n\t\t */\n\t\tinterFace: function() {\n\t\t\tthis.conBarShow = true;\n\t\t\tvar thisTemp = this;\n\t\t\tvar html = ''; //控制栏内容\n\t\t\tvar i = 0;\n\t\t\tvar thisStyle=this.ckStyle;\n\t\t\tvar styleC=thisStyle['controlBar'];\n\t\t\tvar styleCB=styleC['button'];\n\t\t\tvar styleAS=thisStyle['advertisement'];\n\t\t\tvar styleDF=styleC['definition'];\n\t\t\tvar bWidth = 38;//按钮的宽\n\t\t\tvar timeInto = this.formatTime(0,this.vars['duration'],this.ckLanguage['vod']); //时间显示框默认显示内容\t\t\t\n\t\t\t/*\n\t\t\t\t构建一些PD（播放器容器）里使用的元素\n\t\t\t*/\n\t\t\t/*\n\t\t\t \t构建播放器内的元素\n\t\t\t*/\n\t\t\tthis.CB={menu:null};\n\t\t\tvar divEle={\n\t\t\t\tcontrolBarBg:null,\n\t\t\t\tcontrolBar:null,\n\t\t\t\tpauseCenter:null,\n\t\t\t\terrorText:null,\n\t\t\t\tpromptBg:null,\n\t\t\t\tprompt:null,\n\t\t\t\tpromptTriangle:null,\n\t\t\t\tdefinitionP:null,\n\t\t\t\tplaybackrateP:null,\n\t\t\t\tsubtitlesP:null,\n\t\t\t\tloading:null,\n\t\t\t\tlogo:null,\n\t\t\t\tadBackground:null,\n\t\t\t\tadElement:null,\n\t\t\t\tadLink:null,\n\t\t\t\tadPauseClose:null,\n\t\t\t\tadTime:null,\n\t\t\t\tadTimeText:null,\n\t\t\t\tadMute:null,\n\t\t\t\tadEscMute:null,\n\t\t\t\tadSkip:null,\n\t\t\t\tadSkipText:null,\n\t\t\t\tadSkipButton:null\n\t\t\t};\n\t\t\tvar k='';\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.PD.appendChild(this.CB[k]);\n\t\t\t}\n\t\t\t/*\n\t\t\t\t构建鼠标右键容器\n\t\t\t*/\n\t\t\tthis.CB['menu']=document.createElement('div');\n\t\t\tthis.body.appendChild(this.CB['menu']);\n\t\t\tif (this.vars['live']) { //如果是直播，时间显示文本框里显示当前系统时间\n\t\t\t\ttimeInto = this.formatTime(0,0,this.ckLanguage['live']); //时间显示框默认显示内容\n\t\t\t}\n\t\t\t/*\n\t\t\t\t构建控制栏的按钮\n\t\t\t*/\n\t\t\tdivEle={\n\t\t\t\tplay:null,\n\t\t\t\tpause:null,\n\t\t\t\tmute:null,\n\t\t\t\tescMute:null,\n\t\t\t\tfull:null,\n\t\t\t\tescFull:null,\n\t\t\t\tdefinition:null,\n\t\t\t\tplaybackrate:null,\n\t\t\t\tsubtitles:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\tthis.CB[k].dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\tthis.CB['controlBar'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tdivEle={\n\t\t\t\ttimeProgressBg:null,\n\t\t\t\ttimeBoBg:null,\n\t\t\t\tvolume:null,\n\t\t\t\ttimeText:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['controlBar'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['timeText'].innerHTML=timeInto;//初始化时间\n\t\t\tdivEle={\n\t\t\t\tloadProgress:null,\n\t\t\t\ttimeProgress:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['timeProgressBg'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['timeButton']=document.createElement('div');\n\t\t\tthis.CB['timeBoBg'].appendChild(this.CB['timeButton']);\n\t\t\tdivEle={\n\t\t\t\tvolumeBg:null,\n\t\t\t\tvolumeBO:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['volume'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['volumeUp']=document.createElement('div');\n\t\t\tthis.CB['volumeBg'].appendChild(this.CB['volumeUp']);\n\t\t\t//构建loading图标\n\t\t\tvar imgTemp=null;\n\t\t\tvar imgFile='';\n\t\t\tvar imgFile=thisStyle['loading']['file'];\n\t\t\tif(!this.isUndefined(thisStyle['loading']['fileH5'])){\n\t\t\t\timgFile=thisStyle['loading']['fileH5'];\n\t\t\t}\n\t\t\tif(imgFile){\n\t\t\t\timgTemp=document.createElement('img');\n\t\t\t\timgTemp.src=imgFile;\n\t\t\t\timgTemp.border=0;\n\t\t\t\tthis.CB['loading'].appendChild(imgTemp);\n\t\t\t}\n\t\t\t//构建logo图标\n\t\t\timgFile=thisStyle['logo']['file'];\n\t\t\tif(!this.isUndefined(thisStyle['logo']['fileH5'])){\n\t\t\t\timgFile=thisStyle['logo']['fileH5'];\n\t\t\t}\n\t\t\tif(imgFile){\n\t\t\t\timgTemp=document.createElement('img');\n\t\t\t\timgTemp.src=imgFile;\n\t\t\t\timgTemp.border=0;\n\t\t\t\tthis.CB['logo'].appendChild(imgTemp);\n\t\t\t}\t\t\t\n\t\t\t//定义界面元素的样式\n\t\t\tif(this.ckConfig['config']['buttonMode']['player']){\n\t\t\t\tthis.css(this.PD, {cursor: 'pointer'});\n\t\t\t}\n\t\t\t//控制栏背景\n\t\t\tthis.controlBar(); //改变控制栏\n\t\t\tvar cssTemp=null;\n\t\t\t//定义提示语的样式\n\t\t\tvar promptCss=thisStyle['prompt'];\n\t\t\tcssTemp=this.getEleCss(promptCss,{overflow: 'hidden',zIndex: 900,display:'none'});\n\t\t\tthis.css(this.CB['promptBg'],cssTemp);\n\t\t\tthis.css(this.CB['promptBg'],'padding','0px');\n\t\t\tcssTemp['backgroundColor']='';\n\t\t\tcssTemp['border']='';\n\t\t\tcssTemp['borderRadius']='';\n\t\t\tcssTemp['whiteSpace']='nowrap';\n\t\t\tthis.css(this.CB['prompt'],cssTemp);\n\t\t\t//定义提示语下方的三解形的样式\n\t\t\tcssTemp={\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t\tborderLeft: promptCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\tborderRight: promptCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\tborderTop: promptCss['triangleHeight']+'px solid '+promptCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\toverflow: 'hidden',\n\t\t\t\topacity:promptCss['triangleAlpha'],\n\t\t\t\tfilter:'alpha(opacity:'+promptCss['triangleAlpha']+')',\n\t\t\t\tposition:'absolute',\n\t\t\t\tleft:'0px',\n\t\t\t\ttop:'0px',\n\t\t\t\tzIndex: 900,\n\t\t\t\tdisplay:'none'\n\t\t\t};\n\t\t\tthis.css(this.CB['promptTriangle'],cssTemp);\n\t\t\tthis.elementCoordinate();//中间播放按钮，出错文本框，logo，loading\n\t\t\tthis.css([this.CB['pauseCenter'],this.CB['loading'],this.CB['errorText']],'display','none');\n\t\t\tthis.carbarButton();//控制栏按钮\n\t\t\tthis.playerCustom();//播放器界面自定义元件\n\t\t\tthis.carbarCustom();//控制栏自定义元件\n\t\t\tthis.timeProgressDefault();//进度条默认样式\n\t\t\tthis.videoCss();//计算video的宽高和位置\n\t\t\t//初始化判断播放/暂停按钮隐藏项\n\t\t\tthis.initPlayPause();\n\t\t\tif (this.vars['volume'] > 0) {\n\t\t\t\tthis.css(this.CB['escMute'], 'display', 'none');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['mute'], 'display', 'none');\n\t\t\t}\n\t\t\tif (!this.ckConfig['config']['mobileVolumeBarShow'] && this.isMobile()) {\n\t\t\t\tthis.css([this.CB['mute'], this.CB['escMute'], this.CB['volume']], {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.css(this.CB['escFull'],'display', 'none');\n\t\t\t//设置广告背景层样式\n\t\t\tvar cssObj={\n\t\t\t\talign: 'top',\n\t\t\t\tvAlign:'left',\n\t\t\t\twidth:'100%',\n\t\t\t\theight:'100%',\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\tzIndex: 910,\n\t\t\t\tdisplay: 'none'\n\t\t\t};\n\t\t\tcssTemp=this.getEleCss(styleAS['background'],cssObj);\n\t\t\tthis.css(this.CB['adBackground'],cssTemp);\n\t\t\tthis.css(this.CB['adElement'], {\n\t\t\t\tposition: 'absolute',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\ttop: '0px',\n\t\t\t\tzIndex: 911,\n\t\t\t\tfloat: 'center',\n\t\t\t\tdisplay: 'none'\n\t\t\t});\n\t\t\t//广告控制各元素样式，用一个函数单独定义，这样在播放器尺寸变化时可以重新设置样式\n\t\t\tthis.advertisementStyle();\n\t\t\t//初始化广告控制各元素-隐藏\n\t\t\tthis.css([this.CB['adTime'],this.CB['adTimeText'],this.CB['adMute'],this.CB['adEscMute'],this.CB['adSkip'],this.CB['adSkipText'],this.CB['adSkipButton'],this.CB['adLink'],this.CB['adPauseClose']],'display','none');\n\t\t\t//定义鼠标经过控制栏只显示完整的进度条，鼠标离开进度条则显示简单的进度条\n\t\t\tvar timeProgressOut = function(event) {\n\t\t\t\tthisTemp.timeProgressMouseOut();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', timeProgressOut, this.CB['timeBoBg']);\n\t\t\tvar timeProgressOver = function(event) {\n\t\t\t\tthisTemp.timeProgressDefault();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', timeProgressOver, this.CB['controlBar']);\n\t\t\t//定义各按钮鼠标经过时的切换样式\n\t\t\tthis.buttonEventFun(this.CB['play'],styleCB['play']);//播放按钮\n\t\t\tthis.buttonEventFun(this.CB['pause'],styleCB['pause']);//暂停按钮\n\t\t\tthis.buttonEventFun(this.CB['mute'],styleCB['mute']);//静音按钮\n\t\t\tthis.buttonEventFun(this.CB['escMute'],styleCB['escMute']);//恢复音量按钮\n\t\t\tthis.buttonEventFun(this.CB['full'],styleCB['full']);//全屏按钮\n\t\t\tthis.buttonEventFun(this.CB['escFull'],styleCB['escFull']);//退出全屏按钮\n\t\t\tthis.buttonEventFun(this.CB['adMute'],styleAS['muteButton']);//广告静音按钮\n\t\t\tthis.buttonEventFun(this.CB['adEscMute'],styleAS['escMuteButton']);//恢复广告音量按钮\n\t\t\tthis.buttonEventFun(this.CB['adSkipButton'],styleAS['skipAdButton']);//跳过广告按钮\n\t\t\tthis.buttonEventFun(this.CB['adLink'],styleAS['adLinkButton']);//广告查看详情按钮\n\t\t\tthis.buttonEventFun(this.CB['adPauseClose'],styleAS['closeButton']);//播放暂停时的广告的关闭按钮\n\t\t\tthis.buttonEventFun(this.CB['pauseCenter'],thisStyle['centerPlay']);//播放器中间暂停时的播放按钮\n\t\t\tthis.buttonEventFun(this.CB['volumeBO'],styleC['volumeSchedule']['button']);//音量调节框按钮样式\n\t\t\tthis.buttonEventFun(this.CB['timeButton'],styleC['timeSchedule']['button']);//时间进度调节框按钮样式\n\n\t\t\tthis.addButtonEvent(); //注册按钮及音量调节，进度操作事件\n\t\t\tthis.controlBarHide(); //单独注册控制栏隐藏事件\n\t\t\tthis.newMenu(); //设置右键的样式和事件\n\t\t\tthis.keypress(); //注册键盘事件\n\t\t\t//初始化音量调节框\n\t\t\tthis.changeVolume(this.vars['volume']);\n\t\t\tsetTimeout(function() {\n\t\t\t\tthisTemp.elementCoordinate(); //调整中间暂停按钮/loading的位置/error的位置\n\t\t\t},\n\t\t\t100);\n\t\t\tthis.checkBarWidth();\n\t\t\tvar resize = function() {\n\t\t\t\tthisTemp.log('window.resize');\n\t\t\t\tthisTemp.playerResize();\n\t\t\t};\n\t\t\tvar MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n\t\t\tvar observer = new MutationObserver(function(){\n\t\t\t\tthisTemp.log('video.resize');\n\t\t\t\tvar cdW=parseInt(thisTemp.css(thisTemp.CD,'width')),cdH=parseInt(thisTemp.css(thisTemp.CD,'height'));\n\t\t\t\tif(cdW!=thisTemp.cdWH['w'] || cdH!=thisTemp.cdWH['h']){\n\t\t\t\t\tthisTemp.cdWH={\n\t\t\t\t\t\tw:cdW,\n\t\t\t\t\t\th:cdH\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.changeSize(cdW,cdH);\n\t\t\t\t}\n\t\t\t});\n\t\t\tobserver.observe(this.CD, {attributes: true, attributeFilter: ['style'], attributeOldValue: true });\n\t\t\tthis.addListenerInside('resize', resize, window);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t进间进度条默认样式\n\t\t*/\n\t\ttimeProgressDefault:function(){\n\t\t\tvar styleCT=this.ckStyle['controlBar']['timeSchedule'];\n\t\t\tvar cssObj=this.newObj(styleCT['default']);\n\t\t\tvar loadBackImg=cssObj['loadProgressImg'],playBackImg=cssObj['playProgressImg'];\n\t\t\tvar cssTemp=null;\n\t\t\tthis.css(this.CB['timeBoBg'],'display','block');\n\t\t\t//时间进度条背景容器\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow: 'hidden',zIndex: 2},this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['timeProgressBg'], cssTemp);\n\t\t\t//加载进度\n\t\t\tcssObj={\n\t\t\t\talign:'left',\n\t\t\t\tvAlign:'top',\n\t\t\t\twidth:1,\n\t\t\t\theight:cssObj['height'],\n\t\t\t\tbackgroundImg:loadBackImg\n\t\t\t};\n\t\t\t//加载进度和时间进度\n\t\t\tif(this.CB['loadProgress'].offsetWidth>1){\n\t\t\t\tcssObj['width']=this.CB['loadProgress'].offsetWidth;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow:'hidden',zIndex:1},this.CB['timeProgressBg']);\n\t\t\tthis.css(this.CB['loadProgress'],cssTemp);\n\t\t\tcssObj['width']=0;\n\t\t\tif(this.CB['timeProgress'].offsetWidth>1 && parseInt(this.css(this.CB['timeButton'],'left'))>0){\n\t\t\t\tcssObj['width']=this.CB['timeProgress'].offsetWidth;\n\t\t\t\t\n\t\t\t}\n\t\t\tcssObj['backgroundImg']=playBackImg;\n\t\t\tcssTemp=this.getEleCss(cssObj,{overflow:'hidden',zIndex:2});\n\t\t\tthis.css(this.CB['timeProgress'],cssTemp);\n\t\t\t//时间进度按钮容器\n\t\t\tcssTemp=this.getEleCss(styleCT['buttonContainer'],{position: 'absolute',overflow: 'hidden',zIndex: 3},this.CB['controlBar']);\n\t\t\tif(this.ckConfig['config']['buttonMode']['timeSchedule']){\n\t\t\t\tcssTemp['cursor']='pointer';\n\t\t\t}\n\t\t\tthis.css(this.CB['timeBoBg'],cssTemp);\n\t\t\t//时间进度按钮\n\t\t\tcssTemp=this.getEleCss(styleCT['button'],{cursor: 'pointer',overflow: 'hidden',zIndex: 4},this.CB['timeBoBg']);\n\t\t\tthis.css(this.CB['timeButton'], cssTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t进间进度条鼠标离开样式\n\t\t*/\n\t\ttimeProgressMouseOut:function(){\n\t\t\tvar styleCT=this.ckStyle['controlBar']['timeSchedule'];\n\t\t\tvar cssObj=this.newObj(styleCT['mouseOut']);\n\t\t\tvar loadBackImg=cssObj['loadProgressImg'],playBackImg=cssObj['playProgressImg'];\n\t\t\tvar cssTemp=null;\n\t\t\tthis.css(this.CB['timeBoBg'],'display','block');\n\t\t\t//时间进度条背景容器\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow: 'hidden',zIndex: 2},this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['timeProgressBg'], cssTemp);\n\t\t\t//加载进度\n\t\t\tcssObj={\n\t\t\t\talign:'left',\n\t\t\t\tvAlign:'top',\n\t\t\t\twidth:1,\n\t\t\t\theight:cssObj['height'],\n\t\t\t\tbackgroundImg:loadBackImg\n\t\t\t};\n\t\t\t//加载进度和时间进度\n\t\t\tif(this.CB['loadProgress'].offsetWidth>1){\n\t\t\t\tcssObj['width']=this.CB['loadProgress'].offsetWidth;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow:'hidden',zIndex:1},this.CB['timeProgressBg']);\n\t\t\tthis.css(this.CB['loadProgress'],cssTemp);\n\t\t\tcssObj['width']=1;\n\t\t\tif(this.CB['timeProgress'].offsetWidth>1 && parseInt(this.css(this.CB['timeButton'],'left'))>0){\n\t\t\t\tcssObj['width']=this.CB['timeProgress'].offsetWidth;\n\t\t\t\tcssObj['backgroundImg']=playBackImg;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(cssObj,{overflow:'hidden',zIndex:2});\n\t\t\tthis.css(this.CB['timeProgress'],cssTemp);\t\t\t\n\t\t\tthis.css(this.CB['timeBoBg'],'display','none');\t\t\t\n\t\t},\n\t\t/*\n\t\t\t统一注册按钮鼠标经过和离开时的切换动作\n\t\t*/\n\t\tbuttonEventFun:function(ele,cssEle){\n\t\t\tvar thisTemp=this;\n\t\t\tvar overFun = function(event) {\n\t\t\t\tthisTemp.css(ele,{\n\t\t\t\t\tbackgroundImage:'url('+cssEle['mouseOver']+')'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptShow(ele);\n\t\t\t};\n\t\t\tvar outFun = function(event) {\n\t\t\t\tthisTemp.css(ele,{\n\t\t\t\t\tbackgroundImage:'url('+cssEle['mouseOut']+')'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t};\n\t\t\toutFun();\n\t\t\tthis.addListenerInside('mouseover', overFun, ele);\n\t\t\tthis.addListenerInside('mouseout', outFun, ele);\n\t\t\tif(!this.isUndefined(cssEle['clickEvent'])){\n\t\t\t\tvar clickFun=function(event){\n\t\t\t\t\tthisTemp.runFunction(cssEle['clickEvent']);\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', clickFun, ele);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化样式用的数字\n\t\t*/\n\t\tformatNumPx:function(str,z){\n\t\t\tif(!str){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(str.toString().indexOf('%')>-1){//说明是根据百分比来计算\n\t\t\t\tif(!this.isUndefined(z)){//如果有值\n\t\t\t\t\treturn parseInt(str)*z*0.01+'px';\n\t\t\t\t}\n\t\t\t\treturn str;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn str+'px';\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化样式用的数字，返回类型必需是数字或百分比\n\t\t*/\n\t\tformatZToNum:function(str,z){\n\t\t\tif(!str){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(str.toString().indexOf('%')>-1){//说明是根据百分比来计算\n\t\t\t\tif(!this.isUndefined(z)){//如果有值\n\t\t\t\t\treturn parseInt(str)*z*0.01;\n\t\t\t\t}\n\t\t\t\treturn str;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn str;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t对对象进行深度复制\n\t\t*/\n\t\tnewObj:function(obj) {\n\t\t\tif(this.isUndefined(obj)){\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t  \tvar str, newobj ={};//constructor 属性返回对创建此对象的数组函数的引用。创建相同类型的空数据\n\t\t  \tif (this.varType(obj) != 'object') {\n\t\t    \treturn obj;\n\t\t  \t}\n\t\t  \telse {\n\t\t    \tfor (var k in obj) {\n\t\t    \t\tif(this.isUndefined(obj[k])){\n\t\t    \t\t\tnewobj[k] = obj[k];\n\t\t    \t\t}\n\t\t    \t\telse{\n\t\t\t      \t\tif(this.varType(obj[k]) == 'object') { //判断对象的这条属性是否为对象\n\t\t\t        \t\tnewobj[k] = this.newObj(obj[k]);//若是对象进行嵌套调用\n\t\t\t      \t\t}\n\t\t\t      \t\telse{\n\t\t\t        \t\tnewobj[k] = obj[k];\n\t\t\t      \t\t}\n\t\t\t      \t}\n\t\t    \t}\n\t\t  \t}\n\t\t  \treturn newobj;//返回深度克隆后的对象\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t统一的显示图片\n\t\t*/\n\t\tloadImgBg:function(eleid,obj){\n\t\t\tthis.css(this.getByElement(eleid),{\n\t\t\t\tbackgroundImage:'url('+obj+')'\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化css\n\t\t\teleObj=样式,\n\t\t\tsupplement=补充样式,\n\t\t\trrEle=参考对象，\n\t\t\t该函数强制使用position定位的元素\n\t\t*/\n\t\tgetEleCss:function(eleObj,supplement,rrEle){\n\t\t\tvar eleName=null;\n\t\t\tvar pdW=this.PD.offsetWidth,pdH=this.PD.offsetHeight;\n\t\t\tif(rrEle){\n\t\t\t\tpdW=rrEle.offsetWidth;\n\t\t\t\tpdH=rrEle.offsetHeight;\n\t\t\t}\n\t\t\tif(this.isUndefined(eleObj)){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\teleName=this.newObj(eleObj);\n\t\t\tvar cssObject={};\n\t\t\tif(!this.isUndefined(eleName['width'])){\n\t\t\t\tcssObject['width']=this.formatZToNum(eleName['width'],pdW)+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['height'])){\n\t\t\t\tcssObject['height']=this.formatZToNum(eleName['height'],pdH)+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['background'])){\n\t\t\t\tvar bg=eleName['background'];\n\t\t\t\tif(!this.isUndefined(bg['backgroundColor'])){\n\t\t\t\t\tcssObject['backgroundColor']=bg['backgroundColor'].replace('0x','#');\n\t\t\t\t}\n\t\t\t\tif(!this.isUndefined(bg['backgroundImg'])){\n\t\t\t\t\tcssObject['backgroundImage']='url('+bg['backgroundImg']+')';\n\t\t\t\t}\n\t\t\t\tif(!this.isUndefined(bg['alpha'])){\n\t\t\t\t\tcssObject['filter']='alpha(opacity:'+bg['alpha']+')';\n\t\t\t\t\tcssObject['opacity']=bg['alpha'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['backgroundColor'])){\n\t\t\t\tcssObject['backgroundColor']=eleName['backgroundColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['backgroundImg'])){\n\t\t\t\tcssObject['backgroundImage']='url('+eleName['backgroundImg']+')';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['color'])){\n\t\t\t\tcssObject['color']=eleName['color'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['font'])){\n\t\t\t\tcssObject['fontFamily']=eleName['font'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['size'])){\n\t\t\t\tcssObject['fontSize']=eleName['size']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['alpha'])){\n\t\t\t\tcssObject['filter']='alpha(opacity:'+eleName['alpha']+')';\n\t\t\t\tcssObject['opacity']=eleName['alpha'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['lineHeight'])){\n\t\t\t\tcssObject['lineHeight']=eleName['lineHeight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['textAlign'])){\n\t\t\t\tcssObject['textAlign']=eleName['textAlign'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderRadius'])){\n\t\t\t\tcssObject['borderRadius']=eleName['borderRadius']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['radius'])){\n\t\t\t\tcssObject['borderRadius']=eleName['radius']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['padding'])){\n\t\t\t\tcssObject['padding']=eleName['padding']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingLeft'])){\n\t\t\t\tcssObject['paddingLeft']=eleName['paddingLeft']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingRight'])){\n\t\t\t\tcssObject['paddingRight']=eleName['paddingRight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingTop'])){\n\t\t\t\tcssObject['paddingTop']=eleName['paddingTop']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingBottom'])){\n\t\t\t\tcssObject['paddingBottom']=eleName['paddingBottom']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['margin'])){\n\t\t\t\tcssObject['margin']=eleName['margin']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginLeft'])){\n\t\t\t\tcssObject['marginLeft']=eleName['marginLeft']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginRight'])){\n\t\t\t\tcssObject['marginRight']=eleName['marginRight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginTop'])){\n\t\t\t\tcssObject['marginTop']=eleName['marginTop']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginBottom'])){\n\t\t\t\tcssObject['marginBottom']=eleName['marginBottom']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['border']) && !this.isUndefined(eleName['borderColor'])){\n\t\t\t\tcssObject['border']=eleName['border']+'px solid '+eleName['borderColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderLeft']) && !this.isUndefined(eleName['borderLeftColor'])){\n\t\t\t\tcssObject['borderLeft']=eleName['borderLeft']+'px solid '+eleName['borderLeftColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderRight']) && !this.isUndefined(eleName['borderRightColor'])){\n\t\t\t\tcssObject['borderRight']=eleName['borderRight']+'px solid '+eleName['borderRightColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderTop']) && !this.isUndefined(eleName['borderTopColor'])){\n\t\t\t\tcssObject['borderTop']=eleName['borderTop']+'px solid '+eleName['borderTopColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderBottom']) && !this.isUndefined(eleName['borderBottomColor'])){\n\t\t\t\tcssObject['borderBottom']=eleName['borderBottom']+'px solid '+eleName['borderBottomColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(supplement)){\n\t\t\t\tfor(var k in supplement){\n\t\t\t\t\tcssObject[k]=supplement[k];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcssObject['position']='absolute';\n\t\t\tvar left=-10000,top=-10000,right=-10000,bottom=-10000;\n\t\t\tvar offsetX=0,offsetY=0;\n\t\t\tif(!this.isUndefined(eleName['offsetX'])){\n\t\t\t\toffsetX=eleName['offsetX'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginX'])){\n\t\t\t\toffsetX=eleName['marginX'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['offsetY'])){\n\t\t\t\toffsetY=eleName['offsetY'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginY'])){\n\t\t\t\toffsetY=eleName['marginY'];\n\t\t\t}\n\t\t\toffsetX=this.formatZToNum(offsetX,pdW);\n\t\t\toffsetY=this.formatZToNum(offsetY,pdH);\n\t\t\tif(!this.isUndefined(eleName['align'])){\n\t\t\t\tleft=0;\n\t\t\t\tswitch (eleName['align']) {\n\t\t\t\t\tcase 'left':\n\t\t\t\t\t\tleft = offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'center':\n\t\t\t\t\t\tleft = pdW * 0.5 + offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\tleft = pdW+offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right2':\n\t\t\t\t\t\tleft = -10000;\n\t\t\t\t\t\tright=offsetX;\n\t\t\t\t\t\tbreak;\t\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['vAlign'])){\n\t\t\t\ttop=0;\n\t\t\t\tswitch (eleName['vAlign']) {\n\t\t\t\t\tcase 'top':\n\t\t\t\t\t\ttop = offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'middle':\n\t\t\t\t\t\ttop=pdH*0.5+offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\ttop =pdH+offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom2':\n\t\t\t\t\t\ttop=-10000;\n\t\t\t\t\t\tbottom =offsetY;\n\t\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(left>-10000){\n\t\t\t\tcssObject['left']=left+'px';\n\t\t\t}\n\t\t\tif(right>-10000){\n\t\t\t\tcssObject['right']=right+'px';\n\t\t\t}\n\t\t\tif(top>-10000){\n\t\t\t\tcssObject['top']=top+'px';\n\t\t\t}\n\t\t\tif(bottom>-10000){\n\t\t\t\tcssObject['bottom']=bottom+'px';\n\t\t\t}\n\t\t\treturn cssObject;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t创建按钮，使用canvas画布\n\t\t*/\n\t\tnewCanvas: function(id, width, height) {\n\t\t\treturn '<canvas class=\"' + id + '-canvas\" width=\"' + width + '\" height=\"' + height + '\"></canvas>';\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册按钮，音量调节框，进度操作框事件\n\t\t*/\n\t\taddButtonEvent: function() {\n\t\t\tvar thisTemp = this;\n\t\t\t//定义按钮的单击事件\n\t\t\t\n\t\t\t//定义各个按钮的鼠标经过/离开事件\n\t\t\tvar promptHide = function(event) {\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t};\n\t\t\tvar definitionOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['definition']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', definitionOver, this.CB['definition']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['definition']);\n\t\t\tvar playbackrateOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['playbackrate']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', playbackrateOver, this.CB['playbackrate']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['playbackrate']);\n\t\t\tvar subtitlesOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['subtitles']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', subtitlesOver, this.CB['subtitles']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['subtitles']);\n\t\t\t//定义音量和进度按钮的滑块事件\n\t\t\tvar volumePrompt = function(vol) {\n\t\t\t\tvar volumeBOXY = thisTemp.getCoor(thisTemp.CB['volumeBO']);\n\t\t\t\tvar promptObj = {\n\t\t\t\t\ttitle:thisTemp.ckLanguage['volumeSliderOver'].replace('[$volume]',vol),\n\t\t\t\t\tx: volumeBOXY['x'] + thisTemp.CB['volumeBO'].offsetWidth * 0.5,\n\t\t\t\t\ty: volumeBOXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, promptObj);\n\t\t\t};\n\t\t\tvar volumeObj = {\n\t\t\t\tslider: this.CB['volumeBO'],\n\t\t\t\tfollow: this.CB['volumeUp'],\n\t\t\t\trefer: this.CB['volumeBg'],\n\t\t\t\tgrossValue: 'volume',\n\t\t\t\tpd: true,\n\t\t\t\tstartFun: function(vol) {},\n\t\t\t\tmonitorFun: function(vol) {\n\t\t\t\t\tthisTemp.changeVolume(vol * 0.01, false, false);\n\t\t\t\t\tvolumePrompt(vol);\n\t\t\t\t},\n\t\t\t\tendFun: function(vol) {},\n\t\t\t\toverFun: function(vol) {\n\t\t\t\t\tvolumePrompt(vol);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.slider(volumeObj);\n\t\t\tvar volumeClickObj = {\n\t\t\t\trefer: this.CB['volumeBg'],\n\t\t\t\tgrossValue: 'volume',\n\t\t\t\tfun: function(vol) {\n\t\t\t\t\tthisTemp.changeVolume(vol * 0.01, true, true);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.progressClick(volumeClickObj);\n\t\t\tthis.timeButtonMouseDown(); //用单击的函数来判断是否需要建立控制栏监听\n\t\t\t//鼠标经过/离开音量调节框时的\n\t\t\tvar volumeBgMove = function(event) {\n\t\t\t\tvar volumeBgXY = thisTemp.getCoor(thisTemp.CB['volumeBg']);\n\t\t\t\tvar eventX = thisTemp.client(event)['x'];\n\t\t\t\tvar eventVolume = parseInt((eventX - volumeBgXY['x']) * 100 / thisTemp.CB['volumeBg'].offsetWidth);\n\t\t\t\tvar buttonPromptObj = {\n\t\t\t\t\ttitle:thisTemp.ckLanguage['volumeSliderOver'].replace('[$volume]',eventVolume),\n\t\t\t\t\tx: eventX,\n\t\t\t\t\ty: volumeBgXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, buttonPromptObj);\n\t\t\t};\n\t\t\tthis.addListenerInside('mousemove', volumeBgMove, this.CB['volumeBg']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['volumeBg']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['volumeBO']);\n\t\t\t//注册清晰度相关事件\n\t\t\tthis.addDefListener();\n\t\t\t//注册倍速相关事件\n\t\t\tthis.addPlaybackrate();\n\t\t\t//注册多字幕事件\n\t\t\tthis.addSubtitles();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册单击视频动作\n\t\t*/\n\t\tvideoClick: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar clearTimerClick = function() {\n\t\t\t\tif (thisTemp.timerClick != null) {\n\t\t\t\t\tif (thisTemp.timerClick.runing) {\n\t\t\t\t\t\tthisTemp.timerClick.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerClick = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timerClickFun = function() {\n\t\t\t\tclearTimerClick();\n\t\t\t\tthisTemp.isClick = false;\n\t\t\t\tthisTemp.sendJS('videoClick',thisTemp.videoClickXy);\n\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\tvar ad = thisTemp.getNowAdvertisements();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (ad['link'] != '') {\n\t\t\t\t\t\t\twindow.open(ad['link']);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.ckConfig['config']['click']) {\n\t\t\t\t\t\tthisTemp.playOrPause();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t};\n\t\t\tclearTimerClick();\n\t\t\tif (this.isClick) {\n\t\t\t\tthis.isClick = false;\n\t\t\t\tthisTemp.sendJS('videoDoubleClick',thisTemp.videoClickXy);\n\t\t\t\tif (thisTemp.ckConfig['config']['doubleClick']) {\n\t\t\t\t\tif (!this.full) {\n\t\t\t\t\t\tthisTemp.fullScreen();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthisTemp.quitFullScreen();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tthis.isClick = true;\n\t\t\t\tthis.timerClick = new this.timer(300, timerClickFun, 1)\n\t\t\t\t//this.timerClick.start();\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册鼠标经过进度滑块的事件\n\t\t*/\n\t\ttimeButtonMouseDown: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar timePrompt = function(time) {\n\t\t\t\tif (isNaN(time)) {\n\t\t\t\t\ttime = 0;\n\t\t\t\t}\n\t\t\t\tvar timeButtonXY = thisTemp.getCoor(thisTemp.CB['timeButton']);\n\t\t\t\tvar promptObj = {\n\t\t\t\t\ttitle: thisTemp.formatTime(time,0,thisTemp.ckLanguage['timeSliderOver']),\n\t\t\t\t\tx: timeButtonXY['x'] - thisTemp.pdCoor['x'] + thisTemp.CB['timeButton'].offsetWidth * 0.5,\n\t\t\t\t\ty: timeButtonXY['y'] - thisTemp.pdCoor['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, promptObj);\n\t\t\t};\n\t\t\tvar timeObj = {\n\t\t\t\tslider: this.CB['timeButton'],\n\t\t\t\tfollow: this.CB['timeProgress'],\n\t\t\t\trefer: this.CB['timeBoBg'],\n\t\t\t\tgrossValue: 'time',\n\t\t\t\tpd: false,\n\t\t\t\tstartFun: function(time) {\n\t\t\t\t\tthisTemp.isTimeButtonMove = false;\n\t\t\t\t},\n\t\t\t\tmonitorFun: function(time) {},\n\t\t\t\tendFun: function(time) {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tif (thisTemp.V.duration > 0) {\n\t\t\t\t\t\t\tthisTemp.needSeek = 0;\n\t\t\t\t\t\t\tthisTemp.videoSeek(parseInt(time));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\toverFun: function(time) {\n\t\t\t\t\ttimePrompt(time);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timeClickObj = {\n\t\t\t\trefer: this.CB['timeBoBg'],\n\t\t\t\tgrossValue: 'time',\n\t\t\t\tfun: function(time) {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tif (thisTemp.V.duration > 0) {\n\t\t\t\t\t\t\tthisTemp.needSeek = 0;\n\t\t\t\t\t\t\tthisTemp.videoSeek(parseInt(time));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timeBoBgmousemove = function(event) {\n\t\t\t\tvar timeBoBgXY = thisTemp.getCoor(thisTemp.CB['timeBoBg']);\n\t\t\t\tvar eventX = thisTemp.client(event)['x'];\n\t\t\t\tvar duration=thisTemp.V.duration;\n\t\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\t\tduration = thisTemp.vars['duration'];\n\t\t\t\t}\n\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t}\n\t\t\t\tvar eventTime = parseInt((eventX - timeBoBgXY['x']) * duration / thisTemp.CB['timeBoBg'].offsetWidth);\n\t\t\t\tvar buttonPromptObj = {\n\t\t\t\t\ttitle: thisTemp.formatTime(eventTime,0,thisTemp.ckLanguage['timeSliderOver']),\n\t\t\t\t\tx: eventX,\n\t\t\t\t\ty: timeBoBgXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, buttonPromptObj);\n\t\t\t\tvar def = false;\n\t\t\t\tif (!thisTemp.isUndefined(thisTemp.CB['definitionP'])) {\n\t\t\t\t\tif (thisTemp.css(thisTemp.CB['definitionP'], 'display') != 'block') {\n\t\t\t\t\t\tdef = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (thisTemp.vars['preview'] != null && def) {\n\t\t\t\t\tbuttonPromptObj['time'] = eventTime;\n\t\t\t\t\tthisTemp.preview(buttonPromptObj);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar promptHide = function(event) {\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\tif (thisTemp.previewDiv != null) {\n\t\t\t\t\tthisTemp.css([thisTemp.previewDiv, thisTemp.previewTop], 'display', 'none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (!this.vars['live']) { //如果不是直播\n\t\t\t\tthis.isTimeButtonDown = true;\n\t\t\t\tthis.addListenerInside('mousemove', timeBoBgmousemove, this.CB['timeBoBg']);\n\t\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['timeBoBg']);\n\t\t\t} else {\n\t\t\t\tthis.isTimeButtonDown = false;\n\t\t\t\ttimeObj['removeListenerInside'] = true;\n\t\t\t\ttimeClickObj['removeListenerInside'] = true;\n\t\t\t}\n\t\t\tthis.slider(timeObj);\n\t\t\tthis.progressClick(timeClickObj);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册调节框上单击事件，包含音量调节框和播放时度调节框\n\t\t*/\n\t\tprogressClick: function(obj) {\n\t\t\t/*\n\t\t\t\trefer:参考对象\n\t\t\t\tfun:返回函数\n\t\t\t\trefer:参考元素，即背景\n\t\t\t\tgrossValue:调用的参考值类型\n\t\t\t\tpd:\n\t\t\t*/\n\t\t\t//建立参考元素的mouseClick事件，用来做为鼠标在其上按下时触发的状态\n\t\t\tvar thisTemp = this;\n\t\t\tvar referMouseClick = function(event) {\n\t\t\t\tvar referX = thisTemp.client(event)['x'] - thisTemp.getCoor(obj['refer'])['x'];\n\t\t\t\tvar rWidth = obj['refer'].offsetWidth;\n\t\t\t\tvar grossValue = 0;\n\t\t\t\tif (obj['grossValue'] == 'volume') {\n\t\t\t\t\tgrossValue = 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tgrossValue = thisTemp.V.duration;\n\t\t\t\t\t\tif (isNaN(grossValue) || parseInt(grossValue) < 0.2) {\n\t\t\t\t\t\t\tgrossValue = thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\t\tgrossValue=thisTemp.vars['forceduration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar nowZ = parseInt(referX * grossValue / rWidth);\n\t\t\t\tif (obj['fun']) {\n\t\t\t\t\tif (obj['grossValue'] === 'time') {\n\t\t\t\t\t\tvar sliderXY = thisTemp.getCoor(thisTemp.CB['timeButton']);\n\t\t\t\t\t\tsliderLeft = sliderXY['x'];\n\t\t\t\t\t\tif (!thisTemp.checkSlideLeft(referX, sliderLeft, rWidth)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar bimeButtonWB = thisTemp.CB['timeButton'].offsetWidth * 0.5;\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['timeButton'], 'left', (referX - bimeButtonWB) + 'px');\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['timeProgress'], 'width', (referX) + 'px');\n\t\t\t\t\t}\n\t\t\t\t\tobj['fun'](nowZ);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (this.isUndefined(obj['removeListenerInside'])) {\n\t\t\t\tthis.addListenerInside('click', referMouseClick, obj['refer']);\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('click', referMouseClick, obj['refer']);\n\t\t\t}\n\n\t\t},\n\n\t\t/*\n\t\t\t内部函数\n\t\t\t共用的注册滑块事件\n\t\t*/\n\t\tslider: function(obj) {\n\t\t\t/*\n\t\t\t\tobj={\n\t\t\t\t\tslider:滑块元素\n\t\t\t\t\tfollow:跟随滑块的元素\n\t\t\t\t\trefer:参考元素，即背景\n\t\t\t\t\tgrossValue:调用的参考值类型\n\t\t\t\t\tstartFun:开始调用的元素\n\t\t\t\t\tmonitorFun:监听函数\n\t\t\t\t\tendFun:结束调用的函数\n\t\t\t\t\toverFun:鼠标放上去后调用的函数\n\t\t\t\t\tpd:是否需要修正\n\t\t\t\t}\n\t\t\t*/\n\t\t\tvar thisTemp = this;\n\t\t\tvar clientX = 0,\n\t\t\tcriterionWidth = 0,\n\t\t\tsliderLeft = 0,\n\t\t\treferLeft = 0;\n\t\t\tvar value = 0;\n\t\t\tvar calculation = function() { //根据滑块的left计算百分比\n\t\t\t\tvar sLeft = parseInt(thisTemp.css(obj['slider'], 'left'));\n\t\t\t\tvar rWidth = obj['refer'].offsetWidth - obj['slider'].offsetWidth;\n\t\t\t\tvar grossValue = 0;\n\t\t\t\tif (thisTemp.isUndefined(sLeft) || isNaN(sLeft)) {\n\t\t\t\t\tsLeft = 0;\n\t\t\t\t}\n\t\t\t\tif (obj['grossValue'] == 'volume') {\n\t\t\t\t\tgrossValue = 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tgrossValue = thisTemp.V.duration;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn parseInt(sLeft * grossValue / rWidth);\n\t\t\t};\n\t\t\tvar mDown = function(event) {\n\t\t\t\tthisTemp.addListenerInside('mousemove', mMove, document);\n\t\t\t\tthisTemp.addListenerInside('mouseup', mUp, document);\n\t\t\t\tvar referXY = thisTemp.getCoor(obj['refer']);\n\t\t\t\tvar sliderXY = thisTemp.getCoor(obj['slider']);\n\t\t\t\tclientX = thisTemp.client(event)['x'];\n\t\t\t\treferLeft = referXY['x'];\n\t\t\t\tsliderLeft = sliderXY['x'];\n\t\t\t\tcriterionWidth = clientX - sliderLeft;\n\t\t\t\tif (obj['startFun']) {\n\t\t\t\t\tobj['startFun'](calculation());\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mMove = function(event) {\n\t\t\t\tclientX = thisTemp.client(event)['x'];\n\t\t\t\tvar newX = clientX - criterionWidth - referLeft;\n\t\t\t\tif (newX < 0) {\n\t\t\t\t\tnewX = 0;\n\t\t\t\t}\n\t\t\t\tif (newX > obj['refer'].offsetWidth - obj['slider'].offsetWidth) {\n\t\t\t\t\tnewX = obj['refer'].offsetWidth - obj['slider'].offsetWidth;\n\t\t\t\t}\n\t\t\t\tif (obj['slider'] === thisTemp.CB['timeButton']) {\n\t\t\t\t\tif (!thisTemp.checkSlideLeft(newX, sliderLeft, obj['refer'].offsetWidth)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisTemp.css(obj['slider'], 'left', newX + 'px');\n\t\t\t\tthisTemp.css(obj['follow'], 'width', (newX + obj['slider'].offsetWidth * 0.5) + 'px');\n\t\t\t\tvar nowZ = calculation();\n\t\t\t\tif (obj['monitorFun']) {\n\t\t\t\t\tobj['monitorFun'](nowZ);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mUp = function(event) {\n\t\t\t\tthisTemp.removeListenerInside('mousemove', mMove, document);\n\t\t\t\tthisTemp.removeListenerInside('mouseup', mUp, document);\n\t\t\t\tif (obj['endFun']) {\n\t\t\t\t\tobj['endFun'](calculation());\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mOver = function(event) {\n\t\t\t\tif (obj['overFun']) {\n\t\t\t\t\tobj['overFun'](calculation());\n\t\t\t\t}\n\n\t\t\t};\n\t\t\tif (this.isUndefined(obj['removeListenerInside'])) {\n\t\t\t\tthis.addListenerInside('mousedown', mDown, obj['slider']);\n\t\t\t\tthis.addListenerInside('mouseover', mOver, obj['slider']);\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('mousedown', mDown, obj['slider']);\n\t\t\t\tthis.removeListenerInside('mouseover', mOver, obj['slider']);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否可以拖动进度按钮或点击进度栏\n\t\t*/\n\t\tcheckSlideLeft: function(newX, sliderLeft, refer) {\n\t\t\tvar timeSA = this.ckConfig['config']['timeScheduleAdjust'];\n\t\t\tswitch (timeSA) {\n\t\t\tcase 0:\n\t\t\t\treturn false;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tif (newX < sliderLeft) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tif (newX > sliderLeft) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tif (!this.timeSliderLeftTemp) {\n\t\t\t\t\tthis.timeSliderLeftTemp = sliderLeft / refer;\n\t\t\t\t}\n\t\t\t\tif (newX < this.timeSliderLeftTemp * refer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tif (!this.timeSliderLeftTemp) {\n\t\t\t\t\tthis.timeSliderLeftTemp = sliderLeft / refer;\n\t\t\t\t} else {\n\t\t\t\t\tvar timeSliderMax = sliderLeft / refer;\n\t\t\t\t\tif (timeSliderMax > this.timeSliderLeftTemp) {\n\t\t\t\t\t\tthis.timeSliderLeftTemp = timeSliderMax;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (newX > this.timeSliderLeftTemp * refer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示loading\n\t\t*/\n\t\tloadingStart: function(rot) {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.isUndefined(rot)) {\n\t\t\t\trot = true;\n\t\t\t}\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.css(thisTemp.CB['loading'], 'display', 'none');\n\t\t\t\tthis.loadingShow=false;\n\t\t\t}\n\t\t\tvar buffer = 0;\n\t\t\tif (rot) {\n\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\tthis.css(thisTemp.CB['loading'], 'display', 'block');\n\t\t\t\t\tthis.loadingShow=true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthisTemp.sendJS('buffer', 100);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示提示语\n\t\t*/\n\t\tpromptShow: function(ele, data) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar obj = {};\n\t\t\tvar eleTitle='';\n\t\t\tif(!this.isUndefined(ele)){\n\t\t\t\teleTitle=this.getDataset(ele, 'title');\n\t\t\t\tif(this.isUndefined(eleTitle)){\n\t\t\t\t\tele=null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ele || data) {\n\t\t\t\tif (!this.isUndefined(data)) {\n\t\t\t\t\tobj = data;\n\t\t\t\t} else {\n\t\t\t\t\tvar offsetCoor = this.getCoor(ele);\n\t\t\t\t\tobj = {\n\t\t\t\t\t\ttitle: eleTitle,\n\t\t\t\t\t\tx: offsetCoor['x'] + ele.offsetWidth * 0.5,\n\t\t\t\t\t\ty: offsetCoor['y']\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthis.CB['prompt'].innerHTML = obj['title'];\n\t\t\t\tthis.css(this.CB['prompt'], 'display', 'block');\n\t\t\t\tvar promptStye=this.ckStyle['prompt'];\n\t\t\t\tvar promoptWidth=this.CB['prompt'].offsetWidth,promoptHeight=this.CB['prompt'].offsetHeight;\n\t\t\t\tthis.css(this.CB['promptBg'], {width:promoptWidth + 'px',height:promoptHeight+'px'});\n\t\t\t\tvar x = obj['x'] - (promoptWidth * 0.5);\n\t\t\t\tvar y = obj['y'] - this.CB['prompt'].offsetHeight-promptStye['marginBottom']-promptStye['triangleHeight'];\n\t\t\t\tif (x < 0) {\n\t\t\t\t\tx = 0;\n\t\t\t\t}\n\t\t\t\tif (x > this.PD.offsetWidth - promoptWidth) {\n\t\t\t\t\tx = this.PD.offsetWidth - promoptWidth;\n\t\t\t\t}\n\t\t\t\tthis.css([this.CB['promptBg'], this.CB['prompt']], {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\ttop: y + 'px'\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['promptTriangle'], {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tleft: x+(promoptWidth-promptStye['triangleWidth'])*0.5+parseInt(promptStye['triangleDeviationX']) + 'px',\n\t\t\t\t\ttop: y +promoptHeight+ 'px'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.css([this.CB['promptBg'], this.CB['prompt'],this.CB['promptTriangle']], {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听错误\n\t\t*/\n\t\ttimerErrorFun: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.errorSend = false;\n\t\t\tvar clearIntervalError = function(event) {\n\t\t\t\tif (thisTemp.timerError != null) {\n\t\t\t\t\tif (thisTemp.timerError.runing) {\n\t\t\t\t\t\tthisTemp.timerError.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerError = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar errorFun = function(event) {\n\t\t\t\tclearIntervalError();\n\t\t\t\tthisTemp.error = true;\n\t\t\t\t//提取错误播放地址\n\t\t\t\tthisTemp.errorUrl = thisTemp.getVideoUrl();\n\t\t\t\t//提取错误播放地址结束\n\t\t\t\tif (!thisTemp.errorSend) {\n\t\t\t\t\tthisTemp.errorSend = true;\n\t\t\t\t\tthisTemp.sendJS('error');\n\t\t\t\t}\n\t\t\t\tif (thisTemp.conBarShow) {\n\t\t\t\t\tthisTemp.CB['errorText'].innerHTML=thisTemp.ckLanguage['error']['streamNotFound'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['errorText'], 'display', 'block');\n\t\t\t\t\tthisTemp.css([thisTemp.CB['pauseCenter'],thisTemp.CB['loading']], 'display', 'none');\n\t\t\t\t}\n\t\t\t\tthisTemp.V.removeAttribute('poster');\n\t\t\t\tthisTemp.resetPlayer();\n\t\t\t};\n\t\t\tvar errorListenerFun = function(event) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif (isNaN(thisTemp.V.duration)) {\n\t\t\t\t\t\terrorFun(event);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tif (!this.errorAdd) {\n\t\t\t\tthis.errorAdd = true;\n\t\t\t\tthis.addListenerInside('error', errorListenerFun);\n\t\t\t}\n\t\t\tclearIntervalError();\n\t\t\tvar timerErrorFun = function() {\n\t\t\t\tif (thisTemp.V && parseInt(thisTemp.V.networkState) == 3) {\n\t\t\t\t\terrorFun();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerError = new this.timer(this.ckConfig['config']['errorTime'], timerErrorFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建判断全屏还是非全屏的判断\n\t\t*/\n\t\tjudgeFullScreen: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.timerFull != null) {\n\t\t\t\tif (this.timerFull.runing) {\n\t\t\t\t\tthis.timerFull.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerFull = null;\n\t\t\t}\n\t\t\tvar fullFun = function() {\n\t\t\t\tthisTemp.isFullScreen();\n\t\t\t};\n\t\t\tthis.timerFull = new this.timer(20, fullFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否是全屏\n\t\t*/\n\t\tisFullScreen: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fullState = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement;\n\t\t\tif (fullState && !this.full) {\n\t\t\t\tthis.full = true;\n\t\t\t\tthis.sendJS('full', true);\n\t\t\t\tthis.elementCoordinate();\n\t\t\t\tthis.carbarButton();\n\t\t\t\tthis.customCoor();//控制栏自定义元件\n\t\t\t\tthis.css(this.CB['full'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['escFull'], 'display', 'block');\n\t\t\t\tif (this.vars['live'] == 0) {\n\t\t\t\t\tthis.timeUpdateHandler();\n\t\t\t\t}\n\t\t\t\tthis.PD.appendChild(this.CB['menu']);\n\t\t\t}\n\t\t\tif (!fullState && this.full) {\n\t\t\t\tthis.full = false;\n\t\t\t\tthis.sendJS('full', false);\n\t\t\t\tthis.elementCoordinate();\n\t\t\t\tthis.carbarButton();\n\t\t\t\tthis.customCoor();//控制栏自定义元件\n\t\t\t\tthis.css(this.CB['full'], 'display', 'block');\n\t\t\t\tthis.css(this.CB['escFull'], 'display', 'none');\n\t\t\t\tif (this.timerFull != null) {\n\t\t\t\t\tif (this.timerFull.runing) {\n\t\t\t\t\t\tthis.timerFull.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthis.timerFull = null;\n\t\t\t\t}\n\t\t\t\tif (this.vars['live'] == 0) {\n\t\t\t\t\tthis.timeUpdateHandler();\n\t\t\t\t}\n\t\t\t\tthis.body.appendChild(this.CB['menu']);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建右键内容及注册相关动作事件\n\t\t*/\n\t\tnewMenu: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar i = 0;\n\t\t\tthis.css(this.CB['menu'], {\n\t\t\t\tbackgroundColor: '#FFFFFF',\n\t\t\t\tpadding: '5px',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tleft: '10px',\n\t\t\t\ttop: '20px',\n\t\t\t\tdisplay: 'none',\n\t\t\t\tzIndex: '999',\n\t\t\t\tcolor: '#A1A9BE',\n\t\t\t\tboxShadow: '2px 2px 3px #AAAAAA'\n\t\t\t});\n\t\t\tvar mArr = this.contextMenu;\n\t\t\tvar cMenu = this.ckConfig['menu'];\n\t\t\tif (cMenu['name']) {\n\t\t\t\tif (cMenu['link']) {\n\t\t\t\t\tmArr[0] = [cMenu['name'], 'link', cMenu['link']];\n\t\t\t\t} else {\n\t\t\t\t\tmArr[0] = [cMenu['name'], 'default'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (cMenu['version']) {\n\t\t\t\tmArr[1] = [cMenu['version'], 'default', 'line'];\n\t\t\t}\n\t\t\tif (cMenu['more']) {\n\t\t\t\tif (this.varType(cMenu['more']) == 'array') {\n\t\t\t\t\tif (cMenu['more'].length > 0) {\n\t\t\t\t\t\tvar moreArr = cMenu['more'];\n\t\t\t\t\t\tfor (i = 0; i < moreArr.length; i++) {\n\t\t\t\t\t\t\tvar mTemp = moreArr[i];\n\t\t\t\t\t\t\tvar arrTemp = [];\n\t\t\t\t\t\t\tif (mTemp['name']) {\n\t\t\t\t\t\t\t\tarrTemp.push(mTemp['name']);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (mTemp['clickEvent'] && mTemp['clickEvent'] != 'none') {\n\t\t\t\t\t\t\t\tvar eveObj = this.clickEvent(mTemp['clickEvent']);\n\t\t\t\t\t\t\t\tarrTemp.push(eveObj['type']);\n\t\t\t\t\t\t\t\tif (eveObj['fun']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(eveObj['fun']);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (eveObj['link']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(eveObj['link']);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (eveObj['target']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(' target=\"' + eveObj['target'] + '\"');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (mTemp['separatorBefore']) {\n\t\t\t\t\t\t\t\tarrTemp.push('line');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmArr.push(arrTemp);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar html = '';\n\t\t\tfor (i = 0; i < mArr.length; i++) {\n\t\t\t\tvar me = mArr[i];\n\t\t\t\tswitch (me[1]) {\n\t\t\t\tcase 'default':\n\t\t\t\t\thtml += '<p>' + me[0] + '</p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'link':\n\t\t\t\t\tif (me[3]) {\n\t\t\t\t\t\tme[3] = 'target=\"' + me[3] + '\"';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '<p><a href=\"' + me[2] + '\"' + me[3] + '>' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javaScript':\n\t\t\t\t\thtml += '<p><a href=\"javascript:' + me[2] + '\">' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'actionScript':\n\t\t\t\t\thtml += '<p><a href=\"javascript:' + this.vars['variable'] + me[2].replace('thisTemp', '') + '\">' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.CB['menu'].innerHTML = html;\n\t\t\tvar pArr = this.CB['menu'].childNodes;\n\t\t\tfor (i = 0; i < pArr.length; i++) {\n\t\t\t\tthis.css(pArr[i], {\n\t\t\t\t\theight: '30px',\n\t\t\t\t\tlineHeight: '30px',\n\t\t\t\t\tmargin: '0px',\n\t\t\t\t\tfontFamily: this.fontFamily,\n\t\t\t\t\tfontSize: '12px',\n\t\t\t\t\tpaddingLeft: '10px',\n\t\t\t\t\tpaddingRight: '30px'\n\t\t\t\t});\n\t\t\t\tif (mArr[i][mArr[i].length - 1] == 'line') {\n\t\t\t\t\tthis.css(pArr[i], 'borderBottom', '1px solid #e9e9e9');\n\t\t\t\t}\n\t\t\t\tvar aArr = pArr[i].childNodes;\n\t\t\t\tfor (var n = 0; n < aArr.length; n++) {\n\t\t\t\t\tif (aArr[n].localName == 'a') {\n\t\t\t\t\t\tthis.css(aArr[n], {\n\t\t\t\t\t\t\tcolor: '#000000',\n\t\t\t\t\t\t\ttextDecoration: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.PD.oncontextmenu = function(event) {\n\t\t\t\tvar eve = event || window.event;\n\t\t\t\tvar client = thisTemp.client(event);\n\t\t\t\tif (eve.button == 2) {\n\t\t\t\t\teve.returnvalue = false;\n\t\t\t\t\tvar x = client['x'] + thisTemp.pdCoor['x'] - 2;\n\t\t\t\t\tvar y = client['y'] + thisTemp.pdCoor['y'] - 2;\n\t\t\t\t\tthisTemp.css(thisTemp.CB['menu'], {\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\t\ttop: y + 'px'\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tvar setTimeOutPClose = function() {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar mouseOut = function(event) {\n\t\t\t\tsetTimeOutPClose();\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['menu'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', mouseOut, thisTemp.CB['menu']);\n\t\t\tvar mouseOver = function(event) {\n\t\t\t\tsetTimeOutPClose();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', mouseOver, thisTemp.CB['menu']);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建控制栏隐藏事件\n\t\t*/\n\t\tcontrolBarHide: function(hide) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar client = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t},\n\t\t\toldClient = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t\tvar cShow = true,\n\t\t\tforce = false;\n\t\t\tvar oldCoor = [0, 0];\n\t\t\tvar controlBarShow = function(show) {\n\t\t\t\tif (show && !cShow && thisTemp.controlBarIsShow) {\n\t\t\t\t\tcShow = true;\n\t\t\t\t\tthisTemp.sendJS('controlBar', true);\n\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBarBg'], 'display', 'block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBar'], 'display', 'block');\n\t\t\t\t\tthisTemp.timeProgressDefault();\n\t\t\t\t\t//thisTemp.css(thisTemp.CB['timeProgressBg'], 'display', 'block');\n\t\t\t\t\t//thisTemp.css(thisTemp.CB['timeBoBg'], 'display', 'block');\n\t\t\t\t\tthisTemp.changeVolume(thisTemp.volume);\n\t\t\t\t\tthisTemp.changeLoad();\n\t\t\t\t\tif (!thisTemp.timerBuffer) {\n\t\t\t\t\t\tthisTemp.bufferEdHandler();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (cShow) {\n\t\t\t\t\t\tcShow = false;\n\t\t\t\t\t\tvar paused = thisTemp.getMetaDate()['paused'];\n\t\t\t\t\t\tif (force) {\n\t\t\t\t\t\t\tpaused = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!paused) {\n\t\t\t\t\t\t\tthisTemp.sendJS('controlBar', false);\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBarBg'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBar'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.promptShow(false);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisTemp.videoCss();//计算video的宽高和位置\n\t\t\t};\n\t\t\tvar cbarFun = function(event) {\n\t\t\t\tif (client['x'] == oldClient['x'] && client['y'] == oldClient['y']) {\n\t\t\t\t\tvar cdH = parseInt(thisTemp.CD.offsetHeight);\n\t\t\t\t\tif ((client['y'] < cdH - 50 || client['y'] > cdH - 2) && cShow && !thisTemp.getMetaDate()['paused']) {\n\t\t\t\t\t\tcontrolBarShow(false);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!cShow) {\n\t\t\t\t\t\tcontrolBarShow(true);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\toldClient = {\n\t\t\t\t\tx: client['x'],\n\t\t\t\t\ty: client['y']\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerCBar = new this.timer(2000, cbarFun);\n\t\t\tvar cdMove = function(event) {\n\t\t\t\tvar getClient = thisTemp.client(event);\n\t\t\t\tclient['x'] = getClient['x'];\n\t\t\t\tclient['y'] = getClient['y'];\n\t\t\t\tif (!cShow) {\n\t\t\t\t\tcontrolBarShow(true);\n\t\t\t\t}\n\t\t\t\tthisTemp.sendJS('mouse',client);\n\t\t\t};\n\t\t\tthis.addListenerInside('mousemove', cdMove, thisTemp.CD);\n\t\t\tthis.addListenerInside('ended', cdMove);\n\t\t\tthis.addListenerInside('resize', cdMove, window);\n\t\t\tif (hide === true) {\n\t\t\t\tcShow = true;\n\t\t\t\tforce = true;\n\t\t\t\tcontrolBarShow(false);\n\t\t\t}\n\t\t\tif (hide === false) {\n\t\t\t\tcShow = false;\n\t\t\t\tforce = true;\n\t\t\t\tcontrolBarShow(true);\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册键盘按键事件\n\t\t*/\n\t\tkeypress: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar keyDown = function(eve) {\n\t\t\t\tvar keycode = eve.keyCode || eve.which;\n\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tswitch (keycode) {\n\t\t\t\t\tcase 32:\n\t\t\t\t\t\tthisTemp.playOrPause();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 37:\n\t\t\t\t\t\tthisTemp.fastBack();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 39:\n\t\t\t\t\t\tthisTemp.fastNext();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 38:\n\t\t\t\t\t\tnow = thisTemp.volume + thisTemp.ckConfig['config']['volumeJump'];\n\t\t\t\t\t\tthisTemp.changeVolume(now > 1 ? 1 : now);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 40:\n\t\t\t\t\t\tnow = thisTemp.volume - thisTemp.ckConfig['config']['volumeJump'];\n\t\t\t\t\t\tthisTemp.changeVolume(now < 0 ? 0 : now);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('keydown', keyDown, window || document);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册倍速相关\n\t\t*/\n\t\tplaybackRate: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['playbackRate']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['playbackrate'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar thisTemp = this;\n\t\t\tvar dArr = this.playbackRateArr;\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的倍速\n\t\t\tvar i = 0,nowI=0;\n\t\t\tnowD = dArr[this.playbackRateDefault][1];\n\t\t\tnowI=this.playbackRateDefault;\n\t\t\tthis.removeChildAll(this.CB['playbackrateP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['playbackratePB']=document.createElement('div'),this.CB['playbackratePC']=document.createElement('div');\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackratePB']);\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackratePC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['playbackratePC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['playbackrateP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['playbackratePB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i][1];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['playbackrateP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['playbackrateP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['playbackratePC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['playbackratePC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar subClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newPlaybackrate(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', subClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['playbackrateTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackrateTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['playbackrateTriangle'],cssTemp);\n\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = nowD;\n\t\t\t} else {\n\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = this.ckLanguage['playbackrate'];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册切换倍速播放相关事件\n\t\t*/\n\t\taddPlaybackrate: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['playbackrateP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['playbackratePC'])){\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'],'display','block');\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['playbackrate']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackratePB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['playbackratePC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['playbackratePC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['playbackratePC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['playbackratePC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['playbackratePB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['playbackrate']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['playbackrateP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['playbackrateP']);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t切换倍速后发生的动作\n\t\t*/\n\t\tnewPlaybackrate: function(title) {\n\t\t\tvar vArr = this.playbackRateArr;\n\t\t\tvar nVArr = [];\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[1] == title) {\n\t\t\t\t\tthis.playbackRateDefault = i;\n\t\t\t\t\tthis.V.playbackRate = v[0];\n\t\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = v[1];\n\t\t\t\t\t\tthis.playbackRate();\n\t\t\t\t\t}\n\t\t\t\t\tthis.sendJS('playbackRate', v);\n\t\t\t\t\tthis.playbackRateTemp=v[0];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册多字幕切换相关\n\t\t*/\n\t\tsubtitleSwitch: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['subtitle']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar dArr = this.vars['cktrack'];//字幕数组\n\t\t\tif(this.varType(dArr)!='array'){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(dArr[0][1]==''){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['subtitle'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的字幕\n\t\t\tvar i = 0,nowI=0;\n\t\t\t\n\t\t\tif(this.subtitlesTemp==-1 && dArr.length>0){\n\t\t\t\tthis.subtitlesTemp=dArr.length-1;\n\t\t\t}\n\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\tif(this.subtitlesTemp==i){\n\t\t\t\t\tnowD=dArr[i][1];\n\t\t\t\t\tnowI=i;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!nowD) {\n\t\t\t\tnowD = dArr[0][1];\n\t\t\t}\n\t\t\tthis.removeChildAll(this.CB['subtitlesP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['subtitlesPB']=document.createElement('div'),this.CB['subtitlesPC']=document.createElement('div');\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesPB']);\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesPC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['subtitlesPC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['subtitlesP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['subtitlesPB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i][1];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['subtitlesP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['subtitlesP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['subtitlesPC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['subtitlesPC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar subClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newSubtitles(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', subClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['subtitlesTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['subtitlesTriangle'],cssTemp);\n\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = nowD;\n\t\t\t} else {\n\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = this.ckLanguage['subtitle'];\n\t\t\t}\n\t\t\t\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册多字幕切换事件\n\t\t*/\n\t\taddSubtitles:function(){\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['subtitlesP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['subtitlesPC'])){\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['subtitle']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'],'display','block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesPB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['subtitlesPC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['subtitlesPC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['subtitlesPC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['subtitlesPC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['subtitlesPB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['subtitles']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['subtitlesP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['subtitlesP']);\n\t\t},\n\t\t/*\n\t\t\t接口函数:修改字幕，按数组编号来\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeSubtitles: function(n) {\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar vArr = this.vars['cktrack'];//字幕数组\n\t\t\tif(this.varType(vArr)!='array'){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeSubtitles(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (vArr.length > n) {\n\t\t\t\tvar arr = vArr[n];\n\t\t\t\tif (arr.length > 2) {\n\t\t\t\t\tvar title = arr[1];\n\t\t\t\t\tif (title) {\n\t\t\t\t\t\tthis.newSubtitles(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数：修改字幕大小\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeSubtitlesSize:function(n,m){\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeSubtitlesSize(n,m);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.ckStyle['cktrack']['size']=n;\n\t\t\tif(!this.isUndefined(m)){\n\t\t\t\tthis.ckStyle['cktrack']['leading']=m;\n\t\t\t}\n\t\t\tthis.trackShowAgain();\n\t\t},\n\t\t/*\n\t\t\t当切换字幕时的动作 \n\t\t*/\n\t\tnewSubtitles:function(title){\n\t\t\tvar vArr = this.vars['cktrack'];//字幕数组\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[1] == title) {\n\t\t\t\t\tthis.subtitlesTemp=i;\n\t\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = v[1];\n\t\t\t\t\t\tthis.subtitleSwitch();\n\t\t\t\t\t\tthis.loadTrack(i);\n\t\t\t\t\t}\n\t\t\t\t\tthis.sendJS('subtitles', v);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建清晰度按钮及切换事件(Click事件)\n\t\t*/\n\t\tdefinition: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['definition']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['definition'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar thisTemp = this;\n\t\t\tvar vArr = this.VA;\n\t\t\tvar dArr = [];\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的清晰度\n\t\t\tvar i = 0,nowI=0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar d = vArr[i][2];\n\t\t\t\tif (dArr.indexOf(d) == -1) {\n\t\t\t\t\tdArr.push(d);\n\t\t\t\t}\n\t\t\t\tif (this.V) {\n\t\t\t\t\tif (vArr[i][0] == this.V.currentSrc) {\n\t\t\t\t\t\tnowD = d;\n\t\t\t\t\t\tnowI = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!nowD) {\n\t\t\t\tnowD = dArr[0];\n\t\t\t}\n\t\t\tthis.removeChildAll(this.CB['definitionP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['definitionPB']=document.createElement('div'),this.CB['definitionPC']=document.createElement('div');\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionPB']);\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionPC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['definitionPC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['definitionP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['definitionPB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['definitionP'],dArr[i],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['definitionP'],dArr[i],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['definitionPC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['definitionPC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar defClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newDefinition(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', defClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['definitionTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['definitionTriangle'],cssTemp);\n\t\t\t\tthis.CB['defaultButtonText'].innerHTML = nowD;\n\t\t\t\tthis.css(this.CB['definition'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.CB['defaultButtonText'].innerHTML = this.ckLanguage['definition'];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除节点内容\n\t\t*/\n\t\tremoveChildAll:function(ele){\n\t\t\tfor(var i=ele.childNodes.length-1;i>=0;i--){\n\t\t\t\tvar childNode=ele.childNodes[i];\n\t\t\t\tele.removeChild(childNode);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册清晰度相关事件\n\t\t*/\n\t\taddDefListener: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['definitionP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['definitionPC'])){\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'],'display','block');\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['definition']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionPB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['definitionPC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['definitionPC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['definitionPC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['definitionPC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['definitionPB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['definition']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['definitionP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['definitionP']);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeDefinition: function(n) {\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeDefinition(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.VA.length > n) {\n\t\t\t\tvar arr = this.VA[n];\n\t\t\t\tif (arr.length > 3) {\n\t\t\t\t\tvar title = arr[2];\n\t\t\t\t\tif (title) {\n\t\t\t\t\t\tthis.newDefinition(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t切换清晰度后发生的动作\n\t\t*/\n\t\tnewDefinition: function(title) {\n\t\t\tvar vArr = this.VA;\n\t\t\tvar nVArr = [];\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[2] == title) {\n\t\t\t\t\tnVArr.push(v);\n\t\t\t\t\tthis.sendJS('definitionChange', i + '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (nVArr.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V != null && this.needSeek == 0) {\n\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t}\n\t\t\tif (this.getFileExt(nVArr[0][0]) != '.m3u8') {\n\t\t\t\tthis.isM3u8 = false;\n\t\t\t}\n\t\t\tif (!this.isM3u8) {\n\t\t\t\tif (nVArr.length == 1) {\n\t\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\t\tthis.V.src = nVArr[0][0];\n\t\t\t\t\tthis.V.currentSrc = nVArr[0][0];\n\t\t\t\t} else {\n\t\t\t\t\tvar source = '';\n\t\t\t\t\tnVArr = this.arrSort(nVArr);\n\t\t\t\t\tfor (i = 0; i < nVArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = nVArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + va[0] + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\tthis.V.innerHTML = source;\n\t\t\t\t\tthis.V.currentSrc = nVArr[0][0];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.embedHls(vArr[0][0], this.vars['autoplay']);\n\t\t\t}\n\t\t\tthis.V.autoplay = 'autoplay';\n\t\t\tthis.V.load();\n\t\t\tif (this.playbackRateTemp!=1) {\n\t\t\t\tthis.V.playbackRate = this.playbackRateTemp; //定义倍速\n\t\t\t}\n\t\t\tthis.timerErrorFun();\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t播放hls\n\t\t*/\n\t\tembedHls: function(url, autoplay) {\n\t\t\tvar thisTemp = this;\n\t\t\tthisTemp.hlsAutoPlay=autoplay;\n\t\t\tif (Hls.isSupported()) {\n\t\t\t\tvar hls = new Hls();\n\t\t\t\thls.loadSource(url);\n\t\t\t\thls.attachMedia(this.V);\n\t\t\t\thls.on(Hls.Events.MANIFEST_PARSED,\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.playerLoad();\n\t\t\t\t\tif (autoplay) {\n\t\t\t\t\t\tthisTemp.videoPlay();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建提示点\n\t\t*/\n\t\tprompt: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar prompt = this.vars['promptSpot'];\n\t\t\tif (prompt == null || this.promptArr.length > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar showPrompt = function(event) {\n\t\t\t\tif (thisTemp.promptElement == null) {\n\t\t\t\t\tvar random2 = 'prompte-' + thisTemp.randomString(5);\n\t\t\t\t\tvar ele2 = document.createElement('div');\n\t\t\t\t\tele2.className = random2;\n\t\t\t\t\tthisTemp.PD.appendChild(ele2);\n\t\t\t\t\tthisTemp.promptElement = thisTemp.getByElement(random2);\n\t\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\t\toverflowX: 'hidden',\n\t\t\t\t\t\tlineHeight: thisTemp.ckStyle['previewPrompt']['lineHeight']+'px',\n\t\t\t\t\t\tfontFamily: thisTemp.ckStyle['previewPrompt']['font'],\n\t\t\t\t\t\tfontSize: thisTemp.ckStyle['previewPrompt']['size']+'px',\n\t\t\t\t\t\tcolor: thisTemp.ckStyle['previewPrompt']['color'].replace('0x','#'),\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\tzIndex: '90'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tvar pcon = thisTemp.getPromptTest();\n\t\t\t\tvar pW = pcon['pW'],\n\t\t\t\tpT = pcon['pT'],\n\t\t\t\tpL = parseInt(thisTemp.css(this, 'left')) - parseInt(pW * 0.5);\n\t\t\t\tif (pcon['pL'] > 10) {\n\t\t\t\t\tpL = pcon['pL'];\n\t\t\t\t}\n\t\t\t\tif (pL < 0) {\n\t\t\t\t\tpL = 0;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\twidth: pW + 'px',\n\t\t\t\t\tleft: ( - pW - 10) + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptElement.innerHTML = thisTemp.getDataset(this, 'words');\n\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\tleft: pL + 'px',\n\t\t\t\t\ttop: (pT - thisTemp.promptElement.offsetHeight-thisTemp.ckStyle['previewPrompt']['marginBottom']) + 'px'\n\t\t\t\t});\n\t\t\t};\n\t\t\tvar hidePrompt = function(event) {\n\t\t\t\tif (thisTemp.promptElement != null) {\n\t\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\t\tdisplay: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < prompt.length; i++) {\n\t\t\t\tvar pr = prompt[i];\n\t\t\t\tvar words = pr['words'];\n\t\t\t\tvar time = pr['time'];\n\t\t\t\tvar random = 'prompttitle-' + this.randomString(5);\n\t\t\t\tvar ele = document.createElement('div');\n\t\t\t\tele.className = random;\n\t\t\t\tthis.CB['timeBoBg'].appendChild(ele);\n\t\t\t\tvar div = this.getByElement(random);\n\t\t\t\ttry{\n\t\t\t\t\tdiv.setAttribute('data-time', time);\n\t\t\t\t\tif(this.ckConfig['config']['promptSpotTime']){\n\t\t\t\t\t\twords=this.formatTime(time,0,this.ckLanguage['timeSliderOver'])+' '+words;\n\t\t\t\t\t}\n\t\t\t\t\tdiv.setAttribute('data-words', words);\n\t\t\t\t}\n\t\t\t\tcatch(event){}\n\t\t\t\tvar pCss=this.getEleCss(this.ckStyle['promptSpotH5'],{marginY:-10000,zIndex: 1});\n\t\t\t\ttry{\n\t\t\t\t\tthis.css(div, pCss);\n\t\t\t\t}\n\t\t\t\tcatch(event){}\n\t\t\t\tthis.addListenerInside('mouseover', showPrompt, div);\n\t\t\t\tthis.addListenerInside('mouseout', hidePrompt, div);\n\t\t\t\tthis.promptArr.push(div);\n\t\t\t}\n\t\t\tthis.changePrompt();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t计算提示文本的位置\n\t\t*/\n\t\tgetPromptTest: function() {\n\t\t\tvar pW = this.previewWidth,\n\t\t\tpT = this.getCoor(this.CB['timeProgressBg'])['y'],\n\t\t\tpL = 0;\n\t\t\tif (this.previewTop != null) {\n\t\t\t\tpT = parseInt(this.css(this.previewTop, 'top'));\n\t\t\t\tpL = parseInt(this.css(this.previewTop, 'left'));\n\t\t\t} else {\n\t\t\t\tpT -= 35;\n\t\t\t}\n\t\t\tpL += 2;\n\t\t\tif (pL < 0) {\n\t\t\t\tpL = 0;\n\t\t\t}\n\t\t\tif (pL > this.PD.offsetWidth - pW) {\n\t\t\t\tpL = this.PD.offsetWidth - pW;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tpW: pW,\n\t\t\t\tpT: pT,\n\t\t\t\tpL: pL\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除提示点\n\t\t*/\n\t\tdeletePrompt: function() {\n\t\t\tvar arr = this.promptArr;\n\t\t\tif (arr.length > 0) {\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i]) {\n\t\t\t\t\t\tthis.deleteChild(arr[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.promptArr = [];\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t计算提示点坐标\n\t\t*/\n\t\tchangePrompt: function() {\n\t\t\tif (this.promptArr.length == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = this.promptArr;\n\t\t\tvar duration = this.getMetaDate()['duration'];\n\t\t\tvar bw = this.CB['timeBoBg'].offsetWidth;\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar time = parseInt(this.getDataset(arr[i], 'time'));\n\t\t\t\tvar left = parseInt(time * bw / duration) - parseInt(arr[i].offsetWidth * 0.5);\n\t\t\t\tif (left < 0) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\t\t\t\tif (left > bw - parseInt(arr[i].offsetWidth * 0.5)) {\n\t\t\t\t\tleft = bw - parseInt(arr[i].offsetWidth * 0.5);\n\t\t\t\t}\n\t\t\t\tthis.css(arr[i], {\n\t\t\t\t\tleft: left + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建预览图片效果\n\t\t*/\n\t\tpreview: function(obj) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar preview = {\n\t\t\t\tfile: null,\n\t\t\t\tscale: 0\n\t\t\t};\n\t\t\tpreview = this.standardization(preview, this.vars['preview']);\n\t\t\tif (preview['file'] == null || preview['scale'] <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar srcArr = preview['file'];\n\t\t\tif (this.previewStart == 0) { //如果还没有构建，则先进行构建\n\t\t\t\tthis.previewStart = 1;\n\t\t\t\tif (srcArr.length > 0) {\n\t\t\t\t\tvar i = 0;\n\t\t\t\t\tvar imgW = 0,\n\t\t\t\t\timgH = 0;\n\t\t\t\t\tvar random = 'preview-'+thisTemp.randomString(10);\n\t\t\t\t\tvar loadNum = 0;\n\t\t\t\t\tvar loadImg = function(i) {\n\t\t\t\t\t\tsrcArr[i] = thisTemp.getNewUrl(srcArr[i]);\n\t\t\t\t\t\tvar n = 0;\n\t\t\t\t\t\tvar img = new Image();\n\t\t\t\t\t\timg.src = srcArr[i];\n\t\t\t\t\t\timg.className = random + i;\n\t\t\t\t\t\timg.onload = function(event) {\n\t\t\t\t\t\t\tloadNum++;\n\t\t\t\t\t\t\tif (thisTemp.previewDiv == null) { //如果没有建立DIV，则建\n\t\t\t\t\t\t\t\timgW = img.width;\n\t\t\t\t\t\t\t\timgH = img.height;\n\t\t\t\t\t\t\t\tthisTemp.previewWidth = parseInt(imgW * 0.1);\n\t\t\t\t\t\t\t\tvar ele = document.createElement('div');\n\t\t\t\t\t\t\t\tele.className = random;\n\t\t\t\t\t\t\t\tthisTemp.PD.appendChild(ele);\n\t\t\t\t\t\t\t\tthisTemp.previewDiv = thisTemp.getByElement(random);\n\t\t\t\t\t\t\t\tvar eleTop = 0;\n\t\t\t\t\t\t\t\teleTop=thisTemp.PD.offsetHeight -thisTemp.ckStyle['preview']['bottom'];\n\t\t\t\t\t\t\t\tthisTemp.css(thisTemp.previewDiv, {\n\t\t\t\t\t\t\t\t\twidth: srcArr.length * imgW * 10 + 'px',\n\t\t\t\t\t\t\t\t\theight: parseInt(imgH * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\tbackgroundColor: '#000000',\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\t\t\ttop: eleTop + 'px',\n\t\t\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t\t\tzIndex: '80'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tele.setAttribute('data-x', '0');\n\t\t\t\t\t\t\t\tele.setAttribute('data-y', eleTop);\n\t\t\t\t\t\t\t\tvar ele2 = document.createElement('div');\n\t\t\t\t\t\t\t\tele2.className = random + 'd2';\n\t\t\t\t\t\t\t\tthisTemp.PD.appendChild(ele2);\n\t\t\t\t\t\t\t\tthisTemp.previewTop = thisTemp.getByElement(ele2.className);\n\t\t\t\t\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\t\t\t\t\twidth: parseInt(imgW * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\theight: parseInt(imgH * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\tborder: thisTemp.ckStyle['preview']['border']+'px solid ' + thisTemp.ckStyle['preview']['borderColor'].replace('0x','#'),\n\t\t\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\t\t\ttop: eleTop + 'px',\n\t\t\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t\t\tzIndex: '81'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tvar html = '';\n\t\t\t\t\t\t\t\tfor (n = 0; n < srcArr.length; n++) {\n\t\t\t\t\t\t\t\t\thtml += thisTemp.newCanvas(random + n, imgW * 10, parseInt(imgH * 0.1))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisTemp.previewDiv.innerHTML = html;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.previewDiv.appendChild(img);\n\t\t\t\t\t\t\tvar cimg = thisTemp.getByElement(img.className);\n\t\t\t\t\t\t\tvar canvas = thisTemp.getByElement(img.className + '-canvas');\n\t\t\t\t\t\t\tvar context = canvas.getContext('2d');\n\t\t\t\t\t\t\tvar sx = 0,\n\t\t\t\t\t\t\tsy = 0,\n\t\t\t\t\t\t\tx = 0,\n\t\t\t\t\t\t\th = parseInt(imgH * 0.1);\n\t\t\t\t\t\t\tfor (n = 0; n < 100; n++) {\n\t\t\t\t\t\t\t\tx = parseInt(n * imgW * 0.1);\n\t\t\t\t\t\t\t\tcontext.drawImage(cimg, sx, sy, parseInt(imgW * 0.1), h, x, 0, parseInt(imgW * 0.1), h);\n\t\t\t\t\t\t\t\tsx += parseInt(imgW * 0.1);\n\t\t\t\t\t\t\t\tif (sx >= imgW) {\n\t\t\t\t\t\t\t\t\tsx = 0;\n\t\t\t\t\t\t\t\t\tsy += h;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisTemp.css(cimg, 'display', 'none');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (loadNum == srcArr.length) {\n\t\t\t\t\t\t\t\tthisTemp.previewStart = 2;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t\t\tloadImg(i);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tloadImg(i);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.previewStart == 2) {\n\t\t\t\tvar isTween = true;\n\t\t\t\tvar nowNum = parseInt(obj['time'] / this.vars['preview']['scale']);\n\t\t\t\tvar numTotal = parseInt(thisTemp.getMetaDate()['duration'] / this.vars['preview']['scale']);\n\t\t\t\tif (thisTemp.css(thisTemp.previewDiv, 'display') == 'none') {\n\t\t\t\t\tisTween = false;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'display', 'block');\n\t\t\t\tvar imgWidth = thisTemp.previewDiv.offsetWidth * 0.01 / srcArr.length;\n\t\t\t\tvar left = (imgWidth * nowNum) - obj['x'] + parseInt(imgWidth * 0.5),\n\t\t\t\ttop=thisTemp.PD.offsetHeight- thisTemp.previewDiv.offsetHeight -thisTemp.ckStyle['preview']['bottom'];\n\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'top', top + 2 + 'px');\n\t\t\t\tvar topLeft = obj['x'] - parseInt(imgWidth * 0.5);\n\t\t\t\tvar timepieces = 0;\n\t\t\t\tif (topLeft < 0) {\n\t\t\t\t\ttopLeft = 0;\n\t\t\t\t\ttimepieces = obj['x'] - topLeft - imgWidth * 0.5;\n\t\t\t\t}\n\t\t\t\tif (topLeft > thisTemp.PD.offsetWidth - imgWidth) {\n\t\t\t\t\ttopLeft = thisTemp.PD.offsetWidth - imgWidth;\n\t\t\t\t\ttimepieces = obj['x'] - topLeft - imgWidth * 0.5;\n\t\t\t\t}\n\t\t\t\tif (left < 0) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\t\t\t\tif (left > numTotal * imgWidth - thisTemp.PD.offsetWidth) {\n\t\t\t\t\tleft = numTotal * imgWidth - thisTemp.PD.offsetWidth;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\tleft: topLeft + 'px',\n\t\t\t\t\ttop: top + 2 + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t\tif (thisTemp.previewTop.offsetHeight > thisTemp.previewDiv.offsetHeight) {\n\t\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\t\theight: thisTemp.previewDiv.offsetHeight - (thisTemp.previewTop.offsetHeight - thisTemp.previewDiv.offsetHeight) + 'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (this.previewTween != null) {\n\t\t\t\t\tthis.animatePause(this.previewTween);\n\t\t\t\t\tthis.previewTween = null\n\t\t\t\t}\n\t\t\t\tvar nowLeft = parseInt(thisTemp.css(thisTemp.previewDiv, 'left'));\n\t\t\t\tvar leftC = nowLeft + left;\n\t\t\t\tif (nowLeft == -(left + timepieces)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (isTween) {\n\t\t\t\t\tvar obj = {\n\t\t\t\t\t\telement: thisTemp.previewDiv,\n\t\t\t\t\t\tstart: null,\n\t\t\t\t\t\tend: -(left + timepieces),\n\t\t\t\t\t\tspeed: 0.3\n\t\t\t\t\t};\n\t\t\t\t\tthis.previewTween = this.animate(obj);\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'left', -(left + timepieces) + 'px')\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除预览图节点\n\t\t*/\n\t\tdeletePreview: function() {\n\t\t\tif (this.previewDiv != null) {\n\t\t\t\tthis.deleteChild(this.previewDiv);\n\t\t\t\tthis.previewDiv = null;\n\t\t\t\tthis.previewStart = 0;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t修改视频地址，属性\n\t\t*/\n\t\tchangeVideo: function() {\n\t\t\tif (!this.html5Video) {\n\t\t\t\tthis.getVarsObject();\n\t\t\t\tthis.V.newVideo(this.vars);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar vArr = this.VA;\n\t\t\tvar v = this.vars;\n\t\t\tvar i = 0;\n\t\t\tif (vArr.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V != null && this.needSeek == 0) {\n\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t}\n\t\t\tif (v['poster']) {\n\t\t\t\tthis.V.poster = v['poster'];\n\t\t\t} else {\n\t\t\t\tthis.V.removeAttribute('poster');\n\t\t\t}\n\t\t\tif (v['loop']) {\n\t\t\t\tthis.V.loop = 'loop';\n\t\t\t} else {\n\t\t\t\tthis.V.removeAttribute('loop');\n\t\t\t}\n\t\t\tif (v['seek'] > 0) {\n\t\t\t\tthis.needSeek = v['seek'];\n\t\t\t} else {\n\t\t\t\tthis.needSeek = 0;\n\t\t\t}\n\t\t\tif (this.getFileExt(vArr[0][0]) != '.m3u8') {\n\t\t\t\tthis.isM3u8 = false;\n\t\t\t}\n\t\t\tif (!this.isM3u8) {\n\t\t\t\tif (vArr.length == 1) {\n\t\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\t\tthis.V.src = vArr[0][0];\n\t\t\t\t} else {\n\t\t\t\t\tvar source = '';\n\t\t\t\t\tvArr = this.arrSort(vArr);\n\t\t\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = vArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + va[0] + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\tthis.V.innerHTML = source;\n\t\t\t\t}\n\t\t\t\t//分析视频地址结束\n\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\tthis.V.autoplay = 'autoplay';\n\t\t\t\t} else {\n\t\t\t\t\tthis.V.removeAttribute('autoplay');\n\t\t\t\t}\n\t\t\t\tthis.V.load();\n\t\t\t} else {\n\t\t\t\tthis.embedHls(vArr[0][0], v['autoplay']);\n\t\t\t}\n\t\t\tif (!this.isUndefined(v['volume'])) {\n\t\t\t\tthis.changeVolume(v['volume']);\n\t\t\t}\n\t\t\tthis.resetPlayer(); //重置界面元素\n\t\t\tthis.timerErrorFun();\n\t\t\t//如果存在字幕则加载\n\t\t\tif (this.vars['cktrack']) {\n\t\t\t\tthis.loadTrack();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t调整中间暂停按钮,缓冲loading，错误提示文本框的位置\n\t\t*/\n\t\telementCoordinate: function() {\n\t\t\tthis.pdCoor = this.getXY(this.PD);\n\t\t\tvar cssTemp=null;\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['centerPlay'],{cursor:'pointer'});\n\t\t\t\tthis.css(this.CB['pauseCenter'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['loading']);\n\t\t\t\tthis.css(this.CB['loading'],cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['error']);\n\t\t\t\tthis.css(this.CB['errorText'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['logo']);\n\t\t\t\tthis.css(this.CB['logo'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\tthis.checkBarWidth();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t控制栏内各按钮的位置\n\t\t*/\n\t\tcarbarButton:function(){\n\t\t\tvar styleC=this.ckStyle['controlBar'];\n\t\t\tvar styleCB=styleC['button'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\tvar cssSup2={overflow: 'hidden',cursor: 'default',zIndex: 1};\n\t\t\tvar cssSup4={overflow: 'hidden',cursor: 'pointer',display: 'none',zIndex: 995};\n\t\t\t//播放/暂停按钮\n\t\t\tcssTemp=this.getEleCss(styleCB['play'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['play'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['pause'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['pause'],cssTemp);\n\t\t\t//设置静音/取消静音的按钮样式\n\t\t\tcssTemp=this.getEleCss(styleCB['mute'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['mute'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['escMute'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['escMute'],cssTemp);\n\t\t\t//设置全屏/退出全屏按钮样式\n\t\t\tcssTemp=this.getEleCss(styleCB['full'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['full'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['escFull'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['escFull'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleC['timeText']['vod'],cssSup2,this.CB['controlBarBg']);\n \t\t\tthis.css(this.CB['timeText'], cssTemp);\n \t\t\t//音量调节框\n \t\t\tvar volumeSchedule=this.newObj(styleC['volumeSchedule']);\n \t\t\tvolumeSchedule['backgroundImg']='';\n\t\t\tcssTemp=this.getEleCss(volumeSchedule,cssSup2,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['volume'],cssTemp);\n\t\t\tcssTemp= {\n\t\t\t\twidth: cssTemp['width'],\n\t\t\t\theight: styleC['volumeSchedule']['backgroundHeight']+'px',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tbackgroundRepeat:'no-repeat',\n\t\t\t\tbackgroundPosition:'left center'\n\t\t\t};\n\t\t\tif(this.ckConfig['config']['buttonMode']['volumeSchedule']){\n\t\t\t\tcssTemp['cursor']='pointer';\n\t\t\t}\n\t\t\tthis.css(this.CB['volumeBg'],cssTemp);\n\t\t\tthis.css(this.CB['volumeBg'], {\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t\tcssTemp['width']=(this.CB['volumeBO'].offsetWidth*0.5+parseInt(this.css(this.CB['volumeBO'],'left')))+'px';\n\t\t\tthis.css(this.CB['volumeUp'],cssTemp);\n\t\t\tthis.css(this.CB['volumeBg'], 'backgroundImage', 'url('+styleC['volumeSchedule']['backgroundImg']+')');\n\t\t\tthis.css(this.CB['volumeUp'], 'backgroundImage', 'url('+styleC['volumeSchedule']['maskImg']+')');\n\t\t\t//音量调节按钮\n\t\t\tcssTemp=this.getEleCss(styleC['volumeSchedule']['button'],{overflow: 'hidden',cursor: 'pointer',backgroundRepeat:'no-repeat',backgroundPosition:'left center'});\n\t\t\tthis.css(this.CB['volumeBO'],cssTemp);\n\t\t\t//倍速容器\n\t\t\tif(this.ckConfig['config']['playbackRate']){\n\t\t\t\tif(!this.CB['playbackrateButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['playbackrate'],styleC['playbackrate']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['playbackrate']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['playbackrate'],'playbackrateButtonText');\n\t\t\t\t}\n\t\t\t\tcssTemp=this.getEleCss(styleC['playbackrate']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['playbackrate'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['playbackrateP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['playbackrate']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['playbackrateP'], cssTemp);\n\t\t\t}\n\t\t\t//初始化清晰度按钮\n\t\t\tif(this.ckConfig['config']['definition']){\n\t\t\t\tif(!this.CB['defaultButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['definition'],styleC['definition']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['definition']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['definition'],'defaultButtonText');\n\t\t\t\t}\n\t\t\t\tcssTemp=this.getEleCss(styleC['definition']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['definition'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['definitionP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['definition']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['definitionP'], cssTemp);\n\t\t\t}\n\t\t\t//初始化字幕切换按钮\n\t\t\tif(this.ckConfig['config']['subtitle']){\n\t\t\t\tif(!this.CB['subtitleButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['subtitles'],styleC['subtitle']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['subtitle']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['subtitle'],'subtitleButtonText');\n\t\t\t\t}\n\t\t\t\t//字幕按钮列表容器样式\n\t\t\t\tcssTemp=this.getEleCss(styleC['subtitle']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['subtitles'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['subtitlesP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['subtitle']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['subtitlesP'], cssTemp);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t构造一个文字按钮\n\t\t \tele:当前按钮\n\t\t \tcss:样式\n\t\t \tcssSup:补充样式\n\t\t \tupEle：上一级容器对象\n\t\t \ttext:显示的文本\n\t\t \tnewName:文本框名称\n\t\t*/\n\t\ttextButton:function(ele,css,cssSup,upEle,text,newName){\n\t\t\tvar thisTemp=this;\n\t\t\tvar bgCss={\n\t\t\t\twidth:css['width'],\n\t\t\t\theight:css['height']\n\t\t\t};\n\t\t\tif(cssSup){\n\t\t\t\tbgCss={\n\t\t\t\t\twidth:css['width'],\n\t\t\t\t\theight:css['height'],\n\t\t\t\t\talign:cssSup['align'],\n\t\t\t\t\tvAlign:cssSup['vAlign'],\n\t\t\t\t\tmarginX: cssSup['marginX'],\n\t\t\t\t\tmarginY: cssSup['marginY'],\n\t\t\t\t\toffsetX: cssSup['offsetX'],\n\t\t\t\t\toffsetY: cssSup['offsetY'],\n\t\t\t\t\tzIndex:2\n\t\t\t\t};\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(bgCss,null,upEle);\n\t\t\tthisTemp.css(ele, cssTemp);\n\t\t\tvar outCss=this.newObj(css);\n\t\t\tvar overCss=this.newObj(css);\n\t\t\tvar textOutCss=this.newObj(css);\n\t\t\tvar textOverCss=this.newObj(css);\n\t\t\tvar cssTemp=null;\n\t\t\toutCss['alpha']=css['backgroundAlpha'];\n\t\t\toverCss['backgroundColor']=css['overBackgroundColor'];\n\t\t\toverCss['alpha']=css['backgroundAlpha'];\n\t\t\ttextOutCss['color']=css['textColor'];\n\t\t\ttextOverCss['color']=css['overTextColor'];\n\t\t\ttextOutCss['textAlign']=css['align'];\n\t\t\ttextOverCss['textAlign']=css['align'];\n\t\t\t//修正文字\n\t\t\ttextOutCss['backgroundColor']=textOverCss['backgroundColor']='';\n\t\t\tvar bgEle=document.createElement('div');//按钮背景层\n\t\t\tthis.removeChildAll(ele);\n\t\t\tele.appendChild(bgEle);\n\t\t\tif(newName){\n\t\t\t\tthis.CB[newName]=document.createElement('div');//文字层\n\t\t\t\tele.appendChild(this.CB[newName]);\n\t\t\t\tthis.CB[newName].innerHTML=text;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar newEle=document.createElement('div');//文字层\n\t\t\t\tele.appendChild(newEle);\n\t\t\t\tnewEle.innerHTML=text;\n\t\t\t}\n\t\t\tvar outFun=function(){\n\t\t\t\tcssTemp=thisTemp.getEleCss(outCss,{cursor: 'pointer',zIndex:1},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tthisTemp.css(bgEle, cssTemp);\n\t\t\t\tcssTemp=thisTemp.getEleCss(textOutCss,{cursor: 'pointer',zIndex:2},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tif(newName){\n\t\t\t\t\tthisTemp.css(thisTemp.CB[newName], cssTemp,bgEle);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(newEle, cssTemp,bgEle);\n\t\t\t\t}\n\t\t\t\tthisTemp.buttonHide=true;//显示的列表框需要隐藏\n\t\t\t\tif(thisTemp.timeButtonOver){\n\t\t\t\t\twindow.clearTimeout(thisTemp.timeButtonOver);\n\t\t\t\t\tthisTemp.timeButtonOver=null;\n\t\t\t\t}\n\t\t\t\tthisTemp.timeButtonOver=window.setTimeout(function(){thisTemp.buttonListHide()},1000);\n\t\t\t};\n\t\t\tvar overFun=function(){\n\t\t\t\tcssTemp=thisTemp.getEleCss(overCss,{zIndex:1},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tthisTemp.css(bgEle, cssTemp);\n\t\t\t\tcssTemp=thisTemp.getEleCss(textOverCss,{zIndex:2},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tif(newName){\n\t\t\t\t\tthisTemp.css(thisTemp.CB[newName], cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(newEle, cssTemp);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t};\n\t\t\toutFun();\n\t\t\tthis.addListenerInside('mouseout', outFun, ele);\n\t\t\tthis.addListenerInside('mouseover', overFun, ele);\n\t\t},\n\t\t/*\n\t\t\t隐藏所有的列表框 \n\t\t*/\n\t\tbuttonListHide:function(){\n\t\t\tif(this.buttonHide){\n\t\t\t\tthis.css([this.CB['definitionP'],this.CB['subtitlesP'],this.CB['playbackrateP']],'display','none');\n\t\t\t}\n\t\t\tif(this.timeButtonOver){\n\t\t\t\twindow.clearTimeout(this.timeButtonOver);\n\t\t\t\tthis.timeButtonOver=null;\n\t\t\t}\n\t\t\tthis.buttonHide=false;\n\t\t},\n\t\t/*\n\t\t \t计算视频的宽高\n\t\t*/\n\t\tvideoCss:function(){\n\t\t\tvar cssTemp={};\n\t\t\t\n\t\t\tif(this.css(this.CB['controlBar'],'display')=='none'){\n\t\t\t\tcssTemp=this.ckStyle['video']['controlBarHideReserve'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tcssTemp=this.ckStyle['video']['reserve'];\n\t\t\t}\n\t\t\tvar spacingBottom=cssTemp['spacingBottom'];\n\t\t\tif(this.V.controls && this.isMobile()){\n\t\t\t\tspacingBottom-=40;\n\t\t\t}\n\t\t\tvar pW=this.PD.offsetWidth,pH=this.PD.offsetHeight;\n\t\t\tvar vW=pW-cssTemp['spacingLeft']-cssTemp['spacingRight'];\n\t\t\tvar vH=pH-cssTemp['spacingTop']-spacingBottom;\n\t\t\tif(!this.MD){\n\t\t\t\tthis.css(this.V,{\n\t\t\t\t\twidth:vW+'px',\n\t\t\t\t\theight:vH+'px',\n\t\t\t\t\tmarginLeft:cssTemp['spacingLeft']+'px',\n\t\t\t\t\tmarginTop:cssTemp['spacingTop']+'px'\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.css([this.MD,this.MDC],{\n\t\t\t\t\twidth:vW+'px',\n\t\t\t\t\theight:vH+'px',\n\t\t\t\t\tmarginLeft:cssTemp['spacingLeft']+'px',\n\t\t\t\t\tmarginTop:cssTemp['spacingTop']+'px'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t播放器界面自定义元素\n\t\t*/\n\t\tplayerCustom:function(){\n\t\t\tvar custom=this.ckStyle['custom'];\n\t\t\tvar button=custom['button'];\n\t\t\tvar images=custom['images'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup=null;\n\t\t\tvar k='',tempID='';\n\t\t\tvar b={};\n\t\t\tvar tempDiv;\n\t\t\tvar i=0;\n\t\t\tfor(k in button){\n\t\t\t\tb=button[k];\n\t\t\t\tcssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'player-button',name:k});\n\t\t\t\tthis.PD.appendChild(tempDiv);\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\ttempDiv.dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tthis.buttonEventFun(tempDiv,b);\n\t\t\t}\n\t\t\tfor(k in images){\n\t\t\t\tb=images[k];\n\t\t\t\tcssSup={overflow: 'hidden',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'player-images',name:k});\n\t\t\t\tthis.PD.appendChild(tempDiv);\n\t\t\t\tvar img=new Image();\n\t\t\t\timg.src=images[k]['img'];\n\t\t\t\ttempDiv.appendChild(img);\n\t\t\t\ti++\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素\n\t\t*/\n\t\tcarbarCustom:function(){\n\t\t\tvar custom=this.ckStyle['controlBar']['custom'];\n\t\t\tvar button=custom['button'];\n\t\t\tvar images=custom['images'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup=null;\n\t\t\tvar k='',tempID='';\n\t\t\tvar b={};\n\t\t\tvar tempDiv;\n\t\t\tvar i=0;\n\t\t\tfor(k in button){\n\t\t\t\tb=button[k];\n\t\t\t\tcssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup,this.CB['controlBarBg']);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'controlBar-button',name:k});\n\t\t\t\tthis.CB['controlBar'].appendChild(tempDiv);\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\ttempDiv.dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tthis.buttonEventFun(tempDiv,b);\n\t\t\t}\n\t\t\tfor(k in images){\n\t\t\t\tb=images[k];\n\t\t\t\tcssSup={overflow: 'hidden',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup,this.CB['controlBarBg']);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'controlBar-images',name:k});\n\t\t\t\tthis.CB['controlBar'].appendChild(tempDiv);\n\t\t\t\tvar img=new Image();\n\t\t\t\timg.src=images[k]['img'];\n\t\t\t\ttempDiv.appendChild(img);\n\t\t\t\ti++;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素的位置\n\t\t*/\n\t\tcustomCoor:function(){\n\t\t\tvar cssTemp=null;\n\t\t\tif(this.customeElement.length>0){\n\t\t\t\tfor(var i=0;i<this.customeElement.length;i++){\n\t\t\t\t\tif(this.customeElement[i]['type']=='controlBar'){\n\t\t\t\t\t\tcssTemp=this.getEleCss(this.customeElement[i]['css'],this.customeElement[i]['cssSup'],this.CB['controlBarBg']);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tcssTemp=this.getEleCss(this.customeElement[i]['css'],this.customeElement[i]['cssSup']);\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(this.customeElement[i]['ele'],cssTemp);\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素的显示和隐藏，只对播放器界面的有效，作用是当播放视频广告时隐藏，广告播放完成后显示\n\t\t*/\n\t\tcustomShow:function(show){\n\t\t\tif(this.customeElement.length>0){\n\t\t\t\tfor(var i=0;i<this.customeElement.length;i++){\n\t\t\t\t\tif(this.customeElement[i]['type']=='player'){\n\t\t\t\t\t\tthis.css(this.customeElement[i]['ele'],'display',show?'block':'none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t},\n\t\t/*\n\t\t \t广告控制栏样式\n\t\t*/\n\t\tadvertisementStyle:function(){\n\t\t\tvar asArr=['muteButton','escMuteButton','adLinkButton','closeButton','skipAdButton','countDown','countDownText','skipDelay','skipDelayText'];\n\t\t\tvar eleArr=['adMute','adEscMute','adLink','adPauseClose','adSkipButton','adTime','adTimeText','adSkip','adSkipText'];\n\t\t\tfor(var i=0;i<eleArr.length;i++){\n\t\t\t\tvar cssUp={overflow: 'hidden',zIndex: 999};\n\t\t\t\tif(i<5){\n\t\t\t\t\tcssUp['cursor']='pointer';\n\t\t\t\t}\n\t\t\t\tvar cssTemp=this.getEleCss(this.ckStyle['advertisement'][asArr[i]],cssUp);\n\t\t\t\tthis.css(this.CB[eleArr[i]],cssTemp);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t当播放器尺寸变化时，显示和隐藏相关节点\n\t\t*/\n\t\tcheckBarWidth: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t初始化暂停或播放按钮\n\t\t*/\n\t\tinitPlayPause: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.vars['autoplay']) {\n\t\t\t\tthis.css([this.CB['play'], this.CB['pauseCenter']], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'block');\n\t\t\t\tif (this.css(this.CB['errorText'], 'display') == 'none') {\n\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'block');\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'none');\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t\t下面为监听事件\n\t\t\t内部函数\n\t\t\t监听元数据已加载\n\t\t*/\n\t\tloadedHandler: function() {\n\t\t\tthis.loaded = true;\n\t\t\tif (this.vars['loaded'] != '') {\n\t\t\t\ttry {\n\t\t\t\t\teval(this.vars['loaded'] + '(\\''+this.vars['variable']+'\\')');\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放\n\t\t*/\n\t\tplayingHandler: function() {\n\t\t\tthis.playShow(true);\n\t\t\t//如果是第一次播放\n\t\t\tif (this.isFirstTimePlay && !this.isUndefined(this.advertisements['front'])) {\n\t\t\t\tthis.isFirstTimePlay = false;\n\t\t\t\t//调用播放前置广告组件\n\t\t\t\tthis.adI = 0;\n\t\t\t\tthis.adType = 'front';\n\t\t\t\tthis.adMuteInto();\n\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\tthis.adPlayStart = true;\n\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\tthis.videoPause();\n\t\t\t\tthis.advertisementsTime();\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\t//调用播放前置广告组件结束\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//判断第一次播放结束\n\t\t\tif (this.needSeek > 0) {\n\t\t\t\tthis.videoSeek(this.needSeek);\n\t\t\t\tthis.needSeek = 0;\n\t\t\t}\n\t\t\tif (this.animatePauseArray.length > 0) {\n\t\t\t\tthis.animateResume('pause');\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video' && this.V != null && this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\tthis.sendVCanvas();\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['pause']) && !this.adPlayStart) { //如果存在暂停广告\n\t\t\t\tthis.closePauseAd();\n\t\t\t}\n\t\t},\n\t\t/*暂停时播放暂停广告*/\n\t\tadPausePlayer: function() {\n\t\t\tthis.adI = 0;\n\t\t\tthis.adType = 'pause';\n\t\t\tthis.adPauseShow = true;\n\t\t\tthis.loadAdPause();\n\t\t\tthis.sendJS('pauseAd','play');\n\t\t},\n\t\tloadAdPause: function() {\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tvar thisTemp = this;\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tif (this.isStrImage(type) && this.adPauseShow) {\n\t\t\t\tthis.css(this.CB['adElement'], 'display', 'block');\n\t\t\t\tvar imgClass = 'adimg' + this.randomString(10);\n\t\t\t\tvar imgHtml = '<img src=\"' + ad['file'] + '\" class=\"' + imgClass + '\">';\n\t\t\t\tif (ad['link']) {\n\t\t\t\t\timgHtml = '<a href=\"' + ad['link'] + '\" target=\"_blank\">' + imgHtml + '</a>';\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = imgHtml;\n\t\t\t\tthis.addListenerInside('load',\n\t\t\t\tfunction() {\n\t\t\t\t\tvar imgObj = new Image();\n\t\t\t\t\timgObj.src = this.src;\n\t\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\t\tthisTemp.css([thisTemp.getByElement(imgClass), thisTemp.CB['adElement']], {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\tborder: '0px'\n\t\t\t\t\t});\n\t\t\t\t\tif (thisTemp.ckStyle['advertisement']['closeButtonShow'] && thisTemp.adPauseShow) {\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['adPauseClose'], {\n\t\t\t\t\t\t\tdisplay: 'block'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\t\tthisTemp.adPauseCoor();\n\t\t\t\t},\n\t\t\t\tthis.getByElement(imgClass));\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adElement']);\n\t\t\t\tvar newI = this.adI;\n\t\t\t\tif (this.adI < this.advertisements['pause'].length - 1) {\n\t\t\t\t\tnewI++;\n\t\t\t\t} else {\n\t\t\t\t\tnewI = 0;\n\t\t\t\t}\n\t\t\t\tif (ad['time'] > 0) {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tif (thisTemp.adPauseShow) {\n\t\t\t\t\t\t\tthisTemp.adI = newI;\n\t\t\t\t\t\t\tthisTemp.loadAdPause();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tad['time'] * 1000);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*调整暂停广告的位置*/\n\t\tadPauseCoor: function() {\n\t\t\tif (this.css(this.CB['adElement'], 'display') == 'block') {\n\t\t\t\tvar w = this.CB['adElement'].offsetWidth,\n\t\t\t\th = this.CB['adElement'].offsetHeight;\n\t\t\t\tvar pw = this.PD.offsetWidth,\n\t\t\t\tph = this.PD.offsetHeight;\n\t\t\t\tthis.css(this.CB['adElement'], {\n\t\t\t\t\ttop: (ph - h) * 0.5 + 'px',\n\t\t\t\t\tleft: (pw - w) * 0.5 + 'px'\n\t\t\t\t});\n\t\t\t\tif (this.css(this.CB['adPauseClose'], 'display') == 'block') {\n\t\t\t\t\tvar rr=this.ckStyle['advertisement']['closeButton'];\n\t\t\t\t\tvar cxy =  this.getPosition(rr,this.CB['adElement']);\n\t\t\t\t\tthis.css(this.CB['adPauseClose'], {\n\t\t\t\t\t\ttop: cxy['y'] + 'px',\n\t\t\t\t\t\tleft: cxy['x'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t关闭暂停广告\n\t\t*/\n\t\tclosePauseAd: function() {\n\t\t\tthis.CB['adElement'].innerHTML = '';\n\t\t\tthis.css([this.CB['adElement'], this.CB['adPauseClose']], 'display', 'none');\n\t\t\tthis.adPauseShow = false;\n\t\t\tthis.sendJS('pauseAd','ended');\n\t\t},\n\t\t/*计算广告时间*/\n\t\tadvertisementsTime: function(nt) {\n\t\t\tif (this.isUndefined(nt)) {\n\t\t\t\tnt = 0;\n\t\t\t}\n\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\tif (nt > 0) {\n\t\t\t\tad[this.adI]['time'] = Math.ceil(nt);\n\t\t\t}\n\t\t\tthis.adTimeAllTotal = 0;\n\t\t\tfor (var i = this.adI; i < ad.length; i++) {\n\t\t\t\tif (!this.isUndefined(ad[i]['time'])) {\n\t\t\t\t\tthis.adTimeAllTotal += Math.ceil(ad[i]['time']);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.adTimeAllTotal > 0) {\n\t\t\t\tthis.CB['adTimeText'].innerHTML = this.ckLanguage['adCountdown'].replace('[$second]', this.adTimeAllTotal).replace('[$Second]', this.adTimeAllTotal > 9 ? this.adTimeAllTotal: '0' + this.adTimeAllTotal);\n\t\t\t}\n\t\t\tif (this.adPauseShow) {\n\t\t\t\tthis.closePauseAd();\n\t\t\t}\n\t\t\tthis.adOtherCloseAll();\n\t\t\tthis.adTimeTotal = -1;\n\t\t},\n\t\t/*判断是否需要显示跳过广告按钮*/\n\t\tadSkipButtonShow: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar skipConfig = this.ckStyle['advertisement'];\n\t\t\tvar delayTimeTemp = skipConfig[this.adType + 'SkipButtonDelay'];\n\t\t\tvar timeFun = function() {\n\t\t\t\tif (delayTimeTemp >= 0) {\n\t\t\t\t\tthisTemp.CB['adSkipText'].innerHTML = thisTemp.ckLanguage['skipDelay'].replace('[$second]', delayTimeTemp).replace('[$Second]', delayTimeTemp > 9 ? delayTimeTemp: '0' + delayTimeTemp);\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','none');\n\t\t\t\t\tsetTimeout(timeFun, 1000);\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','none');\n\t\t\t\t\tif(thisTemp.css(thisTemp.CB['adTime'],'display')=='block'){\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','block');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tdelayTimeTemp--;\n\t\t\t};\n\t\t\tif (skipConfig['skipButtonShow']) {\n\t\t\t\tif (skipConfig[this.adType + 'SkipButtonDelay'] > 0 && this.isUndefined(this.adSkipButtonTime)) {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']], 'display', 'block');\n\t\t\t\t\ttimeFun();\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','none');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','block');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*播放广告*/\n\t\tadvertisementsPlay: function() {\n\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText'], this.CB['adSkip'], this.CB['adSkipText'],this.CB['adSkipButton'], this.CB['adLink']], 'display', 'none');\n\t\t\tthis.adPlayerPlay = false;\n\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\tif (this.adI == 0 && (this.adType == 'front' || this.adType == 'insert' || this.adType == 'end')) {\n\t\t\t\tthis.sendJS('process', this.adType + ' ad play');\n\t\t\t\tthis.sendJS(this.adType+'Ad','play');\n\t\t\t}\n\t\t\tthis.trackHide();\n\t\t\tif (this.adI < ad.length) {\n\t\t\t\tif (!this.isUndefined(ad[this.adI]['time'])) {\n\t\t\t\t\tthis.adTimeTotal = parseInt(ad[this.adI]['time']);\n\t\t\t\t}\n\t\t\t\tthis.loadAdvertisements();\n\t\t\t} else {\n\t\t\t\tthis.adEnded();\n\t\t\t}\n\t\t},\n\t\t/*清除当前所有广告*/\n\t\teliminateAd: function() {\n\t\t\tif (this.adType) {\n\t\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\t\tthis.adI = ad.length;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t}\n\n\t\t},\n\t\t/*广告播放结束*/\n\t\tadEnded: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.adPlayStart = false;\n\t\t\tif(this.adType=='front'){\n\t\t\t\tthis.time=0;\n\t\t\t}\n\t\t\tthis.adPlayerPlay = false;\n\t\t\tif (this.adVideoPlay) {\n\t\t\t\tif (this.videoTemp['src'] != '') {\n\t\t\t\t\tthis.V.src = this.videoTemp['src'];\n\t\t\t\t} else {\n\t\t\t\t\tif (this.V.src) {\n\t\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['source'] != '') {\n\t\t\t\t\tthis.V.innerHTML = this.videoTemp['source'];\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['currentSrc'] != '') {\n\t\t\t\t\tthis.V.src = this.videoTemp['currentSrc'];\n\t\t\t\t\tthis.V.currentSrc = this.videoTemp['currentSrc'];\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['loop']) {\n\t\t\t\t\tthis.V.loop = true;\n\t\t\t\t\tthis.videoTemp['loop'] = false;\n\t\t\t\t}\n\t\t\t\tif (this.adType == 'end') {\n\t\t\t\t\tthis.endedHandler();\n\t\t\t\t} else {\n\t\t\t\t\tthis.videoPlay();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.videoPlay();\n\t\t\t}\n\t\t\tthis.changeVolume(this.vars['volume']);\n\t\t\tthis.sendJS('process', this.adType + ' ad ended');\n\t\t\tthis.sendJS(this.adType+'Ad','ended');\n\t\t\tthis.changeControlBarShow(true);\n\t\t\tthis.css(this.CB['logo'], 'display','block');\n\t\t\tthis.customShow(true);\n\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText'], this.CB['adSkip'], this.CB['adSkipText'],this.CB['adSkipButton'], this.CB['adLink'],this.CB['adMute'], this.CB['adEscMute']], 'display', 'none');\n\t\t},\n\t\t/*加载广告*/\n\t\tloadAdvertisements: function() {\n\t\t\t//this.videoTemp\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tvar thisTemp = this;\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tthis.changeControlBarShow(false);\n\t\t\tthis.adPlayerPlay = true;\n\t\t\tthis.css(this.CB['logo'], 'display','none');\n\t\t\tthis.customShow(false);\n\t\t\tif (this.isStrImage(type)) {\n\t\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText']], 'display', 'block');\n\t\t\t\tthis.css([this.CB['adMute'], this.CB['adEscMute']], 'display', 'none');\n\t\t\t\tvar imgClass = 'adimg' + this.randomString(10);\n\t\t\t\tvar imgHtml = '<img src=\"' + ad['file'] + '\" class=\"' + imgClass + '\">';\n\t\t\t\tif (ad['link']) {\n\t\t\t\t\timgHtml = '<a href=\"' + ad['link'] + '\" target=\"_blank\">' + imgHtml + '</a>';\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = imgHtml;\n\t\t\t\tthis.addListenerInside('load',\n\t\t\t\tfunction() {\n\t\t\t\t\tvar imgObj = new Image();\n\t\t\t\t\timgObj.src = this.src;\n\t\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\t\tthisTemp.css(thisTemp.getByElement(imgClass), {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\tborder: '0px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adElement'], {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\ttop: (height - imgWH['height']) * 0.5 + 'px',\n\t\t\t\t\t\tleft: (width - imgWH['width']) * 0.5 + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.getByElement(imgClass));\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adElement']);\n\t\t\t\tif (!this.isUndefined(ad['time'])) {\n\t\t\t\t\tthis.adCountDown();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.css([this.CB['adTime'], this.CB['adTimeText']], 'display', 'block');\n\t\t\t\t//判断是否静音\n\t\t\t\tif (this.adVideoMute) {\n\t\t\t\t\tthis.css(this.CB['adEscMute'], 'display', 'block');\n\t\t\t\t\tthis.css(this.CB['adMute'], 'display', 'none');\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.CB['adEscMute'], 'display', 'none');\n\t\t\t\t\tthis.css(this.CB['adMute'], 'display', 'block');\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = '';\n\t\t\t\tif (this.videoTemp['currentSrc'] == '') {\n\t\t\t\t\tthis.videoTemp['currentSrc'] = this.getCurrentSrc();\n\t\t\t\t}\n\t\t\t\tif (this.V.loop) {\n\t\t\t\t\tthis.videoTemp['loop'] = true;\n\t\t\t\t\tthis.V.loop = false;\n\t\t\t\t}\n\t\t\t\tif (this.V != null && this.V.currentTime > 0 && this.adIsVideoTime && this.adType!='front') { //当有视频广告时而又没有记录下已播放的时间则进行记录\n\t\t\t\t\tthis.adIsVideoTime = false;\n\t\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t\t}\n\t\t\t\tthis.V.src = ad['file'];\n\t\t\t\tthis.V.currentSrc = ad['file'];\n\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\tthis.V.play();\n\t\t\t\tthis.adVideoPlay = true;\n\t\t\t\tthis.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\tif (!this.adVideoMute) {\n\t\t\t\t\tthis.escAdMute();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ad['link']) {\n\t\t\t\tthis.css(this.CB['adLink'], 'display', 'block');\n\t\t\t\tvar adLinkClick = function(event) {\n\t\t\t\t\tthisTemp.sendJS('clickEvent', 'javaScript->adLinkClick');\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', adLinkClick, this.CB['adLink']);\n\t\t\t\tthis.adLinkTemp=ad['link'];\n\t\t\t\tvar linkTemp = '<a href=\"' + ad['link'] + '\" target=\"_blank\" class=\"ckadmorelink\"><img src=\"' + this.ckStyle['png-1-1'] + '\" width=\"'+this.ckStyle['advertisement']['adLinkButton']['width']+'\" height=\"'+this.ckStyle['advertisement']['adLinkButton']['height']+'\"></a>';\n\t\t\t\tthis.CB['adLink'].innerHTML = linkTemp;\n\t\t\t\tthis.css(this.getByElement('ckadmorelink'), {\n\t\t\t\t\tcolor: '#FFFFFF',\n\t\t\t\t\ttextDecoration: 'none'\n\t\t\t\t});\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adLink']);\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['adLink'], 'display', 'none');\n\t\t\t}\n\n\t\t},\n\t\t/*普通广告倒计时*/\n\t\tadCountDown: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.adTimeTotal > 0) {\n\t\t\t\tif (!this.adIsPause) {\n\t\t\t\t\tthis.adTimeTotal--;\n\t\t\t\t\tthis.showAdTime();\n\t\t\t\t\tthis.adCountDownObj = null;\n\t\t\t\t\tthis.adCountDownObj = setTimeout(function() {\n\t\t\t\t\t\tthisTemp.adCountDown();\n\t\t\t\t\t},\n\t\t\t\t\t1000);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.adI++;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t}\n\t\t},\n\t\t/*视频广告倒计时*/\n\t\tadPlayerTimeHandler: function(time) {\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tif (this.isStrImage(type)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adTimeTotal != parseInt(time)) {\n\t\t\t\tthis.adTimeTotal = parseInt(time);\n\t\t\t\tthis.showAdTime();\n\t\t\t}\n\t\t},\n\t\t/*格式化广告倒计时显示*/\n\t\tshowAdTime: function() {\n\t\t\tthis.adTimeAllTotal--;\n\t\t\tvar n = this.adTimeAllTotal;\n\t\t\tif (n < 0) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tthis.CB['adTimeText'].innerHTML = this.ckLanguage['adCountdown'].replace('[$second]', n).replace('[$Second]', n < 10 ? '0' + n: n);\n\t\t},\n\t\t/*\n\t\t\t单独监听其它广告\n\t\t*/\n\t\tcheckAdOther: function(t) {\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar adTime = this.advertisements['othertime'];\n\t\t\tvar adPlay = this.advertisements['otherPlay'];\n\t\t\tfor (var i = 0; i < adTime.length; i++) {\n\t\t\t\tif (t >= adTime[i] && !adPlay[i]) { //如果播放时间大于广告时间而该广告还没有播放，则开始播放\n\t\t\t\t\tadPlay[i] = true;\n\t\t\t\t\tthis.newAdOther(i);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t新建其它广告 \n\t\t*/\n\t\tnewAdOther: function(i) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar ad = this.advertisements['other'][i];\n\t\t\tvar randomS = this.randomString(10); //获取一个随机字符串\n\t\t\tvar adDivID = 'adother' + randomS; //广告容器\n\t\t\timgClassName = 'adimgother' + randomS;\n\t\t\tvar adDiv = document.createElement('div');\n\t\t\tadDiv.className = adDivID;\n\t\t\tthis.PD.appendChild(adDiv);\n\t\t\tad['div'] = adDivID;\n\t\t\tad['element'] = imgClassName;\n\t\t\tvar adHtml='<img src=\"' + ad['file'] + '\" class=\"' + imgClassName + '\">';\n\t\t\tif(ad['link']){\n\t\t\t\tadHtml='<a href=\"' + ad['link'] + '\" target=\"blank\">'+adHtml+'</a>';\n\t\t\t}\n\t\t\tthis.getByElement(adDivID).innerHTML =adHtml;\n\t\t\tthis.css(adDivID, {\n\t\t\t\tposition: 'absolute',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tzIndex: '996',\n\t\t\t\ttop: '-600px',\n\t\t\t\tleft: '-600px',\n\t\t\t\tcursor: 'pointer'\n\t\t\t});\n\t\t\tif (this.ckStyle['advertisement']['closeOtherButtonShow']) {\n\t\t\t\tvar closeAdDivID = 'adotherclose-' + randomS; //广告容器\n\t\t\t\tvar closeAdDiv = document.createElement('div');\n\t\t\t\tcloseAdDiv.className = closeAdDivID;\n\t\t\t\tthis.PD.appendChild(closeAdDiv);\n\t\t\t\tad['closeDiv'] = closeAdDivID;\n\t\t\t\tad['close'] = false;\n\t\t\t\tvar closeAdDivCss=this.getEleCss(this.ckStyle['advertisement']['closeOtherButton'],{offsetX:-10000,offsetY:-10000,cursor: 'pointer',zIndex: 997});\t\t\t\t\n\t\t\t\tthis.css(closeAdDivID, closeAdDivCss);\t\t\t\n\t\t\t\tvar adOtherCloseOver = function() {\n\t\t\t\t\tthisTemp.loadImgBg(closeAdDivID,thisTemp.ckStyle['advertisement']['closeOtherButton']['mouseOver']);\n\t\t\t\t};\n\t\t\t\tvar adOtherCloseOut = function() {\n\t\t\t\t\tthisTemp.loadImgBg(closeAdDivID,thisTemp.ckStyle['advertisement']['closeOtherButton']['mouseOut']);\n\t\t\t\t};\n\t\t\t\tadOtherCloseOut();\n\t\t\t\tthis.addListenerInside('mouseover', adOtherCloseOver, this.getByElement(closeAdDivID));\n\t\t\t\tthis.addListenerInside('mouseout', adOtherCloseOut, this.getByElement(closeAdDivID));\n\t\t\t}\n\t\t\tthis.addListenerInside('load',\n\t\t\tfunction() {\n\t\t\t\tvar imgObj = new Image();\n\t\t\t\timgObj.src = this.src;\n\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\tthisTemp.css([thisTemp.getByElement(imgClassName), thisTemp.getByElement(adDivID)], {\n\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\tborder: '0px'\n\t\t\t\t});\n\t\t\t\tthisTemp.advertisements['other'][i] = ad;\n\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\tthisTemp.adOtherCoor();\n\t\t\t},\n\t\t\tthis.getByElement(imgClassName));\n\t\t\tthis.addListenerInside('click',\n\t\t\tfunction() {\n\t\t\t\tthisTemp.adOtherClose(i);\n\t\t\t},\n\t\t\tthis.getByElement(closeAdDivID));\n\t\t\tthis.addListenerInside('click',\n\t\t\tfunction() {\n\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t},\n\t\t\tthis.getByElement(imgClassName));\n\t\t\tif (ad['time'] > 0) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthisTemp.adOtherClose(i);\n\t\t\t\t},\n\t\t\t\tad['time'] * 1000);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t关闭其它广告\n\t\t*/\n\t\tadOtherClose: function(i) {\n\t\t\tvar ad = this.advertisements['other'][i];\n\t\t\tif (!this.isUndefined(ad['close'])) {\n\t\t\t\tif (!ad['close']) {\n\t\t\t\t\tad['close'] = true;\n\t\t\t\t\tthis.PD.removeChild(this.getByElement(ad['div']));\n\t\t\t\t\tthis.PD.removeChild(this.getByElement(ad['closeDiv']));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tadOtherCloseAll: function() {\n\t\t\tif (!this.isUndefined(this.advertisements['other'])) {\n\t\t\t\tvar ad = this.advertisements['other'];\n\t\t\t\tfor (var i = 0; i < ad.length; i++) {\n\t\t\t\t\tthis.adOtherClose(i);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t计算其它广告的坐标\n\t\t*/\n\t\tadOtherCoor: function() {\n\t\t\tif (!this.isUndefined(this.advertisements['other'])) {\n\t\t\t\tvar arr = this.advertisements['other'];\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tvar ad = arr[i];\n\t\t\t\t\tif (!this.isUndefined(ad['close'])) {\n\t\t\t\t\t\tif (!ad['close']) {\n\t\t\t\t\t\t\tvar rr=this.ckStyle['advertisement']['closeOtherButton'];\n\t\t\t\t\t\t\tvar coor = this.getPosition(ad);\n\t\t\t\t\t\t\tvar x = coor['x'],\n\t\t\t\t\t\t\ty = coor['y'];\n\t\t\t\t\t\t\tthis.css(this.getByElement(ad['div']), {\n\t\t\t\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\t\t\t\ttop: y + 'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tvar cxy =  this.getPosition(rr,this.getByElement(ad['div']));\n\t\t\t\t\t\t\tif (!this.isUndefined(ad['closeDiv'])) {\n\t\t\t\t\t\t\t\tthis.css(this.getByElement(ad['closeDiv']), {\n\t\t\t\t\t\t\t\t\tleft: cxy['x'] + 'px',\n\t\t\t\t\t\t\t\t\ttop: cxy['y'] + 'px'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t单独监听中间插入广告\n\t\t*/\n\t\tcheckAdInsert: function(t) {\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar adTime = this.advertisements['inserttime'];\n\t\t\tvar adPlay = this.advertisements['insertPlay'];\n\t\t\tvar duration = this.getMetaDate()['duration'];\n\t\t\tfor (var i = adTime.length - 1; i > -1; i--) {\n\t\t\t\tif (t >= adTime[i] && t < duration - 2 && t > 1 && !adPlay[i]) { //如果播放时间大于广告时间而该广告还没有播放，则开始播放\n\t\t\t\t\tthis.adI = 0;\n\t\t\t\t\tthis.adType = 'insert';\n\t\t\t\t\tthis.adMuteInto();\n\t\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\t\tthis.adPlayStart = true;\n\t\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\t\tthis.videoPause();\n\t\t\t\t\tthis.advertisementsTime();\n\t\t\t\t\tthis.advertisementsPlay();\n\t\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\t\tadPlay[i] = true;\n\t\t\t\t\tfor (var n = 0; n < i + 1; n++) {\n\t\t\t\t\t\tadPlay[n] = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*格式化中间插入广告的播放时间*/\n\t\tformatInserttime: function(duration) {\n\t\t\tif (!this.isUndefined(this.advertisements['inserttime'])) {\n\t\t\t\tvar arr = this.advertisements['inserttime'];\n\t\t\t\tvar newArr = [];\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i].toString().substr( - 1) == '%') {\n\t\t\t\t\t\tnewArr.push(parseInt(duration * parseInt(arr[i]) * 0.01));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewArr.push(parseInt(arr[i]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.advertisements['inserttime'] = newArr;\n\t\t\t}\n\t\t},\n\t\t/*获取当前的广告*/\n\t\tgetNowAdvertisements: function() {\n\t\t\tif (this.adI == -1) {\n\t\t\t\treturn {\n\t\t\t\t\tfile: '',\n\t\t\t\t\ttime: 0,\n\t\t\t\t\tlink: ''\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn this.advertisements[this.adType][this.adI];\n\t\t},\n\t\t/*根据元件尺寸和播放器尺寸调整大小*/\n\t\tadjustmentWH: function(w, h) {\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tvar nw = 0,\n\t\t\tnh = 0;\n\t\t\tif (w >= width || h >= height) {\n\t\t\t\tif (width / w > height / h) {\n\t\t\t\t\tnh = height - 20;\n\t\t\t\t\tnw = w * nh / h;\n\t\t\t\t} else {\n\t\t\t\t\tnw = width - 20;\n\t\t\t\t\tnh = h * nw / w;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnw = w;\n\t\t\t\tnh = h;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\twidth: nw,\n\t\t\t\theight: nh\n\t\t\t}\n\t\t},\n\t\t/*单独请求一次地址，但不处理返回的数据*/\n\t\tajaxSuccessNull: function(url) {\n\t\t\tif (!this.isUndefined(url)) {\n\t\t\t\tvar ajaxObj = {\n\t\t\t\t\turl: url,\n\t\t\t\t\tsuccess: function(data) {}\n\t\t\t\t};\n\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t运行指定函数\n\t\t*/\n\t\trunFunction: function(s) {\n\t\t\ttry {\n\t\t\t\tvar arr = s.split('->');\n\t\t\t\tif(arr.length==2){\n\t\t\t\t\tswitch (arr[0]) {\n\t\t\t\t\t\tcase 'javaScript':\n\t\t\t\t\t\t\tif(arr[1].substr(0,11)!='[flashvars]'){\n\t\t\t\t\t\t\t\teval(arr[1] + '()');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\teval(this.vars[arr[1].substr(11)] + '()');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'actionScript':\n\t\t\t\t\t\t\teval('this.' + arr[1] + '()');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.sendJS('clickEvent', s);\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t使用画布附加视频\n\t\t*/\n\t\tsendVCanvas: function() {\n\t\t\tif (this.timerVCanvas == null) {\n\t\t\t\tthis.css(this.V, 'display', 'none');\n\t\t\t\tthis.css(this.MD, 'display', 'block');\n\t\t\t\tvar thisTemp = this;\n\t\t\t\tvar videoCanvas = function() {\n\t\t\t\t\tif (thisTemp.MDCX.width != thisTemp.MD.offsetWidth) {\n\t\t\t\t\t\tthisTemp.MDC.width = thisTemp.MD.offsetWidth;\n\t\t\t\t\t}\n\t\t\t\t\tif (thisTemp.MDCX.height != thisTemp.MD.offsetHeight) {\n\t\t\t\t\t\tthisTemp.MDC.height = thisTemp.MD.offsetHeight;\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.MDCX.clearRect(0, 0, thisTemp.MDCX.width, thisTemp.MDCX.height);\n\t\t\t\t\tvar coor = thisTemp.getProportionCoor(thisTemp.PD.offsetWidth, thisTemp.PD.offsetHeight, thisTemp.V.videoWidth, thisTemp.V.videoHeight);\n\t\t\t\t\tthisTemp.MDCX.drawImage(thisTemp.V, 0, 0, thisTemp.V.videoWidth, thisTemp.V.videoHeight, coor['x'], coor['y'], coor['width'], coor['height']);\n\t\t\t\t};\n\t\t\t\tthis.timerVCanvas = new this.timer(0, videoCanvas);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听暂停\n\t\t*/\n\t\tpauseHandler: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.playShow(false);\n\t\t\tif (this.animatePauseArray.length > 0) {\n\t\t\t\tthis.animatePause('pause');\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video' && this.V != null && this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\tthis.stopVCanvas();\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['pause']) && !this.adPlayStart && !this.adPauseShow) { //如果存在暂停广告\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['pause']) && !thisTemp.adPlayStart && !thisTemp.adPauseShow && thisTemp.time > 1) { //如果存在暂停广告\n\t\t\t\t\t\tthisTemp.adPausePlayer();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t300);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t停止画布\n\t\t*/\n\t\tstopVCanvas: function() {\n\t\t\tif (this.timerVCanvas != null) {\n\t\t\t\tthis.css(this.V, 'display', 'block');\n\t\t\t\tthis.css(this.MD, 'display', 'none');\n\t\t\t\tif (this.timerVCanvas.runing) {\n\t\t\t\t\tthis.timerVCanvas.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerVCanvas = null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据当前播放还是暂停确认图标显示\n\t\t*/\n\t\tplayShow: function(b) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (b) {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'block');\n\t\t\t\tif (this.css(this.CB['errorText'], 'display') == 'none') {\n\t\t\t\t\tif (!this.adPlayerPlay) {\n\t\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'block');\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'none');\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'none');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听seek结束\n\t\t*/\n\t\tseekedHandler: function() {\n\t\t\tthis.resetTrack();\n\t\t\tthis.isTimeButtonMove = true;\n\t\t\tif (this.V.paused) {\n\t\t\t\tif(this.hlsAutoPlay){\n\t\t\t\t\tthis.videoPlay();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.hlsAutoPlay=true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放结束\n\t\t*/\n\t\tendedHandler: function() {\n\t\t\tthis.sendJS('ended');\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adI++;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.endAdPlay && !this.isUndefined(this.advertisements['end'])) {\n\t\t\t\tthis.endAdPlay = true;\n\t\t\t\tthis.adI = 0;\n\t\t\t\tthis.adType = 'end';\n\t\t\t\tthis.adMuteInto();\n\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\tthis.adPlayStart = true;\n\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\tthis.videoPause();\n\t\t\t\tthis.advertisementsTime();\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\tthis.adReset = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.endedAdReset();\n\t\t\tif (this.vars['loop']) {\n\t\t\t\tthis.videoSeek(0);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t重置结束后相关的设置\n\t\t*/\n\t\tendedAdReset: function() {\n\t\t\tvar arr = [];\n\t\t\tvar i = 0;\n\t\t\tif (!this.isUndefined(this.advertisements['insertPlay'])) {\n\t\t\t\tarr = this.advertisements['insertPlay'];\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tthis.advertisements['insertPlay'][i] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['otherPlay'])) {\n\t\t\t\tarr = this.advertisements['otherPlay'];\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tthis.advertisements['otherPlay'][i] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//this.endAdPlay=false;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听音量改变\n\t\t*/\n\t\tvolumechangeHandler: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ((this.ckConfig['config']['mobileVolumeBarShow'] || !this.isMobile()) && this.css(this.CB['volume'], 'display') != 'none') {\n\t\t\t\ttry {\n\t\t\t\t\tvar volume=this.volume || this.V.volume;\n\t\t\t\t\tif (volume > 0) {\n\t\t\t\t\t\tthis.css(this.CB['mute'], 'display', 'block');\n\t\t\t\t\t\tthis.css(this.CB['escMute'], 'display', 'none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.css(this.CB['mute'], 'display', 'none');\n\t\t\t\t\t\tthis.css(this.CB['escMute'], 'display', 'block');\n\t\t\t\t\t}\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放时间调节进度条\n\t\t*/\n\t\ttimeUpdateHandler: function() {\n\t\t\tvar duration = 0;\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\ttry {\n\t\t\t\t\tduration = this.V.duration;\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tif (duration > 0) {\n\t\t\t\tthis.time = this.V.currentTime;\n\t\t\t\tthis.timeTextHandler();\n\t\t\t\tthis.trackShowHandler();\n\t\t\t\tif (this.isTimeButtonMove) {\n\t\t\t\t\tthis.timeProgress(this.time, duration);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t改变控制栏坐标\n\t\t*/\n\t\tcontrolBar:function(){\n\t\t\t//控制栏背景\n\t\t\tvar cb=this.ckStyle['controlBar'];\n\t\t\tvar cssObjTemp={\n\t\t\t\talign:cb['align'],\n\t\t\t\tvAlign:cb['vAlign'],\n\t\t\t\twidth:cb['width'],\n\t\t\t\theight:cb['height'],\n\t\t\t\toffsetX:cb['offsetX'],\n\t\t\t\toffsetY:cb['offsetY']\n\t\t\t\t\n\t\t\t};\n\t\t\tvar bgCss={\n\t\t\t\tbackgroundColor:cb['background']['backgroundColor'],\n\t\t\t\tbackgroundImg:cb['background']['backgroundImg'],\n\t\t\t\talpha:cb['background']['alpha']\n\t\t\t};\n\t\t\tvar cssTemp=this.getEleCss(this.objectAssign(cssObjTemp,bgCss),{zIndex:888});\n\t\t\tthis.css(this.CB['controlBarBg'], cssTemp);\n\t\t\t//控制栏容器\n\t\t\tcssTemp=this.getEleCss(cssObjTemp,{zIndex:889});\n\t\t\tthis.css(this.CB['controlBar'], cssTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t按时间改变进度条\n\t\t*/\n\t\ttimeProgress: function(time, duration) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar timeProgressBgW = this.CB['timeProgressBg'].offsetWidth;\n\t\t\tvar timeBOW = parseInt((time * timeProgressBgW / duration) - (this.CB['timeButton'].offsetWidth * 0.5));\n\t\t\tif (timeBOW > timeProgressBgW - this.CB['timeButton'].offsetWidth) {\n\t\t\t\ttimeBOW = timeProgressBgW - this.CB['timeButton'].offsetWidth;\n\t\t\t}\n\t\t\tif (timeBOW < 0) {\n\t\t\t\ttimeBOW = 0;\n\t\t\t}\n\t\t\tthis.css(this.CB['timeProgress'], 'width', timeBOW + 'px');\n\t\t\tthis.css(this.CB['timeButton'], 'left', parseInt(timeBOW) + 'px');\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放时间改变时间显示文本框\n\t\t*/\n\t\ttimeTextHandler: function() { //显示时间/总时间\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar duration = this.V.duration;\n\t\t\tvar time = this.V.currentTime;\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tthis.CB['timeText'].innerHTML = this.formatTime(time,duration,this.ckLanguage['vod']);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听是否是缓冲状态\n\t\t*/\n\t\tbufferEdHandler: function() {\n\t\t\tif (!this.conBarShow || this.playerType == 'flashplayer') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar clearTimerBuffer = function() {\n\t\t\t\tif (thisTemp.timerBuffer != null) {\n\t\t\t\t\tif (thisTemp.timerBuffer.runing) {\n\t\t\t\t\t\tthisTemp.sendJS('buffer', 100);\n\t\t\t\t\t\tthisTemp.timerBuffer.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerBuffer = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tclearTimerBuffer();\n\t\t\tvar bufferFun = function() {\n\t\t\t\tif (!thisTemp.isUndefined(thisTemp.V) && thisTemp.V.buffered.length > 0) {\n\t\t\t\t\tvar duration = thisTemp.V.duration;\n\t\t\t\t\tvar len = thisTemp.V.buffered.length;\n\t\t\t\t\tvar bufferStart = thisTemp.V.buffered.start(len - 1);\n\t\t\t\t\tvar bufferEnd = thisTemp.V.buffered.end(len - 1);\n\t\t\t\t\tvar loadTime = bufferStart + bufferEnd;\n\t\t\t\t\tvar loadProgressBgW = thisTemp.CB['timeProgressBg'].offsetWidth;\n\t\t\t\t\tvar timeButtonW = thisTemp.CB['timeButton'].offsetWidth;\n\t\t\t\t\tvar loadW = parseInt((loadTime * loadProgressBgW / duration) + timeButtonW);\n\t\t\t\t\tif (loadW >= loadProgressBgW) {\n\t\t\t\t\t\tloadW = loadProgressBgW;\n\t\t\t\t\t\tclearTimerBuffer();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.changeLoad(loadTime);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerBuffer = new this.timer(200, bufferFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t单独计算加载进度\n\t\t*/\n\t\tchangeLoad: function(loadTime) {\n\t\t\tif (this.V == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar loadProgressBgW = this.CB['timeProgressBg'].offsetWidth;\n\t\t\tvar timeButtonW = this.CB['timeButton'].offsetWidth;\n\t\t\tvar duration = this.V.duration;\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tif (this.isUndefined(loadTime)) {\n\t\t\t\tloadTime = this.loadTime;\n\t\t\t} else {\n\t\t\t\tthis.loadTime = loadTime;\n\t\t\t}\n\t\t\tvar loadW = parseInt((loadTime * loadProgressBgW / duration) + timeButtonW);\n\t\t\tthis.css(this.CB['loadProgress'], 'width', loadW + 'px');\n\t\t\tthis.sendJS('loadTime',loadTime);\n\t\t\tthis.loadTimeTemp=loadTime;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否是直播\n\t\t*/\n\t\tjudgeIsLive: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.timerError != null) {\n\t\t\t\tif (this.timerError.runing) {\n\t\t\t\t\tthis.timerError.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerError = null;\n\t\t\t}\n\t\t\tthis.error = false;\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.css(this.CB['errorText'], 'display', 'none');\n\t\t\t}\n\t\t\tvar timeupdate = function(event) {\n\t\t\t\tthisTemp.timeUpdateHandler();\n\t\t\t};\n\t\t\tif (!this.vars['live']) {\n\t\t\t\tif (this.V != null && this.playerType == 'html5video') {\n\t\t\t\t\tthis.addListenerInside('timeupdate', timeupdate);\n\t\t\t\t\tthisTemp.timeTextHandler();\n\t\t\t\t\tthisTemp.prompt(); //添加提示点\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tthisTemp.bufferEdHandler();\n\t\t\t\t\t},\n\t\t\t\t\t200);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('timeupdate', timeupdate);\n\t\t\t\tif (this.timerTime != null) {\n\t\t\t\t\twindow.clearInterval(this.timerTime);\n\t\t\t\t\ttimerTime = null;\n\t\t\t\t}\n\t\t\t\tif (this.timerTime != null) {\n\t\t\t\t\tif (this.timerTime.runing) {\n\t\t\t\t\t\tthis.timerTime.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthis.timerTime = null;\n\t\t\t\t}\n\t\t\t\tvar timeFun = function() {\n\t\t\t\t\tif (thisTemp.V != null && !thisTemp.V.paused && thisTemp.conBarShow) {\n\t\t\t\t\t\tthisTemp.CB['timeText'].innerHTML = thisTemp.formatTime(0,0,thisTemp.ckLanguage['live']); //时间显示框默认显示内容\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.timerTime = new this.timer(1000, timeFun);\n\t\t\t\t//timerTime.start();\n\t\t\t}\n\t\t\tthis.definition();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载字幕\n\t\t*/\n\t\tloadTrack: function(def) {\n\t\t\tif (this.playerType == 'flashplayer' || this.vars['flashplayer'] == true) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(def)){\n\t\t\t\tdef=-1;\n\t\t\t}\n\t\t\tvar track = this.vars['cktrack'];\n\t\t\tvar loadTrackUrl='';\n\t\t\tvar type=this.varType(track);\n\t\t\tvar thisTemp = this;\n\t\t\tif(type=='array'){\n\t\t\t\tif(def==-1){\n\t\t\t\t\tvar index=0;\n\t\t\t\t\tvar indexN=0;\n\t\t\t\t\tfor(var i=0;i<track.length;i++){\n\t\t\t\t\t\tvar li=track[i];\n\t\t\t\t\t\tif(li.length==3 && li[2]>indexN){\n\t\t\t\t\t\t\tindexN=li[2];\n\t\t\t\t\t\t\tindex=i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tindex=def;\n\t\t\t\t}\n\t\t\t\tloadTrackUrl=track[index][0];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tloadTrackUrl=track;\n\t\t\t}\n\t\t\tvar obj = {\n\t\t\t\tmethod: 'get',\n\t\t\t\tdataType: 'text',\n\t\t\t\turl: loadTrackUrl,\n\t\t\t\tcharset: 'utf-8',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tif(data){\n\t\t\t\t\t\tthisTemp.track = thisTemp.parseSrtSubtitles(data);\n\t\t\t\t\t\tthisTemp.trackIndex = 0;\n\t\t\t\t\t\tthisTemp.nowTrackShow = {\n\t\t\t\t\t\t\tsn: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.ajax(obj);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重置字幕\n\t\t*/\n\t\tresetTrack: function() {\n\t\t\tthis.trackIndex = 0;\n\t\t\tthis.nowTrackShow = {\n\t\t\t\tsn: ''\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据时间改变读取显示字幕\n\t\t*/\n\t\ttrackShowHandler: function() {\n\t\t\tif (!this.conBarShow || this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.track.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.trackIndex >= this.track.length) {\n\t\t\t\tthis.trackIndex = 0;\n\t\t\t}\n\t\t\tvar nowTrack = this.track[this.trackIndex]; //当前编号对应的字幕内容\n\t\t\t/*\n\t\t\t\tthis.nowTrackShow=当前显示在界面上的内容\n\t\t\t\t如果当前时间正好在nowTrack时间内，则需要判断\n\t\t\t*/\n\t\t\tif (this.time >= nowTrack['startTime'] && this.time <= nowTrack['endTime']) {\n\t\t\t\t/*\n\t\t\t\t \t如果当前显示的内容不等于当前需要显示的内容时，则需要显示正确的内容\n\t\t\t\t*/\n\t\t\t\tvar nowShow = this.nowTrackShow;\n\t\t\t\tif (nowShow['sn'] != nowTrack['sn']) {\n\t\t\t\t\tthis.trackHide();\n\t\t\t\t\tthis.trackShow(nowTrack);\n\t\t\t\t\tthis.nowTrackTemp=nowTrack;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/*\n\t\t\t\t  如果当前播放时间不在当前编号字幕内，则需要先清空当前的字幕内容，再显示新的字幕内容\n\t\t\t\t*/\n\t\t\t\tthis.trackHide();\n\t\t\t\tthis.checkTrack();\n\t\t\t}\n\t\t},\n\t\ttrackShowAgain:function(){\n\t\t\tthis.trackHide();\n\t\t\tthis.trackShow(this.nowTrackTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示字幕内容\n\t\t*/\n\t\ttrackShow: function(track) {\n\t\t\tthis.nowTrackShow = track;\n\t\t\tvar arr = track['content'];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar obj = {\n\t\t\t\t\tlist: [{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\ttext: arr[i],\n\t\t\t\t\t\tcolor: this.ckStyle['cktrack']['color'],\n\t\t\t\t\t\tsize: this.ckStyle['cktrack']['size'],\n\t\t\t\t\t\tfontFamily: this.ckStyle['cktrack']['font'],\n\t\t\t\t\t\tlineHeight: this.ckStyle['cktrack']['leading']+'px'\n\t\t\t\t\t}],\n\t\t\t\t\tposition: [1, 2, null, -(arr.length - i) * this.ckStyle['cktrack']['leading'] - this.ckStyle['cktrack']['marginBottom']]\n\t\t\t\t};\n\t\t\t\tvar ele = this.addElement(obj);\n\t\t\t\tthis.trackElement.push(ele);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t隐藏字幕内容\n\t\t*/\n\t\ttrackHide: function() {\n\t\t\tfor (var i = 0; i < this.trackElement.length; i++) {\n\t\t\t\tthis.deleteElement(this.trackElement[i]);\n\t\t\t}\n\t\t\tthis.trackElement = [];\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重新计算字幕的编号\n\t\t*/\n\t\tcheckTrack: function() {\n\t\t\tvar num = this.trackIndex;\n\t\t\tvar arr = this.track;\n\t\t\tvar i = 0;\n\t\t\tfor (i = num; i < arr.length; i++) {\n\t\t\t\tif (this.time >= arr[i]['startTime'] && this.time <= arr[i]['endTime']) {\n\t\t\t\t\tthis.trackIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t-----------------------------------------------------------------------------接口函数开始\n\t\t\t接口函数\n\t\t\t在播放和暂停之间切换\n\t\t*/\n\t\tplayOrPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.playOrPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V.paused) {\n\t\t\t\tthis.videoPlay();\n\t\t\t} else {\n\t\t\t\tthis.videoPause();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t播放动作\n\t\t*/\n\t\tvideoPlay: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.eliminateAd(); //清除广告\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (this.V.currentSrc) {\n\t\t\t\t\tthis.V.play();\n\t\t\t\t}\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t暂停动作\n\t\t*/\n\t\tvideoPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.V.pause();\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t跳转时间动作\n\t\t*/\n\t\tvideoSeek: function(time) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoSeek(time);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar duration = this.V.duration>0.2?this.V.duration:this.getMetaDate()['duration'];\n\t\t\tif (duration > 0 && time > duration) {\n\t\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\t\ttime=0;\n\t\t\t\t\tthis.sendJS('ended');\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ttime = duration-0.1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (time >= 0) {\n\t\t\t\tthis.V.currentTime = time;\n\t\t\t\tthis.sendJS('seekTime', time);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t调节音量/获取音量\n\t\t*/\n\t\tchangeVolume: function(vol, bg, button) {\t\t\t\n\t\t\tif (this.loaded) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tthis.V.changeVolume(vol);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isNaN(vol) || this.isUndefined(vol)) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (!this.loaded) {\n\t\t\t\tthis.vars['volume'] = vol;\n\t\t\t}\n\t\t\tif (!this.html5Video) {\n\t\t\t\tthis.V.changeVolume(vol);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (this.isUndefined(bg)) {\n\t\t\t\t\tbg = true;\n\t\t\t\t}\n\t\t\t} catch(e) {}\n\t\t\ttry {\n\t\t\t\tif (this.isUndefined(button)) {\n\t\t\t\t\tbutton = true;\n\t\t\t\t}\n\t\t\t} catch(e) {}\n\t\t\tif (!vol) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (vol < 0) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (vol > 1) {\n\t\t\t\tvol = 1;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.V.volume = vol;\n\t\t\t} catch(error) {}\n\t\t\tthis.volume = vol;\n\t\t\tif (bg && this.conBarShow) {\n\t\t\t\tvar bgW = vol * this.CB['volumeBg'].offsetWidth;\n\t\t\t\tif (bgW < 0) {\n\t\t\t\t\tbgW = 0;\n\t\t\t\t}\n\t\t\t\tif (bgW > this.CB['volumeBg'].offsetWidth) {\n\t\t\t\t\tbgW = this.CB['volumeBg'].offsetWidth;\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['volumeUp'], 'width', bgW + 'px');\n\t\t\t}\n\n\t\t\tif (button && this.conBarShow) {\n\t\t\t\tvar buLeft = parseInt(this.CB['volumeUp'].offsetWidth - (this.CB['volumeBO'].offsetWidth * 0.5));\n\t\t\t\tif (buLeft > this.CB['volumeBg'].offsetWidth - this.CB['volumeBO'].offsetWidth) {\n\t\t\t\t\tbuLeft = this.CB['volumeBg'].offsetWidth - this.CB['volumeBO'].offsetWidth\n\t\t\t\t}\n\t\t\t\tif (buLeft < 0) {\n\t\t\t\t\tbuLeft = 0;\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['volumeBO'], 'left', buLeft + 'px');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t静音\n\t\t*/\n\t\tvideoMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoMute();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.volumeTemp = this.V ? (this.V.volume > 0 ? this.V.volume: this.vars['volume']) : this.vars['volume'];\n\t\t\tthis.changeVolume(0);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t取消静音\n\t\t*/\n\t\tvideoEscMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoEscMute();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.changeVolume(this.volumeTemp > 0 ? this.volumeTemp: this.vars['volume']);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t视频广告静音\n\t\t*/\n\t\tadMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.changeVolume(0);\n\t\t\tthis.adVideoMute = true;\n\t\t\tthis.css(this.CB['adEscMute'], 'display', 'block');\n\t\t\tthis.css(this.CB['adMute'], 'display', 'none');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t视频广告取消静音\n\t\t*/\n\t\tescAdMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar v = this.ckStyle['advertisement']['videoVolume'];\n\t\t\tthis.changeVolume(v);\n\t\t\tthis.adMuteInto();\n\t\t},\n\t\t/*\n\t\t \t初始化广告的音量按钮\n\t\t*/\n\t\tadMuteInto: function() {\n\t\t\tthis.adVideoMute = false;\n\t\t\tthis.css(this.CB['adEscMute'], 'display', 'none');\n\t\t\tthis.css(this.CB['adMute'], 'display', 'block');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t快退\n\t\t*/\n\t\tfastBack: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.fastBack();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = this.time - this.ckConfig['config']['timeJump'];\n\t\t\tif (time < 0) {\n\t\t\t\ttime = 0;\n\t\t\t}\n\t\t\tthis.videoSeek(time);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t快进\n\t\t*/\n\t\tfastNext: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.fastNext();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = this.time + this.ckConfig['config']['timeJump'];\n\t\t\tif (time > this.V.duration) {\n\t\t\t\ttime = this.V.duration;\n\t\t\t}\n\t\t\tthis.videoSeek(time);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t获取当前播放的地址\n\t\t*/\n\t\tgetCurrentSrc: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getCurrentSrc();\n\t\t\t}\n\t\t\treturn this.V.currentSrc;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t全屏/退出全屏动作，该动作只能是用户操作才可以触发，比如用户点击按钮触发该事件\n\t\t*/\n\t\tswitchFull: function() {\n\t\t\tif (this.full) {\n\t\t\t\tthis.quitFullScreen();\n\t\t\t} else {\n\t\t\t\tthis.fullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t全屏动作，该动作只能是用户操作才可以触发，比如用户点击按钮触发该事件\n\t\t*/\n\t\tfullScreen: function() {\n\t\t\tif (this.html5Video && this.playerType == 'html5video') {\n\t\t\t\tvar element = this.PD;\n\t\t\t\tif (element.requestFullscreen) {\n\t\t\t\t\telement.requestFullscreen();\n\t\t\t\t} else if (element.mozRequestFullScreen) {\n\t\t\t\t\telement.mozRequestFullScreen();\n\t\t\t\t} else if (element.webkitRequestFullscreen) {\n\t\t\t\t\telement.webkitRequestFullscreen();\n\t\t\t\t} else if (element.msRequestFullscreen) {\n\t\t\t\t\telement.msRequestFullscreen();\n\t\t\t\t} else if (element.oRequestFullscreen) {\n\t\t\t\t\telement.oRequestFullscreen();\n\t\t\t\t}\n\t\t\t\tthis.judgeFullScreen();\n\t\t\t} else {\n\t\t\t\t//this.V.fullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t退出全屏动作\n\t\t*/\n\t\tquitFullScreen: function() {\n\t\t\tif (this.html5Video && this.playerType == 'html5video') {\n\t\t\t\tif (document.exitFullscreen) {\n\t\t\t\t\tdocument.exitFullscreen();\n\t\t\t\t} else if (document.msExitFullscreen) {\n\t\t\t\t\tdocument.msExitFullscreen();\n\t\t\t\t} else if (document.mozCancelFullScreen) {\n\t\t\t\t\tdocument.mozCancelFullScreen();\n\t\t\t\t} else if (document.oRequestFullscreen) {\n\t\t\t\t\tdocument.oCancelFullScreen();\n\t\t\t\t} else if (document.requestFullscreen) {\n\t\t\t\t\tdocument.requestFullscreen();\n\t\t\t\t} else if (document.webkitExitFullscreen) {\n\t\t\t\t\tdocument.webkitExitFullscreen();\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(document.documentElement, 'cssText', '');\n\t\t\t\t\tthis.css(document.document.body, 'cssText', '');\n\t\t\t\t\tthis.css(this.PD, 'cssText', '');\n\t\t\t\t}\n\t\t\t\tthis.judgeFullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t 下面列出只有flashplayer里支持的 \n\t\t */\n\t\tvideoRotation: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoRotation(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(n)) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tvar tf = this.css(this.V, 'transform');\n\t\t\tif (this.isUndefined(tf) && !tf) {\n\t\t\t\ttf = 'rotate(0deg)';\n\t\t\t}\n\t\t\tvar reg = tf.match(/rotate\\([^)]+\\)/);\n\t\t\treg = reg ? reg[0].replace('rotate(', '').replace('deg)', '') : '';\n\t\t\tif (reg == '') {\n\t\t\t\treg = 0;\n\t\t\t} else {\n\t\t\t\treg = parseInt(reg);\n\t\t\t}\n\t\t\tif (n == -1) {\n\t\t\t\treg -= 90;\n\t\t\t} else if (n == 1) {\n\t\t\t\treg += 90;\n\t\t\t} else {\n\t\t\t\tif (n != 90 && n != 180 && n != 270 && n != -90 && n != -180 && n != -270) {\n\t\t\t\t\treg = 0;\n\t\t\t\t} else {\n\t\t\t\t\treg = n;\n\t\t\t\t}\n\t\t\t}\n\t\t\tn = reg;\n\t\t\tvar y90 = n % 90,\n\t\t\ty180 = n % 180,\n\t\t\ty270 = n % 270;\n\t\t\tvar ys = false;\n\t\t\tif (y90 == 0 && y180 == 90 && y270 == 90) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == 0 && y180 == 90 && y270 == 0) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == -0 && y180 == -90 && y270 == -90) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == -0 && y180 == -90 && y270 == -0) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\ttf = tf.replace(/rotate\\([^)]+\\)/, '').replace(/scale\\([^)]+\\)/, '') + ' rotate(' + n + 'deg)';\n\t\t\tvar cdW = this.CD.offsetWidth,\n\t\t\tcdH = this.CD.offsetHeight,\n\t\t\tvW = this.V.videoWidth,\n\t\t\tvH = this.V.videoHeight;\n\t\t\tif (vW > 0 && vH > 0) {\n\t\t\t\tif (ys) {\n\t\t\t\t\tif (cdW / cdH > vH / vW) {\n\t\t\t\t\t\tnH = cdH;\n\t\t\t\t\t\tnW = vH * nH / vW;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnW = cdW;\n\t\t\t\t\t\tnH = vW * nW / vH;\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(this.V, 'transform', 'rotate(0deg)');\n\t\t\t\t\tthis.css(this.V, 'transform', 'scale(' + nH / cdW + ',' + nW / cdH + ')' + tf);\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\t}\n\t\t\treturn;\n\t\t},\n\t\tvideoBrightness: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoBrightness(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoContrast: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoContrast(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoSaturation: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoSaturation(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoHue: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoHue(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoZoom: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoZoom(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(n)) {\n\t\t\t\tn = 1;\n\t\t\t}\n\t\t\tif (n < 0) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tif (n > 2) {\n\t\t\t\tn = 2;\n\t\t\t}\n\t\t\tvar tf = this.css(this.V, 'transform');\n\t\t\ttf = tf.replace(/scale\\([^)]+\\)/, '') + ' scale(' + n + ')';\n\t\t\tthis.videoScale = n;\n\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\treturn;\n\t\t},\n\t\tvideoProportion: function(w, h) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoProportion(w, h);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tadPlay: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.adPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adIsPause = false;\n\t\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\t\tvar type = ad['type'];\n\t\t\t\tif (this.isStrImage(type)) {\n\t\t\t\t\tthis.adCountDown();\n\t\t\t\t} else {\n\t\t\t\t\tthis.V.play();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tadPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.adPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adIsPause = true;\n\t\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\t\tvar type = ad['type'];\n\t\t\t\tif (type != 'jpg' && type != 'jpeg' && type != 'png' && type != 'svg' && type != 'gif') {\n\t\t\t\t\tthis.videoPause();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tvideoError: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoError(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tchangeConfig: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\tswitch(args.length){\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tthis.V.changeConfig(args[0]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 7:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar obj = this.ckConfig;\n\t\t\tvar arg = arguments;\n\t\t\tfor (var i = 0; i < arg.length - 1; i++) {\n\t\t\t\tif (obj.hasOwnProperty(arg[i])) {\n\t\t\t\t\tobj = obj[arg[i]];\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar val = arg[arg.length - 1];\n\t\t\tswitch (arg.length) {\n\t\t\t\tcase 2:\n\t\t\t\t\tthis.ckConfig[arg[0]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 7:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 9:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]][arg[7]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 10:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]][arg[7]][arg[8]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.sendJS('configChange', this.ckConfig);\n\t\t},\n\t\tcustom: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.custom(arguments);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(arguments)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar type='',name='',display='';\n\t\t\tif(arguments.length==4){//控制栏\n\t\t\t\ttype='controlBar-'+arguments[1];\n\t\t\t\tname=arguments[2];\n\t\t\t\tdisplay=arguments[3]?'block':'none';\n\t\t\t}\n\t\t\telse if(arguments.length==3){//播放器\n\t\t\t\ttype='player-'+arguments[0];\n\t\t\t\tname=arguments[1];\n\t\t\t\tdisplay=arguments[2]?'block':'none';\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor(var k in this.customeElement){\n\t\t\t\tvar obj=this.customeElement[k];\n\t\t\t\tif(obj['type']==type && obj['name']==name){\n\t\t\t\t\tthis.css(obj['ele'],'display',display);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetConfig: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getConfig(arguments);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar temp=this.ckConfig;\n\t\t\t\tfor(var index in arguments) {  \n\t\t\t        try{\n\t\t\t        \ttemp=temp[arguments[index]];\n\t\t\t        }\n\t\t\t        catch(error){\n\t\t\t        \ttemp=null;\n\t\t\t        }\n\t\t\t    }; \n\t\t\t\treturn temp;\n\t\t\t}\n\t\t},\n\t\topenUrl: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.openUrl(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t清除视频\n\t\t*/\n\t\tvideoClear: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoClear();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.V.innerHTML='';\n\t\t\tthis.V.src='';\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t向播放器传递新的视频地址\n\t\t*/\n\t\tnewVideo: function(c) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.newVideo(c);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.embed(c);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t截图\n\t\t*/\n\t\tscreenshot: function(obj, save, name) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.screenshot(obj, save, name);\n\t\t\t\t} catch(error) {\n\t\t\t\t\tthis.log(error);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (obj == 'video') {\n\t\t\t\tvar newCanvas = document.createElement('canvas');\n\t\t\t\tnewCanvas.width = this.V.videoWidth;\n\t\t\t\tnewCanvas.height = this.V.videoHeight;\n\t\t\t\tnewCanvas.getContext('2d').drawImage(this.V, 0, 0, this.V.videoWidth, this.V.videoHeight);\n\t\t\t\ttry {\n\t\t\t\t\tvar base64 = newCanvas.toDataURL('image/jpeg');\n\t\t\t\t\tthis.sendJS('screenshot', {\n\t\t\t\t\t\tobject: obj,\n\t\t\t\t\t\tsave: save,\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tbase64: base64\n\t\t\t\t\t});\n\t\t\t\t} catch(error) {\n\t\t\t\t\tthis.log(error);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t改变播放器尺寸\n\t\t*/\n\t\tchangeSize: function(w, h) {\n\t\t\tif (this.isUndefined(w)) {\n\t\t\t\tw = 0;\n\t\t\t}\n\t\t\tif (this.isUndefined(h)) {\n\t\t\t\th = 0;\n\t\t\t}\n\t\t\tif (w > 0) {\n\t\t\t\tthis.css(this.CD, 'width', w + 'px');\n\t\t\t}\n\t\t\tif (h > 0) {\n\t\t\t\tthis.css(this.CD, 'height', h + 'px');\n\t\t\t}\n\t\t\tif (this.html5Video) {\n\t\t\t\tthis.playerResize();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t重置播放器界面\n\t\t*/\n\t\tplayerResize:function(){\n\t\t\tthis.controlBar();//控制栏按钮\n\t\t\tthis.elementCoordinate();\n\t\t\tthis.carbarButton();\n\t\t\tthis.customCoor();//自定义元件的位置重置\n\t\t\tthis.timeProgressDefault();//进度条默认样式\n\t\t\tthis.videoCss();//计算video的宽高和位置\n\t\t\tthis.timeUpdateHandler();//修改进度条样式\n\t\t\tthis.changeElementCoor(); //修改新加元件的坐标\n\t\t\tthis.changePrompt();//重置提示点\n\t\t\tthis.advertisementStyle();//广告控制样式\n\t\t\tthis.adPauseCoor();\n\t\t\tthis.adOtherCoor();\n\t\t\tthis.changeLoad();\n\t\t\tthis.sendJS('resize');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t改变视频播放速度\n\t\t*/\n\t\tchangePlaybackRate: function(n) {\n\t\t\tif (this.html5Video) {\n\t\t\t\tvar arr = this.playbackRateArr;\n\t\t\t\tn = parseInt(n);\n\t\t\t\tif (n < arr.length) {\n\t\t\t\t\tthis.newPlaybackrate(arr[n][1]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册控制控制栏显示与隐藏函数\n\t\t*/\n\t\tchangeControlBarShow: function(show) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeControlBarShow(show);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (show) {\n\t\t\t\tthis.controlBarIsShow = true;\n\t\t\t\tthis.controlBarHide(false);\n\t\t\t} else {\n\t\t\t\tthis.controlBarIsShow = false;\n\t\t\t\tthis.controlBarHide(true);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t-----------------------------------------------------------------------\n\t\t\t调用flashplayer\n\t\t*/\n\t\tembedSWF: function() {\n\t\t\tvar vid = 'ckplayer-'+this.randomString();\n\t\t\tvar flashvars = this.getFlashVars();\n\t\t\tvar param = this.getFlashplayerParam();\n\t\t\tvar flashplayerUrl = 'http://www.macromedia.com/go/getflashplayer';\n\t\t\tvar html = '',\n\t\t\tsrc = this.ckplayerPath + 'ckplayer.swf';\n\t\t\tid = 'id=\"' + vid + '\" name=\"' + vid + '\" ';\n\t\t\thtml += '<object pluginspage=\"' + flashplayerUrl + '\" classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=11,3,0,0\" width=\"100%\" height=\"100%\" ' + id + ' align=\"middle\" wmode=\"transparent\">';\n\t\t\thtml += param['v'];\n\t\t\thtml += '<param name=\"movie\" value=\"' + src + '\">';\n\t\t\thtml += '<param name=\"flashvars\" value=\"' + flashvars + '\">';\n\t\t\thtml += '<param name=\"wmode\" value=\"transparent\">';\n\t\t\thtml += '<embed wmode=\"transparent\" ' + param['w'] + ' src=\"' + src + '\" flashvars=\"' + flashvars + '\" width=\"100%\" height=\"100%\" ' + id + ' align=\"middle\" type=\"application/x-shockwave-flash\" pluginspage=\"' + flashplayerUrl + '\" />';\n\t\t\thtml += '</object>';\n\t\t\tthis.PD.innerHTML = html;\n\t\t\tthis.V = this.getObjectById(vid); //V：定义播放器对象全局变量\n\t\t\tthis.playerType = 'flashplayer';\n\t\t},\n\t\t/*\n\t\t\t判断浏览器是否支持flashplayer \n\t\t*/\n\t\tcheckShockwaveFlash:function(){\n\t\t\tif(window.ActiveXObject) {\n\t\t\t\ttry {\n\t\t\t\t\tvar s = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n\t\t\t\t\tif(s) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {}\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tvar s = navigator.plugins['Shockwave Flash'];\n\t\t\t\t\tif(s) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将vars对象转换成字符\n\t\t*/\n\t\tgetFlashVars: function() {\n\t\t\tthis.getVarsObject();\n\t\t\tvar v = this.vars;\n\t\t\tvar z = '';\n\t\t\tfor (k in v) {\n\t\t\t\tif (k != 'flashplayer' && k != 'container' && v[k] != '') {\n\t\t\t\t\tif (z != '') {\n\t\t\t\t\t\tz += '&';\n\t\t\t\t\t}\n\t\t\t\t\tvar vk = v[k];\n\t\t\t\t\tif (vk == true) {\n\t\t\t\t\t\tvk = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (vk == false) {\n\t\t\t\t\t\tvk = 0;\n\t\t\t\t\t}\n\t\t\t\t\tz += k + '=' + vk;\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (!v.hasOwnProperty('volume') || !v['volume']) {\n\t\t\t\tif (z != '') {\n\t\t\t\t\tz += '&';\n\t\t\t\t}\n\t\t\t\tz += 'volume=0';\n\t\t\t}\n\t\t\treturn z;\n\t\t},\n\t\t/*判断字符串是否是图片*/\n\t\tisStrImage: function(s) {\n\t\t\tif (s == 'jpg' || s == 'jpeg' || s == 'png' || s == 'svg' || s == 'gif') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将vars格式化成flash能接受的对象。再由getFlashVars函数转化成字符串或由newVideo直接使用\n\t\t*/\n\t\tgetVarsObject: function() {\n\t\t\tvar v = this.vars;\n\t\t\tvar f = '',\n\t\t\td = '',\n\t\t\tw = ''; //f=视频地址，d=清晰度地址,w=权重，z=最终地址\n\t\t\tvar arr = this.VA;\n\t\t\tvar prompt = v['promptSpot'];\n\t\t\tvar i = 0;\n\t\t\tvar video = this.vars['video'];\n\t\t\tif (this.varType(video) == 'array') { //对象或数组\n\t\t\t\tvar arr = video;\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tvar arr2 = arr[i];\n\t\t\t\t\tif (arr2) {\n\t\t\t\t\t\tif (f != '') {\n\t\t\t\t\t\t\tf += this.ckConfig['config']['split'];\n\t\t\t\t\t\t\td += ',';\n\t\t\t\t\t\t\tw += ',';\n\t\t\t\t\t\t\tv['type'] += this.ckConfig['config']['split'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tf += encodeURIComponent(decodeURIComponent(arr2[0]));\n\t\t\t\t\t\td += arr2[2];\n\t\t\t\t\t\tw += arr2[3];\n\t\t\t\t\t\tv['type'] += arr2[1].replace('video/', '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (this.varType(video) == 'object') { //对象或数组\n\t\t\t\tf = encodeURIComponent(decodeURIComponent(video['file']));\n\t\t\t\tif (!this.isUndefined(video['type'])) {\n\t\t\t\t\tv['type'] = video['type'];\n\t\t\t\t}\n\t\t\t\td = '';\n\t\t\t\tw = '';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tf = encodeURIComponent(decodeURIComponent(video));\n\t\t\t}\n\t\t\tif (v['preview'] != null) {\n\t\t\t\tv['previewscale'] = v['preview']['scale'];\n\t\t\t\tv['preview'] = v['preview']['file'].join(',');\n\n\t\t\t}\n\t\t\tif (prompt != null) {\n\t\t\t\tv['promptspot'] = '';\n\t\t\t\tv['promptspottime'] = '';\n\t\t\t\tfor (i = 0; i < prompt.length; i++) {\n\t\t\t\t\tif (v['promptspot'] != '') {\n\t\t\t\t\t\tv['promptspot'] += ',';\n\t\t\t\t\t\tv['promptspottime'] += ',';\n\t\t\t\t\t}\n\t\t\t\t\tv['promptspot'] += prompt[i]['words'];\n\t\t\t\t\tv['promptspottime'] += prompt[i]['time'];\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (f != '') {\n\t\t\t\tv['video'] = f;\n\t\t\t\tv['definition'] = d;\n\t\t\t\tv['weight'] = w;\n\t\t\t}\n\t\t\tif (!v['volume']) {\n\t\t\t\tv['volume'] = 0;\n\t\t\t}\n\t\t\tvar newV = {};\n\n\t\t\tfor (var k in v) {\n\t\t\t\tif (v[k] != null) {\n\t\t\t\t\tnewV[k] = v[k];\n\t\t\t\t}\n\t\t\t\tif (k == 'type') {\n\t\t\t\t\tnewV[k] = v[k].replace('video/m3u8', 'm3u8');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.vars = newV;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将embedSWF里的param的对象进行转换\n\t\t*/\n\t\tgetFlashplayerParam: function() {\n\t\t\tvar w = '',\n\t\t\tv = '',\n\t\t\to = {\n\t\t\t\tallowScriptAccess: 'always',\n\t\t\t\tallowFullScreen: true,\n\t\t\t\tquality: 'high',\n\t\t\t\tbgcolor: '#000'\n\t\t\t};\n\t\t\tfor (var e in o) {\n\t\t\t\tw += e + '=\"' + o[e] + '\" ';\n\t\t\t\tv += '<param name=\"' + e + '\" value=\"' + o[e] + '\" />';\n\t\t\t}\n\t\t\tw = w.replace('movie=', 'src=');\n\t\t\treturn {\n\t\t\t\tw: w,\n\t\t\t\tv: v\n\t\t\t};\n\t\t},\n\n\t\t/*\n\t\t\t操作动作结束\n\t\t\t-----------------------------------------------------------------------\n\t\t\t\n\t\t\t接口函数\n\t\t\t获取元数据部分\n\t\t*/\n\t\tgetMetaDate: function() {\n\t\t\tif (!this.loaded || this.V == null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\tvar duration = 0;\n\t\t\t\ttry {\n\t\t\t\t\tduration = !isNaN(this.V.duration) ? this.V.duration: 0;\n\t\t\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\t\t\tif(this.vars['duration']>0){\n\t\t\t\t\t\t\tduration=this.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t\tvar data = {\n\t\t\t\t\tduration: duration,\n\t\t\t\t\tvolume: this.V.volume,\n\t\t\t\t\tplaybackRate: this.V.playbackRate,\n\t\t\t\t\twidth: this.PD.offsetWidth || this.V.offsetWidth || this.V.width,\n\t\t\t\t\theight: this.PD.offsetHeight || this.V.offsetHeight || this.V.height,\n\t\t\t\t\tstreamWidth: this.V.videoWidth,\n\t\t\t\t\tstreamHeight: this.V.videoHeight,\n\t\t\t\t\tvideoWidth: this.V.offsetWidth,\n\t\t\t\t\tvideoHeight: this.V.offsetHeight,\n\t\t\t\t\tpaused: this.V.paused,\n\t\t\t\t\tloadTime:this.loadTimeTemp\n\t\t\t\t};\n\t\t\t\treturn data;\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\treturn this.V.getMetaDate();\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t取当前提供给播放器播放的视频列表\n\t\t*/\n\t\tgetVideoUrl: function() {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getVideoUrl();\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (this.V.src) {\n\t\t\t\tarr.push(this.V.src);\n\t\t\t} else {\n\t\t\t\tvar uArr = this.V.childNodes;\n\t\t\t\tfor (var i = 0; i < uArr.length; i++) {\n\t\t\t\t\tarr.push(uArr[i].src);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t格式化函数\n\t\t*/\n\t\tclickEvent: function(call) {\n\t\t\tif (call == 'none' || call == '' || call == null) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'none'\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar callArr = call.split('->');\n\t\t\tvar type = '',\n\t\t\tfun = '',\n\t\t\tlink = '',\n\t\t\ttarget = '';\n\t\t\tif (callArr.length == 2) {\n\t\t\t\tvar callM = callArr[0];\n\t\t\t\tvar callE = callArr[1];\n\t\t\t\tif (!callE) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'none'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tvar val = '';\n\t\t\t\tvar eArr = [];\n\t\t\t\ttype = callM;\n\t\t\t\tswitch (callM) {\n\t\t\t\tcase 'actionScript':\n\t\t\t\t\t//trace(THIS.hasOwnProperty(callE));\n\t\t\t\t\tif (callE.indexOf('(') > -1) {\n\t\t\t\t\t\teArr = callE.split('(');\n\t\t\t\t\t\tcallE = eArr[0];\n\t\t\t\t\t\tval = eArr[1].replace(')', '');\n\t\t\t\t\t}\n\t\t\t\t\tif (val == '') {\n\t\t\t\t\t\tfun = 'thisTemp.' + callE + '()';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfun = 'thisTemp.' + callE + '(' + val + ')';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javaScript':\n\t\t\t\t\tif (callE.substr(0, 11) == '[flashvars]') {\n\t\t\t\t\t\tcallE = callE.substr(11);\n\t\t\t\t\t\tif (this.vars.hasOwnProperty(callE)) {\n\t\t\t\t\t\t\tcallE = this.vars[callE];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (callE.indexOf('(') > -1) {\n\t\t\t\t\t\teArr = callE.split('(');\n\t\t\t\t\t\tcallE = eArr[0];\n\t\t\t\t\t\tval = eArr[1].replace(')', '');\n\t\t\t\t\t}\n\t\t\t\t\tif (val == '') {\n\t\t\t\t\t\tfun = callE + '()';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfun = callE + '(' + val + ')';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"link\":\n\t\t\t\t\tvar callLink = (callE + ',').split(',');\n\t\t\t\t\tif (callLink[0].substr(0, 11) == '[flashvars]') {\n\t\t\t\t\t\tvar fl = callLink[0].replace('[flashvars]', '');\n\t\t\t\t\t\tif (this.vars.hasOwnProperty(fl)) {\n\t\t\t\t\t\t\tcallLink[0] = this.vars[fl];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!callLink[1]) {\n\t\t\t\t\t\tcallLink[1] = '_blank';\n\t\t\t\t\t}\n\t\t\t\t\tlink = callLink[0];\n\t\t\t\t\ttarget = callLink[1];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttype: type,\n\t\t\t\tfun: fun,\n\t\t\t\tlink: link,\n\t\t\t\ttarget: target\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据指定的align,valign,offsetX,offsetY计算坐标\n\t\t*/\n\t\tgetPosition: function(obj,rEle) {\n\t\t\t/*\n\t\t\t{\n\t            \"align\": \"right\",\n\t            \"vAlign\": \"right\",\n\t            \"offsetX\": -60,\n\t            \"offsetY\": -60\n\t        } \n\t\t\t*/\n\t\t\tvar pw = this.PD.offsetWidth,\n\t\t\tph = this.PD.offsetHeight;\n\t\t\tvar x = 0,\n\t\t\ty = 0;\n\t\t\tvar left=0,top=0,rw=0,rh=0;\n\t\t\tif(!this.isUndefined(rEle)){\n\t\t\t\tleft=parseInt(this.css(rEle,'left')),top=parseInt(this.css(rEle,'top')),rw=rEle.offsetWidth,rh=rEle.offsetHeight;\n\t\t\t}\n\t\t\tswitch (obj['align']) {\n\t\t\t\tcase 'left':\n\t\t\t\t\tx = obj['offsetX']+left;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'center':\n\t\t\t\t\tx = pw * 0.5 + obj['offsetX'];\n\t\t\t\t\tif(left){\n\t\t\t\t\t\tx-=(pw*0.5-rw*0.5-left);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tx = pw + obj['offsetX'];\n\t\t\t\t\tif(left){\n\t\t\t\t\t\tx-=(pw-left-rw);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tswitch (obj['vAlign']) {\n\t\t\t\tcase 'top':\n\t\t\t\t\ty = obj['offsetY']+top;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'middle':\n\t\t\t\t\ty = ph * 0.5 + obj['offsetY']-top-(rh*0.5);\n\t\t\t\t\tif(top){\n\t\t\t\t\t\tx-=(ph*0.5-rh*0.5-top);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'bottom':\n\t\t\t\t\ty = ph + obj['offsetY'];\n\t\t\t\t\tif(top){\n\t\t\t\t\t\ty-=(ph-top-rh);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t向播放器界面添加一个文本\n\t\t*/\n\t\taddElement: function(attribute) {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.addElement(attribute);\n\t\t\t}\n\t\t\tvar i = 0;\n\t\t\tvar obj = {\n\t\t\t\tlist: null,\n\t\t\t\tx: '100%',\n\t\t\t\ty: \"50%\",\n\t\t\t\tposition: null,\n\t\t\t\talpha: 1,\n\t\t\t\tbackgroundColor: '',\n\t\t\t\tbackAlpha: 1,\n\t\t\t\tbackRadius: 0,\n\t\t\t\tclickEvent: ''\n\t\t\t};\n\t\t\tobj = this.standardization(obj, attribute);\n\t\t\tvar list = obj['list'];\n\t\t\tif (list == null) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tvar id = 'element-' + this.randomString(10);\n\t\t\tvar ele = document.createElement('div');\n\t\t\tele.className = id;\n\t\t\tif (obj['x']) {\n\t\t\t\tele.setAttribute('data-x', obj['x']);\n\t\t\t}\n\t\t\tif (obj['y']) {\n\t\t\t\tele.setAttribute('data-y', obj['y']);\n\t\t\t}\n\t\t\tif (obj['position'] != null) {\n\t\t\t\tele.setAttribute('data-position', obj['position'].join(','));\n\t\t\t}\n\n\t\t\tthis.PD.appendChild(ele);\n\t\t\tthis.css(ele, {\n\t\t\t\tposition: 'absolute',\n\t\t\t\tfilter: 'alpha(opacity:' + obj['alpha'] + ')',\n\t\t\t\topacity: obj['alpha'].toString(),\n\t\t\t\twidth: '800px',\n\t\t\t\tzIndex: '20'\n\t\t\t});\n\t\t\tvar bgid = 'elementbg' + this.randomString(10);\n\t\t\tvar bgAlpha = obj['alpha'].toString();\n\t\t\tvar bgColor = obj['backgroundColor'].replace('0x', '#');\n\t\t\tvar html = '';\n\t\t\tvar idArr = [];\n\t\t\tvar clickArr = [];\n\t\t\tif (!this.isUndefined(list) && list.length > 0) {\n\t\t\t\tvar textObj, returnObj, clickEvent;\n\t\t\t\tfor (i = 0; i < list.length; i++) {\n\t\t\t\t\tvar newEleid = 'elementnew' + this.randomString(10);\n\t\t\t\t\tswitch (list[i]['type']) {\n\t\t\t\t\tcase 'image':\n\t\t\t\t\tcase 'png':\n\t\t\t\t\tcase 'jpg':\n\t\t\t\t\tcase 'jpeg':\n\t\t\t\t\tcase 'gif':\n\t\t\t\t\t\ttextObj = {\n\t\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\t\tfile: '',\n\t\t\t\t\t\t\tradius: 0,//圆角弧度\n\t\t\t\t\t\t\twidth: 30,//定义宽，必需要定义\n\t\t\t\t\t\t\theight: 30,//定义高，必需要定义\n\t\t\t\t\t\t\talpha: 1,//透明度\n\t\t\t\t\t\t\tpaddingLeft: 0,//左边距离\n\t\t\t\t\t\t\tpaddingRight: 0,//右边距离\n\t\t\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\t\t\tmarginLeft: 0,\n\t\t\t\t\t\t\tmarginRight: 0,\n\t\t\t\t\t\t\tmarginTop: 0,\n\t\t\t\t\t\t\tmarginBottom: 0,\n\t\t\t\t\t\t\tbackgroundColor: '',\n\t\t\t\t\t\t\tclickEvent: ''\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tlist[i] = this.standardization(textObj, list[i]);\n\t\t\t\t\t\tclickEvent = this.clickEvent(list[i]['clickEvent']);\n\t\t\t\t\t\tclickArr.push(clickEvent);\n\t\t\t\t\t\tif (clickEvent['type'] == 'link') {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><a href=\"' + clickEvent['link'] + '\" target=\"' + clickEvent['target'] + '\"><img class=\"' + newEleid + '_image\" src=\"' + list[i]['file'] + '\" style=\"border:0;\"></a></div>';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><img class=\"' + newEleid + '_image\" src=\"' + list[i]['file'] + '\" style=\"border:0;\"></div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'text':\n\t\t\t\t\t\ttextObj = {\n\t\t\t\t\t\t\ttype: 'text',//说明是文本\n\t\t\t\t\t\t\ttext: '',//文本内容\n\t\t\t\t\t\t\tcolor: '0xFFFFFF',\n\t\t\t\t\t\t\tsize: 14,\n\t\t\t\t\t\t\tfontFamily: this.fontFamily,\n\t\t\t\t\t\t\tleading: 0,\n\t\t\t\t\t\t\talpha: 1,//透明度\n\t\t\t\t\t\t\tpaddingLeft: 0,//左边距离\n\t\t\t\t\t\t\tpaddingRight: 0,//右边距离\n\t\t\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\t\t\tmarginLeft: 0,\n\t\t\t\t\t\t\tmarginRight: 0,\n\t\t\t\t\t\t\tmarginTop: 0,\n\t\t\t\t\t\t\tmarginBottom: 0,\n\t\t\t\t\t\t\tbackgroundColor: '',\n\t\t\t\t\t\t\tbackAlpha: 1,\n\t\t\t\t\t\t\tbackRadius: 0,//背景圆角弧度，支持数字统一设置，也支持分开设置[30,20,20,50]，对应上左，上右，下右，下左\n\t\t\t\t\t\t\tclickEvent: ''\n\t\t\t\t\t\t};\n\t\t\t\t\t\tlist[i] = this.standardization(textObj, list[i]);\n\t\t\t\t\t\tclickEvent = this.clickEvent(list[i]['clickEvent']);\n\t\t\t\t\t\tclickArr.push(clickEvent);\n\t\t\t\t\t\tif (clickEvent['type'] == 'link') {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><div class=\"' + newEleid + '_bg\"></div><div class=\"' + newEleid + '_text\"><a href=\"' + clickEvent['link'] + '\" target=\"' + clickEvent['target'] + '\">' + list[i]['text'] + '</a></div></div>';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thtml += '<div  class=\"' + newEleid + '\" data-i=\"' + i + '\"><div class=\"' + newEleid + '_bg\"></div><div class=\"' + newEleid + '_text\">' + list[i]['text'] + '</div></div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tidArr.push(newEleid);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar objClickEvent = this.clickEvent(obj['clickEvent']);\n\t\t\tele.innerHTML = '<div class=\"' + bgid + '\"></div><div class=\"' + bgid + '_c\">' + html + '</div>';\n\t\t\tif (objClickEvent['type'] == 'javaScript' || objClickEvent['type'] == 'actionScript') {\n\t\t\t\tvar objClickHandler = function() {\n\t\t\t\t\teval(objClickEvent['fun']);\n\t\t\t\t\tthisTemp.sendJS('clickEvent', clk['type'] + '->' + clk['fun'].replace('thisTemp.', '').replace('()', ''));\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', objClickHandler, this.getByElement(bgid + '_c'))\n\t\t\t}\n\t\t\tthis.css(bgid + '_c', {\n\t\t\t\tposition: 'absolute',\n\t\t\t\tzIndex: '2'\n\t\t\t});\n\t\t\tfor (i = 0; i < idArr.length; i++) {\n\t\t\t\tvar clk = clickArr[i];\n\t\t\t\tif (clk['type'] == 'javaScript' || clk['type'] == 'actionScript') {\n\t\t\t\t\tvar clickHandler = function() {\n\t\t\t\t\t\t//clk = clickArr[this.getAttribute('data-i')];\n\t\t\t\t\t\tclk = clickArr[thisTemp.getDataset(this,'i')];\n\t\t\t\t\t\teval(clk['fun']);\n\t\t\t\t\t\tthisTemp.sendJS('clickEvent', clk['type'] + '->' + clk['fun'].replace('thisTemp.', '').replace('()', ''));\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', clickHandler, this.getByElement(idArr[i]))\n\t\t\t\t}\n\t\t\t\tswitch (list[i]['type']) {\n\t\t\t\tcase 'image':\n\t\t\t\tcase 'png':\n\t\t\t\tcase 'jpg':\n\t\t\t\tcase 'jpeg':\n\t\t\t\tcase 'gif':\n\t\t\t\t\tthis.css(idArr[i], {\n\t\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t\twidth: list[i]['width'] + 'px',\n\t\t\t\t\t\theight: list[i]['height'] + 'px',\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['alpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['alpha'].toString(),\n\t\t\t\t\t\tmarginLeft: list[i]['marginLeft'] + 'px',\n\t\t\t\t\t\tmarginRight: list[i]['marginRight'] + 'px',\n\t\t\t\t\t\tmarginTop: list[i]['marginTop'] + 'px',\n\t\t\t\t\t\tmarginBottom: list[i]['marginBottom'] + 'px',\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px',\n\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i] + '_image', {\n\t\t\t\t\t\twidth: list[i]['width'] + 'px',\n\t\t\t\t\t\theight: list[i]['height'] + 'px',\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'text':\n\t\t\t\t\tthis.css(idArr[i] + '_text', {\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['alpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['alpha'].toString(),\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px',\n\t\t\t\t\t\tfontFamily: list[i]['font'],\n\t\t\t\t\t\tfontSize: list[i]['size'] + 'px',\n\t\t\t\t\t\tcolor: list[i]['color'].replace('0x', '#'),\n\t\t\t\t\t\tlineHeight: list[i]['leading'] > 0 ? list[i]['leading'] + 'px': '',\n\t\t\t\t\t\tpaddingLeft: list[i]['paddingLeft'] + 'px',\n\t\t\t\t\t\tpaddingRight: list[i]['paddingRight'] + 'px',\n\t\t\t\t\t\tpaddingTop: list[i]['paddingTop'] + 'px',\n\t\t\t\t\t\tpaddingBottom: list[i]['paddingBottom'] + 'px',\n\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tzIndex: '3',\n\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i], {\n\t\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t\twidth: this.getByElement(idArr[i] + '_text').offsetWidth + 'px',\n\t\t\t\t\t\theight: this.getByElement(idArr[i] + '_text').offsetHeight + 'px',\n\t\t\t\t\t\tmarginLeft: list[i]['marginLeft'] + 'px',\n\t\t\t\t\t\tmarginRight: list[i]['marginRight'] + 'px',\n\t\t\t\t\t\tmarginTop: list[i]['marginTop'] + 'px',\n\t\t\t\t\t\tmarginBottom: list[i]['marginBottom'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i] + '_bg', {\n\t\t\t\t\t\twidth: this.getByElement(idArr[i] + '_text').offsetWidth + 'px',\n\t\t\t\t\t\theight: this.getByElement(idArr[i] + '_text').offsetHeight + 'px',\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['backAlpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['backAlpha'].toString(),\n\t\t\t\t\t\tborderRadius: list[i]['backRadius'] + 'px',\n\t\t\t\t\t\tbackgroundColor: list[i]['backgroundColor'].replace('0x', '#'),\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tzIndex: '2'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.css(bgid, {\n\t\t\t\twidth: this.getByElement(bgid + '_c').offsetWidth + 'px',\n\t\t\t\theight: this.getByElement(bgid + '_c').offsetHeight + 'px',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tfilter: 'alpha(opacity:' + bgAlpha + ')',\n\t\t\t\topacity: bgAlpha,\n\t\t\t\tbackgroundColor: bgColor.replace('0x', '#'),\n\t\t\t\tborderRadius: obj['backRadius'] + 'px',\n\t\t\t\tzIndex: '1'\n\t\t\t});\n\t\t\tthis.css(ele, {\n\t\t\t\twidth: this.getByElement(bgid).offsetWidth + 'px',\n\t\t\t\theight: this.getByElement(bgid).offsetHeight + 'px'\n\t\t\t});\n\t\t\tvar eidCoor = this.calculationCoor(ele);\n\t\t\tthis.css(ele, {\n\t\t\t\tleft: eidCoor['x'] + 'px',\n\t\t\t\ttop: eidCoor['y'] + 'px'\n\t\t\t});\n\n\t\t\tthis.elementArr.push(ele.className);\n\t\t\treturn ele;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t获取元件的属性，包括x,y,width,height,alpha\n\t\t*/\n\t\tgetElement: function(element) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getElement(element);\n\t\t\t}\n\t\t\tvar ele = element;\n\t\t\tif (this.varType(element) == 'string') {\n\t\t\t\tele = this.getByElement(element);\n\t\t\t}\n\t\t\tvar coor = this.getCoor(ele);\n\t\t\treturn {\n\t\t\t\tx: coor['x'],\n\t\t\t\ty: coor['y'],\n\t\t\t\twidth: ele.offsetWidth,\n\t\t\t\theight: ele.offsetHeight,\n\t\t\t\talpha: !this.isUndefined(this.css(ele, 'opacity')) ? parseFloat(this.css(ele, 'opacity')) : 1,\n\t\t\t\tshow: this.css(ele, 'display') == 'none' ? false: true\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t控制元件显示和隐藏\n\t\t*/\n\t\telementShow: function(element, show) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.elementShow(element, show);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(element) == 'string') {\n\t\t\t\tif (element) {\n\t\t\t\t\tthis.css(ele, 'display', show == true ? 'block': 'none');\n\t\t\t\t} else {\n\t\t\t\t\tvar arr = this.elementTempArr;\n\t\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\t\tthis.css(arr[i], 'display', show == true ? 'block': 'none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据节点的x,y计算在播放器里的坐标\n\t\t*/\n\t\tcalculationCoor: function(ele) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.calculationCoor(ele);\n\t\t\t}\n\t\t\tif(this.isUndefined(ele)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (ele == []) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar x, y, position = [];\n\t\t\tvar w = this.PD.offsetWidth,\n\t\t\th = this.PD.offsetHeight;\n\t\t\tvar ew = ele.offsetWidth,\n\t\t\teh = ele.offsetHeight;\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'x'))) {\n\t\t\t\tx = this.getDataset(ele, 'x');\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'y'))) {\n\t\t\t\ty = this.getDataset(ele, 'y');\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'position'))) {\n\t\t\t\ttry {\n\t\t\t\t\tposition = this.getDataset(ele, 'position').toString().split(',');\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t\tif (position.length > 0) {\n\t\t\t\tposition.push(null, null, null, null);\n\t\t\t\tvar i = 0;\n\t\t\t\tfor (i = 0; i < position.length; i++) {\n\t\t\t\t\tif (this.isUndefined(position[i]) || position[i] == null || position[i] == 'null' || position[i] == '') {\n\t\t\t\t\t\tposition[i] = null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition[i] = parseFloat(position[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (position[2] == null) {\n\t\t\t\t\tswitch (position[0]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tx = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tx = parseInt((w - ew) * 0.5);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tx = w - ew;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (position[0]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tx = position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tx = parseInt(w * 0.5) + position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tx = w + position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (position[3] == null) {\n\t\t\t\t\tswitch (position[1]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\ty = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ty = parseInt((h - eh) * 0.5);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ty = h - eh;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (position[1]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\ty = position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ty = parseInt(h * 0.5) + position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ty = h + position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (x.substring(x.length - 1, x.length) == '%') {\n\t\t\t\t\tx = Math.floor(parseInt(x.substring(0, x.length - 1)) * w * 0.01);\n\t\t\t\t}\n\t\t\t\tif (y.substring(y.length - 1, y.length) == '%') {\n\t\t\t\t\ty = Math.floor(parseInt(y.substring(0, y.length - 1)) * h * 0.01);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t修改新增元件的坐标\n\t\t*/\n\t\tchangeElementCoor: function() {\n\t\t\tfor (var i = 0; i < this.elementArr.length; i++) {\n\t\t\t\tif(!this.isUndefined(this.getByElement(this.elementArr[i]))){\n\t\t\t\t\tif (this.getByElement(this.elementArr[i]) != []) {\n\t\t\t\t\t\tvar c = this.calculationCoor(this.getByElement(this.elementArr[i]));\n\t\t\t\t\t\tif (c['x'] && c['y']) {\n\t\t\t\t\t\t\tthis.css(this.elementArr[i], {\n\t\t\t\t\t\t\t\ttop: c['y'] + 'px',\n\t\t\t\t\t\t\t\tleft: c['x'] + 'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t缓动效果集\n\t\t*/\n\t\ttween: function() {\n\t\t\tvar Tween = {\n\t\t\t\tNone: { //均速运动\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuadratic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * (t /= d) * (t - 2) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t + b;\n\t\t\t\t\t\treturn - c / 2 * ((--t) * (t - 2) - 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tCubic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * t + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * t + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuartic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * ((t = t / d - 1) * t * t * t - 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;\n\t\t\t\t\t\treturn - c / 2 * ((t -= 2) * t * t * t - 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuintic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tSine: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * Math.sin(t / d * (Math.PI / 2)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tExponential: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn (t == 0) ? b: c * Math.pow(2, 10 * (t / d - 1)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn (t == d) ? b + c: c * ( - Math.pow(2, -10 * t / d) + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif (t == d) return b + c;\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n\t\t\t\t\t\treturn c / 2 * ( - Math.pow(2, -10 * --t) + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tCircular: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return - c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n\t\t\t\t\t\treturn c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tElastic: {\n\t\t\t\t\teaseIn: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\t\t\tif (!p) p = d * .3;\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\treturn - (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\t\t\tif (!p) p = d * .3;\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\treturn (a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b);\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d / 2) == 2) return b + c;\n\t\t\t\t\t\tif (!p) p = d * (.3 * 1.5);\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\tif (t < 1) return - .5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tBack: {\n\t\t\t\t\teaseIn: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\treturn c * (t /= d) * t * ((s + 1) * t - s) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tBounce: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c - Tween.Bounce.easeOut(d - t, 0, c, d) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d) < (1 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * t * t) + b;\n\t\t\t\t\t\t} else if (t < (2 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (1.5 / 2.75)) * t + .75) + b;\n\t\t\t\t\t\t} else if (t < (2.5 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (2.25 / 2.75)) * t + .9375) + b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (2.625 / 2.75)) * t + .984375) + b;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif (t < d / 2) return Tween.Bounce.easeIn(t * 2, 0, c, d) * .5 + b;\n\t\t\t\t\t\telse return Tween.Bounce.easeOut(t * 2 - d, 0, c, d) * .5 + c * .5 + b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn Tween;\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t缓动效果\n\t\t\tele:Object=需要缓动的对象,\n\t\t\tparameter:String=需要改变的属性：x,y,width,height,alpha,\n\t\t\teffect:String=效果名称,\n\t\t\tstart:Int=起始值,\n\t\t\tend:Int=结束值,\n\t\t\tspeed:Number=运动的总秒数，支持小数\n\t\t*/\n\t\tanimate: function(attribute) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.animate(attribute);\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar animateId = 'animate_' + this.randomString();\n\t\t\tvar obj = {\n\t\t\t\telement: null,\n\t\t\t\tparameter: 'x',\n\t\t\t\tstatic: false,\n\t\t\t\teffect: 'None.easeIn',\n\t\t\t\tstart: null,\n\t\t\t\tend: null,\n\t\t\t\tspeed: 0,\n\t\t\t\toverStop: false,\n\t\t\t\tpauseStop: false,\n\t\t\t\t//暂停播放时缓动是否暂停\n\t\t\t\tcallBack: null\n\t\t\t};\n\t\t\tobj = this.standardization(obj, attribute);\n\t\t\tif (obj['element'] == null || obj['speed'] == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar w = this.PD.offsetWidth,\n\t\t\th = this.PD.offsetHeight;\n\t\t\tvar effArr = (obj['effect'] + '.').split('.');\n\t\t\tvar tweenFun = this.tween()[effArr[0]][effArr[1]];\n\t\t\tvar eleCoor = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t\tif (this.isUndefined(tweenFun)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t//先将该元件从元件数组里删除，让其不再跟随播放器的尺寸改变而改变位置\n\t\t\tvar def = this.arrIndexOf(this.elementArr, obj['element'].className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementTempArr.push(obj['element'].className);\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\t//var run = true;\n\t\t\tvar css = {};\n\t\t\t//对传递的参数进行转化，x和y转化成left,top\n\t\t\tvar pm = this.getElement(obj['element']); //包含x,y,width,height,alpha属性\n\t\t\tvar t = 0; //当前时间\n\t\t\tvar b = 0; //初始值\n\t\t\tvar c = 0; //变化量\n\t\t\tvar d = obj['speed'] * 1000; //持续时间\n\t\t\tvar timerTween = null;\n\t\t\tvar tweenObj = null;\n\t\t\tvar start = obj['start'] == null ? '': obj['start'].toString();\n\t\t\tvar end = obj['end'] == null ? '': obj['end'].toString();\n\t\t\tswitch (obj['parameter']) {\n\t\t\tcase 'x':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['x'];\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(start) * w * 0.01;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(start);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['x'] - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) * w * 0.01 - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(end);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'y':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['y'];\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(start) * h * 0.01;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(start);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['y'] - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) * h * 0.01 - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(end);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'alpha':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['alpha'] * 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(obj['start']);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(obj['start'] * 100);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['alpha'] * 100 - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) * 100 - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) * 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(obj['end']) * 100 - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar callBack = function() {\n\t\t\t\tvar index = thisTemp.arrIndexOf(thisTemp.animateElementArray, animateId);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthisTemp.animateArray.splice(index, 1);\n\t\t\t\t\tthisTemp.animateElementArray.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tindex = thisTemp.arrIndexOf(thisTemp.animatePauseArray, animateId);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthisTemp.animatePauseArray.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tif (obj['callBack'] != null && obj['element'] && obj['callBack'] != 'callBack' && obj['callBack'] != 'tweenX' && obj['tweenY'] != 'callBack' && obj['callBack'] != 'tweenAlpha') {\n\t\t\t\t\tvar cb = eval(obj['callBack']);\n\t\t\t\t\tcb(obj['element']);\n\t\t\t\t\tobj['callBack'] = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar stopTween = function() {\n\t\t\t\tif (timerTween != null) {\n\t\t\t\t\tif (timerTween.runing) {\n\t\t\t\t\t\ttimerTween.stop();\n\t\t\t\t\t}\n\t\t\t\t\ttimerTween = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenX = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\tleft: Math.ceil(tweenFun(t, b, c, d)) + 'px'\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['top'] = eleCoor['y'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defX = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defX > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defX, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenY = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\ttop: Math.ceil(tweenFun(t, b, c, d)) + 'px'\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['left'] = eleCoor['x'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defY = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defY > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defY, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenAlpha = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\tvar ap = Math.ceil(tweenFun(t, b, c, d)) * 0.01;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + ap + ')',\n\t\t\t\t\t\topacity: ap.toString()\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['top'] = eleCoor['y'] + 'px';\n\t\t\t\t\t\tcss['left'] = eleCoor['x'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defA = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defA > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defA, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tswitch (obj['parameter']) {\n\t\t\t\tcase 'x':\n\t\t\t\t\ttweenObj = tweenX;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'y':\n\t\t\t\t\ttweenObj = tweenY;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'alpha':\n\t\t\t\t\ttweenObj = tweenAlpha;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\ttimerTween = new thisTemp.timer(10, tweenObj);\n\t\t\ttimerTween.callBackFunction = callBack;\n\t\t\tif (obj['overStop']) {\n\t\t\t\tvar mouseOver = function() {\n\t\t\t\t\tif (timerTween != null && timerTween.runing) {\n\t\t\t\t\t\ttimerTween.stop();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('mouseover', mouseOver, obj['element']);\n\t\t\t\tvar mouseOut = function() {\n\t\t\t\t\tvar start = true;\n\t\t\t\t\tif (obj['pauseStop'] && thisTemp.getMetaDate()['paused']) {\n\t\t\t\t\t\tstart = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (timerTween != null && !timerTween.runing && start) {\n\t\t\t\t\t\ttimerTween.start();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('mouseout', mouseOut, obj['element']);\n\t\t\t}\n\n\t\t\tthis.animateArray.push(timerTween);\n\t\t\tthis.animateElementArray.push(animateId);\n\t\t\tif (obj['pauseStop']) {\n\t\t\t\tthis.animatePauseArray.push(animateId);\n\t\t\t}\n\t\t\treturn animateId;\n\t\t},\n\t\t/*\n\t\t\t接口函数函数\n\t\t\t继续运行animate\n\t\t*/\n\t\tanimateResume: function(id) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.animateResume(this.isUndefined(id) ? '': id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (id != '' && !this.isUndefined(id) && id != 'pause') {\n\t\t\t\tarr.push(id);\n\t\t\t} else {\n\t\t\t\tif (id === 'pause') {\n\t\t\t\t\tarr = this.animatePauseArray;\n\t\t\t\t} else {\n\t\t\t\t\tarr = this.animateElementArray;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar index = this.arrIndexOf(this.animateElementArray, arr[i]);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.animateArray[index].start();\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t暂停运行animate\n\t\t*/\n\t\tanimatePause: function(id) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.animatePause(this.isUndefined(id) ? '': id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (id != '' && !this.isUndefined(id) && id != 'pause') {\n\t\t\t\tarr.push(id);\n\t\t\t} else {\n\t\t\t\tif (id === 'pause') {\n\t\t\t\t\tarr = this.animatePauseArray;\n\t\t\t\t} else {\n\t\t\t\t\tarr = this.animateElementArray;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar index = this.arrIndexOf(this.animateElementArray, arr[i]);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.animateArray[index].stop();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据ID删除数组里对应的内容\n\t\t*/\n\t\tdeleteAnimate: function(id) {\n\t\t\tif (this.playerType == 'flashplayer' && this.V) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.deleteAnimate(id);\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar index = this.arrIndexOf(this.animateElementArray, id);\n\t\t\tif (index > -1) {\n\t\t\t\tthis.animateArray[index].callBackFunction();\n\t\t\t\tthis.animateArray.splice(index, 1);\n\t\t\t\tthis.animateElementArray.splice(index, 1);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t删除外部新建的元件\n\t\t*/\n\t\tdeleteElement: function(ele) {\n\t\t\tif (this.playerType == 'flashplayer' && this.V) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.deleteElement(ele);\n\t\t\t\t} catch(event) {}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//先将该元件从元件数组里删除，让其不再跟随播放器的尺寸改变而改变位置\n\t\t\tvar def = this.arrIndexOf(this.elementArr, ele.className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdef = this.arrIndexOf(this.elementTempArr, ele.className);\n\t\t\t\tif (def > -1) {\n\t\t\t\t\tthis.elementTempArr.splice(def, 1);\n\t\t\t\t}\n\t\t\t} catch(event) {}\n\t\t\tthis.deleteAnimate(ele.className);\n\t\t\tthis.deleteChild(ele);\n\t\t},\n\t\t/*\n\t\t\t--------------------------------------------------------------\n\t\t\t共用函数部分\n\t\t\t以下函数并非只能在本程序中使用，也可以在页面其它项目中使用\n\t\t\t根据ID或className获取元素对象\n\t\t*/\n\t\tgetByElement: function(obj, parent) {\n\t\t\tif (this.isUndefined(parent)) {\n\t\t\t\tparent = document;\n\t\t\t}\n\t\t\tvar num = obj.substr(0, 1);\n\t\t\tvar res = [];\n\t\t\tif (num != '#') {\n\t\t\t\tif (num == '.') {\n\t\t\t\t\tobj = obj.substr(1, obj.length);\n\t\t\t\t}\n\t\t\t\tif (parent.getElementsByClassName) {\n\t\t\t\t\tres = parent.getElementsByClassName(obj);\n\t\t\t\t\tif(!res.length){\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar reg = new RegExp(' ' + obj + ' ', 'i');\n\t\t\t\t\tvar ele = parent.getElementsByTagName('*');\n\t\t\t\t\tfor (var i = 0; i < ele.length; i++) {\n\t\t\t\t\t\tif (reg.test(' ' + ele[i].className + ' ')) {\n\t\t\t\t\t\t\tres.push(ele[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (res.length > 0) {\n\t\t\t\t\tres=res[0];\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tres=null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (num == '#') {\n\t\t\t\t\tobj = obj.substr(1, obj.length);\n\t\t\t\t}\n\t\t\t\ttry{\n\t\t\t\t\tres=document.getElementById(obj);\n\t\t\t\t}\n\t\t\t\tcatch(event){\n\t\t\t\t\tres=null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t/*\n\t\t \t共用函数\n\t\t\t功能：修改样式或获取指定样式的值，\n\t\t\t\telem：ID对象或ID对应的字符，如果多个对象一起设置，则可以使用数组\n\t\t\t\tattribute：样式名称或对象，如果是对象，则省略掉value值\n\t\t\t\tvalue：attribute为样式名称时，定义的样式值\n\t\t\t\t示例一：\n\t\t\t\tthis.css(ID,'width','100px');\n\t\t\t\t示例二：\n\t\t\t\tthis.css('id','width','100px');\n\t\t\t\t示例三：\n\t\t\t\tthis.css([ID1,ID2,ID3],'width','100px');\n\t\t\t\t示例四：\n\t\t\t\tthis.css(ID,{\n\t\t\t\t\twidth:'100px',\n\t\t\t\t\theight:'100px'\n\t\t\t\t});\n\t\t\t\t示例五(获取宽度)：\n\t\t\t\tvar width=this.css(ID,'width');\n\t\t*/\n\t\tcss: function(elem, attribute, value) {\n\t\t\tvar i = 0;\n\t\t\tvar k = '';\n\t\t\tif (this.varType(elem) == 'array') { //数组\n\t\t\t\tfor (i = 0; i < elem.length; i++) {\n\t\t\t\t\t\tvar el;\n\t\t\t\t\t\tif (typeof(elem[i]) == 'string') {\n\t\t\t\t\t\t\tel = this.getByElement(elem[i])\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel = elem[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof(attribute) != 'object') {\n\t\t\t\t\t\t\tif (!this.isUndefined(value)) {\n\t\t\t\t\t\t\t\tel.style[attribute] = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (k in attribute) {\n\t\t\t\t\t\t\t\tif (!this.isUndefined(attribute[k])) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tel.style[k] = attribute[k];\n\t\t\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\t\t\tthis.log(event);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\n\t\t\t}\n\t\t\tif (this.varType(elem) == 'string') {\n\t\t\t\telem = this.getByElement(elem);\n\t\t\t}\n\t\t\tif (this.varType(attribute) != 'object') {\n\t\t\t\tif (!this.isUndefined(value)) {\n\t\t\t\t\telem.style[attribute] = value;\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.isUndefined(this.getStyle(elem, attribute))) {\n\t\t\t\t\t\treturn this.getStyle(elem, attribute);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (k in attribute) {\n\t\t\t\t\tif (!this.isUndefined(attribute[k])) {\n\t\t\t\t\t\telem.style[k] = attribute[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t兼容型获取style\n\t\t*/\n\t\tgetStyle: function(obj, attr) {\n\t\t\tif (!this.isUndefined(obj.style[attr])) {\n\t\t\t\treturn obj.style[attr];\n\t\t\t} else {\n\t\t\t\tif (obj.currentStyle) {\n\t\t\t\t\treturn obj.currentStyle[attr];\n\t\t\t\t} else {\n\t\t\t\t\treturn getComputedStyle(obj, false)[attr];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断变量是否存在或值是否为undefined\n\t\t*/\n\t\tisUndefined: function(value) {\n\t\t\ttry {\n\t\t\t\tif (value === 'undefined' || value === undefined || value === null || value === 'NaN' || value === NaN) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} catch(event) {\n\t\t\t\tthis.log(event);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t \t共用函数\n\t\t\t外部监听函数\n\t\t*/\n\t\taddListener: function(name, funName) {\n\t\t\tif (name && funName) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tvar ff = ''; //定义用来向flashplayer传递的函数字符\n\t\t\t\t\tif (this.varType(funName) == 'function') {\n\t\t\t\t\t\tff = this.getParameterNames(funName);\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.addListener(name, ff);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar have = false;\n\t\t\t\tfor (var i = 0; i < this.listenerJsArr.length; i++) {\n\t\t\t\t\tvar arr = this.listenerJsArr[i];\n\t\t\t\t\tif (arr[0] == name && arr[1] == funName) {\n\t\t\t\t\t\thave = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!have) {\n\t\t\t\t\tthis.listenerJsArr.push([name, funName]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t外部删除监听函数\n\t\t*/\n\t\tremoveListener: function(name, funName) {\n\t\t\tif (name && funName) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tvar ff = ''; //定义用来向flashplayer传递的函数字符\n\t\t\t\t\tif (this.varType(funName) == 'function') {\n\t\t\t\t\t\tff = this.getParameterNames(funName);\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeListener(name, ff);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfor (var i = 0; i < this.listenerJsArr.length; i++) {\n\t\t\t\t\tvar arr = this.listenerJsArr[i];\n\t\t\t\t\tif (arr[0] == name && arr[1] == funName) {\n\t\t\t\t\t\tthis.listenerJsArr.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部监听函数，调用方式：\n\t\t\tthis.addListenerInside('click',function(event){},[ID]);\n\t\t\td值为空时，则表示监听当前的视频播放器\n\t\t*/\n\t\taddListenerInside: function(e, f, d, t) {\n\t\t\tif (this.isUndefined(t)) {\n\t\t\t\tt = false;\n\t\t\t}\n\t\t\tvar o = this.V;\n\t\t\tif (!this.isUndefined(d)) {\n\t\t\t\to = d;\n\t\t\t}\n\t\t\tif (o.addEventListener) {\n\t\t\t\ttry {\n\t\t\t\t\to.addEventListener(e, f, t);\n\t\t\t\t} catch(event) {this.log(event)}\n\t\t\t} else if (o.attachEvent) {\n\t\t\t\ttry {\n\t\t\t\t\to.attachEvent('on' + e, f);\n\t\t\t\t} catch(event) {this.log(event)}\n\t\t\t} else {\n\t\t\t\to['on' + e] = f;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t删除内部监听函数，调用方式：\n\t\t\tthis.removeListenerInside('click',function(event){}[,ID]);\n\t\t\td值为空时，则表示监听当前的视频播放器\n\t\t*/\n\t\tremoveListenerInside: function(e, f, d, t) {\n\t\t\t/*if(this.playerType=='flashplayer' && this.getParameterNames(f) && this.isUndefined(d)) {\n\t\t\t\treturn;\n\t\t\t}*/\n\t\t\tif (this.isUndefined(t)) {\n\t\t\t\tt = false;\n\t\t\t}\n\t\t\tvar o = this.V;\n\t\t\tif (!this.isUndefined(d)) {\n\t\t\t\to = d;\n\t\t\t}\n\t\t\tif (o.removeEventListener) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.addNum--;\n\t\t\t\t\to.removeEventListener(e, f, t);\n\t\t\t\t} catch(e) {}\n\t\t\t} else if (o.detachEvent) {\n\t\t\t\ttry {\n\t\t\t\t\to.detachEvent('on' + e, f);\n\t\t\t\t} catch(e) {}\n\t\t\t} else {\n\t\t\t\to['on' + e] = null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t统一分配监听，以达到跟as3同样效果\n\t\t*/\n\t\tsendJS: function(name, val) {\n\t\t\tif (this.adPlayerPlay && name.substr( - 2) != 'Ad') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(name)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar list = this.listenerJsArr;\n\t\t\tvar obj = this.vars['variable'];\n\t\t\tif(this.vars['debug']){\n\t\t\t\tthis.log(name+':'+val);\n\t\t\t}\n\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\tvar arr = list[i];\t\t\t\t\n\t\t\t\tif (arr[0] == name) {\n\t\t\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\t\t\tswitch (arr[1].length) {\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\tarr[1](val);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tarr[1](val, obj);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tarr[1]();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarr[1](obj);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取函数名称，如 function ckplayer(){} var fun=ckplayer，则getParameterNames(fun)=ckplayer\n\t\t*/\n\t\tgetParameterNames: function(fn) {\n\t\t\tif (this.varType(fn) !== 'function') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\n\t\t\tvar code = fn.toString().replace(COMMENTS, '');\n\t\t\tvar result = code.slice(code.indexOf(' ') + 1, code.indexOf('('));\n\t\t\treturn result === null ? false: result;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t时间替换\n\t\t*/\n\t\treplaceTime:function(str,obj){\n\t\t\t//var timeStrArr = ['[$timeh]', '[$timei]', '[$timeI]', '[$times]', '[$timeS]', '[$durationh]', '[$durationi]', '[$durationI]', '[$durations]', '[$durationS]','[$liveTimey]', '[$liveTimeY]', '[$liveTimem]', '[$liveTimed]', '[$liveTimeh]', '[$liveTimei]', '[$liveTimes]', '[$liveLanguage]'];\n\t\t\tfor(var k in obj){\n\t\t\t\tstr=str.replace('[$'+k+']',obj[k])\n\t\t\t}\n\t\t\treturn str;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t格式化时分秒\n\t\t\tt:Int：秒数,dt:总时间的秒数\n\t\t*/\n\t\tformatTime: function(t,dt,str) {\n\t\t\tif (this.isUndefined(t) || isNaN(t)) {\n\t\t\t\tseconds = 0;\n\t\t\t}\n\t\t\tif (this.isUndefined(dt) || isNaN(dt)) {\n\t\t\t\tdt = 0;\n\t\t\t}\n\t\t\tvar minuteS=Math.floor(t/60);//将秒数直接转化成分钟取整，这个可以得到如80分钟\n\t\t\tvar minute=minuteS;//获取准确的分钟\n\t\t\tvar hourS=Math.floor(t/3600);//将秒数直接转化成小时取整，这个可以得到100小时\n\t\t\tvar second=t %60;\n\t\t\tif(minuteS>=60){\n\t\t\t\tminute=Math.floor(minuteS%60);\n\t\t\t}\n\t\t\t//总时间\n\t\t\tvar hminuteS=Math.floor(dt/60);//将秒数直接转化成分钟取整，这个可以得到如80分钟\n\t\t\tvar hminute=hminuteS;//获取准确的分钟\n\t\t\tvar hhourS=Math.floor(dt/3600);//将秒数直接转化成小时取整，这个可以得到100小时\n\t\t\tvar hsecond=dt %60;\n\t\t\tif(hminuteS>=60){\n\t\t\t\thminute=Math.floor(hminuteS%60);\n\t\t\t}\n\t\t\t//当前时间\n\t\t\tvar nowDate = new Date();\n\t\t\tvar obj={\n\t\t\t\ttimeh:hourS,//时\n\t\t\t\ttimei:minute,//分\n\t\t\t\ttimeI:minuteS,//只有分\n\t\t\t\ttimes:second,//秒\n\t\t\t\ttimeS:t,//只有秒\n\t\t\t\tdurationh:hhourS,//时\n\t\t\t\tdurationi:hminute,//分\n\t\t\t\tdurationI:hminuteS,//只有分\n\t\t\t\tdurations:hsecond,//秒\n\t\t\t\tdurationS:dt,//只有秒\n\t\t\t\tliveTimey:nowDate.getYear(),//获取当前年份(2位)\n\t\t\t\tliveTimeY:nowDate.getFullYear(),//获取完整的年份(4位,1970-????)\n\t\t\t\tliveTimem:nowDate.getMonth()+1,//获取当前月份(0-11,0代表1月)\n\t\t\t\tliveTimed:nowDate.getDate(),// 获取当前日(1-31)\n\t\t\t\tliveTimeh:nowDate.getHours(),    // 获取当前小时数(0-23)\n\t\t\t\tliveTimei:nowDate.getMinutes(),// 获取当前分钟数(0-59)\n\t\t\t\tliveTimes:nowDate.getSeconds()// 获取当前秒数(0-59)\n\t\t\t};\n\t\t\tfor(var k in obj){\n\t\t\t\tif(obj[k]<10){\n\t\t\t\t\tobj[k]='0'+Math.floor(obj[k]);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tobj[k]=Math.floor(obj[k]).toString();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.replaceTime(str,obj);\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取一个随机字符\n\t\t\tlen：随机字符长度\n\t\t*/\n\t\trandomString: function(len) {\n\t\t\tlen = len || 16;\n\t\t\tvar chars = 'abcdefghijklmnopqrstuvwxyz';\n\t\t\tvar maxPos = chars.length;\n\t\t\tvar val = '';\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tval += chars.charAt(Math.floor(Math.random() * maxPos));\n\t\t\t}\n\t\t\treturn 'ch' + val;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取字符串长度,中文算两,英文数字算1\n\t\t*/\n\t\tgetStringLen: function(str) {\n\t\t\tif(this.isUndefined(str)){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tvar len = 0;\n\t\t\tfor (var i = 0; i < str.length; i++) {\n\t\t\t\tif (str.charCodeAt(i) > 127 || str.charCodeAt(i) == 94) {\n\t\t\t\t\tlen += 2;\n\t\t\t\t} else {\n\t\t\t\t\tlen++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn len;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t用来为ajax提供支持\n\t\t*/\n\t\tcreateXHR: function() {\n\t\t\tif (window.XMLHttpRequest) {\n\t\t\t\t//IE7+、Firefox、Opera、Chrome 和Safari\n\t\t\t\treturn new XMLHttpRequest();\n\t\t\t} else if (window.ActiveXObject) {\n\t\t\t\t//IE6 及以下\n\t\t\t\ttry {\n\t\t\t\t\treturn new ActiveXObject('Microsoft.XMLHTTP');\n\t\t\t\t} catch(event) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn new ActiveXObject('Msxml2.XMLHTTP');\n\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\tthis.eject(this.errorList[7]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.eject(this.errorList[8]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\tajax调用\n\t\t*/\n\t\tajax: function(cObj) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar callback = null;\n\t\t\tvar obj = {\n\t\t\t\tmethod: 'get',//请求类型\n\t\t\t\tdataType: 'json',//请求的数据类型\n\t\t\t\tcharset: 'utf-8',\n\t\t\t\tasync: false,//true表示异步，false表示同步\n\t\t\t\turl: '',\n\t\t\t\tdata: null,\n\t\t\t\tsuccess: null,\n\t\t\t\terror:null\n\t\t\t};\n\t\t\tif (this.varType(cObj) != 'object') {\n\t\t\t\tthis.eject(this.errorList[9]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tobj = this.standardization(obj, cObj);\n\t\t\tif (obj.dataType === 'json' || obj.dataType === 'text' || obj.dataType === 'html' || obj.dataType === 'xml') {\n\t\t\t\tvar xhr = this.createXHR();\n\t\t\t\tcallback = function() {\n\t\t\t\t\t//判断http的交互是否成功\n\t\t\t\t\tif (xhr.status == 200) {\n\t\t\t\t\t\tif (thisTemp.isUndefined(obj.success)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (obj.dataType === 'json') {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tobj.success(eval('(' + xhr.responseText + ')')); //回调传递参数\n\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\tif(!thisTemp.isUndefined(obj['error'])){\n\t\t\t\t\t\t\t\t\tobj.error(event);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj.success(xhr.responseText); //回调传递参数\n\t\t\t\t\t\t}\n\t\t\t\t\t} \n\t\t\t\t\telse {\n\t\t\t\t\t\tobj.success(null);\n\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[10], 'Ajax.status:' + xhr.status);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tobj.url = obj.url.indexOf('?') == -1 ? obj.url + '?rand=' + this.randomString(6) : obj.url;\n\t\t\t\tobj.data = this.formatParams(obj.data); //通过params()将名值对转换成字符串\n\t\t\t\tif (obj.method === 'get' && !this.isUndefined(obj.data)) {\n\t\t\t\t\tif (obj.data != '') {\n\t\t\t\t\t\tif (obj.url.indexOf('?') == -1) {\n\t\t\t\t\t\t\tobj.url += '?' + obj.data\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj.url += '&' + obj.data;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (obj.async === true) { //true表示异步，false表示同步\n\t\t\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t\t\tif (xhr.readyState == 4 && callback != null) { //判断对象的状态是否交互完成\n\t\t\t\t\t\t\tcallback(); //回调\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\txhr.open(obj.method, obj.url, obj.async);\n\t\t\t\tif (obj.method === 'post') {\n\t\t\t\t\ttry{\n\t\t\t\t\t\txhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\t\t\t\t\t\txhr.setRequestHeader('charset', obj['charset']);\n\t\t\t\t\t\txhr.send(obj.data);\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttry{\n\t\t\t\t\t\txhr.send(null); //get方式则填null\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (obj.async === false) { //同步\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t}\n\t\t\telse if (obj.dataType === 'jsonp') {\n\t\t\t\tvar oHead = document.getElementsByTagName('head')[0];\n\t\t\t\tvar oScript = document.createElement('script');\n\t\t\t\tvar callbackName = 'callback' + new Date().getTime();\n\t\t\t\tvar params = this.formatParams(obj.data) + '&callback=' + callbackName; //按时间戳拼接字符串\n\t\t\t\tcallback = obj.success;\n\t\t\t\t//拼接好src\n\t\t\t\toScript.src = obj.url.split('?') + '?' + params;\n\t\t\t\t//插入script标签\n\t\t\t\toHead.insertBefore(oScript, oHead.firstChild);\n\t\t\t\t//jsonp的回调函数\n\t\t\t\twindow[callbackName] = function(json) {\n\t\t\t\t\tcallback(json);\n\t\t\t\t\toHead.removeChild(oScript);\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t动态加载js\n\t\t*/\n\t\tloadJs: function(path, success) {\n\t\t\tvar oHead = document.getElementsByTagName('HEAD').item(0);\n\t\t\tvar oScript = document.createElement('script');\n\t\t\toScript.type = 'text/javascript';\n\t\t\toScript.src = this.getNewUrl(path);\n\t\t\toHead.appendChild(oScript);\n\t\t\toScript.onload = function() {\n\t\t\t\tsuccess();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t排除IE6-9\n\t\t*/\n\t\tisMsie: function() {\n\t\t\tvar browser = navigator.appName;\n\t\t\tvar b_version = navigator.appVersion;\n\t\t\tvar version = b_version.split(';');\n\t\t\tvar trim_Version = '';\n\t\t\tif (version.length > 1) {\n\t\t\t\ttrim_Version = version[1].replace(/[ ]/g, '');\n\t\t\t}\n\t\t\tif (browser == 'Microsoft Internet Explorer' && (trim_Version == 'MSIE6.0' || trim_Version == 'MSIE7.0' || trim_Version == 'MSIE8.0' || trim_Version == 'MSIE9.0' || trim_Version == 'MSIE10.0')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断是否安装了flashplayer\n\t\t*/\n\t\tuploadFlash: function() {\n\t\t\tvar swf;\n\t\t\tif (navigator.userAgent.indexOf('MSIE') > 0) {\n\t\t\t\ttry {\n\t\t\t\t\tvar swf = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n\t\t\t\t\treturn true;\n\t\t\t\t} catch(e) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (navigator.userAgent.indexOf('Firefox') > 0) {\n\t\t\t\tswf = navigator.plugins['Shockwave Flash'];\n\t\t\t\tif (swf) {\n\t\t\t\t\treturn true\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t检测浏览器是否支持HTML5-Video\n\t\t*/\n\t\tsupportVideo: function() {\n\t\t\tif (!this.isMsie()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif ( !! document.createElement('video').canPlayType) {\n\t\t\t\tvar vidTest = document.createElement('video');\n\t\t\t\tvar oggTest;\n\t\t\t\ttry {\n\t\t\t\t\toggTest = vidTest.canPlayType('video/ogg; codecs=\"theora, vorbis\"');\n\t\t\t\t} catch(error) {\n\t\t\t\t\toggTest = false;\n\t\t\t\t}\n\t\t\t\tif (!oggTest) {\n\t\t\t\t\tvar h264Test;\n\t\t\t\t\ttry {\n\t\t\t\t\t\th264Test = vidTest.canPlayType('video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"');\n\t\t\t\t\t} catch(error) {\n\t\t\t\t\t\th264Test = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (!h264Test) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (h264Test == \"probably\") {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (oggTest == \"probably\") {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取属性值\n\t\t*/\n\t\tgetDataset: function(ele, z) {\n\t\t\ttry {\n\t\t\t\treturn ele.dataset[z];\n\t\t\t} catch(error) {\n\t\t\t\ttry {\n\t\t\t\t\treturn ele.getAttribute('data-' + z)\n\t\t\t\t} catch(error) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t返回flashplayer的对象\n\t\t*/\n\t\tgetObjectById: function(id) {\n\t\t\tvar x = null;\n\t\t\tvar y = this.getByElement('#' + id);\n\t\t\tvar r = 'embed';\n\t\t\tif (y && y.nodeName == 'OBJECT') {\n\t\t\t\tif (this.varType(y.SetVariable) != 'undefined') {\n\t\t\t\t\tx = y;\n\t\t\t\t} else {\n\t\t\t\t\tvar z = y.getElementsByTagName(r)[0];\n\t\t\t\t\tif (z) {\n\t\t\t\t\t\tx = z;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn x;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t对象转地址字符串\n\t\t*/\n\t\tformatParams: function(data) {\n\t\t\tvar arr = [];\n\t\t\tfor (var i in data) {\n\t\t\t\tarr.push(encodeURIComponent(i) + '=' + encodeURIComponent(data[i]));\n\t\t\t}\n\t\t\treturn arr.join('&');\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t对地址进行冒泡排序\n\t\t*/\n\t\tarrSort: function(arr) {\n\t\t\tvar temp = [];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tfor (var j = 0; j < arr.length - i; j++) {\n\t\t\t\t\tif (!this.isUndefined(arr[j + 1]) && arr[j][3] < arr[j + 1][3]) {\n\t\t\t\t\t\ttemp = arr[j + 1];\n\t\t\t\t\t\tarr[j + 1] = arr[j];\n\t\t\t\t\t\tarr[j] = temp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取文件名称\n\t\t*/\n\t\tgetFileName: function(filepath) {\n\t\t\tif(!filepath) return '';\n\t\t\treturn filepath.replace(/(.*\\/)*([^.]+).*/ig,'$2');\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t判断文件后缀\n\t\t*/\n\t\tgetFileExt: function(filepath) {\n\t\t\tif (filepath != '' && !this.isUndefined(filepath)) {\n\t\t\t\tif (filepath.indexOf('?') > -1) {\n\t\t\t\t\tfilepath = filepath.split('?')[0];\n\t\t\t\t}\n\t\t\t\tvar pos = '.' + filepath.replace(/.+\\./, '');\n\t\t\t\treturn pos.toLowerCase();\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t判断是否是移动端\n\t\t*/\n\t\tisMobile: function() {\n\t\t\tif (navigator.userAgent.toLowerCase().match(/(iphone|ipad|ipod|android|ios|midp|windows mobile|windows ce|rv:1.2.3.4|ucweb)/i)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t搜索字符串str是否包含key\n\t\t*/\n\t\tisContains: function(str, key) {\n\t\t\treturn str.indexOf(key) > -1;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t给地址添加随机数\n\t\t*/\n\t\tgetNewUrl: function(url) {\n\t\t\tif (this.isContains(url, '?')) {\n\t\t\t\treturn url += '&' + this.randomString(8) + '=' + this.randomString(8);\n\t\t\t} else {\n\t\t\t\treturn url += '?' + this.randomString(8) + '=' + this.randomString(8);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取clientX和clientY\n\t\t*/\n\t\tclient: function(event) {\n\t\t\tvar eve = event || window.event;\n\t\t\tif (this.isUndefined(eve)) {\n\t\t\t\teve = {\n\t\t\t\t\tclientX: 0,\n\t\t\t\t\tclientY: 0\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: eve.clientX + (document.documentElement.scrollLeft || this.body.scrollLeft) - this.pdCoor['x'],\n\t\t\t\ty: eve.clientY + (document.documentElement.scrollTop || this.body.scrollTop) - this.pdCoor['y']\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t获取节点的绝对坐标\n\t\t*/\n\t\tgetCoor: function(obj) {\n\t\t\tvar coor = this.getXY(obj);\n\t\t\treturn {\n\t\t\t\tx: coor['x'] - this.pdCoor['x'],\n\t\t\t\ty: coor['y'] - this.pdCoor['y']\n\t\t\t};\n\t\t},\n\t\tgetXY: function(obj) {\n\t\t\tvar parObj = obj;\n\t\t\tvar left = obj.offsetLeft;\n\t\t\tvar top = obj.offsetTop;\n\t\t\t\n\t\t\twhile (parObj = parObj.offsetParent) {\n\t\t\t\tleft += parObj.offsetLeft;\n\t\t\t\ttop += parObj.offsetTop;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: left,\n\t\t\t\ty: top\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t删除本对象的所有属性\n\t\t*/\n\t\tremoveChild: function() {\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\t//删除计时器\n\t\t\t\tvar i = 0;\n\t\t\t\tvar timerArr = [this.timerError, this.timerFull, this.timerTime, this.timerBuffer, this.timerClick, this.timerCBar, this.timerVCanvas];\n\t\t\t\tfor (i = 0; i < timerArr.length; i++) {\n\t\t\t\t\tif (timerArr[i] != null) {\n\t\t\t\t\t\tif (timerArr[i].runing) {\n\t\t\t\t\t\t\ttimerArr[i].stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttimerArr[i] = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//删除事件监听\n\t\t\t\tvar ltArr = this.listenerJsArr;\n\t\t\t\tfor (i = 0; i < ltArr.length; i++) {\n\t\t\t\t\tthis.removeListener(ltArr[i][0], ltArr[i][1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.playerType == '';\n\t\t\tthis.V = null;\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.deleteChild(this.CB['menu']);\n\t\t\t}\n\t\t\tthis.deleteChild(this.PD);\n\t\t\tthis.CD.innerHTML = '';\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t画封闭的图形\n\t\t*/\n\t\tcanvasFill: function(name, path) {\n\t\t\tname.beginPath();\n\t\t\tfor (var i = 0; i < path.length; i++) {\n\t\t\t\tvar d = path[i];\n\t\t\t\tif (i > 0) {\n\t\t\t\t\tname.lineTo(d[0], d[1]);\n\t\t\t\t} else {\n\t\t\t\t\tname.moveTo(d[0], d[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tname.closePath();\n\t\t\tname.fill();\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t画矩形\n\t\t*/\n\t\tcanvasFillRect: function(name, path) {\n\t\t\tfor (var i = 0; i < path.length; i++) {\n\t\t\t\tvar d = path[i];\n\t\t\t\tname.fillRect(d[0], d[1], d[2], d[3]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t删除容器节点\n\t\t*/\n\t\tdeleteChild: function(f) {\n\t\t\tvar def = this.arrIndexOf(this.elementArr, f.className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\tvar childs = f.childNodes;\n\t\t\tfor (var i = childs.length - 1; i >= 0; i--) {\n\t\t\t\tf.removeChild(childs[i]);\n\t\t\t}\n\n\t\t\tif (f && f != null && f.parentNode) {\n\t\t\t\ttry {\n\t\t\t\t\tif (f.parentNode) {\n\t\t\t\t\t\tf.parentNode.removeChild(f);\n\n\t\t\t\t\t}\n\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t \t根据容器的宽高,内部节点的宽高计算出内部节点的宽高及坐标\n\t\t*/\n\t\tgetProportionCoor: function(stageW, stageH, vw, vh) {\n\t\t\tvar w = 0,\n\t\t\th = 0,\n\t\t\tx = 0,\n\t\t\ty = 0;\n\t\t\tif (stageW / stageH < vw / vh) {\n\t\t\t\tw = stageW;\n\t\t\t\th = w * vh / vw;\n\t\t\t} else {\n\t\t\t\th = stageH;\n\t\t\t\tw = h * vw / vh;\n\t\t\t}\n\t\t\tx = (stageW - w) * 0.5;\n\t\t\ty = (stageH - h) * 0.5;\n\t\t\treturn {\n\t\t\t\twidth: parseInt(w),\n\t\t\t\theight: parseInt(h),\n\t\t\t\tx: parseInt(x),\n\t\t\t\ty: parseInt(y)\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将字幕文件内容转换成数组\n\t\t*/\n\t\tparseSrtSubtitles: function(srt) {\n\t\t\tvar subtitlesArr = [];\n\t\t\tvar textSubtitles = [];\n\t\t\tvar i = 0;\n\t\t\tvar arrs = srt.split('\\n');\n\t\t\tvar arr = [];\n\t\t\tvar delHtmlTag = function(str) {\n\t\t\t\treturn str.replace(/<[^>]+>/g, ''); //去掉所有的html标记\n\t\t\t};\n\t\t\tfor (i = 0; i < arrs.length; i++) {\n\t\t\t\tif (arrs[i].replace(/\\s/g, '').length > 0) {\n\t\t\t\t\tarr.push(arrs[i]);\n\t\t\t\t} else {\n\t\t\t\t\tif (arr.length > 0) {\n\t\t\t\t\t\ttextSubtitles.push(arr);\n\t\t\t\t\t}\n\t\t\t\t\tarr = [];\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (i = 0; i < textSubtitles.length; ++i) {\n\t\t\t\tvar textSubtitle = textSubtitles[i];\n\t\t\t\tif (textSubtitle.length >= 2) {\n\t\t\t\t\tvar sn = textSubtitle[0]; // 字幕的序号\n\t\t\t\t\tvar startTime = this.toSeconds(this.trim(textSubtitle[1].split(' --> ')[0])); // 字幕的开始时间\n\t\t\t\t\tvar endTime = this.toSeconds(this.trim(textSubtitle[1].split(' --> ')[1])); // 字幕的结束时间\n\t\t\t\t\tvar content = [delHtmlTag(textSubtitle[2])]; // 字幕的内容\n\t\t\t\t\tvar cktrackdelay=this.vars['cktrackdelay'];\n\t\t\t\t\tif(cktrackdelay!=0){\n\t\t\t\t\t\tstartTime+=cktrackdelay;\n\t\t\t\t\t\tendTime+=cktrackdelay;\n\t\t\t\t\t}\n\t\t\t\t\t// 字幕可能有多行\n\t\t\t\t\tif (textSubtitle.length > 2) {\n\t\t\t\t\t\tfor (var j = 3; j < textSubtitle.length; j++) {\n\t\t\t\t\t\t\tcontent.push(delHtmlTag(textSubtitle[j]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// 字幕对象\n\t\t\t\t\tvar subtitle = {\n\t\t\t\t\t\tsn: sn,\n\t\t\t\t\t\tstartTime: startTime,\n\t\t\t\t\t\tendTime: endTime,\n\t\t\t\t\t\tcontent: content\n\t\t\t\t\t};\n\t\t\t\t\tsubtitlesArr.push(subtitle);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn subtitlesArr;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t计时器,该函数模拟as3中的timer原理\n\t\t\ttime:计时时间,单位:毫秒\n\t\t\tfun:接受函数\n\t\t\tnumber:运行次数,不设置则无限运行\n\t\t*/\n\t\ttimer: function(time, fun, number) {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.time = 10; //运行间隔\n\t\t\tthis.fun = null; //监听函数\n\t\t\tthis.timeObj = null; //setInterval对象\n\t\t\tthis.number = 0; //已运行次数\n\t\t\tthis.numberTotal = null; //总至需要次数\n\t\t\tthis.runing = false; //当前状态\n\t\t\tthis.startFun = function() {\n\t\t\t\tthisTemp.number++;\n\t\t\t\tthisTemp.fun();\n\t\t\t\tif (thisTemp.numberTotal != null && thisTemp.number >= thisTemp.numberTotal) {\n\t\t\t\t\tthisTemp.stop();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.start = function() {\n\t\t\t\tif (!thisTemp.runing) {\n\t\t\t\t\tthisTemp.runing = true;\n\t\t\t\t\tthisTemp.timeObj = window.setInterval(thisTemp.startFun, time);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.stop = function() {\n\t\t\t\tif (thisTemp.runing) {\n\t\t\t\t\tthisTemp.runing = false;\n\t\t\t\t\twindow.clearInterval(thisTemp.timeObj);\n\t\t\t\t\tthisTemp.timeObj = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (time) {\n\t\t\t\tthis.time = time;\n\t\t\t}\n\t\t\tif (fun) {\n\t\t\t\tthis.fun = fun;\n\t\t\t}\n\t\t\tif (number) {\n\t\t\t\tthis.numberTotal = number;\n\t\t\t}\n\t\t\tthis.start();\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将时分秒转换成秒\n\t\t*/\n\t\ttoSeconds: function(t) {\n\t\t\tvar s = 0.0;\n\t\t\tif (t) {\n\t\t\t\tvar p = t.split(':');\n\t\t\t\tfor (i = 0; i < p.length; i++) {\n\t\t\t\t\ts = s * 60 + parseFloat(p[i].replace(',', '.'));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn s;\n\t\t},\n\t\t/*将字符变成数字形式的数组*/\n\t\tarrayInt: function(str) {\n\t\t\tvar a = str.split(',');\n\t\t\tvar b = [];\n\t\t\tfor (var i = 0; i < a.length; i++) {\n\t\t\t\tif (this.isUndefined(a[i])) {\n\t\t\t\t\ta[i] = 0;\n\t\t\t\t}\n\t\t\t\tif (a[i].substr( - 1) != '%') {\n\t\t\t\t\ta[i] = parseInt(a[i]);\n\t\t\t\t}\n\t\t\t\tb.push(a[i]);\n\t\t\t}\n\t\t\treturn b;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将对象Object标准化\n\t\t*/\n\t\tstandardization: function(o, n) { //n替换进o\n\t\t\tvar h = {};\n\t\t\tvar k;\n\t\t\tfor (k in o) {\n\t\t\t\th[k] = o[k];\n\t\t\t}\n\t\t\tfor (k in n) {\n\t\t\t\tvar type ='';\n\t\t\t\tif(h[k]){\n\t\t\t\t\ttype = this.varType(h[k]);\n\t\t\t\t}\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'number':\n\t\t\t\t\t\th[k] = parseFloat(n[k]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\th[k] = n[k];\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn h;\n\t\t},\n\t\tobjectAssign:function(o,n) {\n\t\t\tif(this.varType(o)!='object' || this.varType(n)!='object'){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar obj1=this.newObj(o),obj2=this.newObj(n);\n\t\t\tfor(var k in obj2){\n\t\t\t\tif(this.varType(obj2[k])=='object'){\n\t\t\t\t\tif(this.varType(obj1[k])!='object'){\n\t\t\t\t\t\tobj1[k]={};\n\t\t\t\t\t}\n\t\t\t\t\tobj1[k]=this.objectAssign(obj1[k],obj2[k]);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tobj1[k]=obj2[k];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn obj1;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t搜索数组\n\t\t */\n\t\tarrIndexOf: function(arr, key) {\n\t\t\tif(this.isUndefined(arr) || this.isUndefined(key)){\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tvar re = new RegExp(key, ['']);\n\t\t\treturn (arr.toString().replace(re, '┢').replace(/[^,┢]/g, '')).indexOf('┢');\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t去掉空格\n\t\t */\n\t\ttrim: function(str) {\n\t\t\tif (str != '') {\n\t\t\t\treturn str.replace(/(^\\s*)|(\\s*$)/g, '');\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t输出内容到控制台\n\t\t*/\n\t\tlog: function(val) {\n\t\t\ttry {\n\t\t\t\tconsole.log(val);\n\t\t\t} catch(e) {}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t弹出提示\n\t\t*/\n\t\teject: function(er, val) {\n\t\t\tif (!this.vars['debug']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar errorVal = er[1];\n\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\terrorVal = errorVal.replace('[error]', val);\n\t\t\t}\n\t\t\tvar value = 'error ' + er[0] + ':' + errorVal;\n\t\t\ttry {\n\t\t\t\tthis.log(value);\n\t\t\t} catch(e) {}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t系统错误\n\t\t*/\n\t\tsysError: function(er, val) {\n\t\t\tvar ele= this.getByElement(this.vars['container']);\n\t\t\tvar errorVal = er[1];\n\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\terrorVal = errorVal.replace('[error]', val);\n\t\t\t}\n\t\t\tvar value = 'error ' + er[0] + ':' + errorVal;\n\t\t\tele.innerHTML=value;\n\t\t\tthis.css(ele,{\n\t\t\t\tbackgroundColor: '#000',\n\t\t\t\tcolor:'#FFF',\n\t\t\t\ttextAlign:'center',\n\t\t\t\tlineHeight:ele.offsetHeight+'px'\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断变量类型\n\t\t*/\n\t\tvarType:function(val){\n\t\t\tif(val===null){\n\t\t\t\treturn 'string';\n\t\t\t}\n\t\t\tvar type = typeof(val);\n\t\t\tswitch(type) {\n\t\t\t\tcase 'string':\n\t\t\t\t\treturn 'string';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'number':\n\t\t\t\t\treturn 'number';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'boolean':\n\t\t\t\t\treturn 'boolean';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'function':\n\t\t\t\t\treturn 'function';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'symbol':\n\t\t\t\t\treturn 'symbol';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'object':\n\t\t\t\t\tif(!this.isUndefined(typeof(val.length))) {\n\t\t\t\t\t\treturn 'array';\n\t\t\t\t\t}\n\t\t\t\t\treturn 'object';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'undefined':\n\t\t\t\t\treturn 'undefined';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn typeof(val);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t获取此js文件所在路径\n\t\t*/\n\t\tgetPath:function(){\n\t\t\tvar scriptList = document.scripts,\n\t\t\tthisPath = scriptList[scriptList.length - 1].src;\n\t\t\tfor(var i=0;i<scriptList.length;i++){\n\t\t\t\tvar scriptName=scriptList[i].getAttribute('name') || scriptList[i].getAttribute('data-name');\n\t\t\t\tvar src=scriptList[i].src.slice(scriptList[i].src.lastIndexOf('/') + 1,scriptList[i].src.lastIndexOf('.'));\n\t\t\t\tif((scriptName && (scriptName=='ckplayer' || scriptName=='ckplayer.min')) || (scriptList[i].src && (src=='ckplayer' || src=='ckplayer.min'))){\n\t\t\t\t\tthisPath = scriptList[i].src;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn thisPath.substring(0, thisPath.lastIndexOf('/') + 1);\n\t\t},\n\t\tgetConfigObject:function(){\n\t\t\treturn this.jsonConfig;\n\t\t},\n\t\tgetStyleObject:function(){\n\t\t\treturn this.jsonStyle;\n\t\t},\n\t\tgetLanguageObject:function(){\n\t\t\treturn this.jsongLanguage;\n\t\t}\n\t};\n\twindow.ckplayer = ckplayer;\n})();\n","source":"js/ckplayer.js","raw":"/*\n\t软件名称：ckplayer\n\t软件版本：X2\n\t软件作者：niandeng\n\t软件网站：http://www.ckplayer.com\n\t--------------------------------------------------------------------------------------------------------------------\n\t开发说明：\n\t使用的主要程序语言：javascript(js)及actionscript3.0(as3.0)(as3.0主要用于flashplayer部分的开发，不在该页面呈现)\n\t功能：播放视频\n\t特点：兼容HTML5-VIDEO(优先)以及FlashPlayer\n\t--------------------------------------------------------------------------------------------------------------------\n\t使用开源代码部分：\n\t1：flashls-http://flashls.org/\n\t=====================================================================================================================\n*/\n\n!(function() {\n\tvar ckplayer = function(obj) {\n\t\t/*\n\t\t\tjavascript部分开发所用的注释说明：\n\t\t\t1：初始化-程序调用时即运行的代码部分\n\t\t\t2：定义样式-定义容器（div,p,canvas等）的样式表，即css\n\t\t\t3：监听动作-监听元素节点（单击-click，鼠标进入-mouseover，鼠标离开-mouseout，鼠标移动-mousemove等）事件\n\t\t\t4：监听事件-监听视频的状态（播放，暂停，全屏，音量调节等）事件\n\t\t\t5：共用函数-这类函数在外部也可以使用\n\t\t\t6：全局变量-定义成全局使用的变量\n\t\t\t7：其它相关注释\n\t\t\t全局变量说明：\n\t\t\t在本软件中所使用到的全局变量（变量（类型）包括Boolean，String，Int，Object（包含元素对象和变量对象），Array，Function等）\n\t\t\t下面列出重要的全局变量：\n\t\t\t\tV:Object：视频对象\n\t\t\t\tVA:Array：视频列表（包括视频地址，类型，清晰度说明）\n\t\t\t\tID:String：视频ID\n\t\t\t\tCB:Object：控制栏各元素的集合对象\n\t\t\t\tPD:Object：内部视频容器对象\n\t\t\t---------------------------------------------------------------------------------------------\n\t\t\t程序开始\n\t\t\t下面为需要初始化配置的全局变量\n\t\t*/\n\t\t//全局变量：播放器默认配置，在外部传递过来相应配置后，则进行相关替换\n\t\tthis.varsDefault = {\n\t\t\tplayerID: '',//播放器ID\n\t\t\tcontainer: '',//视频容器的ID\n\t\t\tvariable: 'ckplayer',//播放函数(变量)名称\n\t\t\tvolume: 0.8,//默认音量，范围0-1\n\t\t\tposter: '',//封面图片地址\n\t\t\tautoplay: false,//是否自动播放\n\t\t\tloop: false,//是否需要循环播放\n\t\t\tlive: false,//是否是直播\n\t\t\tduration: 0,//指定总时间\n\t\t\tforceduration:0,//强制使用该时间为总时间\n\t\t\tseek: 0,//默认需要跳转的秒数\n\t\t\tdrag: '',//拖动时支持的前置参数\n\t\t\tfront: '',//前一集按钮动作\n\t\t\tnext: '',//下一集按钮动作\n\t\t\tloaded: '',//加载播放器后调用的函数\n\t\t\tflashplayer: false,//设置成true则强制使用flashplayer\n\t\t\thtml5m3u8: false,//PC平台上是否使用h5播放器播放m3u8\n\t\t\ttrack: null,//字幕轨道\n\t\t\tcktrack: null,//ck字幕\n\t\t\tcktrackdelay:0,//字幕显示延迟时间\n\t\t\tpreview: null,//预览图片对象\n\t\t\tprompt: null,//提示点功能\n\t\t\tvideo: null,//视频地址\n\t\t\tconfig: '',//调用配置函数名称\n\t\t\ttype: '',//视频格式\n\t\t\tcrossorigin: '',//设置html5视频的crossOrigin属性\n\t\t\tcrossdomain: '',//安全策略文件地址\n\t\t\tunescape: false,//默认flashplayer里需要解码\n\t\t\tmobileCkControls: false,//移动端h5显示控制栏\n\t\t\tmobileAutoFull: true,//移动端是否默认全屏播放\n\t\t\tplaybackrate: 1,//默认倍速\n\t\t\th5container: '',//h5环境中使用自定义容器\n\t\t\tdebug: false,//是否开启调试模式\n\t\t\toverspread:true,//是否让视频铺满播放器\n\t\t\tlanguage:'',//语言文件路径\n\t\t\tstyle:'',//风格文件路径\n\t\t\t//以下为广告相关配置\n\t\t\tadfront: '',\n\t\t\tadfronttime: '',\n\t\t\tadfrontlink: '',\n\t\t\tadpause: '',\n\t\t\tadpausetime: '',\n\t\t\tadpauselink: '',\n\t\t\tadinsert: '',\n\t\t\tadinserttime: '',\n\t\t\tadinsertlink: '',\n\t\t\tinserttime: '',\n\t\t\tadend: '',\n\t\t\tadendtime: '',\n\t\t\tadendlink: '',\n\t\t\tadvertisements: ''\n\t\t};\n\t\t//全局变量:vars\n\t\tthis.vars = {};\n\t\t//全局变量：配置文件函数\n\t\tthis.ckConfig = {};\n\t\tthis.jsonConfig = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：语言配置\n\t\tthis.ckLanguage = {};\n\t\tthis.jsonLanguage = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：语言配置\n\t\tthis.ckStyle = {};\n\t\tthis.jsonStyle = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：右键菜单：[菜单标题,类型(link:链接，default:灰色，function：调用函数，javascript:调用js函数),执行内容(包含链接地址，函数名称),[line(间隔线)]]\n\t\tthis.contextMenu = [['ckplayer', 'link', 'http://www.ckplayer.com', '_blank'], ['version:X2', 'default', 'line']];\n\t\t//全局变量：错误提示列表\n\t\tthis.errorList = [\n\t\t\t['000', 'Object does not exist'], \n\t\t\t['001', 'Variables type is not a object'], \n\t\t\t['002', 'Video object does not exist'],\n\t\t\t['003', 'Video object format error'], \n\t\t\t['004', 'Video object format error'], \n\t\t\t['005', 'Video object format error'], \n\t\t\t['006', '[error] does not exist'], \n\t\t\t['007', 'Ajax error'],\n\t\t\t['008', 'Ajax error'],\n\t\t\t['009', 'Ajax object format error'],\n\t\t\t['010', 'Ajax.status:[error]'],\n\t\t\t['011', '[error] File loading failed or error'],\n\t\t\t['012', '[error]']\n\t\t];\n\t\t//全局变量：HTML5变速播放的值数组/如果不需要可以设置成null\n\t\tthis.playbackRateArr = [[0.5, '0.5X'], [1, '1X'], [1.25, '1.25X'], [1.5, '1.5X'], [2, '2X'], [4, '4X']];\n\t\t//全局变量：保存倍速\n\t\tthis.playbackRateTemp=1;\n\t\t//全局变量：HTML5默认变速播放的值\n\t\tthis.playbackRateDefault = 1;\n\t\t//全局变量：HTML5当前显示的字幕编号\n\t\tthis.subtitlesTemp=-1;\n\t\t//全局变量：定义logo\n\t\tthis.logo = '';\n\t\t//全局变量：是否加载了播放器\n\t\tthis.loaded = false;\n\t\t//全局变量：计时器，监听视频加载出错的状态\n\t\tthis.timerError = null;\n\t\t//全局变量：是否出错\n\t\tthis.error = false;\n\t\t//全局变量：出错地址的数组\n\t\tthis.errorUrl = [];\n\t\t//全局变量：计时器，监听全屏与非全屏状态\n\t\tthis.timerFull = null;\n\t\t//全局变量：是否全屏状态\n\t\tthis.full = false;\n\t\t//全局变量：计时器，监听当前的月/日 时=分=秒\n\t\tthis.timerTime = null;\n\t\t//全局变量：计时器，监听视频加载\n\t\tthis.timerBuffer = null;\n\t\t//全局变量：设置进度按钮及进度条是否跟着时间变化，该属性主要用来在按下进度按钮时暂停进度按钮移动和进度条的长度变化\n\t\tthis.isTimeButtonMove = true;\n\t\t//全局变量：进度栏是否有效，如果是直播，则不需要监听时间让进度按钮和进度条变化\n\t\tthis.isTimeButtonDown = false;\n\t\t//全局变量：计时，用来计算鼠标离开清晰度或字幕或倍速按钮后的计算时间标准\n\t\tthis.timeButtonOver=null;\n\t\t//全局变量：鼠标离开清晰度或字幕或倍速是否需要隐藏\n\t\tthis.buttonHide=false;\n\t\t//全局变量：用来模拟双击功能的判断\n\t\tthis.isClick = false;\n\t\t//全局变量：计时器，用来模拟双击功能的计时器\n\t\tthis.timerClick = null;\n\t\t//全局变量：计时器，监听鼠标在视频上移动显示控制栏\n\t\tthis.timerCBar = null;\n\t\t//全局变量：播放视频时如果该变量的值大于0，则进行跳转后设置该值为0\n\t\tthis.needSeek = 0;\n\t\t//全局变量：当前音量\n\t\tthis.volume = 0;\n\t\t//全局变量：静音时保存临时音量\n\t\tthis.volumeTemp = 0;\n\t\t//全局变量/变量类型：Number/功能：当前播放时间\n\t\tthis.time = 0;\n\t\t//全局变量：定义首次调用\n\t\tthis.isFirst = true;\n\t\t//全局变量：是否使用HTML5-VIDEO播放\n\t\tthis.html5Video = true;\n\t\t//全局变量记录视频容器节点的x;y\n\t\tthis.pdCoor = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\t//全局变量：判断当前使用的播放器类型，html5video或flashplayer\n\t\tthis.playerType = '';\n\t\t//全局变量：加载进度条的长度\n\t\tthis.loadTime = 0;\n\t\t//全局变量：body对象\n\t\tthis.body = document.body || document.documentElement;\n\t\t//全局变量：播放器\n\t\tthis.V = null;\n\t\t//全局变量：保存外部js监听事件数组\n\t\tthis.listenerJsArr = [];\n\t\t//全局变量：保存控制栏显示元素的总宽度\n\t\tthis.buttonLen = 0;\n\t\t//全局变量：保存控制栏显示元素的数组\n\t\tthis.buttonArr = [];\n\t\t//全局变量：保存播放器上新增元件的数组\n\t\tthis.elementArr = [];\n\t\t//全局变量：保存播放器上弹幕的临时数组\n\t\tthis.elementTempArr = [];\n\t\t//全局变量：字幕内容\n\t\tthis.track = [];\n\t\t//全局变量：字幕索引\n\t\tthis.trackIndex = 0;\n\t\t//全局变量：当前显示的字幕内容\n\t\tthis.nowTrackShow = {\n\t\t\tsn: ''\n\t\t};\n\t\t//全局变量：保存字幕元件数组\n\t\tthis.trackElement = [];\n\t\t//全局变量：将视频转换为图片\n\t\tthis.timerVCanvas = null;\n\t\t//全局变量：animate，缓动对象数组\n\t\tthis.animateArray = [];\n\t\t//全局变量：保存animate的元件\n\t\tthis.animateElementArray = [];\n\t\t//全局变量：保存需要在暂停时停止缓动的数组\n\t\tthis.animatePauseArray = [];\n\t\t//全局变量：预览图片加载状态/0=没有加载，1=正在加载，2=加载完成\n\t\tthis.previewStart = 0;\n\t\t//全局变量：预览图片容器\n\t\tthis.previewDiv = null;\n\t\t//全局变量：预览框\n\t\tthis.previewTop = null;\n\t\t//全局变量：预览框的宽\n\t\tthis.previewWidth = 120;\n\t\t//全局变量：预览图片容器缓动函数\n\t\tthis.previewTween = null;\n\t\t//全局变量：是否是m3u8格式，是的话则可以加载hls.js\n\t\tthis.isM3u8 = false;\n\t\t//全局变量：保存提示点数组\n\t\tthis.promptArr = [];\n\t\t//全局变量：显示提示点文件的容器\n\t\tthis.promptElement = null;\n\t\t//全局变量：控制栏是否显示\n\t\tthis.conBarShow = true;\n\t\t//全局变量：是否监听过h5的错误\n\t\tthis.errorAdd = false;\n\t\t//全局变量：是否发送了错误\n\t\tthis.errorSend = false;\n\t\t//全局变量：控制栏是否隐藏\n\t\tthis.controlBarIsShow = true;\n\t\t//全局变量，保存当前缩放比例\n\t\tthis.videoScale = 1;\n\t\t//全局变量：设置字体\n\t\tthis.fontFamily = '\"Microsoft YaHei\"; YaHei; \"\\5FAE\\8F6F\\96C5\\9ED1\"; SimHei; \"\\9ED1\\4F53\";Arial';\n\t\t//全局变量：记录第一次拖动进度按钮时的位置\n\t\tthis.timeSliderLeftTemp = 0;\n\t\t//全局变量：判断是否记录了总时间\n\t\tthis.durationSendJS = false;\n\t\t//全局变量：初始化广告分析是否结束设置\n\t\tthis.adAnalysisEnd = false;\n\t\t//全局变量：广告变量\n\t\tthis.advertisements = {};\n\t\t//全局变量：是否是第一次播放视频\n\t\tthis.isFirstTimePlay = true;\n\t\t//全局变量：当前需要播放的广告类型\n\t\tthis.adType = '';\n\t\t//全局变量：播放广告计数\n\t\tthis.adI = 0;\n\t\t//全局变量：要播放的临时地址\n\t\tthis.videoTemp = {\n\t\t\tsrc: '',\n\t\t\tsource: '',\n\t\t\tcurrentSrc: '',\n\t\t\tloop: false\n\t\t};\n\t\t//全局变量：当前要播放的广告组总时间\n\t\tthis.adTimeAllTotal = 0;\n\t\t//全局变量：肖前要播放的广告时间\n\t\tthis.adTimeTotal = 0;\n\t\t//全局变量：用来做倒计时\n\t\tthis.adCountDownObj = null;\n\t\t//全局变量：前置，中插，结尾广告是否已开始运行\n\t\tthis.adPlayStart = false;\n\t\t//全局变量：目前是否在播放广告\n\t\tthis.adPlayerPlay = false;\n\t\t//全局变量：当前广告是否暂停\n\t\tthis.adIsPause = false;\n\t\t//全局变量：视频广告是否静音\n\t\tthis.adVideoMute = false;\n\t\t//全局变量：是否需要记录当前播放的时间供广告播放结束后进行跳转\n\t\tthis.adIsVideoTime = false;\n\t\t//全局变量：后置广告是否播放\n\t\tthis.endAdPlay = false;\n\t\t//全局变量：暂停广告是否在显示\n\t\tthis.adPauseShow = false;\n\t\t//全局变量：是否需要重置广告以实现重新播放时再播放一次\n\t\tthis.adReset = false;\n\t\t//全局变量：记录鼠标在视频上点击时的坐标\n\t\tthis.videoClickXy={x:0,y:0};\n\t\t//全局变量：是否在播放广告时播放过视频广告\n\t\tthis.adVideoPlay = false;\n\t\t\n\t\t//全局变量：临时存储已加载时间的变量\n\t\tthis.loadTimeTemp=0;\n\t\t//全局变量，临时存储hls形式下首次加载时是否需要暂停或播放的判断\n\t\tthis.hlsAutoPlay=true;\n\t\t//全局变量，loading是否显示\n\t\tthis.loadingShow=false;\n\t\t//全局变量，保存视频地址字符串的\n\t\tthis.videoString='';\n\t\t//全局变量，保存所有自定义元件的数组\n\t\tthis.customeElement=[];\n\t\t//全局变量，保存PD的宽高\n\t\tthis.cdWH={w:0,h:0};\n\t\t//全局变量，保存所有的元素变量\n\t\tthis.CB={};\n\t\t//全局变量，调用当前路径\n\t\tthis.ckplayerPath=this.getPath();\n\t\tif (obj) {\n\t\t\tthis.embed(obj);\n\t\t}\n\t};\n\tckplayer.prototype = {\n\t\t/*\n\t\t\t主要函数部分开始\n\t\t\t主接口函数：\n\t\t\t调用播放器需初始化该函数\n\t\t*/\n\t\tembed: function(c) {\n\t\t\t//c:Object：是调用接口传递的属性对象\n\t\t\tif (window.location.href.substr(0, 7) == 'file://') {//如果是使用的file协议打网页则弹出提示\n\t\t\t\talert('Please use the HTTP protocol to open the page');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(c)) {\n\t\t\t\tthis.eject(this.errorList[0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(c) != 'object') {\n\t\t\t\tthis.eject(this.errorList[1]);\n\t\t\t}\n\t\t\tthis.vars = this.standardization(this.varsDefault, c);\n\t\t\tif (!this.vars['mobileCkControls'] && this.isMobile()) {\n\t\t\t\tthis.vars['flashplayer'] = false;\n\t\t\t\tthis.conBarShow = false;\n\t\t\t}\n\t\t\tvar videoStringTemp = this.vars['video'];\n\t\t\tif (!videoStringTemp) {\n\t\t\t\tthis.eject(this.errorList[2]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(videoStringTemp) == 'string') {\n\t\t\t\tif (videoStringTemp.substr(0, 3) == 'CK:' || videoStringTemp.substr(0, 3) == 'CE:' || videoStringTemp.substr(8, 3) == 'CK:' || videoStringTemp.substr(8, 3) == 'CE:') {\n\t\t\t\t\tthis.vars['flashplayer'] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.varType(videoStringTemp) == 'object') {\n\t\t\t\tif (videoStringTemp.length > 1) {\n\t\t\t\t\tif (videoStringTemp[0][0].substr(0, 3) == 'CK:' || videoStringTemp[0][0].substr(0, 3) == 'CE:' || videoStringTemp[0][0].substr(8, 3) == 'CK:' || videoStringTemp[0][0].substr(8, 3) == 'CE:') {\n\t\t\t\t\t\tthis.vars['flashplayer'] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.videoString=videoStringTemp;\n\t\t\tthis.checkUpConfig();\t\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载config文件\n\t\t*/\n\t\tcheckUpConfig:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar configPath='';\n\t\t\tvar jsTemp=null;\n\t\t\tif (this.vars['config']) {\n\t\t\t\tif (this.vars['config'].substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp= eval(this.vars['config'] + '()');\n\t\t\t\t\tif(!this.isUndefined(jsTemp)){\n\t\t\t\t\t\tthis.ckConfig=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.jsonConfig=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.loadConfig(null);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadConfig(this.ckplayerPath+this.vars['config']);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadConfig(this.ckplayerPath+this.vars['config'].substr(8));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t\t\tvar isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerConfig)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp= ckplayerConfig();\n\t\t\t          \tif(jsTemp){\n\t\t\t          \t\tthis.ckConfig=this.newObj(jsTemp);\n\t\t\t          \t\tthis.jsonConfig=this.newObj(jsTemp);\n\t\t\t          \t\tthis.loadConfig(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthis.loadConfig(this.ckplayerPath+'ckplayer.json');\n\t\t\t\t\t\t}\n\t\t\t        }\n\t\t\t        else {\n\t\t\t           this.loadConfig(this.ckplayerPath+'ckplayer.json');\n\t\t\t        }\n\t\t\t    } catch(e) {\n\t\t\t    \tthisTemp.sysError(thisTemp.errorList[12],e);//系统错误\n\t\t\t    }\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadConfig:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.ckConfig=data;\n\t\t\t\t\t\t\tthisTemp.jsonConfig=thisTemp.newObj(data);\n\t\t\t\t\t\t\tif(!thisTemp.isUndefined(data['flashvars'])){\n\t\t\t\t\t\t\t\tthisTemp.vars=thisTemp.objectAssign(data['flashvars'],thisTemp.vars);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.checkUpLanguage();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'Config');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.checkUpLanguage();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载语言文件\n\t\t*/\n\t\tcheckUpLanguage:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar languagePath='';\n\t\t\tvar jsTemp=null;\n\t\t\tif (this.vars['language']) {\n\t\t\t\tlanguagePath=this.vars['language'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif (this.ckConfig['languagePath']) {\n\t\t\t\t\tlanguagePath=this.ckConfig['languagePath'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (languagePath) {\n\t\t\t\tif (languagePath.substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp = eval(languagePath + '()');\n\t\t\t\t\tif(jsTemp){\n\t\t\t\t\t\tthis.ckLanguage=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.jsonLanguage=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.loadLanguage(null);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadLanguage(this.ckplayerPath+languagePath);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadLanguage(this.ckplayerPath+languagePath.substr(8));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t\t\tvar isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerLanguage)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp = ckplayerLanguage();\n\t\t\t          \tif(jsTemp){\n\t\t\t          \t\tthis.ckLanguage=this.newObj(jsTemp);\n\t\t\t          \t\tthis.jsonLanguage=this.newObj(jsTemp);\n\t\t\t          \t\tthis.loadLanguage(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t this.loadLanguage(this.ckplayerPath+'language.json');\n\t\t\t\t\t\t}\n\t\t\t        }\n\t\t\t        else {\n\t\t\t           this.loadLanguage(this.ckplayerPath+'language.json');\n\t\t\t        }\n\t\t\t    } catch(e) {\n\t\t\t    \tthisTemp.sysError(thisTemp.errorList[12],e);//系统错误\n\t\t\t    }\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadLanguage:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.ckLanguage=data;\n\t\t\t\t\t\t\tthisTemp.jsonLanguage=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.checkUpStyle();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'language.json');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.checkUpStyle();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载皮肤文件\n\t\t*/\n\t\tcheckUpStyle:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar stylePath='';\n\t\t\tvar jsTemp=null;\n\t\t\tvar configJs=this.newObj(this.ckConfig);\n\t\t\tif (this.vars['style']) {\n\t\t\t\tstylePath=this.vars['style'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif (this.ckConfig['stylePath']) {\n\t\t\t\t\tstylePath=''+this.ckConfig['stylePath'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (stylePath) {\n\t\t\t\tif (stylePath.substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp = eval(stylePath + '()');\n\t\t\t\t\tif(!this.isUndefined(jsTemp)){\n\t\t\t          \tthis.jsonStyle=this.newObj(jsTemp);\n\t\t\t          \tthis.ckStyle=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.ckStyle['advertisement']=this.objectAssign(configJs['style']['advertisement'],this.ckStyle['advertisement']);\n\t\t\t\t\t\tthis.ckStyle=this.objectAssign(configJs['style'],this.ckStyle);\n\t\t\t\t\t\tthis.loadStyle(null);\n\t\t\t        }\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadStyle(this.ckplayerPath+stylePath);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadStyle(this.ckplayerPath+stylePath.substr(8));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t       var isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerStyle)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){isFun=false;}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp= ckplayerStyle();\n\t\t\t          \tif(!this.isUndefined(jsTemp)){\n\t\t\t          \t\tthis.jsonStyle=this.newObj(jsTemp);\n\t\t\t          \t\tthis.ckStyle=this.newObj(jsTemp);\n\t\t\t\t\t\t\tthis.ckStyle['advertisement']=this.objectAssign(configJs['style']['advertisement'],this.ckStyle['advertisement']);\n\t\t\t\t\t\t\tthis.ckStyle=this.objectAssign(configJs['style'],this.ckStyle);\n\t\t\t\t\t\t\tthis.loadStyle(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthis.loadStyle(this.ckplayerPath+'style.json');\n\t\t\t\t\t\t}\n\t\t\t\t    }\n\t\t\t        else {\n\t\t\t           this.loadStyle(this.ckplayerPath+'style.json');\n\t\t\t        }\n\t\t\t    } catch(e) {}\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadStyle:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tvar configJs=this.newObj(this.ckConfig);\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.jsonStyle=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.ckStyle=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.ckStyle['advertisement']=thisTemp.objectAssign(configJs['style']['advertisement'],thisTemp.ckStyle['advertisement']);\n\t\t\t\t\t\t\tthisTemp.ckStyle=thisTemp.objectAssign(configJs['style'],thisTemp.ckStyle);\n\t\t\t\t\t\t\tthisTemp.loadConfigHandler();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'Style');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.loadConfigHandler();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t当config,language,style三个文件或函数处理完成后执行的动作\n\t\t*/\n\t\tloadConfigHandler:function(){\n\t\t\tif ((!this.supportVideo() && this.vars['flashplayer'] != '') || (this.vars['flashplayer'] && this.uploadFlash()) || !this.isMsie()) {\n\t\t\t\tthis.html5Video = false;\n\t\t\t\tthis.getVideo();\n\t\t\t} \n\t\t\telse if (this.videoString) {\n\t\t\t\t//判断视频数据类型\n\t\t\t\tthis.analysedVideoUrl(this.videoString);\n\t\t\t} \n\t\t\telse {\n\t\t\t\tthis.eject(this.errorList[2]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据外部传递过来的video开始分析视频地址\n\t\t*/\n\t\tanalysedVideoUrl: function(video) {\n\t\t\tvar i = 0,\n\t\t\ty = 0;\n\t\t\tvar thisTemp = this;\n\t\t\tthis.VA = [];//定义全局变量VA：视频列表（包括视频地址，类型，清晰度说明）\n\t\t\tif (this.varType(video) == 'string') { //如果是字符形式的则判断后缀进行填充\n\t\t\t\tif (video.substr(0, 8) != 'website:') {\n\t\t\t\t\tthis.VA = [[video, '', '', 0]];\n\t\t\t\t\tvar fileExt = this.getFileExt(video);\n\t\t\t\t\tswitch (fileExt) {\n\t\t\t\t\tcase '.mp4':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/mp4';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '.ogg':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/ogg';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '.webm':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/webm';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tthis.getVideo();\n\t\t\t\t} else {\n\t\t\t\t\tif (this.html5Video) {\n\t\t\t\t\t\tvar ajaxObj = {\n\t\t\t\t\t\t\turl: video.substr(8),\n\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\t\t\tthisTemp.analysedUrl(data);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[5]);\n\t\t\t\t\t\t\t\t\tthis.VA = video;\n\t\t\t\t\t\t\t\t\tthisTemp.getVideo();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror:function(data){\n\t\t\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.VA = video;\n\t\t\t\t\t\tthis.getVideo();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t} \n\t\t\telse if(this.varType(video)=='array'){//如果视频地址是数组\n\t\t\t\tif (this.varType(video[0])=='array') { //如果视频地址是二维数组\n\t\t\t\t\tthis.VA = video;\n\t\t\t\t}\n\t\t\t\tthis.getVideo();\n\t\t\t}\n\t\t\telse if(this.varType(video)=='object'){\n\t\t\t\t/*\n\t\t\t\t\t如果video格式是对象形式，则分二种\n\t\t\t\t\t如果video对象里包含type，则直接播放\n\t\t\t\t*/\n\t\t\t\tif (!this.isUndefined(video['type'])) {\n\t\t\t\t\tthis.VA.push([video['file'], video['type'], '', 0]);\n\t\t\t\t\tthis.getVideo();\n\t\t\t\t} else {\n\t\t\t\t\tthis.eject(this.errorList[5]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.eject(this.errorList[4]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t对请求到的视频地址进行重新分析\n\t\t*/\n\t\tanalysedUrl: function(data) {\n\t\t\tthis.vars = this.standardization(this.vars, data);\n\t\t\tif (!this.isUndefined(data['video'])) {\n\t\t\t\tthis.vars['video'] = data['video'];\n\t\t\t}\n\t\t\tthis.analysedVideoUrl(this.vars['video']);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t检查浏览器支持的视频格式，如果是则将支持的视频格式重新分组给播放列表\n\t\t*/\n\t\tgetHtml5Video: function() {\n\t\t\tvar va = this.VA;\n\t\t\tvar nva = [];\n\t\t\tvar mobile = this.isMobile();\n\t\t\tvar video = document.createElement('video');\n\t\t\tvar codecs = function(type) {\n\t\t\t\tvar cod = '';\n\t\t\t\tswitch (type) {\n\t\t\t\tcase 'video/mp4':\n\t\t\t\t\tcod = 'avc1.4D401E, mp4a.40.2';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video/ogg':\n\t\t\t\t\tcod = 'theora, vorbis';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video/webm':\n\t\t\t\t\tcod = 'vp8.0, vorbis';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn cod;\n\t\t\t};\n\t\t\tvar supportType = function(vidType, codType) {\n\t\t\t\tif (!video.canPlayType) {\n\t\t\t\t\tthis.html5Video = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar isSupp = video.canPlayType(vidType + ';codecs=\"' + codType + '\"');\n\t\t\t\tif (isSupp == '') {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tif (this.vars['flashplayer'] || !this.isMsie()) {\n\t\t\t\tthis.html5Video = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (var i = 0; i < va.length; i++) {\n\t\t\t\tvar v = va[i];\n\t\t\t\tif (v) {\n\t\t\t\t\tif (v[1] != '' && !mobile && supportType(v[1], codecs(v[1])) && v[0].substr(0, 4) != 'rtmp') {\n\t\t\t\t\t\tnva.push(v);\n\t\t\t\t\t}\n\t\t\t\t\tif ((this.getFileExt(v[0]) == '.m3u8' || this.vars['type'] == 'video/m3u8' || this.vars['type'] == 'm3u8' || v[1] == 'video/m3u8' || v[1] == 'm3u8') && this.vars['html5m3u8'] && !mobile) {\n\t\t\t\t\t\tthis.isM3u8 = true;\n\t\t\t\t\t\tnva.push(v);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (nva.length > 0) {\n\t\t\t\tthis.VA = nva;\n\t\t\t} else {\n\t\t\t\tif (!mobile) {\n\t\t\t\t\tthis.html5Video = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据视频地址开始构建播放器\n\t\t*/\n\t\tgetVideo: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar v = this.vars;\n\t\t\t//如果存在广告字段则开始分析广告\n\t\t\tif (!this.adAnalysisEnd && (v['adfront'] != '' || v['adpause'] != '' || v['adinsert'] != '' || v['adend'] != '' || v['advertisements'] != '')) {\n\t\t\t\tthis.adAnalysisEnd = true;\n\t\t\t\tthis.adAnalysis();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//如果存在字幕则加载\n\t\t\tif (this.V) { //如果播放器已存在，则认为是从newVideo函数发送过来的请求\n\t\t\t\tthis.changeVideo();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.vars['cktrack']) {\n\t\t\t\tthis.loadTrack();\n\t\t\t}\n\t\t\tif (this.supportVideo() && !this.vars['flashplayer']) {\n\t\t\t\tthis.getHtml5Video(); //判断浏览器支持的视频格式\n\t\t\t}\n\t\t\tvar src = '',\n\t\t\tsource = '',\n\t\t\tposter = '',\n\t\t\tloop = '',\n\t\t\tautoplay = '',\n\t\t\ttrack = '',\n\t\t\tcrossorigin='';\n\t\t\tvar video = v['video'];\n\t\t\tvar i = 0;\n\t\t\tvar vBg=this.ckStyle['background']['backgroundColor'].replace('0x','#');\n\t\t\tthis.CD = this.getByElement(v['container']);\n\t\t\tvolume = v['volume'];\n\t\t\tif (this.isUndefined(this.CD)) {\n\t\t\t\tthis.eject(this.errorList[6], v['container']);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\t//开始构建播放器容器\n\t\t\tthis.V = undefined;\n\t\t\tvar thisPd = null;\n\t\t\tif (v['h5container'] != '') {\n\t\t\t\tthisPd = this.getByElement(v['h5container']);\n\t\t\t\tif (this.isUndefined(thisPd)) {\n\t\t\t\t\tthisPd = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar isVideoH5 = null; //isUndefined  thisPd\n\t\t\tif (v['playerID'] != '') {\n\t\t\t\tisVideoH5 = this.getByElement('#' + v['playerID']);\n\t\t\t\tif (this.isUndefined(isVideoH5)) {\n\t\t\t\t\tisVideoH5 = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (thisPd != null && isVideoH5 != null) {\n\t\t\t\tthis.PD = thisPd; //PD:定义播放器容器对象全局变量\n\t\t\t} else {\n\t\t\t\tvar playerID = 'ckplayer-' + this.randomString();\n\t\t\t\tvar playerDiv = document.createElement('div');\n\t\t\t\tplayerDiv.className = playerID;\n\t\t\t\tthis.CD.innerHTML = '';\n\t\t\t\tthis.CD.appendChild(playerDiv);\n\t\t\t\tthis.PD = playerDiv; //PD:定义播放器容器对象全局变量\n\t\t\t}\n\t\t\tthis.css(this.CD, {\n\t\t\t\tbackgroundColor: vBg,\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tposition: 'relative'\n\t\t\t});\n\t\t\tthis.css(this.PD, {\n\t\t\t\tbackgroundColor: vBg,\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '100%',\n\t\t\t\tfontFamily: this.fontFamily\n\t\t\t});\n\t\t\tif (this.html5Video) { //如果支持HTML5-VIDEO则默认使用HTML5-VIDEO播放器\n\t\t\t\t\n\t\t\t\t//禁止播放器容器上鼠标选择文本\n\t\t\t\tthis.PD.onselectstart = this.PD.ondrag = function() {\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t\t//播放器容器构建完成并且设置好样式\n\t\t\t\t//构建播放器\n\t\t\t\tif (this.VA.length == 1) {\n\t\t\t\t\tthis.videoTemp['src'] = decodeURIComponent(this.VA[0][0]);\n\t\t\t\t\tsrc = ' src=\"' + this.videoTemp['src'] + '\"';\n\n\t\t\t\t} else {\n\t\t\t\t\tvar videoArr = this.VA.slice(0);\n\t\t\t\t\tvideoArr = this.arrSort(videoArr);\n\t\t\t\t\tfor (i = 0; i < videoArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = videoArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t\tif (type == ' type=\"video/m3u8\"' || type == ' type=\"m3u8\"') {\n\t\t\t\t\t\t\t\ttype = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + decodeURIComponent(va[0]) + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.videoTemp['source'] = source;\n\t\t\t\t}\n\t\t\t\t//分析视频地址结束\n\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\tautoplay = ' autoplay=\"autoplay\"';\n\t\t\t\t}\n\t\t\t\tif (v['poster']) {\n\t\t\t\t\tposter = ' poster=\"' + v['poster'] + '\"';\n\t\t\t\t}\n\t\t\t\tif (v['loop']) {\n\t\t\t\t\tloop = ' loop=\"loop\"';\n\t\t\t\t}\n\t\t\t\tif (v['seek'] > 0) {\n\t\t\t\t\tthis.needSeek = v['seek'];\n\t\t\t\t}\n\t\t\t\tif (v['track'] != null && v['cktrack'] == null) {\n\t\t\t\t\tvar trackArr = v['track'];\n\t\t\t\t\tvar trackDefault = '';\n\t\t\t\t\tvar defaultHave = false;\n\t\t\t\t\tfor (i = 0; i < trackArr.length; i++) {\n\t\t\t\t\t\tvar trackObj = trackArr[i];\n\t\t\t\t\t\tif (trackObj['default'] && !defaultHave) {\n\t\t\t\t\t\t\ttrackDefault = ' default';\n\t\t\t\t\t\t\tdefaultHave = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttrackDefault = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttrack += '<track kind=\"' + trackObj['kind'] + '\" src=\"' + trackObj['src'] + '\" srclang=\"' + trackObj['srclang'] + '\" label=\"' + trackObj['label'] + '\"' + trackDefault + '>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(v['crossorigin']){\n\t\t\t\t\tcrossorigin=' crossorigin=\"'+v['crossorigin']+'\"';\n\t\t\t\t}\n\t\t\t\tvar autoLoad = this.ckConfig['config']['autoLoad'];\n\t\t\t\tvar preload = '';\n\t\t\t\tif (!autoLoad) {\n\t\t\t\t\tpreload = ' preload=\"meta\"';\n\t\t\t\t}\n\t\t\t\tvar vid = this.randomString();\n\t\t\t\tvar controls = '';\n\t\t\t\tvar mobileAutoFull = v['mobileAutoFull'];\n\t\t\t\tvar mobileautofull = '';\n\t\t\t\tif (!mobileAutoFull) {\n\t\t\t\t\tmobileautofull = ' x-webkit-airplay=\"true\" playsinline  webkit-playsinline=\"true\"  x5-video-player-type=\"h5\"';\n\t\t\t\t}\n\t\t\t\tif(this.isMobile()){\n\t\t\t\t\tcontrols = ' controls=\"controls\"';\n\t\t\t\t}\n\t\t\t\tif (isVideoH5 != null && thisPd != null) {\n\t\t\t\t\tthis.V = isVideoH5;\n\t\t\t\t\tif (v['poster']) {\n\t\t\t\t\t\tthis.V.poster = v['poster'];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar html = '';\n\t\t\t\t\tif (!this.isM3u8) {\n\t\t\t\t\t\thtml = '<video id=\"' + vid + '\"' + src + ' controlslist=\"nodownload\" width=\"100%\" height=\"100%\"' + autoplay + poster + loop + preload + controls + mobileautofull + track + crossorigin+'>' + source + '</video>';\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml = '<video id=\"' + vid + '\" controlslist=\"nodownload\" width=\"100%\" height=\"100%\"' + poster + loop + preload + controls + mobileautofull + track + crossorigin+'></video>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.PD.innerHTML = html;\n\t\t\t\t\tthis.V = this.getByElement('#' + vid); //V：定义播放器对象全局变量\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.volume = volume; //定义音量\n\t\t\t\t\tif (this.playbackRateArr && this.vars['playbackrate'] > -1) {\n\t\t\t\t\t\tif (this.vars['playbackrate'] < this.playbackRateArr.length) {\n\t\t\t\t\t\t\tthis.playbackRateDefault = this.vars['playbackrate'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.V.playbackRate = this.playbackRateArr[this.playbackRateDefault][0]; //定义倍速\n\t\t\t\t\t}\n\t\t\t\t} catch(error) {}\n\t\t\t\tthis.css(this.V, {\n\t\t\t\t\tbackgroundColor: vBg,\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100%'\n\t\t\t\t});\n\t\t\t\tif (this.isM3u8) {\n\t\t\t\t\tvar loadJsHandler = function() {\n\t\t\t\t\t\tthisTemp.embedHls(thisTemp.VA[0][0], v['autoplay']);\n\t\t\t\t\t};\n\t\t\t\t\tthis.loadJs(this.ckplayerPath + 'hls/hls.min.js', loadJsHandler);\n\t\t\t\t}\n\t\t\t\tthis.css(this.V, 'backgroundColor', vBg);\n\t\t\t\t//创建一个画布容器\n\t\t\t\tif (this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\t\tvar canvasDiv = document.createElement('div');\n\t\t\t\t\tthis.PD.appendChild(canvasDiv);\n\t\t\t\t\tthis.MD = canvasDiv; //定义画布存储容器\n\t\t\t\t\tthis.css(this.MD, {\n\t\t\t\t\t\tbackgroundColor: vBg,\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\ttop: '0px',\n\t\t\t\t\t\tzIndex: '10'\n\t\t\t\t\t});\n\t\t\t\t\tvar cvid = 'ccanvas' + this.randomString();\n\t\t\t\t\tthis.MD.innerHTML = this.newCanvas(cvid, this.MD.offsetWidth, this.MD.offsetHeight);\n\t\t\t\t\tthis.MDC = this.getByElement(cvid + '-canvas');\n\t\t\t\t\tthis.MDCX = this.MDC.getContext('2d');\n\t\t\t\t}\n\t\t\t\tthis.playerType = 'html5video';\n\t\t\t\t//播放器构建完成并且设置好样式\n\t\t\t\t//建立播放器的监听函数，包含操作监听及事件监听\n\t\t\t\tthis.addVEvent();\n\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t//根据清晰度的值构建清晰度切换按钮\n\t\t\t\t\tthis.definition();\n\t\t\t\t\tif (!this.vars['live'] && this.playbackRateArr && this.vars['playbackrate'] > -1) {\n\t\t\t\t\t\tthis.playbackRate();\n\t\t\t\t\t}\n\t\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\t\tthis.loadingStart(true);\n\t\t\t\t\t}\n\t\t\t\t\tthis.subtitleSwitch();\n\t\t\t\t}\n\t\t\t\tthis.playerLoad();\n\t\t\t} else { //如果不支持HTML5-VIDEO则调用flashplayer\n\t\t\t\tthis.embedSWF();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t分析广告数据\n\t\t*/\n\t\tadAnalysis: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar v = this.vars;\n\t\t\tvar isAdvShow = [];\n\t\t\tvar i = 0;\n\t\t\tif (v['advertisements'] != '' && v['advertisements'].substr(0, 8) == 'website:') {\n\t\t\t\tvar ajaxObj = {\n\t\t\t\t\turl: v['advertisements'].substr(8),\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\tvar newData = {};\n\t\t\t\t\t\t\tvar val = null;\n\t\t\t\t\t\t\t//对广告进行分析\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(data['front']) || !thisTemp.isUndefined(data['pause']) || !thisTemp.isUndefined(data['end']) || !thisTemp.isUndefined(data['insert']) || !thisTemp.isUndefined(data['other'])) {\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['front']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['front'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['pause']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['pause'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['insert']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['insert'] = val;\n\t\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(data['inserttime'])) {\n\t\t\t\t\t\t\t\t\t\t\tnewData['inserttime'] = thisTemp.arrayInt(data['inserttime']);\n\t\t\t\t\t\t\t\t\t\t\tisAdvShow = [];\n\t\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < newData['inserttime'].length; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\tisAdvShow.push(false);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tnewData['insertPlay'] = isAdvShow;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['end']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['end'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['other']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['other'] = val;\n\t\t\t\t\t\t\t\t\t\tisAdvShow = [];\n\t\t\t\t\t\t\t\t\t\tvar arrTemp = [];\n\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < val.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\tisAdvShow.push(false);\n\t\t\t\t\t\t\t\t\t\t\tarrTemp.push(parseInt('0' + val[i]['startTime']));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnewData['othertime'] = arrTemp;\n\t\t\t\t\t\t\t\t\t\tnewData['otherPlay'] = isAdvShow;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\tthisTemp.log(event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.advertisements = newData;\n\t\t\t\t\t\t\t//对广告进行分析结束\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisTemp.getVideo();\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){}\n\t\t\t\t};\n\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t} else {\n\t\t\t\t//根据广告分析\n\t\t\t\tthis.adAnalysisOne('front', 'adfront', 'adfronttime', 'adfrontlink', 'adfronttype');\n\t\t\t\tthis.adAnalysisOne('pause', 'adpause', 'adpausetime', 'adpauselink', 'adpausetype');\n\t\t\t\tthis.adAnalysisOne('insert', 'adinsert', 'adinserttime', 'adinsertlink', 'adinserttype');\n\t\t\t\tthis.adAnalysisOne('end', 'adend', 'adendtime', 'adendlink', 'adendtype');\n\t\t\t\tif (!this.isUndefined(this.advertisements['insert'])) {\n\t\t\t\t\tif (!this.isUndefined(v['inserttime'])) {\n\t\t\t\t\t\tthisTemp.advertisements['inserttime'] = v['inserttime'];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!this.isUndefined(thisTemp.advertisements['inserttime'])) {\n\t\t\t\t\tthisTemp.advertisements['inserttime'] = thisTemp.arrayInt(thisTemp.advertisements['inserttime']);\n\t\t\t\t\tisInsert = [];\n\t\t\t\t\tfor (i = 0; i < thisTemp.advertisements['inserttime'].length; i++) {\n\t\t\t\t\t\tisInsert.push(false);\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.advertisements['insertPlay'] = isInsert;\n\t\t\t\t}\n\t\t\t\tthisTemp.getVideo();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t将广告数组数据里不是视频和图片的去除\n\t\t*/\n\t\tarrayDel: function(arr) {\n\t\t\tif(this.isUndefined(arr)){\n\t\t\t\treturn arr;\n\t\t\t}\n\t\t\tif (arr.length == 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar newArr = [];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar type = arr[i]['type'];\n\t\t\t\tif (type == 'mp4' || type == 'mov' || this.isStrImage(type)) {\n\t\t\t\t\tnewArr.push(arr[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (newArr.length > 0) {\n\t\t\t\treturn newArr;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\t/*分析单个类型的广告*/\n\t\tadAnalysisOne: function(adType, adName, adTime, adLink, adStype) {\n\t\t\tvar v = this.vars;\n\t\t\tif (this.isUndefined(v[adName])) {\n\t\t\t\tv[adName] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adTime])) {\n\t\t\t\tv[adTime] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adLink])) {\n\t\t\t\tv[adLink] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adStype])) {\n\t\t\t\tv[adStype] = '';\n\t\t\t}\n\t\t\tif (v[adName] != '') {\n\t\t\t\tvar adList = [];\n\t\t\t\tvar ad = v[adName].split(',');\n\t\t\t\tvar adtime = v[adTime].split(',');\n\t\t\t\tvar adlink = v[adLink].split(',');\n\t\t\t\tvar adstype = v[adStype].split(',');\n\t\t\t\tvar i = 0;\n\t\t\t\tif (ad.length > 0) {\n\t\t\t\t\tvar adLinkLen = adlink.length,\n\t\t\t\t\tadTimeLen = adtime.length;\n\t\t\t\t\tif (v[adLink] == '') {\n\t\t\t\t\t\tadLinkLen = 0;\n\t\t\t\t\t\tadlink = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (v[adTime] == '') {\n\t\t\t\t\t\tadTimeLen = 0;\n\t\t\t\t\t\tadtime = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (adLinkLen < ad.length) {\n\t\t\t\t\t\tfor (i = adLinkLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadlink.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (adTimeLen < ad.length) {\n\t\t\t\t\t\tfor (i = adTimeLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadtime.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar adstypeLen = adstype.length;\n\t\t\t\t\tif (v[adStype] == '') {\n\t\t\t\t\t\tadstypeLen = 0;\n\t\t\t\t\t\tadstype = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (adstypeLen < ad.length) {\n\t\t\t\t\t\tfor (i = adstypeLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadstype.push(this.getFileExt(ad[i]).replace('.', ''));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (i = 0; i < ad.length; i++) {\n\t\t\t\t\t\tvar type = adstype[i];\n\t\t\t\t\t\tif (type == 'mp4' || type == 'mov' || this.isStrImage(type)) {\n\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\tfile: ad[i],\n\t\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t\t\ttime: parseInt(adtime[i]) > 0 ? parseInt(adtime[i]) : this.ckStyle['advertisement']['time'],\n\t\t\t\t\t\t\t\tlink: adlink[i]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tadList.push(obj);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (this.isUndefined(this.advertisements)) {\n\t\t\t\t\t\tthis.advertisements = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (adList.length > 0) {\n\t\t\t\t\t\tthis.advertisements[adType] = adList;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t发送播放器加载成功的消息\n\t\t*/\n\t\tplayerLoad: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.isFirst) {\n\t\t\t\tthis.isFirst = false;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthisTemp.loadedHandler();\n\t\t\t\t},1);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t建立播放器的监听函数，包含操作监听及事件监听\n\t\t*/\n\t\taddVEvent: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar duration=0;\n\t\t\t//监听视频单击事件\n\t\t\tvar eventVideoClick = function(event) {\n\t\t\t\tthisTemp.videoClickXy={x:event.clientX,y:event.clientY};\n\t\t\t\tthisTemp.videoClick();\n\t\t\t};\n\t\t\tthis.addListenerInside('click', eventVideoClick);\n\t\t\tthis.addListenerInside('click', eventVideoClick, this.MDC);\n\t\t\t//延迟计算加载失败事件\n\t\t\tthis.timerErrorFun();\n\t\t\t//监听视频加载到元数据事件\n\t\t\tvar eventJudgeIsLive = function(event) {\n\t\t\t\tthisTemp.sendJS('loadedmetadata');\n\t\t\t\tif (thisTemp.varType(thisTemp.V.duration) == 'number' && thisTemp.V.duration > 1) {\n\t\t\t\t\tduration = thisTemp.V.duration;\n\t\t\t\t\tif(!duration){\n\t\t\t\t\t\tif(thisTemp.vars['duration']>0){\n\t\t\t\t\t\t\tduration=thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.sendJS('duration', duration);\n\t\t\t\t\tthisTemp.formatInserttime(duration);\n\t\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\t\tthisTemp.advertisementsTime(duration + 1);\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.durationSendJS = true;\n\t\t\t\t}\n\t\t\t\tif (thisTemp.conBarShow) {\n\t\t\t\t\tthisTemp.V.controls=null;\n\t\t\t\t\tthisTemp.videoCss();\n\t\t\t\t}\n\t\t\t\tthisTemp.judgeIsLive();\n\t\t\t};\n\t\t\t//监听视频播放事件\n\t\t\tvar eventPlaying = function(event) {\n\t\t\t\tthisTemp.playingHandler();\n\t\t\t\tthisTemp.sendJS('play');\n\t\t\t\tthisTemp.sendJS('paused', false);\n\t\t\t\tif (!thisTemp.durationSendJS && thisTemp.varType(thisTemp.V.duration) == 'number' && thisTemp.V.duration > 0) {\n\t\t\t\t\tduration = thisTemp.V.duration;\n\t\t\t\t\tif(!duration){\n\t\t\t\t\t\tif(thisTemp.vars['duration']>0){\n\t\t\t\t\t\t\tduration=thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.durationSendJS = true;\n\t\t\t\t\tthisTemp.sendJS('duration', duration);\n\t\t\t\t\tthisTemp.formatInserttime(duration);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('playing', eventPlaying);\n\t\t\t//监听视频暂停事件\n\t\t\tvar eventPause = function(event) {\n\t\t\t\tthisTemp.pauseHandler();\n\t\t\t\tthisTemp.sendJS('pause');\n\t\t\t\tthisTemp.sendJS('paused', true);\n\t\t\t};\n\t\t\tthis.addListenerInside('pause', eventPause);\n\t\t\t//监听视频播放结束事件\n\t\t\tvar eventEnded = function(event) {\n\t\t\t\tthisTemp.endedHandler();\n\t\t\t};\n\t\t\tthis.addListenerInside('ended', eventEnded);\n\t\t\t//监听视频播放时间事件\n\t\t\tvar eventTimeupdate = function(event) {\n\t\t\t\tif (thisTemp.loadingShow) {\n\t\t\t\t\tthisTemp.loadingStart(false);\n\t\t\t\t}\n\t\t\t\tif (thisTemp.time) {\n\t\t\t\t\tif (!thisTemp.adPlayerPlay) {\n\t\t\t\t\t\tthisTemp.sendJS('time', thisTemp.time);\n\t\t\t\t\t\t//监听中间插入广告是否需要播放\n\t\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['insert'])) {\n\t\t\t\t\t\t\tthisTemp.checkAdInsert(thisTemp.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//监听其它广告\n\t\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['other'])) {\n\t\t\t\t\t\t\tthisTemp.checkAdOther(thisTemp.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (thisTemp.time < 3 && thisTemp.adReset) {\n\t\t\t\t\t\t\tthisTemp.adReset = false;\n\t\t\t\t\t\t\tthisTemp.endedAdReset();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { //如果是广告则进行广告倒计时\n\t\t\t\t\t\tthisTemp.adPlayerTimeHandler(thisTemp.time);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('timeupdate', eventTimeupdate);\n\t\t\t//监听视频缓冲事件\n\t\t\tvar eventWaiting = function(event) {\n\t\t\t\tthisTemp.loadingStart(true);\n\t\t\t};\n\t\t\tthis.addListenerInside('waiting', eventWaiting);\n\t\t\t//监听视频seek开始事件\n\t\t\tvar eventSeeking = function(event) {\n\t\t\t\tthisTemp.sendJS('seek', 'start');\n\t\t\t};\n\t\t\tthis.addListenerInside('seeking', eventSeeking);\n\t\t\t//监听视频seek结束事件\n\t\t\tvar eventSeeked = function(event) {\n\t\t\t\tthisTemp.seekedHandler();\n\t\t\t\tthisTemp.sendJS('seek', 'ended');\n\t\t\t};\n\t\t\tthis.addListenerInside('seeked', eventSeeked);\n\t\t\t//监听视频音量\n\t\t\tvar eventVolumeChange = function(event) {\n\t\t\t\ttry {\n\t\t\t\t\tthisTemp.volumechangeHandler();\n\t\t\t\t\tthisTemp.sendJS('volume', thisTemp.volume || thisTemp.V.volume);\n\t\t\t\t} catch(event) {}\n\t\t\t};\n\t\t\tthis.addListenerInside('volumechange', eventVolumeChange);\n\t\t\t//监听全屏事件\n\t\t\tvar eventFullChange = function(event) {\n\t\t\t\tvar fullState = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen;\n\t\t\t\tthisTemp.sendJS('full', fullState);\n\t\t\t};\n\t\t\tthis.addListenerInside('fullscreenchange', eventFullChange);\n\t\t\tthis.addListenerInside('webkitfullscreenchange', eventFullChange);\n\t\t\tthis.addListenerInside('mozfullscreenchange', eventFullChange);\n\t\t\t//建立界面\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.interFace();\n\t\t\t}\n\t\t\tthis.addListenerInside('loadedmetadata', eventJudgeIsLive);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重置界面元素\n\t\t*/\n\t\tresetPlayer: function() {\n\t\t\tthis.timeTextHandler();\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.timeProgress(0, 1); //改变时间进度条宽\n\t\t\t\tthis.changeLoad(0);\n\t\t\t\tthis.initPlayPause(); //判断显示播放或暂停按钮\n\t\t\t\tthis.definition(); //构建清晰度按钮\n\t\t\t\tthis.deletePrompt(); //删除提示点\n\t\t\t\tthis.deletePreview(); //删除预览图\n\t\t\t\tthis.trackHide(); //重置字幕\n\t\t\t\tthis.resetTrack();\n\t\t\t\tthis.trackElement = [];\n\t\t\t\tthis.track = [];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建界面元素\n\t\t */\n\t\tinterFace: function() {\n\t\t\tthis.conBarShow = true;\n\t\t\tvar thisTemp = this;\n\t\t\tvar html = ''; //控制栏内容\n\t\t\tvar i = 0;\n\t\t\tvar thisStyle=this.ckStyle;\n\t\t\tvar styleC=thisStyle['controlBar'];\n\t\t\tvar styleCB=styleC['button'];\n\t\t\tvar styleAS=thisStyle['advertisement'];\n\t\t\tvar styleDF=styleC['definition'];\n\t\t\tvar bWidth = 38;//按钮的宽\n\t\t\tvar timeInto = this.formatTime(0,this.vars['duration'],this.ckLanguage['vod']); //时间显示框默认显示内容\t\t\t\n\t\t\t/*\n\t\t\t\t构建一些PD（播放器容器）里使用的元素\n\t\t\t*/\n\t\t\t/*\n\t\t\t \t构建播放器内的元素\n\t\t\t*/\n\t\t\tthis.CB={menu:null};\n\t\t\tvar divEle={\n\t\t\t\tcontrolBarBg:null,\n\t\t\t\tcontrolBar:null,\n\t\t\t\tpauseCenter:null,\n\t\t\t\terrorText:null,\n\t\t\t\tpromptBg:null,\n\t\t\t\tprompt:null,\n\t\t\t\tpromptTriangle:null,\n\t\t\t\tdefinitionP:null,\n\t\t\t\tplaybackrateP:null,\n\t\t\t\tsubtitlesP:null,\n\t\t\t\tloading:null,\n\t\t\t\tlogo:null,\n\t\t\t\tadBackground:null,\n\t\t\t\tadElement:null,\n\t\t\t\tadLink:null,\n\t\t\t\tadPauseClose:null,\n\t\t\t\tadTime:null,\n\t\t\t\tadTimeText:null,\n\t\t\t\tadMute:null,\n\t\t\t\tadEscMute:null,\n\t\t\t\tadSkip:null,\n\t\t\t\tadSkipText:null,\n\t\t\t\tadSkipButton:null\n\t\t\t};\n\t\t\tvar k='';\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.PD.appendChild(this.CB[k]);\n\t\t\t}\n\t\t\t/*\n\t\t\t\t构建鼠标右键容器\n\t\t\t*/\n\t\t\tthis.CB['menu']=document.createElement('div');\n\t\t\tthis.body.appendChild(this.CB['menu']);\n\t\t\tif (this.vars['live']) { //如果是直播，时间显示文本框里显示当前系统时间\n\t\t\t\ttimeInto = this.formatTime(0,0,this.ckLanguage['live']); //时间显示框默认显示内容\n\t\t\t}\n\t\t\t/*\n\t\t\t\t构建控制栏的按钮\n\t\t\t*/\n\t\t\tdivEle={\n\t\t\t\tplay:null,\n\t\t\t\tpause:null,\n\t\t\t\tmute:null,\n\t\t\t\tescMute:null,\n\t\t\t\tfull:null,\n\t\t\t\tescFull:null,\n\t\t\t\tdefinition:null,\n\t\t\t\tplaybackrate:null,\n\t\t\t\tsubtitles:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\tthis.CB[k].dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\tthis.CB['controlBar'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tdivEle={\n\t\t\t\ttimeProgressBg:null,\n\t\t\t\ttimeBoBg:null,\n\t\t\t\tvolume:null,\n\t\t\t\ttimeText:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['controlBar'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['timeText'].innerHTML=timeInto;//初始化时间\n\t\t\tdivEle={\n\t\t\t\tloadProgress:null,\n\t\t\t\ttimeProgress:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['timeProgressBg'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['timeButton']=document.createElement('div');\n\t\t\tthis.CB['timeBoBg'].appendChild(this.CB['timeButton']);\n\t\t\tdivEle={\n\t\t\t\tvolumeBg:null,\n\t\t\t\tvolumeBO:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['volume'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['volumeUp']=document.createElement('div');\n\t\t\tthis.CB['volumeBg'].appendChild(this.CB['volumeUp']);\n\t\t\t//构建loading图标\n\t\t\tvar imgTemp=null;\n\t\t\tvar imgFile='';\n\t\t\tvar imgFile=thisStyle['loading']['file'];\n\t\t\tif(!this.isUndefined(thisStyle['loading']['fileH5'])){\n\t\t\t\timgFile=thisStyle['loading']['fileH5'];\n\t\t\t}\n\t\t\tif(imgFile){\n\t\t\t\timgTemp=document.createElement('img');\n\t\t\t\timgTemp.src=imgFile;\n\t\t\t\timgTemp.border=0;\n\t\t\t\tthis.CB['loading'].appendChild(imgTemp);\n\t\t\t}\n\t\t\t//构建logo图标\n\t\t\timgFile=thisStyle['logo']['file'];\n\t\t\tif(!this.isUndefined(thisStyle['logo']['fileH5'])){\n\t\t\t\timgFile=thisStyle['logo']['fileH5'];\n\t\t\t}\n\t\t\tif(imgFile){\n\t\t\t\timgTemp=document.createElement('img');\n\t\t\t\timgTemp.src=imgFile;\n\t\t\t\timgTemp.border=0;\n\t\t\t\tthis.CB['logo'].appendChild(imgTemp);\n\t\t\t}\t\t\t\n\t\t\t//定义界面元素的样式\n\t\t\tif(this.ckConfig['config']['buttonMode']['player']){\n\t\t\t\tthis.css(this.PD, {cursor: 'pointer'});\n\t\t\t}\n\t\t\t//控制栏背景\n\t\t\tthis.controlBar(); //改变控制栏\n\t\t\tvar cssTemp=null;\n\t\t\t//定义提示语的样式\n\t\t\tvar promptCss=thisStyle['prompt'];\n\t\t\tcssTemp=this.getEleCss(promptCss,{overflow: 'hidden',zIndex: 900,display:'none'});\n\t\t\tthis.css(this.CB['promptBg'],cssTemp);\n\t\t\tthis.css(this.CB['promptBg'],'padding','0px');\n\t\t\tcssTemp['backgroundColor']='';\n\t\t\tcssTemp['border']='';\n\t\t\tcssTemp['borderRadius']='';\n\t\t\tcssTemp['whiteSpace']='nowrap';\n\t\t\tthis.css(this.CB['prompt'],cssTemp);\n\t\t\t//定义提示语下方的三解形的样式\n\t\t\tcssTemp={\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t\tborderLeft: promptCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\tborderRight: promptCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\tborderTop: promptCss['triangleHeight']+'px solid '+promptCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\toverflow: 'hidden',\n\t\t\t\topacity:promptCss['triangleAlpha'],\n\t\t\t\tfilter:'alpha(opacity:'+promptCss['triangleAlpha']+')',\n\t\t\t\tposition:'absolute',\n\t\t\t\tleft:'0px',\n\t\t\t\ttop:'0px',\n\t\t\t\tzIndex: 900,\n\t\t\t\tdisplay:'none'\n\t\t\t};\n\t\t\tthis.css(this.CB['promptTriangle'],cssTemp);\n\t\t\tthis.elementCoordinate();//中间播放按钮，出错文本框，logo，loading\n\t\t\tthis.css([this.CB['pauseCenter'],this.CB['loading'],this.CB['errorText']],'display','none');\n\t\t\tthis.carbarButton();//控制栏按钮\n\t\t\tthis.playerCustom();//播放器界面自定义元件\n\t\t\tthis.carbarCustom();//控制栏自定义元件\n\t\t\tthis.timeProgressDefault();//进度条默认样式\n\t\t\tthis.videoCss();//计算video的宽高和位置\n\t\t\t//初始化判断播放/暂停按钮隐藏项\n\t\t\tthis.initPlayPause();\n\t\t\tif (this.vars['volume'] > 0) {\n\t\t\t\tthis.css(this.CB['escMute'], 'display', 'none');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['mute'], 'display', 'none');\n\t\t\t}\n\t\t\tif (!this.ckConfig['config']['mobileVolumeBarShow'] && this.isMobile()) {\n\t\t\t\tthis.css([this.CB['mute'], this.CB['escMute'], this.CB['volume']], {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.css(this.CB['escFull'],'display', 'none');\n\t\t\t//设置广告背景层样式\n\t\t\tvar cssObj={\n\t\t\t\talign: 'top',\n\t\t\t\tvAlign:'left',\n\t\t\t\twidth:'100%',\n\t\t\t\theight:'100%',\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\tzIndex: 910,\n\t\t\t\tdisplay: 'none'\n\t\t\t};\n\t\t\tcssTemp=this.getEleCss(styleAS['background'],cssObj);\n\t\t\tthis.css(this.CB['adBackground'],cssTemp);\n\t\t\tthis.css(this.CB['adElement'], {\n\t\t\t\tposition: 'absolute',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\ttop: '0px',\n\t\t\t\tzIndex: 911,\n\t\t\t\tfloat: 'center',\n\t\t\t\tdisplay: 'none'\n\t\t\t});\n\t\t\t//广告控制各元素样式，用一个函数单独定义，这样在播放器尺寸变化时可以重新设置样式\n\t\t\tthis.advertisementStyle();\n\t\t\t//初始化广告控制各元素-隐藏\n\t\t\tthis.css([this.CB['adTime'],this.CB['adTimeText'],this.CB['adMute'],this.CB['adEscMute'],this.CB['adSkip'],this.CB['adSkipText'],this.CB['adSkipButton'],this.CB['adLink'],this.CB['adPauseClose']],'display','none');\n\t\t\t//定义鼠标经过控制栏只显示完整的进度条，鼠标离开进度条则显示简单的进度条\n\t\t\tvar timeProgressOut = function(event) {\n\t\t\t\tthisTemp.timeProgressMouseOut();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', timeProgressOut, this.CB['timeBoBg']);\n\t\t\tvar timeProgressOver = function(event) {\n\t\t\t\tthisTemp.timeProgressDefault();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', timeProgressOver, this.CB['controlBar']);\n\t\t\t//定义各按钮鼠标经过时的切换样式\n\t\t\tthis.buttonEventFun(this.CB['play'],styleCB['play']);//播放按钮\n\t\t\tthis.buttonEventFun(this.CB['pause'],styleCB['pause']);//暂停按钮\n\t\t\tthis.buttonEventFun(this.CB['mute'],styleCB['mute']);//静音按钮\n\t\t\tthis.buttonEventFun(this.CB['escMute'],styleCB['escMute']);//恢复音量按钮\n\t\t\tthis.buttonEventFun(this.CB['full'],styleCB['full']);//全屏按钮\n\t\t\tthis.buttonEventFun(this.CB['escFull'],styleCB['escFull']);//退出全屏按钮\n\t\t\tthis.buttonEventFun(this.CB['adMute'],styleAS['muteButton']);//广告静音按钮\n\t\t\tthis.buttonEventFun(this.CB['adEscMute'],styleAS['escMuteButton']);//恢复广告音量按钮\n\t\t\tthis.buttonEventFun(this.CB['adSkipButton'],styleAS['skipAdButton']);//跳过广告按钮\n\t\t\tthis.buttonEventFun(this.CB['adLink'],styleAS['adLinkButton']);//广告查看详情按钮\n\t\t\tthis.buttonEventFun(this.CB['adPauseClose'],styleAS['closeButton']);//播放暂停时的广告的关闭按钮\n\t\t\tthis.buttonEventFun(this.CB['pauseCenter'],thisStyle['centerPlay']);//播放器中间暂停时的播放按钮\n\t\t\tthis.buttonEventFun(this.CB['volumeBO'],styleC['volumeSchedule']['button']);//音量调节框按钮样式\n\t\t\tthis.buttonEventFun(this.CB['timeButton'],styleC['timeSchedule']['button']);//时间进度调节框按钮样式\n\n\t\t\tthis.addButtonEvent(); //注册按钮及音量调节，进度操作事件\n\t\t\tthis.controlBarHide(); //单独注册控制栏隐藏事件\n\t\t\tthis.newMenu(); //设置右键的样式和事件\n\t\t\tthis.keypress(); //注册键盘事件\n\t\t\t//初始化音量调节框\n\t\t\tthis.changeVolume(this.vars['volume']);\n\t\t\tsetTimeout(function() {\n\t\t\t\tthisTemp.elementCoordinate(); //调整中间暂停按钮/loading的位置/error的位置\n\t\t\t},\n\t\t\t100);\n\t\t\tthis.checkBarWidth();\n\t\t\tvar resize = function() {\n\t\t\t\tthisTemp.log('window.resize');\n\t\t\t\tthisTemp.playerResize();\n\t\t\t};\n\t\t\tvar MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n\t\t\tvar observer = new MutationObserver(function(){\n\t\t\t\tthisTemp.log('video.resize');\n\t\t\t\tvar cdW=parseInt(thisTemp.css(thisTemp.CD,'width')),cdH=parseInt(thisTemp.css(thisTemp.CD,'height'));\n\t\t\t\tif(cdW!=thisTemp.cdWH['w'] || cdH!=thisTemp.cdWH['h']){\n\t\t\t\t\tthisTemp.cdWH={\n\t\t\t\t\t\tw:cdW,\n\t\t\t\t\t\th:cdH\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.changeSize(cdW,cdH);\n\t\t\t\t}\n\t\t\t});\n\t\t\tobserver.observe(this.CD, {attributes: true, attributeFilter: ['style'], attributeOldValue: true });\n\t\t\tthis.addListenerInside('resize', resize, window);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t进间进度条默认样式\n\t\t*/\n\t\ttimeProgressDefault:function(){\n\t\t\tvar styleCT=this.ckStyle['controlBar']['timeSchedule'];\n\t\t\tvar cssObj=this.newObj(styleCT['default']);\n\t\t\tvar loadBackImg=cssObj['loadProgressImg'],playBackImg=cssObj['playProgressImg'];\n\t\t\tvar cssTemp=null;\n\t\t\tthis.css(this.CB['timeBoBg'],'display','block');\n\t\t\t//时间进度条背景容器\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow: 'hidden',zIndex: 2},this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['timeProgressBg'], cssTemp);\n\t\t\t//加载进度\n\t\t\tcssObj={\n\t\t\t\talign:'left',\n\t\t\t\tvAlign:'top',\n\t\t\t\twidth:1,\n\t\t\t\theight:cssObj['height'],\n\t\t\t\tbackgroundImg:loadBackImg\n\t\t\t};\n\t\t\t//加载进度和时间进度\n\t\t\tif(this.CB['loadProgress'].offsetWidth>1){\n\t\t\t\tcssObj['width']=this.CB['loadProgress'].offsetWidth;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow:'hidden',zIndex:1},this.CB['timeProgressBg']);\n\t\t\tthis.css(this.CB['loadProgress'],cssTemp);\n\t\t\tcssObj['width']=0;\n\t\t\tif(this.CB['timeProgress'].offsetWidth>1 && parseInt(this.css(this.CB['timeButton'],'left'))>0){\n\t\t\t\tcssObj['width']=this.CB['timeProgress'].offsetWidth;\n\t\t\t\t\n\t\t\t}\n\t\t\tcssObj['backgroundImg']=playBackImg;\n\t\t\tcssTemp=this.getEleCss(cssObj,{overflow:'hidden',zIndex:2});\n\t\t\tthis.css(this.CB['timeProgress'],cssTemp);\n\t\t\t//时间进度按钮容器\n\t\t\tcssTemp=this.getEleCss(styleCT['buttonContainer'],{position: 'absolute',overflow: 'hidden',zIndex: 3},this.CB['controlBar']);\n\t\t\tif(this.ckConfig['config']['buttonMode']['timeSchedule']){\n\t\t\t\tcssTemp['cursor']='pointer';\n\t\t\t}\n\t\t\tthis.css(this.CB['timeBoBg'],cssTemp);\n\t\t\t//时间进度按钮\n\t\t\tcssTemp=this.getEleCss(styleCT['button'],{cursor: 'pointer',overflow: 'hidden',zIndex: 4},this.CB['timeBoBg']);\n\t\t\tthis.css(this.CB['timeButton'], cssTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t进间进度条鼠标离开样式\n\t\t*/\n\t\ttimeProgressMouseOut:function(){\n\t\t\tvar styleCT=this.ckStyle['controlBar']['timeSchedule'];\n\t\t\tvar cssObj=this.newObj(styleCT['mouseOut']);\n\t\t\tvar loadBackImg=cssObj['loadProgressImg'],playBackImg=cssObj['playProgressImg'];\n\t\t\tvar cssTemp=null;\n\t\t\tthis.css(this.CB['timeBoBg'],'display','block');\n\t\t\t//时间进度条背景容器\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow: 'hidden',zIndex: 2},this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['timeProgressBg'], cssTemp);\n\t\t\t//加载进度\n\t\t\tcssObj={\n\t\t\t\talign:'left',\n\t\t\t\tvAlign:'top',\n\t\t\t\twidth:1,\n\t\t\t\theight:cssObj['height'],\n\t\t\t\tbackgroundImg:loadBackImg\n\t\t\t};\n\t\t\t//加载进度和时间进度\n\t\t\tif(this.CB['loadProgress'].offsetWidth>1){\n\t\t\t\tcssObj['width']=this.CB['loadProgress'].offsetWidth;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow:'hidden',zIndex:1},this.CB['timeProgressBg']);\n\t\t\tthis.css(this.CB['loadProgress'],cssTemp);\n\t\t\tcssObj['width']=1;\n\t\t\tif(this.CB['timeProgress'].offsetWidth>1 && parseInt(this.css(this.CB['timeButton'],'left'))>0){\n\t\t\t\tcssObj['width']=this.CB['timeProgress'].offsetWidth;\n\t\t\t\tcssObj['backgroundImg']=playBackImg;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(cssObj,{overflow:'hidden',zIndex:2});\n\t\t\tthis.css(this.CB['timeProgress'],cssTemp);\t\t\t\n\t\t\tthis.css(this.CB['timeBoBg'],'display','none');\t\t\t\n\t\t},\n\t\t/*\n\t\t\t统一注册按钮鼠标经过和离开时的切换动作\n\t\t*/\n\t\tbuttonEventFun:function(ele,cssEle){\n\t\t\tvar thisTemp=this;\n\t\t\tvar overFun = function(event) {\n\t\t\t\tthisTemp.css(ele,{\n\t\t\t\t\tbackgroundImage:'url('+cssEle['mouseOver']+')'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptShow(ele);\n\t\t\t};\n\t\t\tvar outFun = function(event) {\n\t\t\t\tthisTemp.css(ele,{\n\t\t\t\t\tbackgroundImage:'url('+cssEle['mouseOut']+')'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t};\n\t\t\toutFun();\n\t\t\tthis.addListenerInside('mouseover', overFun, ele);\n\t\t\tthis.addListenerInside('mouseout', outFun, ele);\n\t\t\tif(!this.isUndefined(cssEle['clickEvent'])){\n\t\t\t\tvar clickFun=function(event){\n\t\t\t\t\tthisTemp.runFunction(cssEle['clickEvent']);\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', clickFun, ele);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化样式用的数字\n\t\t*/\n\t\tformatNumPx:function(str,z){\n\t\t\tif(!str){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(str.toString().indexOf('%')>-1){//说明是根据百分比来计算\n\t\t\t\tif(!this.isUndefined(z)){//如果有值\n\t\t\t\t\treturn parseInt(str)*z*0.01+'px';\n\t\t\t\t}\n\t\t\t\treturn str;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn str+'px';\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化样式用的数字，返回类型必需是数字或百分比\n\t\t*/\n\t\tformatZToNum:function(str,z){\n\t\t\tif(!str){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(str.toString().indexOf('%')>-1){//说明是根据百分比来计算\n\t\t\t\tif(!this.isUndefined(z)){//如果有值\n\t\t\t\t\treturn parseInt(str)*z*0.01;\n\t\t\t\t}\n\t\t\t\treturn str;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn str;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t对对象进行深度复制\n\t\t*/\n\t\tnewObj:function(obj) {\n\t\t\tif(this.isUndefined(obj)){\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t  \tvar str, newobj ={};//constructor 属性返回对创建此对象的数组函数的引用。创建相同类型的空数据\n\t\t  \tif (this.varType(obj) != 'object') {\n\t\t    \treturn obj;\n\t\t  \t}\n\t\t  \telse {\n\t\t    \tfor (var k in obj) {\n\t\t    \t\tif(this.isUndefined(obj[k])){\n\t\t    \t\t\tnewobj[k] = obj[k];\n\t\t    \t\t}\n\t\t    \t\telse{\n\t\t\t      \t\tif(this.varType(obj[k]) == 'object') { //判断对象的这条属性是否为对象\n\t\t\t        \t\tnewobj[k] = this.newObj(obj[k]);//若是对象进行嵌套调用\n\t\t\t      \t\t}\n\t\t\t      \t\telse{\n\t\t\t        \t\tnewobj[k] = obj[k];\n\t\t\t      \t\t}\n\t\t\t      \t}\n\t\t    \t}\n\t\t  \t}\n\t\t  \treturn newobj;//返回深度克隆后的对象\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t统一的显示图片\n\t\t*/\n\t\tloadImgBg:function(eleid,obj){\n\t\t\tthis.css(this.getByElement(eleid),{\n\t\t\t\tbackgroundImage:'url('+obj+')'\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化css\n\t\t\teleObj=样式,\n\t\t\tsupplement=补充样式,\n\t\t\trrEle=参考对象，\n\t\t\t该函数强制使用position定位的元素\n\t\t*/\n\t\tgetEleCss:function(eleObj,supplement,rrEle){\n\t\t\tvar eleName=null;\n\t\t\tvar pdW=this.PD.offsetWidth,pdH=this.PD.offsetHeight;\n\t\t\tif(rrEle){\n\t\t\t\tpdW=rrEle.offsetWidth;\n\t\t\t\tpdH=rrEle.offsetHeight;\n\t\t\t}\n\t\t\tif(this.isUndefined(eleObj)){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\teleName=this.newObj(eleObj);\n\t\t\tvar cssObject={};\n\t\t\tif(!this.isUndefined(eleName['width'])){\n\t\t\t\tcssObject['width']=this.formatZToNum(eleName['width'],pdW)+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['height'])){\n\t\t\t\tcssObject['height']=this.formatZToNum(eleName['height'],pdH)+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['background'])){\n\t\t\t\tvar bg=eleName['background'];\n\t\t\t\tif(!this.isUndefined(bg['backgroundColor'])){\n\t\t\t\t\tcssObject['backgroundColor']=bg['backgroundColor'].replace('0x','#');\n\t\t\t\t}\n\t\t\t\tif(!this.isUndefined(bg['backgroundImg'])){\n\t\t\t\t\tcssObject['backgroundImage']='url('+bg['backgroundImg']+')';\n\t\t\t\t}\n\t\t\t\tif(!this.isUndefined(bg['alpha'])){\n\t\t\t\t\tcssObject['filter']='alpha(opacity:'+bg['alpha']+')';\n\t\t\t\t\tcssObject['opacity']=bg['alpha'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['backgroundColor'])){\n\t\t\t\tcssObject['backgroundColor']=eleName['backgroundColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['backgroundImg'])){\n\t\t\t\tcssObject['backgroundImage']='url('+eleName['backgroundImg']+')';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['color'])){\n\t\t\t\tcssObject['color']=eleName['color'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['font'])){\n\t\t\t\tcssObject['fontFamily']=eleName['font'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['size'])){\n\t\t\t\tcssObject['fontSize']=eleName['size']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['alpha'])){\n\t\t\t\tcssObject['filter']='alpha(opacity:'+eleName['alpha']+')';\n\t\t\t\tcssObject['opacity']=eleName['alpha'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['lineHeight'])){\n\t\t\t\tcssObject['lineHeight']=eleName['lineHeight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['textAlign'])){\n\t\t\t\tcssObject['textAlign']=eleName['textAlign'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderRadius'])){\n\t\t\t\tcssObject['borderRadius']=eleName['borderRadius']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['radius'])){\n\t\t\t\tcssObject['borderRadius']=eleName['radius']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['padding'])){\n\t\t\t\tcssObject['padding']=eleName['padding']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingLeft'])){\n\t\t\t\tcssObject['paddingLeft']=eleName['paddingLeft']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingRight'])){\n\t\t\t\tcssObject['paddingRight']=eleName['paddingRight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingTop'])){\n\t\t\t\tcssObject['paddingTop']=eleName['paddingTop']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingBottom'])){\n\t\t\t\tcssObject['paddingBottom']=eleName['paddingBottom']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['margin'])){\n\t\t\t\tcssObject['margin']=eleName['margin']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginLeft'])){\n\t\t\t\tcssObject['marginLeft']=eleName['marginLeft']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginRight'])){\n\t\t\t\tcssObject['marginRight']=eleName['marginRight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginTop'])){\n\t\t\t\tcssObject['marginTop']=eleName['marginTop']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginBottom'])){\n\t\t\t\tcssObject['marginBottom']=eleName['marginBottom']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['border']) && !this.isUndefined(eleName['borderColor'])){\n\t\t\t\tcssObject['border']=eleName['border']+'px solid '+eleName['borderColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderLeft']) && !this.isUndefined(eleName['borderLeftColor'])){\n\t\t\t\tcssObject['borderLeft']=eleName['borderLeft']+'px solid '+eleName['borderLeftColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderRight']) && !this.isUndefined(eleName['borderRightColor'])){\n\t\t\t\tcssObject['borderRight']=eleName['borderRight']+'px solid '+eleName['borderRightColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderTop']) && !this.isUndefined(eleName['borderTopColor'])){\n\t\t\t\tcssObject['borderTop']=eleName['borderTop']+'px solid '+eleName['borderTopColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderBottom']) && !this.isUndefined(eleName['borderBottomColor'])){\n\t\t\t\tcssObject['borderBottom']=eleName['borderBottom']+'px solid '+eleName['borderBottomColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(supplement)){\n\t\t\t\tfor(var k in supplement){\n\t\t\t\t\tcssObject[k]=supplement[k];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcssObject['position']='absolute';\n\t\t\tvar left=-10000,top=-10000,right=-10000,bottom=-10000;\n\t\t\tvar offsetX=0,offsetY=0;\n\t\t\tif(!this.isUndefined(eleName['offsetX'])){\n\t\t\t\toffsetX=eleName['offsetX'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginX'])){\n\t\t\t\toffsetX=eleName['marginX'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['offsetY'])){\n\t\t\t\toffsetY=eleName['offsetY'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginY'])){\n\t\t\t\toffsetY=eleName['marginY'];\n\t\t\t}\n\t\t\toffsetX=this.formatZToNum(offsetX,pdW);\n\t\t\toffsetY=this.formatZToNum(offsetY,pdH);\n\t\t\tif(!this.isUndefined(eleName['align'])){\n\t\t\t\tleft=0;\n\t\t\t\tswitch (eleName['align']) {\n\t\t\t\t\tcase 'left':\n\t\t\t\t\t\tleft = offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'center':\n\t\t\t\t\t\tleft = pdW * 0.5 + offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\tleft = pdW+offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right2':\n\t\t\t\t\t\tleft = -10000;\n\t\t\t\t\t\tright=offsetX;\n\t\t\t\t\t\tbreak;\t\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['vAlign'])){\n\t\t\t\ttop=0;\n\t\t\t\tswitch (eleName['vAlign']) {\n\t\t\t\t\tcase 'top':\n\t\t\t\t\t\ttop = offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'middle':\n\t\t\t\t\t\ttop=pdH*0.5+offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\ttop =pdH+offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom2':\n\t\t\t\t\t\ttop=-10000;\n\t\t\t\t\t\tbottom =offsetY;\n\t\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(left>-10000){\n\t\t\t\tcssObject['left']=left+'px';\n\t\t\t}\n\t\t\tif(right>-10000){\n\t\t\t\tcssObject['right']=right+'px';\n\t\t\t}\n\t\t\tif(top>-10000){\n\t\t\t\tcssObject['top']=top+'px';\n\t\t\t}\n\t\t\tif(bottom>-10000){\n\t\t\t\tcssObject['bottom']=bottom+'px';\n\t\t\t}\n\t\t\treturn cssObject;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t创建按钮，使用canvas画布\n\t\t*/\n\t\tnewCanvas: function(id, width, height) {\n\t\t\treturn '<canvas class=\"' + id + '-canvas\" width=\"' + width + '\" height=\"' + height + '\"></canvas>';\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册按钮，音量调节框，进度操作框事件\n\t\t*/\n\t\taddButtonEvent: function() {\n\t\t\tvar thisTemp = this;\n\t\t\t//定义按钮的单击事件\n\t\t\t\n\t\t\t//定义各个按钮的鼠标经过/离开事件\n\t\t\tvar promptHide = function(event) {\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t};\n\t\t\tvar definitionOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['definition']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', definitionOver, this.CB['definition']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['definition']);\n\t\t\tvar playbackrateOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['playbackrate']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', playbackrateOver, this.CB['playbackrate']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['playbackrate']);\n\t\t\tvar subtitlesOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['subtitles']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', subtitlesOver, this.CB['subtitles']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['subtitles']);\n\t\t\t//定义音量和进度按钮的滑块事件\n\t\t\tvar volumePrompt = function(vol) {\n\t\t\t\tvar volumeBOXY = thisTemp.getCoor(thisTemp.CB['volumeBO']);\n\t\t\t\tvar promptObj = {\n\t\t\t\t\ttitle:thisTemp.ckLanguage['volumeSliderOver'].replace('[$volume]',vol),\n\t\t\t\t\tx: volumeBOXY['x'] + thisTemp.CB['volumeBO'].offsetWidth * 0.5,\n\t\t\t\t\ty: volumeBOXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, promptObj);\n\t\t\t};\n\t\t\tvar volumeObj = {\n\t\t\t\tslider: this.CB['volumeBO'],\n\t\t\t\tfollow: this.CB['volumeUp'],\n\t\t\t\trefer: this.CB['volumeBg'],\n\t\t\t\tgrossValue: 'volume',\n\t\t\t\tpd: true,\n\t\t\t\tstartFun: function(vol) {},\n\t\t\t\tmonitorFun: function(vol) {\n\t\t\t\t\tthisTemp.changeVolume(vol * 0.01, false, false);\n\t\t\t\t\tvolumePrompt(vol);\n\t\t\t\t},\n\t\t\t\tendFun: function(vol) {},\n\t\t\t\toverFun: function(vol) {\n\t\t\t\t\tvolumePrompt(vol);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.slider(volumeObj);\n\t\t\tvar volumeClickObj = {\n\t\t\t\trefer: this.CB['volumeBg'],\n\t\t\t\tgrossValue: 'volume',\n\t\t\t\tfun: function(vol) {\n\t\t\t\t\tthisTemp.changeVolume(vol * 0.01, true, true);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.progressClick(volumeClickObj);\n\t\t\tthis.timeButtonMouseDown(); //用单击的函数来判断是否需要建立控制栏监听\n\t\t\t//鼠标经过/离开音量调节框时的\n\t\t\tvar volumeBgMove = function(event) {\n\t\t\t\tvar volumeBgXY = thisTemp.getCoor(thisTemp.CB['volumeBg']);\n\t\t\t\tvar eventX = thisTemp.client(event)['x'];\n\t\t\t\tvar eventVolume = parseInt((eventX - volumeBgXY['x']) * 100 / thisTemp.CB['volumeBg'].offsetWidth);\n\t\t\t\tvar buttonPromptObj = {\n\t\t\t\t\ttitle:thisTemp.ckLanguage['volumeSliderOver'].replace('[$volume]',eventVolume),\n\t\t\t\t\tx: eventX,\n\t\t\t\t\ty: volumeBgXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, buttonPromptObj);\n\t\t\t};\n\t\t\tthis.addListenerInside('mousemove', volumeBgMove, this.CB['volumeBg']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['volumeBg']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['volumeBO']);\n\t\t\t//注册清晰度相关事件\n\t\t\tthis.addDefListener();\n\t\t\t//注册倍速相关事件\n\t\t\tthis.addPlaybackrate();\n\t\t\t//注册多字幕事件\n\t\t\tthis.addSubtitles();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册单击视频动作\n\t\t*/\n\t\tvideoClick: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar clearTimerClick = function() {\n\t\t\t\tif (thisTemp.timerClick != null) {\n\t\t\t\t\tif (thisTemp.timerClick.runing) {\n\t\t\t\t\t\tthisTemp.timerClick.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerClick = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timerClickFun = function() {\n\t\t\t\tclearTimerClick();\n\t\t\t\tthisTemp.isClick = false;\n\t\t\t\tthisTemp.sendJS('videoClick',thisTemp.videoClickXy);\n\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\tvar ad = thisTemp.getNowAdvertisements();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (ad['link'] != '') {\n\t\t\t\t\t\t\twindow.open(ad['link']);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.ckConfig['config']['click']) {\n\t\t\t\t\t\tthisTemp.playOrPause();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t};\n\t\t\tclearTimerClick();\n\t\t\tif (this.isClick) {\n\t\t\t\tthis.isClick = false;\n\t\t\t\tthisTemp.sendJS('videoDoubleClick',thisTemp.videoClickXy);\n\t\t\t\tif (thisTemp.ckConfig['config']['doubleClick']) {\n\t\t\t\t\tif (!this.full) {\n\t\t\t\t\t\tthisTemp.fullScreen();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthisTemp.quitFullScreen();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tthis.isClick = true;\n\t\t\t\tthis.timerClick = new this.timer(300, timerClickFun, 1)\n\t\t\t\t//this.timerClick.start();\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册鼠标经过进度滑块的事件\n\t\t*/\n\t\ttimeButtonMouseDown: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar timePrompt = function(time) {\n\t\t\t\tif (isNaN(time)) {\n\t\t\t\t\ttime = 0;\n\t\t\t\t}\n\t\t\t\tvar timeButtonXY = thisTemp.getCoor(thisTemp.CB['timeButton']);\n\t\t\t\tvar promptObj = {\n\t\t\t\t\ttitle: thisTemp.formatTime(time,0,thisTemp.ckLanguage['timeSliderOver']),\n\t\t\t\t\tx: timeButtonXY['x'] - thisTemp.pdCoor['x'] + thisTemp.CB['timeButton'].offsetWidth * 0.5,\n\t\t\t\t\ty: timeButtonXY['y'] - thisTemp.pdCoor['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, promptObj);\n\t\t\t};\n\t\t\tvar timeObj = {\n\t\t\t\tslider: this.CB['timeButton'],\n\t\t\t\tfollow: this.CB['timeProgress'],\n\t\t\t\trefer: this.CB['timeBoBg'],\n\t\t\t\tgrossValue: 'time',\n\t\t\t\tpd: false,\n\t\t\t\tstartFun: function(time) {\n\t\t\t\t\tthisTemp.isTimeButtonMove = false;\n\t\t\t\t},\n\t\t\t\tmonitorFun: function(time) {},\n\t\t\t\tendFun: function(time) {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tif (thisTemp.V.duration > 0) {\n\t\t\t\t\t\t\tthisTemp.needSeek = 0;\n\t\t\t\t\t\t\tthisTemp.videoSeek(parseInt(time));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\toverFun: function(time) {\n\t\t\t\t\ttimePrompt(time);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timeClickObj = {\n\t\t\t\trefer: this.CB['timeBoBg'],\n\t\t\t\tgrossValue: 'time',\n\t\t\t\tfun: function(time) {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tif (thisTemp.V.duration > 0) {\n\t\t\t\t\t\t\tthisTemp.needSeek = 0;\n\t\t\t\t\t\t\tthisTemp.videoSeek(parseInt(time));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timeBoBgmousemove = function(event) {\n\t\t\t\tvar timeBoBgXY = thisTemp.getCoor(thisTemp.CB['timeBoBg']);\n\t\t\t\tvar eventX = thisTemp.client(event)['x'];\n\t\t\t\tvar duration=thisTemp.V.duration;\n\t\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\t\tduration = thisTemp.vars['duration'];\n\t\t\t\t}\n\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t}\n\t\t\t\tvar eventTime = parseInt((eventX - timeBoBgXY['x']) * duration / thisTemp.CB['timeBoBg'].offsetWidth);\n\t\t\t\tvar buttonPromptObj = {\n\t\t\t\t\ttitle: thisTemp.formatTime(eventTime,0,thisTemp.ckLanguage['timeSliderOver']),\n\t\t\t\t\tx: eventX,\n\t\t\t\t\ty: timeBoBgXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, buttonPromptObj);\n\t\t\t\tvar def = false;\n\t\t\t\tif (!thisTemp.isUndefined(thisTemp.CB['definitionP'])) {\n\t\t\t\t\tif (thisTemp.css(thisTemp.CB['definitionP'], 'display') != 'block') {\n\t\t\t\t\t\tdef = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (thisTemp.vars['preview'] != null && def) {\n\t\t\t\t\tbuttonPromptObj['time'] = eventTime;\n\t\t\t\t\tthisTemp.preview(buttonPromptObj);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar promptHide = function(event) {\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\tif (thisTemp.previewDiv != null) {\n\t\t\t\t\tthisTemp.css([thisTemp.previewDiv, thisTemp.previewTop], 'display', 'none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (!this.vars['live']) { //如果不是直播\n\t\t\t\tthis.isTimeButtonDown = true;\n\t\t\t\tthis.addListenerInside('mousemove', timeBoBgmousemove, this.CB['timeBoBg']);\n\t\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['timeBoBg']);\n\t\t\t} else {\n\t\t\t\tthis.isTimeButtonDown = false;\n\t\t\t\ttimeObj['removeListenerInside'] = true;\n\t\t\t\ttimeClickObj['removeListenerInside'] = true;\n\t\t\t}\n\t\t\tthis.slider(timeObj);\n\t\t\tthis.progressClick(timeClickObj);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册调节框上单击事件，包含音量调节框和播放时度调节框\n\t\t*/\n\t\tprogressClick: function(obj) {\n\t\t\t/*\n\t\t\t\trefer:参考对象\n\t\t\t\tfun:返回函数\n\t\t\t\trefer:参考元素，即背景\n\t\t\t\tgrossValue:调用的参考值类型\n\t\t\t\tpd:\n\t\t\t*/\n\t\t\t//建立参考元素的mouseClick事件，用来做为鼠标在其上按下时触发的状态\n\t\t\tvar thisTemp = this;\n\t\t\tvar referMouseClick = function(event) {\n\t\t\t\tvar referX = thisTemp.client(event)['x'] - thisTemp.getCoor(obj['refer'])['x'];\n\t\t\t\tvar rWidth = obj['refer'].offsetWidth;\n\t\t\t\tvar grossValue = 0;\n\t\t\t\tif (obj['grossValue'] == 'volume') {\n\t\t\t\t\tgrossValue = 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tgrossValue = thisTemp.V.duration;\n\t\t\t\t\t\tif (isNaN(grossValue) || parseInt(grossValue) < 0.2) {\n\t\t\t\t\t\t\tgrossValue = thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\t\tgrossValue=thisTemp.vars['forceduration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar nowZ = parseInt(referX * grossValue / rWidth);\n\t\t\t\tif (obj['fun']) {\n\t\t\t\t\tif (obj['grossValue'] === 'time') {\n\t\t\t\t\t\tvar sliderXY = thisTemp.getCoor(thisTemp.CB['timeButton']);\n\t\t\t\t\t\tsliderLeft = sliderXY['x'];\n\t\t\t\t\t\tif (!thisTemp.checkSlideLeft(referX, sliderLeft, rWidth)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar bimeButtonWB = thisTemp.CB['timeButton'].offsetWidth * 0.5;\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['timeButton'], 'left', (referX - bimeButtonWB) + 'px');\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['timeProgress'], 'width', (referX) + 'px');\n\t\t\t\t\t}\n\t\t\t\t\tobj['fun'](nowZ);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (this.isUndefined(obj['removeListenerInside'])) {\n\t\t\t\tthis.addListenerInside('click', referMouseClick, obj['refer']);\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('click', referMouseClick, obj['refer']);\n\t\t\t}\n\n\t\t},\n\n\t\t/*\n\t\t\t内部函数\n\t\t\t共用的注册滑块事件\n\t\t*/\n\t\tslider: function(obj) {\n\t\t\t/*\n\t\t\t\tobj={\n\t\t\t\t\tslider:滑块元素\n\t\t\t\t\tfollow:跟随滑块的元素\n\t\t\t\t\trefer:参考元素，即背景\n\t\t\t\t\tgrossValue:调用的参考值类型\n\t\t\t\t\tstartFun:开始调用的元素\n\t\t\t\t\tmonitorFun:监听函数\n\t\t\t\t\tendFun:结束调用的函数\n\t\t\t\t\toverFun:鼠标放上去后调用的函数\n\t\t\t\t\tpd:是否需要修正\n\t\t\t\t}\n\t\t\t*/\n\t\t\tvar thisTemp = this;\n\t\t\tvar clientX = 0,\n\t\t\tcriterionWidth = 0,\n\t\t\tsliderLeft = 0,\n\t\t\treferLeft = 0;\n\t\t\tvar value = 0;\n\t\t\tvar calculation = function() { //根据滑块的left计算百分比\n\t\t\t\tvar sLeft = parseInt(thisTemp.css(obj['slider'], 'left'));\n\t\t\t\tvar rWidth = obj['refer'].offsetWidth - obj['slider'].offsetWidth;\n\t\t\t\tvar grossValue = 0;\n\t\t\t\tif (thisTemp.isUndefined(sLeft) || isNaN(sLeft)) {\n\t\t\t\t\tsLeft = 0;\n\t\t\t\t}\n\t\t\t\tif (obj['grossValue'] == 'volume') {\n\t\t\t\t\tgrossValue = 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tgrossValue = thisTemp.V.duration;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn parseInt(sLeft * grossValue / rWidth);\n\t\t\t};\n\t\t\tvar mDown = function(event) {\n\t\t\t\tthisTemp.addListenerInside('mousemove', mMove, document);\n\t\t\t\tthisTemp.addListenerInside('mouseup', mUp, document);\n\t\t\t\tvar referXY = thisTemp.getCoor(obj['refer']);\n\t\t\t\tvar sliderXY = thisTemp.getCoor(obj['slider']);\n\t\t\t\tclientX = thisTemp.client(event)['x'];\n\t\t\t\treferLeft = referXY['x'];\n\t\t\t\tsliderLeft = sliderXY['x'];\n\t\t\t\tcriterionWidth = clientX - sliderLeft;\n\t\t\t\tif (obj['startFun']) {\n\t\t\t\t\tobj['startFun'](calculation());\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mMove = function(event) {\n\t\t\t\tclientX = thisTemp.client(event)['x'];\n\t\t\t\tvar newX = clientX - criterionWidth - referLeft;\n\t\t\t\tif (newX < 0) {\n\t\t\t\t\tnewX = 0;\n\t\t\t\t}\n\t\t\t\tif (newX > obj['refer'].offsetWidth - obj['slider'].offsetWidth) {\n\t\t\t\t\tnewX = obj['refer'].offsetWidth - obj['slider'].offsetWidth;\n\t\t\t\t}\n\t\t\t\tif (obj['slider'] === thisTemp.CB['timeButton']) {\n\t\t\t\t\tif (!thisTemp.checkSlideLeft(newX, sliderLeft, obj['refer'].offsetWidth)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisTemp.css(obj['slider'], 'left', newX + 'px');\n\t\t\t\tthisTemp.css(obj['follow'], 'width', (newX + obj['slider'].offsetWidth * 0.5) + 'px');\n\t\t\t\tvar nowZ = calculation();\n\t\t\t\tif (obj['monitorFun']) {\n\t\t\t\t\tobj['monitorFun'](nowZ);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mUp = function(event) {\n\t\t\t\tthisTemp.removeListenerInside('mousemove', mMove, document);\n\t\t\t\tthisTemp.removeListenerInside('mouseup', mUp, document);\n\t\t\t\tif (obj['endFun']) {\n\t\t\t\t\tobj['endFun'](calculation());\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mOver = function(event) {\n\t\t\t\tif (obj['overFun']) {\n\t\t\t\t\tobj['overFun'](calculation());\n\t\t\t\t}\n\n\t\t\t};\n\t\t\tif (this.isUndefined(obj['removeListenerInside'])) {\n\t\t\t\tthis.addListenerInside('mousedown', mDown, obj['slider']);\n\t\t\t\tthis.addListenerInside('mouseover', mOver, obj['slider']);\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('mousedown', mDown, obj['slider']);\n\t\t\t\tthis.removeListenerInside('mouseover', mOver, obj['slider']);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否可以拖动进度按钮或点击进度栏\n\t\t*/\n\t\tcheckSlideLeft: function(newX, sliderLeft, refer) {\n\t\t\tvar timeSA = this.ckConfig['config']['timeScheduleAdjust'];\n\t\t\tswitch (timeSA) {\n\t\t\tcase 0:\n\t\t\t\treturn false;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tif (newX < sliderLeft) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tif (newX > sliderLeft) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tif (!this.timeSliderLeftTemp) {\n\t\t\t\t\tthis.timeSliderLeftTemp = sliderLeft / refer;\n\t\t\t\t}\n\t\t\t\tif (newX < this.timeSliderLeftTemp * refer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tif (!this.timeSliderLeftTemp) {\n\t\t\t\t\tthis.timeSliderLeftTemp = sliderLeft / refer;\n\t\t\t\t} else {\n\t\t\t\t\tvar timeSliderMax = sliderLeft / refer;\n\t\t\t\t\tif (timeSliderMax > this.timeSliderLeftTemp) {\n\t\t\t\t\t\tthis.timeSliderLeftTemp = timeSliderMax;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (newX > this.timeSliderLeftTemp * refer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示loading\n\t\t*/\n\t\tloadingStart: function(rot) {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.isUndefined(rot)) {\n\t\t\t\trot = true;\n\t\t\t}\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.css(thisTemp.CB['loading'], 'display', 'none');\n\t\t\t\tthis.loadingShow=false;\n\t\t\t}\n\t\t\tvar buffer = 0;\n\t\t\tif (rot) {\n\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\tthis.css(thisTemp.CB['loading'], 'display', 'block');\n\t\t\t\t\tthis.loadingShow=true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthisTemp.sendJS('buffer', 100);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示提示语\n\t\t*/\n\t\tpromptShow: function(ele, data) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar obj = {};\n\t\t\tvar eleTitle='';\n\t\t\tif(!this.isUndefined(ele)){\n\t\t\t\teleTitle=this.getDataset(ele, 'title');\n\t\t\t\tif(this.isUndefined(eleTitle)){\n\t\t\t\t\tele=null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ele || data) {\n\t\t\t\tif (!this.isUndefined(data)) {\n\t\t\t\t\tobj = data;\n\t\t\t\t} else {\n\t\t\t\t\tvar offsetCoor = this.getCoor(ele);\n\t\t\t\t\tobj = {\n\t\t\t\t\t\ttitle: eleTitle,\n\t\t\t\t\t\tx: offsetCoor['x'] + ele.offsetWidth * 0.5,\n\t\t\t\t\t\ty: offsetCoor['y']\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthis.CB['prompt'].innerHTML = obj['title'];\n\t\t\t\tthis.css(this.CB['prompt'], 'display', 'block');\n\t\t\t\tvar promptStye=this.ckStyle['prompt'];\n\t\t\t\tvar promoptWidth=this.CB['prompt'].offsetWidth,promoptHeight=this.CB['prompt'].offsetHeight;\n\t\t\t\tthis.css(this.CB['promptBg'], {width:promoptWidth + 'px',height:promoptHeight+'px'});\n\t\t\t\tvar x = obj['x'] - (promoptWidth * 0.5);\n\t\t\t\tvar y = obj['y'] - this.CB['prompt'].offsetHeight-promptStye['marginBottom']-promptStye['triangleHeight'];\n\t\t\t\tif (x < 0) {\n\t\t\t\t\tx = 0;\n\t\t\t\t}\n\t\t\t\tif (x > this.PD.offsetWidth - promoptWidth) {\n\t\t\t\t\tx = this.PD.offsetWidth - promoptWidth;\n\t\t\t\t}\n\t\t\t\tthis.css([this.CB['promptBg'], this.CB['prompt']], {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\ttop: y + 'px'\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['promptTriangle'], {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tleft: x+(promoptWidth-promptStye['triangleWidth'])*0.5+parseInt(promptStye['triangleDeviationX']) + 'px',\n\t\t\t\t\ttop: y +promoptHeight+ 'px'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.css([this.CB['promptBg'], this.CB['prompt'],this.CB['promptTriangle']], {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听错误\n\t\t*/\n\t\ttimerErrorFun: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.errorSend = false;\n\t\t\tvar clearIntervalError = function(event) {\n\t\t\t\tif (thisTemp.timerError != null) {\n\t\t\t\t\tif (thisTemp.timerError.runing) {\n\t\t\t\t\t\tthisTemp.timerError.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerError = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar errorFun = function(event) {\n\t\t\t\tclearIntervalError();\n\t\t\t\tthisTemp.error = true;\n\t\t\t\t//提取错误播放地址\n\t\t\t\tthisTemp.errorUrl = thisTemp.getVideoUrl();\n\t\t\t\t//提取错误播放地址结束\n\t\t\t\tif (!thisTemp.errorSend) {\n\t\t\t\t\tthisTemp.errorSend = true;\n\t\t\t\t\tthisTemp.sendJS('error');\n\t\t\t\t}\n\t\t\t\tif (thisTemp.conBarShow) {\n\t\t\t\t\tthisTemp.CB['errorText'].innerHTML=thisTemp.ckLanguage['error']['streamNotFound'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['errorText'], 'display', 'block');\n\t\t\t\t\tthisTemp.css([thisTemp.CB['pauseCenter'],thisTemp.CB['loading']], 'display', 'none');\n\t\t\t\t}\n\t\t\t\tthisTemp.V.removeAttribute('poster');\n\t\t\t\tthisTemp.resetPlayer();\n\t\t\t};\n\t\t\tvar errorListenerFun = function(event) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif (isNaN(thisTemp.V.duration)) {\n\t\t\t\t\t\terrorFun(event);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tif (!this.errorAdd) {\n\t\t\t\tthis.errorAdd = true;\n\t\t\t\tthis.addListenerInside('error', errorListenerFun);\n\t\t\t}\n\t\t\tclearIntervalError();\n\t\t\tvar timerErrorFun = function() {\n\t\t\t\tif (thisTemp.V && parseInt(thisTemp.V.networkState) == 3) {\n\t\t\t\t\terrorFun();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerError = new this.timer(this.ckConfig['config']['errorTime'], timerErrorFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建判断全屏还是非全屏的判断\n\t\t*/\n\t\tjudgeFullScreen: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.timerFull != null) {\n\t\t\t\tif (this.timerFull.runing) {\n\t\t\t\t\tthis.timerFull.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerFull = null;\n\t\t\t}\n\t\t\tvar fullFun = function() {\n\t\t\t\tthisTemp.isFullScreen();\n\t\t\t};\n\t\t\tthis.timerFull = new this.timer(20, fullFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否是全屏\n\t\t*/\n\t\tisFullScreen: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fullState = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement;\n\t\t\tif (fullState && !this.full) {\n\t\t\t\tthis.full = true;\n\t\t\t\tthis.sendJS('full', true);\n\t\t\t\tthis.elementCoordinate();\n\t\t\t\tthis.carbarButton();\n\t\t\t\tthis.customCoor();//控制栏自定义元件\n\t\t\t\tthis.css(this.CB['full'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['escFull'], 'display', 'block');\n\t\t\t\tif (this.vars['live'] == 0) {\n\t\t\t\t\tthis.timeUpdateHandler();\n\t\t\t\t}\n\t\t\t\tthis.PD.appendChild(this.CB['menu']);\n\t\t\t}\n\t\t\tif (!fullState && this.full) {\n\t\t\t\tthis.full = false;\n\t\t\t\tthis.sendJS('full', false);\n\t\t\t\tthis.elementCoordinate();\n\t\t\t\tthis.carbarButton();\n\t\t\t\tthis.customCoor();//控制栏自定义元件\n\t\t\t\tthis.css(this.CB['full'], 'display', 'block');\n\t\t\t\tthis.css(this.CB['escFull'], 'display', 'none');\n\t\t\t\tif (this.timerFull != null) {\n\t\t\t\t\tif (this.timerFull.runing) {\n\t\t\t\t\t\tthis.timerFull.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthis.timerFull = null;\n\t\t\t\t}\n\t\t\t\tif (this.vars['live'] == 0) {\n\t\t\t\t\tthis.timeUpdateHandler();\n\t\t\t\t}\n\t\t\t\tthis.body.appendChild(this.CB['menu']);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建右键内容及注册相关动作事件\n\t\t*/\n\t\tnewMenu: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar i = 0;\n\t\t\tthis.css(this.CB['menu'], {\n\t\t\t\tbackgroundColor: '#FFFFFF',\n\t\t\t\tpadding: '5px',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tleft: '10px',\n\t\t\t\ttop: '20px',\n\t\t\t\tdisplay: 'none',\n\t\t\t\tzIndex: '999',\n\t\t\t\tcolor: '#A1A9BE',\n\t\t\t\tboxShadow: '2px 2px 3px #AAAAAA'\n\t\t\t});\n\t\t\tvar mArr = this.contextMenu;\n\t\t\tvar cMenu = this.ckConfig['menu'];\n\t\t\tif (cMenu['name']) {\n\t\t\t\tif (cMenu['link']) {\n\t\t\t\t\tmArr[0] = [cMenu['name'], 'link', cMenu['link']];\n\t\t\t\t} else {\n\t\t\t\t\tmArr[0] = [cMenu['name'], 'default'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (cMenu['version']) {\n\t\t\t\tmArr[1] = [cMenu['version'], 'default', 'line'];\n\t\t\t}\n\t\t\tif (cMenu['more']) {\n\t\t\t\tif (this.varType(cMenu['more']) == 'array') {\n\t\t\t\t\tif (cMenu['more'].length > 0) {\n\t\t\t\t\t\tvar moreArr = cMenu['more'];\n\t\t\t\t\t\tfor (i = 0; i < moreArr.length; i++) {\n\t\t\t\t\t\t\tvar mTemp = moreArr[i];\n\t\t\t\t\t\t\tvar arrTemp = [];\n\t\t\t\t\t\t\tif (mTemp['name']) {\n\t\t\t\t\t\t\t\tarrTemp.push(mTemp['name']);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (mTemp['clickEvent'] && mTemp['clickEvent'] != 'none') {\n\t\t\t\t\t\t\t\tvar eveObj = this.clickEvent(mTemp['clickEvent']);\n\t\t\t\t\t\t\t\tarrTemp.push(eveObj['type']);\n\t\t\t\t\t\t\t\tif (eveObj['fun']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(eveObj['fun']);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (eveObj['link']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(eveObj['link']);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (eveObj['target']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(' target=\"' + eveObj['target'] + '\"');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (mTemp['separatorBefore']) {\n\t\t\t\t\t\t\t\tarrTemp.push('line');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmArr.push(arrTemp);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar html = '';\n\t\t\tfor (i = 0; i < mArr.length; i++) {\n\t\t\t\tvar me = mArr[i];\n\t\t\t\tswitch (me[1]) {\n\t\t\t\tcase 'default':\n\t\t\t\t\thtml += '<p>' + me[0] + '</p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'link':\n\t\t\t\t\tif (me[3]) {\n\t\t\t\t\t\tme[3] = 'target=\"' + me[3] + '\"';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '<p><a href=\"' + me[2] + '\"' + me[3] + '>' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javaScript':\n\t\t\t\t\thtml += '<p><a href=\"javascript:' + me[2] + '\">' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'actionScript':\n\t\t\t\t\thtml += '<p><a href=\"javascript:' + this.vars['variable'] + me[2].replace('thisTemp', '') + '\">' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.CB['menu'].innerHTML = html;\n\t\t\tvar pArr = this.CB['menu'].childNodes;\n\t\t\tfor (i = 0; i < pArr.length; i++) {\n\t\t\t\tthis.css(pArr[i], {\n\t\t\t\t\theight: '30px',\n\t\t\t\t\tlineHeight: '30px',\n\t\t\t\t\tmargin: '0px',\n\t\t\t\t\tfontFamily: this.fontFamily,\n\t\t\t\t\tfontSize: '12px',\n\t\t\t\t\tpaddingLeft: '10px',\n\t\t\t\t\tpaddingRight: '30px'\n\t\t\t\t});\n\t\t\t\tif (mArr[i][mArr[i].length - 1] == 'line') {\n\t\t\t\t\tthis.css(pArr[i], 'borderBottom', '1px solid #e9e9e9');\n\t\t\t\t}\n\t\t\t\tvar aArr = pArr[i].childNodes;\n\t\t\t\tfor (var n = 0; n < aArr.length; n++) {\n\t\t\t\t\tif (aArr[n].localName == 'a') {\n\t\t\t\t\t\tthis.css(aArr[n], {\n\t\t\t\t\t\t\tcolor: '#000000',\n\t\t\t\t\t\t\ttextDecoration: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.PD.oncontextmenu = function(event) {\n\t\t\t\tvar eve = event || window.event;\n\t\t\t\tvar client = thisTemp.client(event);\n\t\t\t\tif (eve.button == 2) {\n\t\t\t\t\teve.returnvalue = false;\n\t\t\t\t\tvar x = client['x'] + thisTemp.pdCoor['x'] - 2;\n\t\t\t\t\tvar y = client['y'] + thisTemp.pdCoor['y'] - 2;\n\t\t\t\t\tthisTemp.css(thisTemp.CB['menu'], {\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\t\ttop: y + 'px'\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tvar setTimeOutPClose = function() {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar mouseOut = function(event) {\n\t\t\t\tsetTimeOutPClose();\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['menu'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', mouseOut, thisTemp.CB['menu']);\n\t\t\tvar mouseOver = function(event) {\n\t\t\t\tsetTimeOutPClose();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', mouseOver, thisTemp.CB['menu']);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建控制栏隐藏事件\n\t\t*/\n\t\tcontrolBarHide: function(hide) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar client = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t},\n\t\t\toldClient = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t\tvar cShow = true,\n\t\t\tforce = false;\n\t\t\tvar oldCoor = [0, 0];\n\t\t\tvar controlBarShow = function(show) {\n\t\t\t\tif (show && !cShow && thisTemp.controlBarIsShow) {\n\t\t\t\t\tcShow = true;\n\t\t\t\t\tthisTemp.sendJS('controlBar', true);\n\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBarBg'], 'display', 'block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBar'], 'display', 'block');\n\t\t\t\t\tthisTemp.timeProgressDefault();\n\t\t\t\t\t//thisTemp.css(thisTemp.CB['timeProgressBg'], 'display', 'block');\n\t\t\t\t\t//thisTemp.css(thisTemp.CB['timeBoBg'], 'display', 'block');\n\t\t\t\t\tthisTemp.changeVolume(thisTemp.volume);\n\t\t\t\t\tthisTemp.changeLoad();\n\t\t\t\t\tif (!thisTemp.timerBuffer) {\n\t\t\t\t\t\tthisTemp.bufferEdHandler();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (cShow) {\n\t\t\t\t\t\tcShow = false;\n\t\t\t\t\t\tvar paused = thisTemp.getMetaDate()['paused'];\n\t\t\t\t\t\tif (force) {\n\t\t\t\t\t\t\tpaused = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!paused) {\n\t\t\t\t\t\t\tthisTemp.sendJS('controlBar', false);\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBarBg'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBar'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.promptShow(false);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisTemp.videoCss();//计算video的宽高和位置\n\t\t\t};\n\t\t\tvar cbarFun = function(event) {\n\t\t\t\tif (client['x'] == oldClient['x'] && client['y'] == oldClient['y']) {\n\t\t\t\t\tvar cdH = parseInt(thisTemp.CD.offsetHeight);\n\t\t\t\t\tif ((client['y'] < cdH - 50 || client['y'] > cdH - 2) && cShow && !thisTemp.getMetaDate()['paused']) {\n\t\t\t\t\t\tcontrolBarShow(false);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!cShow) {\n\t\t\t\t\t\tcontrolBarShow(true);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\toldClient = {\n\t\t\t\t\tx: client['x'],\n\t\t\t\t\ty: client['y']\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerCBar = new this.timer(2000, cbarFun);\n\t\t\tvar cdMove = function(event) {\n\t\t\t\tvar getClient = thisTemp.client(event);\n\t\t\t\tclient['x'] = getClient['x'];\n\t\t\t\tclient['y'] = getClient['y'];\n\t\t\t\tif (!cShow) {\n\t\t\t\t\tcontrolBarShow(true);\n\t\t\t\t}\n\t\t\t\tthisTemp.sendJS('mouse',client);\n\t\t\t};\n\t\t\tthis.addListenerInside('mousemove', cdMove, thisTemp.CD);\n\t\t\tthis.addListenerInside('ended', cdMove);\n\t\t\tthis.addListenerInside('resize', cdMove, window);\n\t\t\tif (hide === true) {\n\t\t\t\tcShow = true;\n\t\t\t\tforce = true;\n\t\t\t\tcontrolBarShow(false);\n\t\t\t}\n\t\t\tif (hide === false) {\n\t\t\t\tcShow = false;\n\t\t\t\tforce = true;\n\t\t\t\tcontrolBarShow(true);\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册键盘按键事件\n\t\t*/\n\t\tkeypress: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar keyDown = function(eve) {\n\t\t\t\tvar keycode = eve.keyCode || eve.which;\n\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tswitch (keycode) {\n\t\t\t\t\tcase 32:\n\t\t\t\t\t\tthisTemp.playOrPause();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 37:\n\t\t\t\t\t\tthisTemp.fastBack();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 39:\n\t\t\t\t\t\tthisTemp.fastNext();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 38:\n\t\t\t\t\t\tnow = thisTemp.volume + thisTemp.ckConfig['config']['volumeJump'];\n\t\t\t\t\t\tthisTemp.changeVolume(now > 1 ? 1 : now);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 40:\n\t\t\t\t\t\tnow = thisTemp.volume - thisTemp.ckConfig['config']['volumeJump'];\n\t\t\t\t\t\tthisTemp.changeVolume(now < 0 ? 0 : now);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('keydown', keyDown, window || document);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册倍速相关\n\t\t*/\n\t\tplaybackRate: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['playbackRate']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['playbackrate'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar thisTemp = this;\n\t\t\tvar dArr = this.playbackRateArr;\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的倍速\n\t\t\tvar i = 0,nowI=0;\n\t\t\tnowD = dArr[this.playbackRateDefault][1];\n\t\t\tnowI=this.playbackRateDefault;\n\t\t\tthis.removeChildAll(this.CB['playbackrateP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['playbackratePB']=document.createElement('div'),this.CB['playbackratePC']=document.createElement('div');\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackratePB']);\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackratePC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['playbackratePC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['playbackrateP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['playbackratePB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i][1];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['playbackrateP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['playbackrateP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['playbackratePC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['playbackratePC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar subClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newPlaybackrate(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', subClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['playbackrateTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackrateTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['playbackrateTriangle'],cssTemp);\n\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = nowD;\n\t\t\t} else {\n\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = this.ckLanguage['playbackrate'];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册切换倍速播放相关事件\n\t\t*/\n\t\taddPlaybackrate: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['playbackrateP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['playbackratePC'])){\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'],'display','block');\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['playbackrate']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackratePB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['playbackratePC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['playbackratePC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['playbackratePC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['playbackratePC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['playbackratePB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['playbackrate']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['playbackrateP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['playbackrateP']);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t切换倍速后发生的动作\n\t\t*/\n\t\tnewPlaybackrate: function(title) {\n\t\t\tvar vArr = this.playbackRateArr;\n\t\t\tvar nVArr = [];\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[1] == title) {\n\t\t\t\t\tthis.playbackRateDefault = i;\n\t\t\t\t\tthis.V.playbackRate = v[0];\n\t\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = v[1];\n\t\t\t\t\t\tthis.playbackRate();\n\t\t\t\t\t}\n\t\t\t\t\tthis.sendJS('playbackRate', v);\n\t\t\t\t\tthis.playbackRateTemp=v[0];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册多字幕切换相关\n\t\t*/\n\t\tsubtitleSwitch: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['subtitle']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar dArr = this.vars['cktrack'];//字幕数组\n\t\t\tif(this.varType(dArr)!='array'){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(dArr[0][1]==''){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['subtitle'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的字幕\n\t\t\tvar i = 0,nowI=0;\n\t\t\t\n\t\t\tif(this.subtitlesTemp==-1 && dArr.length>0){\n\t\t\t\tthis.subtitlesTemp=dArr.length-1;\n\t\t\t}\n\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\tif(this.subtitlesTemp==i){\n\t\t\t\t\tnowD=dArr[i][1];\n\t\t\t\t\tnowI=i;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!nowD) {\n\t\t\t\tnowD = dArr[0][1];\n\t\t\t}\n\t\t\tthis.removeChildAll(this.CB['subtitlesP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['subtitlesPB']=document.createElement('div'),this.CB['subtitlesPC']=document.createElement('div');\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesPB']);\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesPC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['subtitlesPC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['subtitlesP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['subtitlesPB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i][1];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['subtitlesP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['subtitlesP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['subtitlesPC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['subtitlesPC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar subClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newSubtitles(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', subClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['subtitlesTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['subtitlesTriangle'],cssTemp);\n\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = nowD;\n\t\t\t} else {\n\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = this.ckLanguage['subtitle'];\n\t\t\t}\n\t\t\t\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册多字幕切换事件\n\t\t*/\n\t\taddSubtitles:function(){\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['subtitlesP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['subtitlesPC'])){\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['subtitle']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'],'display','block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesPB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['subtitlesPC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['subtitlesPC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['subtitlesPC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['subtitlesPC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['subtitlesPB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['subtitles']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['subtitlesP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['subtitlesP']);\n\t\t},\n\t\t/*\n\t\t\t接口函数:修改字幕，按数组编号来\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeSubtitles: function(n) {\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar vArr = this.vars['cktrack'];//字幕数组\n\t\t\tif(this.varType(vArr)!='array'){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeSubtitles(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (vArr.length > n) {\n\t\t\t\tvar arr = vArr[n];\n\t\t\t\tif (arr.length > 2) {\n\t\t\t\t\tvar title = arr[1];\n\t\t\t\t\tif (title) {\n\t\t\t\t\t\tthis.newSubtitles(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数：修改字幕大小\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeSubtitlesSize:function(n,m){\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeSubtitlesSize(n,m);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.ckStyle['cktrack']['size']=n;\n\t\t\tif(!this.isUndefined(m)){\n\t\t\t\tthis.ckStyle['cktrack']['leading']=m;\n\t\t\t}\n\t\t\tthis.trackShowAgain();\n\t\t},\n\t\t/*\n\t\t\t当切换字幕时的动作 \n\t\t*/\n\t\tnewSubtitles:function(title){\n\t\t\tvar vArr = this.vars['cktrack'];//字幕数组\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[1] == title) {\n\t\t\t\t\tthis.subtitlesTemp=i;\n\t\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = v[1];\n\t\t\t\t\t\tthis.subtitleSwitch();\n\t\t\t\t\t\tthis.loadTrack(i);\n\t\t\t\t\t}\n\t\t\t\t\tthis.sendJS('subtitles', v);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建清晰度按钮及切换事件(Click事件)\n\t\t*/\n\t\tdefinition: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['definition']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['definition'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar thisTemp = this;\n\t\t\tvar vArr = this.VA;\n\t\t\tvar dArr = [];\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的清晰度\n\t\t\tvar i = 0,nowI=0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar d = vArr[i][2];\n\t\t\t\tif (dArr.indexOf(d) == -1) {\n\t\t\t\t\tdArr.push(d);\n\t\t\t\t}\n\t\t\t\tif (this.V) {\n\t\t\t\t\tif (vArr[i][0] == this.V.currentSrc) {\n\t\t\t\t\t\tnowD = d;\n\t\t\t\t\t\tnowI = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!nowD) {\n\t\t\t\tnowD = dArr[0];\n\t\t\t}\n\t\t\tthis.removeChildAll(this.CB['definitionP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['definitionPB']=document.createElement('div'),this.CB['definitionPC']=document.createElement('div');\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionPB']);\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionPC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['definitionPC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['definitionP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['definitionPB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['definitionP'],dArr[i],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['definitionP'],dArr[i],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['definitionPC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['definitionPC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar defClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newDefinition(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', defClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['definitionTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['definitionTriangle'],cssTemp);\n\t\t\t\tthis.CB['defaultButtonText'].innerHTML = nowD;\n\t\t\t\tthis.css(this.CB['definition'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.CB['defaultButtonText'].innerHTML = this.ckLanguage['definition'];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除节点内容\n\t\t*/\n\t\tremoveChildAll:function(ele){\n\t\t\tfor(var i=ele.childNodes.length-1;i>=0;i--){\n\t\t\t\tvar childNode=ele.childNodes[i];\n\t\t\t\tele.removeChild(childNode);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册清晰度相关事件\n\t\t*/\n\t\taddDefListener: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['definitionP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['definitionPC'])){\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'],'display','block');\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['definition']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionPB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['definitionPC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['definitionPC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['definitionPC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['definitionPC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['definitionPB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['definition']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['definitionP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['definitionP']);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeDefinition: function(n) {\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeDefinition(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.VA.length > n) {\n\t\t\t\tvar arr = this.VA[n];\n\t\t\t\tif (arr.length > 3) {\n\t\t\t\t\tvar title = arr[2];\n\t\t\t\t\tif (title) {\n\t\t\t\t\t\tthis.newDefinition(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t切换清晰度后发生的动作\n\t\t*/\n\t\tnewDefinition: function(title) {\n\t\t\tvar vArr = this.VA;\n\t\t\tvar nVArr = [];\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[2] == title) {\n\t\t\t\t\tnVArr.push(v);\n\t\t\t\t\tthis.sendJS('definitionChange', i + '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (nVArr.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V != null && this.needSeek == 0) {\n\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t}\n\t\t\tif (this.getFileExt(nVArr[0][0]) != '.m3u8') {\n\t\t\t\tthis.isM3u8 = false;\n\t\t\t}\n\t\t\tif (!this.isM3u8) {\n\t\t\t\tif (nVArr.length == 1) {\n\t\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\t\tthis.V.src = nVArr[0][0];\n\t\t\t\t\tthis.V.currentSrc = nVArr[0][0];\n\t\t\t\t} else {\n\t\t\t\t\tvar source = '';\n\t\t\t\t\tnVArr = this.arrSort(nVArr);\n\t\t\t\t\tfor (i = 0; i < nVArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = nVArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + va[0] + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\tthis.V.innerHTML = source;\n\t\t\t\t\tthis.V.currentSrc = nVArr[0][0];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.embedHls(vArr[0][0], this.vars['autoplay']);\n\t\t\t}\n\t\t\tthis.V.autoplay = 'autoplay';\n\t\t\tthis.V.load();\n\t\t\tif (this.playbackRateTemp!=1) {\n\t\t\t\tthis.V.playbackRate = this.playbackRateTemp; //定义倍速\n\t\t\t}\n\t\t\tthis.timerErrorFun();\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t播放hls\n\t\t*/\n\t\tembedHls: function(url, autoplay) {\n\t\t\tvar thisTemp = this;\n\t\t\tthisTemp.hlsAutoPlay=autoplay;\n\t\t\tif (Hls.isSupported()) {\n\t\t\t\tvar hls = new Hls();\n\t\t\t\thls.loadSource(url);\n\t\t\t\thls.attachMedia(this.V);\n\t\t\t\thls.on(Hls.Events.MANIFEST_PARSED,\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.playerLoad();\n\t\t\t\t\tif (autoplay) {\n\t\t\t\t\t\tthisTemp.videoPlay();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建提示点\n\t\t*/\n\t\tprompt: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar prompt = this.vars['promptSpot'];\n\t\t\tif (prompt == null || this.promptArr.length > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar showPrompt = function(event) {\n\t\t\t\tif (thisTemp.promptElement == null) {\n\t\t\t\t\tvar random2 = 'prompte-' + thisTemp.randomString(5);\n\t\t\t\t\tvar ele2 = document.createElement('div');\n\t\t\t\t\tele2.className = random2;\n\t\t\t\t\tthisTemp.PD.appendChild(ele2);\n\t\t\t\t\tthisTemp.promptElement = thisTemp.getByElement(random2);\n\t\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\t\toverflowX: 'hidden',\n\t\t\t\t\t\tlineHeight: thisTemp.ckStyle['previewPrompt']['lineHeight']+'px',\n\t\t\t\t\t\tfontFamily: thisTemp.ckStyle['previewPrompt']['font'],\n\t\t\t\t\t\tfontSize: thisTemp.ckStyle['previewPrompt']['size']+'px',\n\t\t\t\t\t\tcolor: thisTemp.ckStyle['previewPrompt']['color'].replace('0x','#'),\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\tzIndex: '90'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tvar pcon = thisTemp.getPromptTest();\n\t\t\t\tvar pW = pcon['pW'],\n\t\t\t\tpT = pcon['pT'],\n\t\t\t\tpL = parseInt(thisTemp.css(this, 'left')) - parseInt(pW * 0.5);\n\t\t\t\tif (pcon['pL'] > 10) {\n\t\t\t\t\tpL = pcon['pL'];\n\t\t\t\t}\n\t\t\t\tif (pL < 0) {\n\t\t\t\t\tpL = 0;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\twidth: pW + 'px',\n\t\t\t\t\tleft: ( - pW - 10) + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptElement.innerHTML = thisTemp.getDataset(this, 'words');\n\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\tleft: pL + 'px',\n\t\t\t\t\ttop: (pT - thisTemp.promptElement.offsetHeight-thisTemp.ckStyle['previewPrompt']['marginBottom']) + 'px'\n\t\t\t\t});\n\t\t\t};\n\t\t\tvar hidePrompt = function(event) {\n\t\t\t\tif (thisTemp.promptElement != null) {\n\t\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\t\tdisplay: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < prompt.length; i++) {\n\t\t\t\tvar pr = prompt[i];\n\t\t\t\tvar words = pr['words'];\n\t\t\t\tvar time = pr['time'];\n\t\t\t\tvar random = 'prompttitle-' + this.randomString(5);\n\t\t\t\tvar ele = document.createElement('div');\n\t\t\t\tele.className = random;\n\t\t\t\tthis.CB['timeBoBg'].appendChild(ele);\n\t\t\t\tvar div = this.getByElement(random);\n\t\t\t\ttry{\n\t\t\t\t\tdiv.setAttribute('data-time', time);\n\t\t\t\t\tif(this.ckConfig['config']['promptSpotTime']){\n\t\t\t\t\t\twords=this.formatTime(time,0,this.ckLanguage['timeSliderOver'])+' '+words;\n\t\t\t\t\t}\n\t\t\t\t\tdiv.setAttribute('data-words', words);\n\t\t\t\t}\n\t\t\t\tcatch(event){}\n\t\t\t\tvar pCss=this.getEleCss(this.ckStyle['promptSpotH5'],{marginY:-10000,zIndex: 1});\n\t\t\t\ttry{\n\t\t\t\t\tthis.css(div, pCss);\n\t\t\t\t}\n\t\t\t\tcatch(event){}\n\t\t\t\tthis.addListenerInside('mouseover', showPrompt, div);\n\t\t\t\tthis.addListenerInside('mouseout', hidePrompt, div);\n\t\t\t\tthis.promptArr.push(div);\n\t\t\t}\n\t\t\tthis.changePrompt();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t计算提示文本的位置\n\t\t*/\n\t\tgetPromptTest: function() {\n\t\t\tvar pW = this.previewWidth,\n\t\t\tpT = this.getCoor(this.CB['timeProgressBg'])['y'],\n\t\t\tpL = 0;\n\t\t\tif (this.previewTop != null) {\n\t\t\t\tpT = parseInt(this.css(this.previewTop, 'top'));\n\t\t\t\tpL = parseInt(this.css(this.previewTop, 'left'));\n\t\t\t} else {\n\t\t\t\tpT -= 35;\n\t\t\t}\n\t\t\tpL += 2;\n\t\t\tif (pL < 0) {\n\t\t\t\tpL = 0;\n\t\t\t}\n\t\t\tif (pL > this.PD.offsetWidth - pW) {\n\t\t\t\tpL = this.PD.offsetWidth - pW;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tpW: pW,\n\t\t\t\tpT: pT,\n\t\t\t\tpL: pL\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除提示点\n\t\t*/\n\t\tdeletePrompt: function() {\n\t\t\tvar arr = this.promptArr;\n\t\t\tif (arr.length > 0) {\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i]) {\n\t\t\t\t\t\tthis.deleteChild(arr[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.promptArr = [];\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t计算提示点坐标\n\t\t*/\n\t\tchangePrompt: function() {\n\t\t\tif (this.promptArr.length == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = this.promptArr;\n\t\t\tvar duration = this.getMetaDate()['duration'];\n\t\t\tvar bw = this.CB['timeBoBg'].offsetWidth;\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar time = parseInt(this.getDataset(arr[i], 'time'));\n\t\t\t\tvar left = parseInt(time * bw / duration) - parseInt(arr[i].offsetWidth * 0.5);\n\t\t\t\tif (left < 0) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\t\t\t\tif (left > bw - parseInt(arr[i].offsetWidth * 0.5)) {\n\t\t\t\t\tleft = bw - parseInt(arr[i].offsetWidth * 0.5);\n\t\t\t\t}\n\t\t\t\tthis.css(arr[i], {\n\t\t\t\t\tleft: left + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建预览图片效果\n\t\t*/\n\t\tpreview: function(obj) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar preview = {\n\t\t\t\tfile: null,\n\t\t\t\tscale: 0\n\t\t\t};\n\t\t\tpreview = this.standardization(preview, this.vars['preview']);\n\t\t\tif (preview['file'] == null || preview['scale'] <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar srcArr = preview['file'];\n\t\t\tif (this.previewStart == 0) { //如果还没有构建，则先进行构建\n\t\t\t\tthis.previewStart = 1;\n\t\t\t\tif (srcArr.length > 0) {\n\t\t\t\t\tvar i = 0;\n\t\t\t\t\tvar imgW = 0,\n\t\t\t\t\timgH = 0;\n\t\t\t\t\tvar random = 'preview-'+thisTemp.randomString(10);\n\t\t\t\t\tvar loadNum = 0;\n\t\t\t\t\tvar loadImg = function(i) {\n\t\t\t\t\t\tsrcArr[i] = thisTemp.getNewUrl(srcArr[i]);\n\t\t\t\t\t\tvar n = 0;\n\t\t\t\t\t\tvar img = new Image();\n\t\t\t\t\t\timg.src = srcArr[i];\n\t\t\t\t\t\timg.className = random + i;\n\t\t\t\t\t\timg.onload = function(event) {\n\t\t\t\t\t\t\tloadNum++;\n\t\t\t\t\t\t\tif (thisTemp.previewDiv == null) { //如果没有建立DIV，则建\n\t\t\t\t\t\t\t\timgW = img.width;\n\t\t\t\t\t\t\t\timgH = img.height;\n\t\t\t\t\t\t\t\tthisTemp.previewWidth = parseInt(imgW * 0.1);\n\t\t\t\t\t\t\t\tvar ele = document.createElement('div');\n\t\t\t\t\t\t\t\tele.className = random;\n\t\t\t\t\t\t\t\tthisTemp.PD.appendChild(ele);\n\t\t\t\t\t\t\t\tthisTemp.previewDiv = thisTemp.getByElement(random);\n\t\t\t\t\t\t\t\tvar eleTop = 0;\n\t\t\t\t\t\t\t\teleTop=thisTemp.PD.offsetHeight -thisTemp.ckStyle['preview']['bottom'];\n\t\t\t\t\t\t\t\tthisTemp.css(thisTemp.previewDiv, {\n\t\t\t\t\t\t\t\t\twidth: srcArr.length * imgW * 10 + 'px',\n\t\t\t\t\t\t\t\t\theight: parseInt(imgH * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\tbackgroundColor: '#000000',\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\t\t\ttop: eleTop + 'px',\n\t\t\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t\t\tzIndex: '80'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tele.setAttribute('data-x', '0');\n\t\t\t\t\t\t\t\tele.setAttribute('data-y', eleTop);\n\t\t\t\t\t\t\t\tvar ele2 = document.createElement('div');\n\t\t\t\t\t\t\t\tele2.className = random + 'd2';\n\t\t\t\t\t\t\t\tthisTemp.PD.appendChild(ele2);\n\t\t\t\t\t\t\t\tthisTemp.previewTop = thisTemp.getByElement(ele2.className);\n\t\t\t\t\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\t\t\t\t\twidth: parseInt(imgW * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\theight: parseInt(imgH * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\tborder: thisTemp.ckStyle['preview']['border']+'px solid ' + thisTemp.ckStyle['preview']['borderColor'].replace('0x','#'),\n\t\t\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\t\t\ttop: eleTop + 'px',\n\t\t\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t\t\tzIndex: '81'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tvar html = '';\n\t\t\t\t\t\t\t\tfor (n = 0; n < srcArr.length; n++) {\n\t\t\t\t\t\t\t\t\thtml += thisTemp.newCanvas(random + n, imgW * 10, parseInt(imgH * 0.1))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisTemp.previewDiv.innerHTML = html;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.previewDiv.appendChild(img);\n\t\t\t\t\t\t\tvar cimg = thisTemp.getByElement(img.className);\n\t\t\t\t\t\t\tvar canvas = thisTemp.getByElement(img.className + '-canvas');\n\t\t\t\t\t\t\tvar context = canvas.getContext('2d');\n\t\t\t\t\t\t\tvar sx = 0,\n\t\t\t\t\t\t\tsy = 0,\n\t\t\t\t\t\t\tx = 0,\n\t\t\t\t\t\t\th = parseInt(imgH * 0.1);\n\t\t\t\t\t\t\tfor (n = 0; n < 100; n++) {\n\t\t\t\t\t\t\t\tx = parseInt(n * imgW * 0.1);\n\t\t\t\t\t\t\t\tcontext.drawImage(cimg, sx, sy, parseInt(imgW * 0.1), h, x, 0, parseInt(imgW * 0.1), h);\n\t\t\t\t\t\t\t\tsx += parseInt(imgW * 0.1);\n\t\t\t\t\t\t\t\tif (sx >= imgW) {\n\t\t\t\t\t\t\t\t\tsx = 0;\n\t\t\t\t\t\t\t\t\tsy += h;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisTemp.css(cimg, 'display', 'none');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (loadNum == srcArr.length) {\n\t\t\t\t\t\t\t\tthisTemp.previewStart = 2;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t\t\tloadImg(i);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tloadImg(i);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.previewStart == 2) {\n\t\t\t\tvar isTween = true;\n\t\t\t\tvar nowNum = parseInt(obj['time'] / this.vars['preview']['scale']);\n\t\t\t\tvar numTotal = parseInt(thisTemp.getMetaDate()['duration'] / this.vars['preview']['scale']);\n\t\t\t\tif (thisTemp.css(thisTemp.previewDiv, 'display') == 'none') {\n\t\t\t\t\tisTween = false;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'display', 'block');\n\t\t\t\tvar imgWidth = thisTemp.previewDiv.offsetWidth * 0.01 / srcArr.length;\n\t\t\t\tvar left = (imgWidth * nowNum) - obj['x'] + parseInt(imgWidth * 0.5),\n\t\t\t\ttop=thisTemp.PD.offsetHeight- thisTemp.previewDiv.offsetHeight -thisTemp.ckStyle['preview']['bottom'];\n\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'top', top + 2 + 'px');\n\t\t\t\tvar topLeft = obj['x'] - parseInt(imgWidth * 0.5);\n\t\t\t\tvar timepieces = 0;\n\t\t\t\tif (topLeft < 0) {\n\t\t\t\t\ttopLeft = 0;\n\t\t\t\t\ttimepieces = obj['x'] - topLeft - imgWidth * 0.5;\n\t\t\t\t}\n\t\t\t\tif (topLeft > thisTemp.PD.offsetWidth - imgWidth) {\n\t\t\t\t\ttopLeft = thisTemp.PD.offsetWidth - imgWidth;\n\t\t\t\t\ttimepieces = obj['x'] - topLeft - imgWidth * 0.5;\n\t\t\t\t}\n\t\t\t\tif (left < 0) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\t\t\t\tif (left > numTotal * imgWidth - thisTemp.PD.offsetWidth) {\n\t\t\t\t\tleft = numTotal * imgWidth - thisTemp.PD.offsetWidth;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\tleft: topLeft + 'px',\n\t\t\t\t\ttop: top + 2 + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t\tif (thisTemp.previewTop.offsetHeight > thisTemp.previewDiv.offsetHeight) {\n\t\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\t\theight: thisTemp.previewDiv.offsetHeight - (thisTemp.previewTop.offsetHeight - thisTemp.previewDiv.offsetHeight) + 'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (this.previewTween != null) {\n\t\t\t\t\tthis.animatePause(this.previewTween);\n\t\t\t\t\tthis.previewTween = null\n\t\t\t\t}\n\t\t\t\tvar nowLeft = parseInt(thisTemp.css(thisTemp.previewDiv, 'left'));\n\t\t\t\tvar leftC = nowLeft + left;\n\t\t\t\tif (nowLeft == -(left + timepieces)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (isTween) {\n\t\t\t\t\tvar obj = {\n\t\t\t\t\t\telement: thisTemp.previewDiv,\n\t\t\t\t\t\tstart: null,\n\t\t\t\t\t\tend: -(left + timepieces),\n\t\t\t\t\t\tspeed: 0.3\n\t\t\t\t\t};\n\t\t\t\t\tthis.previewTween = this.animate(obj);\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'left', -(left + timepieces) + 'px')\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除预览图节点\n\t\t*/\n\t\tdeletePreview: function() {\n\t\t\tif (this.previewDiv != null) {\n\t\t\t\tthis.deleteChild(this.previewDiv);\n\t\t\t\tthis.previewDiv = null;\n\t\t\t\tthis.previewStart = 0;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t修改视频地址，属性\n\t\t*/\n\t\tchangeVideo: function() {\n\t\t\tif (!this.html5Video) {\n\t\t\t\tthis.getVarsObject();\n\t\t\t\tthis.V.newVideo(this.vars);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar vArr = this.VA;\n\t\t\tvar v = this.vars;\n\t\t\tvar i = 0;\n\t\t\tif (vArr.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V != null && this.needSeek == 0) {\n\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t}\n\t\t\tif (v['poster']) {\n\t\t\t\tthis.V.poster = v['poster'];\n\t\t\t} else {\n\t\t\t\tthis.V.removeAttribute('poster');\n\t\t\t}\n\t\t\tif (v['loop']) {\n\t\t\t\tthis.V.loop = 'loop';\n\t\t\t} else {\n\t\t\t\tthis.V.removeAttribute('loop');\n\t\t\t}\n\t\t\tif (v['seek'] > 0) {\n\t\t\t\tthis.needSeek = v['seek'];\n\t\t\t} else {\n\t\t\t\tthis.needSeek = 0;\n\t\t\t}\n\t\t\tif (this.getFileExt(vArr[0][0]) != '.m3u8') {\n\t\t\t\tthis.isM3u8 = false;\n\t\t\t}\n\t\t\tif (!this.isM3u8) {\n\t\t\t\tif (vArr.length == 1) {\n\t\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\t\tthis.V.src = vArr[0][0];\n\t\t\t\t} else {\n\t\t\t\t\tvar source = '';\n\t\t\t\t\tvArr = this.arrSort(vArr);\n\t\t\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = vArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + va[0] + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\tthis.V.innerHTML = source;\n\t\t\t\t}\n\t\t\t\t//分析视频地址结束\n\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\tthis.V.autoplay = 'autoplay';\n\t\t\t\t} else {\n\t\t\t\t\tthis.V.removeAttribute('autoplay');\n\t\t\t\t}\n\t\t\t\tthis.V.load();\n\t\t\t} else {\n\t\t\t\tthis.embedHls(vArr[0][0], v['autoplay']);\n\t\t\t}\n\t\t\tif (!this.isUndefined(v['volume'])) {\n\t\t\t\tthis.changeVolume(v['volume']);\n\t\t\t}\n\t\t\tthis.resetPlayer(); //重置界面元素\n\t\t\tthis.timerErrorFun();\n\t\t\t//如果存在字幕则加载\n\t\t\tif (this.vars['cktrack']) {\n\t\t\t\tthis.loadTrack();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t调整中间暂停按钮,缓冲loading，错误提示文本框的位置\n\t\t*/\n\t\telementCoordinate: function() {\n\t\t\tthis.pdCoor = this.getXY(this.PD);\n\t\t\tvar cssTemp=null;\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['centerPlay'],{cursor:'pointer'});\n\t\t\t\tthis.css(this.CB['pauseCenter'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['loading']);\n\t\t\t\tthis.css(this.CB['loading'],cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['error']);\n\t\t\t\tthis.css(this.CB['errorText'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['logo']);\n\t\t\t\tthis.css(this.CB['logo'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\tthis.checkBarWidth();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t控制栏内各按钮的位置\n\t\t*/\n\t\tcarbarButton:function(){\n\t\t\tvar styleC=this.ckStyle['controlBar'];\n\t\t\tvar styleCB=styleC['button'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\tvar cssSup2={overflow: 'hidden',cursor: 'default',zIndex: 1};\n\t\t\tvar cssSup4={overflow: 'hidden',cursor: 'pointer',display: 'none',zIndex: 995};\n\t\t\t//播放/暂停按钮\n\t\t\tcssTemp=this.getEleCss(styleCB['play'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['play'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['pause'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['pause'],cssTemp);\n\t\t\t//设置静音/取消静音的按钮样式\n\t\t\tcssTemp=this.getEleCss(styleCB['mute'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['mute'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['escMute'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['escMute'],cssTemp);\n\t\t\t//设置全屏/退出全屏按钮样式\n\t\t\tcssTemp=this.getEleCss(styleCB['full'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['full'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['escFull'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['escFull'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleC['timeText']['vod'],cssSup2,this.CB['controlBarBg']);\n \t\t\tthis.css(this.CB['timeText'], cssTemp);\n \t\t\t//音量调节框\n \t\t\tvar volumeSchedule=this.newObj(styleC['volumeSchedule']);\n \t\t\tvolumeSchedule['backgroundImg']='';\n\t\t\tcssTemp=this.getEleCss(volumeSchedule,cssSup2,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['volume'],cssTemp);\n\t\t\tcssTemp= {\n\t\t\t\twidth: cssTemp['width'],\n\t\t\t\theight: styleC['volumeSchedule']['backgroundHeight']+'px',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tbackgroundRepeat:'no-repeat',\n\t\t\t\tbackgroundPosition:'left center'\n\t\t\t};\n\t\t\tif(this.ckConfig['config']['buttonMode']['volumeSchedule']){\n\t\t\t\tcssTemp['cursor']='pointer';\n\t\t\t}\n\t\t\tthis.css(this.CB['volumeBg'],cssTemp);\n\t\t\tthis.css(this.CB['volumeBg'], {\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t\tcssTemp['width']=(this.CB['volumeBO'].offsetWidth*0.5+parseInt(this.css(this.CB['volumeBO'],'left')))+'px';\n\t\t\tthis.css(this.CB['volumeUp'],cssTemp);\n\t\t\tthis.css(this.CB['volumeBg'], 'backgroundImage', 'url('+styleC['volumeSchedule']['backgroundImg']+')');\n\t\t\tthis.css(this.CB['volumeUp'], 'backgroundImage', 'url('+styleC['volumeSchedule']['maskImg']+')');\n\t\t\t//音量调节按钮\n\t\t\tcssTemp=this.getEleCss(styleC['volumeSchedule']['button'],{overflow: 'hidden',cursor: 'pointer',backgroundRepeat:'no-repeat',backgroundPosition:'left center'});\n\t\t\tthis.css(this.CB['volumeBO'],cssTemp);\n\t\t\t//倍速容器\n\t\t\tif(this.ckConfig['config']['playbackRate']){\n\t\t\t\tif(!this.CB['playbackrateButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['playbackrate'],styleC['playbackrate']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['playbackrate']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['playbackrate'],'playbackrateButtonText');\n\t\t\t\t}\n\t\t\t\tcssTemp=this.getEleCss(styleC['playbackrate']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['playbackrate'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['playbackrateP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['playbackrate']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['playbackrateP'], cssTemp);\n\t\t\t}\n\t\t\t//初始化清晰度按钮\n\t\t\tif(this.ckConfig['config']['definition']){\n\t\t\t\tif(!this.CB['defaultButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['definition'],styleC['definition']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['definition']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['definition'],'defaultButtonText');\n\t\t\t\t}\n\t\t\t\tcssTemp=this.getEleCss(styleC['definition']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['definition'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['definitionP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['definition']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['definitionP'], cssTemp);\n\t\t\t}\n\t\t\t//初始化字幕切换按钮\n\t\t\tif(this.ckConfig['config']['subtitle']){\n\t\t\t\tif(!this.CB['subtitleButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['subtitles'],styleC['subtitle']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['subtitle']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['subtitle'],'subtitleButtonText');\n\t\t\t\t}\n\t\t\t\t//字幕按钮列表容器样式\n\t\t\t\tcssTemp=this.getEleCss(styleC['subtitle']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['subtitles'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['subtitlesP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['subtitle']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['subtitlesP'], cssTemp);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t构造一个文字按钮\n\t\t \tele:当前按钮\n\t\t \tcss:样式\n\t\t \tcssSup:补充样式\n\t\t \tupEle：上一级容器对象\n\t\t \ttext:显示的文本\n\t\t \tnewName:文本框名称\n\t\t*/\n\t\ttextButton:function(ele,css,cssSup,upEle,text,newName){\n\t\t\tvar thisTemp=this;\n\t\t\tvar bgCss={\n\t\t\t\twidth:css['width'],\n\t\t\t\theight:css['height']\n\t\t\t};\n\t\t\tif(cssSup){\n\t\t\t\tbgCss={\n\t\t\t\t\twidth:css['width'],\n\t\t\t\t\theight:css['height'],\n\t\t\t\t\talign:cssSup['align'],\n\t\t\t\t\tvAlign:cssSup['vAlign'],\n\t\t\t\t\tmarginX: cssSup['marginX'],\n\t\t\t\t\tmarginY: cssSup['marginY'],\n\t\t\t\t\toffsetX: cssSup['offsetX'],\n\t\t\t\t\toffsetY: cssSup['offsetY'],\n\t\t\t\t\tzIndex:2\n\t\t\t\t};\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(bgCss,null,upEle);\n\t\t\tthisTemp.css(ele, cssTemp);\n\t\t\tvar outCss=this.newObj(css);\n\t\t\tvar overCss=this.newObj(css);\n\t\t\tvar textOutCss=this.newObj(css);\n\t\t\tvar textOverCss=this.newObj(css);\n\t\t\tvar cssTemp=null;\n\t\t\toutCss['alpha']=css['backgroundAlpha'];\n\t\t\toverCss['backgroundColor']=css['overBackgroundColor'];\n\t\t\toverCss['alpha']=css['backgroundAlpha'];\n\t\t\ttextOutCss['color']=css['textColor'];\n\t\t\ttextOverCss['color']=css['overTextColor'];\n\t\t\ttextOutCss['textAlign']=css['align'];\n\t\t\ttextOverCss['textAlign']=css['align'];\n\t\t\t//修正文字\n\t\t\ttextOutCss['backgroundColor']=textOverCss['backgroundColor']='';\n\t\t\tvar bgEle=document.createElement('div');//按钮背景层\n\t\t\tthis.removeChildAll(ele);\n\t\t\tele.appendChild(bgEle);\n\t\t\tif(newName){\n\t\t\t\tthis.CB[newName]=document.createElement('div');//文字层\n\t\t\t\tele.appendChild(this.CB[newName]);\n\t\t\t\tthis.CB[newName].innerHTML=text;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar newEle=document.createElement('div');//文字层\n\t\t\t\tele.appendChild(newEle);\n\t\t\t\tnewEle.innerHTML=text;\n\t\t\t}\n\t\t\tvar outFun=function(){\n\t\t\t\tcssTemp=thisTemp.getEleCss(outCss,{cursor: 'pointer',zIndex:1},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tthisTemp.css(bgEle, cssTemp);\n\t\t\t\tcssTemp=thisTemp.getEleCss(textOutCss,{cursor: 'pointer',zIndex:2},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tif(newName){\n\t\t\t\t\tthisTemp.css(thisTemp.CB[newName], cssTemp,bgEle);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(newEle, cssTemp,bgEle);\n\t\t\t\t}\n\t\t\t\tthisTemp.buttonHide=true;//显示的列表框需要隐藏\n\t\t\t\tif(thisTemp.timeButtonOver){\n\t\t\t\t\twindow.clearTimeout(thisTemp.timeButtonOver);\n\t\t\t\t\tthisTemp.timeButtonOver=null;\n\t\t\t\t}\n\t\t\t\tthisTemp.timeButtonOver=window.setTimeout(function(){thisTemp.buttonListHide()},1000);\n\t\t\t};\n\t\t\tvar overFun=function(){\n\t\t\t\tcssTemp=thisTemp.getEleCss(overCss,{zIndex:1},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tthisTemp.css(bgEle, cssTemp);\n\t\t\t\tcssTemp=thisTemp.getEleCss(textOverCss,{zIndex:2},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tif(newName){\n\t\t\t\t\tthisTemp.css(thisTemp.CB[newName], cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(newEle, cssTemp);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t};\n\t\t\toutFun();\n\t\t\tthis.addListenerInside('mouseout', outFun, ele);\n\t\t\tthis.addListenerInside('mouseover', overFun, ele);\n\t\t},\n\t\t/*\n\t\t\t隐藏所有的列表框 \n\t\t*/\n\t\tbuttonListHide:function(){\n\t\t\tif(this.buttonHide){\n\t\t\t\tthis.css([this.CB['definitionP'],this.CB['subtitlesP'],this.CB['playbackrateP']],'display','none');\n\t\t\t}\n\t\t\tif(this.timeButtonOver){\n\t\t\t\twindow.clearTimeout(this.timeButtonOver);\n\t\t\t\tthis.timeButtonOver=null;\n\t\t\t}\n\t\t\tthis.buttonHide=false;\n\t\t},\n\t\t/*\n\t\t \t计算视频的宽高\n\t\t*/\n\t\tvideoCss:function(){\n\t\t\tvar cssTemp={};\n\t\t\t\n\t\t\tif(this.css(this.CB['controlBar'],'display')=='none'){\n\t\t\t\tcssTemp=this.ckStyle['video']['controlBarHideReserve'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tcssTemp=this.ckStyle['video']['reserve'];\n\t\t\t}\n\t\t\tvar spacingBottom=cssTemp['spacingBottom'];\n\t\t\tif(this.V.controls && this.isMobile()){\n\t\t\t\tspacingBottom-=40;\n\t\t\t}\n\t\t\tvar pW=this.PD.offsetWidth,pH=this.PD.offsetHeight;\n\t\t\tvar vW=pW-cssTemp['spacingLeft']-cssTemp['spacingRight'];\n\t\t\tvar vH=pH-cssTemp['spacingTop']-spacingBottom;\n\t\t\tif(!this.MD){\n\t\t\t\tthis.css(this.V,{\n\t\t\t\t\twidth:vW+'px',\n\t\t\t\t\theight:vH+'px',\n\t\t\t\t\tmarginLeft:cssTemp['spacingLeft']+'px',\n\t\t\t\t\tmarginTop:cssTemp['spacingTop']+'px'\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.css([this.MD,this.MDC],{\n\t\t\t\t\twidth:vW+'px',\n\t\t\t\t\theight:vH+'px',\n\t\t\t\t\tmarginLeft:cssTemp['spacingLeft']+'px',\n\t\t\t\t\tmarginTop:cssTemp['spacingTop']+'px'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t播放器界面自定义元素\n\t\t*/\n\t\tplayerCustom:function(){\n\t\t\tvar custom=this.ckStyle['custom'];\n\t\t\tvar button=custom['button'];\n\t\t\tvar images=custom['images'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup=null;\n\t\t\tvar k='',tempID='';\n\t\t\tvar b={};\n\t\t\tvar tempDiv;\n\t\t\tvar i=0;\n\t\t\tfor(k in button){\n\t\t\t\tb=button[k];\n\t\t\t\tcssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'player-button',name:k});\n\t\t\t\tthis.PD.appendChild(tempDiv);\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\ttempDiv.dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tthis.buttonEventFun(tempDiv,b);\n\t\t\t}\n\t\t\tfor(k in images){\n\t\t\t\tb=images[k];\n\t\t\t\tcssSup={overflow: 'hidden',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'player-images',name:k});\n\t\t\t\tthis.PD.appendChild(tempDiv);\n\t\t\t\tvar img=new Image();\n\t\t\t\timg.src=images[k]['img'];\n\t\t\t\ttempDiv.appendChild(img);\n\t\t\t\ti++\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素\n\t\t*/\n\t\tcarbarCustom:function(){\n\t\t\tvar custom=this.ckStyle['controlBar']['custom'];\n\t\t\tvar button=custom['button'];\n\t\t\tvar images=custom['images'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup=null;\n\t\t\tvar k='',tempID='';\n\t\t\tvar b={};\n\t\t\tvar tempDiv;\n\t\t\tvar i=0;\n\t\t\tfor(k in button){\n\t\t\t\tb=button[k];\n\t\t\t\tcssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup,this.CB['controlBarBg']);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'controlBar-button',name:k});\n\t\t\t\tthis.CB['controlBar'].appendChild(tempDiv);\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\ttempDiv.dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tthis.buttonEventFun(tempDiv,b);\n\t\t\t}\n\t\t\tfor(k in images){\n\t\t\t\tb=images[k];\n\t\t\t\tcssSup={overflow: 'hidden',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup,this.CB['controlBarBg']);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'controlBar-images',name:k});\n\t\t\t\tthis.CB['controlBar'].appendChild(tempDiv);\n\t\t\t\tvar img=new Image();\n\t\t\t\timg.src=images[k]['img'];\n\t\t\t\ttempDiv.appendChild(img);\n\t\t\t\ti++;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素的位置\n\t\t*/\n\t\tcustomCoor:function(){\n\t\t\tvar cssTemp=null;\n\t\t\tif(this.customeElement.length>0){\n\t\t\t\tfor(var i=0;i<this.customeElement.length;i++){\n\t\t\t\t\tif(this.customeElement[i]['type']=='controlBar'){\n\t\t\t\t\t\tcssTemp=this.getEleCss(this.customeElement[i]['css'],this.customeElement[i]['cssSup'],this.CB['controlBarBg']);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tcssTemp=this.getEleCss(this.customeElement[i]['css'],this.customeElement[i]['cssSup']);\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(this.customeElement[i]['ele'],cssTemp);\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素的显示和隐藏，只对播放器界面的有效，作用是当播放视频广告时隐藏，广告播放完成后显示\n\t\t*/\n\t\tcustomShow:function(show){\n\t\t\tif(this.customeElement.length>0){\n\t\t\t\tfor(var i=0;i<this.customeElement.length;i++){\n\t\t\t\t\tif(this.customeElement[i]['type']=='player'){\n\t\t\t\t\t\tthis.css(this.customeElement[i]['ele'],'display',show?'block':'none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t},\n\t\t/*\n\t\t \t广告控制栏样式\n\t\t*/\n\t\tadvertisementStyle:function(){\n\t\t\tvar asArr=['muteButton','escMuteButton','adLinkButton','closeButton','skipAdButton','countDown','countDownText','skipDelay','skipDelayText'];\n\t\t\tvar eleArr=['adMute','adEscMute','adLink','adPauseClose','adSkipButton','adTime','adTimeText','adSkip','adSkipText'];\n\t\t\tfor(var i=0;i<eleArr.length;i++){\n\t\t\t\tvar cssUp={overflow: 'hidden',zIndex: 999};\n\t\t\t\tif(i<5){\n\t\t\t\t\tcssUp['cursor']='pointer';\n\t\t\t\t}\n\t\t\t\tvar cssTemp=this.getEleCss(this.ckStyle['advertisement'][asArr[i]],cssUp);\n\t\t\t\tthis.css(this.CB[eleArr[i]],cssTemp);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t当播放器尺寸变化时，显示和隐藏相关节点\n\t\t*/\n\t\tcheckBarWidth: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t初始化暂停或播放按钮\n\t\t*/\n\t\tinitPlayPause: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.vars['autoplay']) {\n\t\t\t\tthis.css([this.CB['play'], this.CB['pauseCenter']], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'block');\n\t\t\t\tif (this.css(this.CB['errorText'], 'display') == 'none') {\n\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'block');\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'none');\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t\t下面为监听事件\n\t\t\t内部函数\n\t\t\t监听元数据已加载\n\t\t*/\n\t\tloadedHandler: function() {\n\t\t\tthis.loaded = true;\n\t\t\tif (this.vars['loaded'] != '') {\n\t\t\t\ttry {\n\t\t\t\t\teval(this.vars['loaded'] + '(\\''+this.vars['variable']+'\\')');\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放\n\t\t*/\n\t\tplayingHandler: function() {\n\t\t\tthis.playShow(true);\n\t\t\t//如果是第一次播放\n\t\t\tif (this.isFirstTimePlay && !this.isUndefined(this.advertisements['front'])) {\n\t\t\t\tthis.isFirstTimePlay = false;\n\t\t\t\t//调用播放前置广告组件\n\t\t\t\tthis.adI = 0;\n\t\t\t\tthis.adType = 'front';\n\t\t\t\tthis.adMuteInto();\n\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\tthis.adPlayStart = true;\n\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\tthis.videoPause();\n\t\t\t\tthis.advertisementsTime();\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\t//调用播放前置广告组件结束\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//判断第一次播放结束\n\t\t\tif (this.needSeek > 0) {\n\t\t\t\tthis.videoSeek(this.needSeek);\n\t\t\t\tthis.needSeek = 0;\n\t\t\t}\n\t\t\tif (this.animatePauseArray.length > 0) {\n\t\t\t\tthis.animateResume('pause');\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video' && this.V != null && this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\tthis.sendVCanvas();\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['pause']) && !this.adPlayStart) { //如果存在暂停广告\n\t\t\t\tthis.closePauseAd();\n\t\t\t}\n\t\t},\n\t\t/*暂停时播放暂停广告*/\n\t\tadPausePlayer: function() {\n\t\t\tthis.adI = 0;\n\t\t\tthis.adType = 'pause';\n\t\t\tthis.adPauseShow = true;\n\t\t\tthis.loadAdPause();\n\t\t\tthis.sendJS('pauseAd','play');\n\t\t},\n\t\tloadAdPause: function() {\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tvar thisTemp = this;\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tif (this.isStrImage(type) && this.adPauseShow) {\n\t\t\t\tthis.css(this.CB['adElement'], 'display', 'block');\n\t\t\t\tvar imgClass = 'adimg' + this.randomString(10);\n\t\t\t\tvar imgHtml = '<img src=\"' + ad['file'] + '\" class=\"' + imgClass + '\">';\n\t\t\t\tif (ad['link']) {\n\t\t\t\t\timgHtml = '<a href=\"' + ad['link'] + '\" target=\"_blank\">' + imgHtml + '</a>';\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = imgHtml;\n\t\t\t\tthis.addListenerInside('load',\n\t\t\t\tfunction() {\n\t\t\t\t\tvar imgObj = new Image();\n\t\t\t\t\timgObj.src = this.src;\n\t\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\t\tthisTemp.css([thisTemp.getByElement(imgClass), thisTemp.CB['adElement']], {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\tborder: '0px'\n\t\t\t\t\t});\n\t\t\t\t\tif (thisTemp.ckStyle['advertisement']['closeButtonShow'] && thisTemp.adPauseShow) {\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['adPauseClose'], {\n\t\t\t\t\t\t\tdisplay: 'block'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\t\tthisTemp.adPauseCoor();\n\t\t\t\t},\n\t\t\t\tthis.getByElement(imgClass));\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adElement']);\n\t\t\t\tvar newI = this.adI;\n\t\t\t\tif (this.adI < this.advertisements['pause'].length - 1) {\n\t\t\t\t\tnewI++;\n\t\t\t\t} else {\n\t\t\t\t\tnewI = 0;\n\t\t\t\t}\n\t\t\t\tif (ad['time'] > 0) {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tif (thisTemp.adPauseShow) {\n\t\t\t\t\t\t\tthisTemp.adI = newI;\n\t\t\t\t\t\t\tthisTemp.loadAdPause();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tad['time'] * 1000);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*调整暂停广告的位置*/\n\t\tadPauseCoor: function() {\n\t\t\tif (this.css(this.CB['adElement'], 'display') == 'block') {\n\t\t\t\tvar w = this.CB['adElement'].offsetWidth,\n\t\t\t\th = this.CB['adElement'].offsetHeight;\n\t\t\t\tvar pw = this.PD.offsetWidth,\n\t\t\t\tph = this.PD.offsetHeight;\n\t\t\t\tthis.css(this.CB['adElement'], {\n\t\t\t\t\ttop: (ph - h) * 0.5 + 'px',\n\t\t\t\t\tleft: (pw - w) * 0.5 + 'px'\n\t\t\t\t});\n\t\t\t\tif (this.css(this.CB['adPauseClose'], 'display') == 'block') {\n\t\t\t\t\tvar rr=this.ckStyle['advertisement']['closeButton'];\n\t\t\t\t\tvar cxy =  this.getPosition(rr,this.CB['adElement']);\n\t\t\t\t\tthis.css(this.CB['adPauseClose'], {\n\t\t\t\t\t\ttop: cxy['y'] + 'px',\n\t\t\t\t\t\tleft: cxy['x'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t关闭暂停广告\n\t\t*/\n\t\tclosePauseAd: function() {\n\t\t\tthis.CB['adElement'].innerHTML = '';\n\t\t\tthis.css([this.CB['adElement'], this.CB['adPauseClose']], 'display', 'none');\n\t\t\tthis.adPauseShow = false;\n\t\t\tthis.sendJS('pauseAd','ended');\n\t\t},\n\t\t/*计算广告时间*/\n\t\tadvertisementsTime: function(nt) {\n\t\t\tif (this.isUndefined(nt)) {\n\t\t\t\tnt = 0;\n\t\t\t}\n\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\tif (nt > 0) {\n\t\t\t\tad[this.adI]['time'] = Math.ceil(nt);\n\t\t\t}\n\t\t\tthis.adTimeAllTotal = 0;\n\t\t\tfor (var i = this.adI; i < ad.length; i++) {\n\t\t\t\tif (!this.isUndefined(ad[i]['time'])) {\n\t\t\t\t\tthis.adTimeAllTotal += Math.ceil(ad[i]['time']);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.adTimeAllTotal > 0) {\n\t\t\t\tthis.CB['adTimeText'].innerHTML = this.ckLanguage['adCountdown'].replace('[$second]', this.adTimeAllTotal).replace('[$Second]', this.adTimeAllTotal > 9 ? this.adTimeAllTotal: '0' + this.adTimeAllTotal);\n\t\t\t}\n\t\t\tif (this.adPauseShow) {\n\t\t\t\tthis.closePauseAd();\n\t\t\t}\n\t\t\tthis.adOtherCloseAll();\n\t\t\tthis.adTimeTotal = -1;\n\t\t},\n\t\t/*判断是否需要显示跳过广告按钮*/\n\t\tadSkipButtonShow: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar skipConfig = this.ckStyle['advertisement'];\n\t\t\tvar delayTimeTemp = skipConfig[this.adType + 'SkipButtonDelay'];\n\t\t\tvar timeFun = function() {\n\t\t\t\tif (delayTimeTemp >= 0) {\n\t\t\t\t\tthisTemp.CB['adSkipText'].innerHTML = thisTemp.ckLanguage['skipDelay'].replace('[$second]', delayTimeTemp).replace('[$Second]', delayTimeTemp > 9 ? delayTimeTemp: '0' + delayTimeTemp);\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','none');\n\t\t\t\t\tsetTimeout(timeFun, 1000);\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','none');\n\t\t\t\t\tif(thisTemp.css(thisTemp.CB['adTime'],'display')=='block'){\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','block');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tdelayTimeTemp--;\n\t\t\t};\n\t\t\tif (skipConfig['skipButtonShow']) {\n\t\t\t\tif (skipConfig[this.adType + 'SkipButtonDelay'] > 0 && this.isUndefined(this.adSkipButtonTime)) {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']], 'display', 'block');\n\t\t\t\t\ttimeFun();\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','none');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','block');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*播放广告*/\n\t\tadvertisementsPlay: function() {\n\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText'], this.CB['adSkip'], this.CB['adSkipText'],this.CB['adSkipButton'], this.CB['adLink']], 'display', 'none');\n\t\t\tthis.adPlayerPlay = false;\n\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\tif (this.adI == 0 && (this.adType == 'front' || this.adType == 'insert' || this.adType == 'end')) {\n\t\t\t\tthis.sendJS('process', this.adType + ' ad play');\n\t\t\t\tthis.sendJS(this.adType+'Ad','play');\n\t\t\t}\n\t\t\tthis.trackHide();\n\t\t\tif (this.adI < ad.length) {\n\t\t\t\tif (!this.isUndefined(ad[this.adI]['time'])) {\n\t\t\t\t\tthis.adTimeTotal = parseInt(ad[this.adI]['time']);\n\t\t\t\t}\n\t\t\t\tthis.loadAdvertisements();\n\t\t\t} else {\n\t\t\t\tthis.adEnded();\n\t\t\t}\n\t\t},\n\t\t/*清除当前所有广告*/\n\t\teliminateAd: function() {\n\t\t\tif (this.adType) {\n\t\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\t\tthis.adI = ad.length;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t}\n\n\t\t},\n\t\t/*广告播放结束*/\n\t\tadEnded: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.adPlayStart = false;\n\t\t\tif(this.adType=='front'){\n\t\t\t\tthis.time=0;\n\t\t\t}\n\t\t\tthis.adPlayerPlay = false;\n\t\t\tif (this.adVideoPlay) {\n\t\t\t\tif (this.videoTemp['src'] != '') {\n\t\t\t\t\tthis.V.src = this.videoTemp['src'];\n\t\t\t\t} else {\n\t\t\t\t\tif (this.V.src) {\n\t\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['source'] != '') {\n\t\t\t\t\tthis.V.innerHTML = this.videoTemp['source'];\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['currentSrc'] != '') {\n\t\t\t\t\tthis.V.src = this.videoTemp['currentSrc'];\n\t\t\t\t\tthis.V.currentSrc = this.videoTemp['currentSrc'];\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['loop']) {\n\t\t\t\t\tthis.V.loop = true;\n\t\t\t\t\tthis.videoTemp['loop'] = false;\n\t\t\t\t}\n\t\t\t\tif (this.adType == 'end') {\n\t\t\t\t\tthis.endedHandler();\n\t\t\t\t} else {\n\t\t\t\t\tthis.videoPlay();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.videoPlay();\n\t\t\t}\n\t\t\tthis.changeVolume(this.vars['volume']);\n\t\t\tthis.sendJS('process', this.adType + ' ad ended');\n\t\t\tthis.sendJS(this.adType+'Ad','ended');\n\t\t\tthis.changeControlBarShow(true);\n\t\t\tthis.css(this.CB['logo'], 'display','block');\n\t\t\tthis.customShow(true);\n\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText'], this.CB['adSkip'], this.CB['adSkipText'],this.CB['adSkipButton'], this.CB['adLink'],this.CB['adMute'], this.CB['adEscMute']], 'display', 'none');\n\t\t},\n\t\t/*加载广告*/\n\t\tloadAdvertisements: function() {\n\t\t\t//this.videoTemp\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tvar thisTemp = this;\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tthis.changeControlBarShow(false);\n\t\t\tthis.adPlayerPlay = true;\n\t\t\tthis.css(this.CB['logo'], 'display','none');\n\t\t\tthis.customShow(false);\n\t\t\tif (this.isStrImage(type)) {\n\t\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText']], 'display', 'block');\n\t\t\t\tthis.css([this.CB['adMute'], this.CB['adEscMute']], 'display', 'none');\n\t\t\t\tvar imgClass = 'adimg' + this.randomString(10);\n\t\t\t\tvar imgHtml = '<img src=\"' + ad['file'] + '\" class=\"' + imgClass + '\">';\n\t\t\t\tif (ad['link']) {\n\t\t\t\t\timgHtml = '<a href=\"' + ad['link'] + '\" target=\"_blank\">' + imgHtml + '</a>';\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = imgHtml;\n\t\t\t\tthis.addListenerInside('load',\n\t\t\t\tfunction() {\n\t\t\t\t\tvar imgObj = new Image();\n\t\t\t\t\timgObj.src = this.src;\n\t\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\t\tthisTemp.css(thisTemp.getByElement(imgClass), {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\tborder: '0px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adElement'], {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\ttop: (height - imgWH['height']) * 0.5 + 'px',\n\t\t\t\t\t\tleft: (width - imgWH['width']) * 0.5 + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.getByElement(imgClass));\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adElement']);\n\t\t\t\tif (!this.isUndefined(ad['time'])) {\n\t\t\t\t\tthis.adCountDown();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.css([this.CB['adTime'], this.CB['adTimeText']], 'display', 'block');\n\t\t\t\t//判断是否静音\n\t\t\t\tif (this.adVideoMute) {\n\t\t\t\t\tthis.css(this.CB['adEscMute'], 'display', 'block');\n\t\t\t\t\tthis.css(this.CB['adMute'], 'display', 'none');\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.CB['adEscMute'], 'display', 'none');\n\t\t\t\t\tthis.css(this.CB['adMute'], 'display', 'block');\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = '';\n\t\t\t\tif (this.videoTemp['currentSrc'] == '') {\n\t\t\t\t\tthis.videoTemp['currentSrc'] = this.getCurrentSrc();\n\t\t\t\t}\n\t\t\t\tif (this.V.loop) {\n\t\t\t\t\tthis.videoTemp['loop'] = true;\n\t\t\t\t\tthis.V.loop = false;\n\t\t\t\t}\n\t\t\t\tif (this.V != null && this.V.currentTime > 0 && this.adIsVideoTime && this.adType!='front') { //当有视频广告时而又没有记录下已播放的时间则进行记录\n\t\t\t\t\tthis.adIsVideoTime = false;\n\t\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t\t}\n\t\t\t\tthis.V.src = ad['file'];\n\t\t\t\tthis.V.currentSrc = ad['file'];\n\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\tthis.V.play();\n\t\t\t\tthis.adVideoPlay = true;\n\t\t\t\tthis.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\tif (!this.adVideoMute) {\n\t\t\t\t\tthis.escAdMute();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ad['link']) {\n\t\t\t\tthis.css(this.CB['adLink'], 'display', 'block');\n\t\t\t\tvar adLinkClick = function(event) {\n\t\t\t\t\tthisTemp.sendJS('clickEvent', 'javaScript->adLinkClick');\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', adLinkClick, this.CB['adLink']);\n\t\t\t\tthis.adLinkTemp=ad['link'];\n\t\t\t\tvar linkTemp = '<a href=\"' + ad['link'] + '\" target=\"_blank\" class=\"ckadmorelink\"><img src=\"' + this.ckStyle['png-1-1'] + '\" width=\"'+this.ckStyle['advertisement']['adLinkButton']['width']+'\" height=\"'+this.ckStyle['advertisement']['adLinkButton']['height']+'\"></a>';\n\t\t\t\tthis.CB['adLink'].innerHTML = linkTemp;\n\t\t\t\tthis.css(this.getByElement('ckadmorelink'), {\n\t\t\t\t\tcolor: '#FFFFFF',\n\t\t\t\t\ttextDecoration: 'none'\n\t\t\t\t});\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adLink']);\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['adLink'], 'display', 'none');\n\t\t\t}\n\n\t\t},\n\t\t/*普通广告倒计时*/\n\t\tadCountDown: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.adTimeTotal > 0) {\n\t\t\t\tif (!this.adIsPause) {\n\t\t\t\t\tthis.adTimeTotal--;\n\t\t\t\t\tthis.showAdTime();\n\t\t\t\t\tthis.adCountDownObj = null;\n\t\t\t\t\tthis.adCountDownObj = setTimeout(function() {\n\t\t\t\t\t\tthisTemp.adCountDown();\n\t\t\t\t\t},\n\t\t\t\t\t1000);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.adI++;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t}\n\t\t},\n\t\t/*视频广告倒计时*/\n\t\tadPlayerTimeHandler: function(time) {\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tif (this.isStrImage(type)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adTimeTotal != parseInt(time)) {\n\t\t\t\tthis.adTimeTotal = parseInt(time);\n\t\t\t\tthis.showAdTime();\n\t\t\t}\n\t\t},\n\t\t/*格式化广告倒计时显示*/\n\t\tshowAdTime: function() {\n\t\t\tthis.adTimeAllTotal--;\n\t\t\tvar n = this.adTimeAllTotal;\n\t\t\tif (n < 0) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tthis.CB['adTimeText'].innerHTML = this.ckLanguage['adCountdown'].replace('[$second]', n).replace('[$Second]', n < 10 ? '0' + n: n);\n\t\t},\n\t\t/*\n\t\t\t单独监听其它广告\n\t\t*/\n\t\tcheckAdOther: function(t) {\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar adTime = this.advertisements['othertime'];\n\t\t\tvar adPlay = this.advertisements['otherPlay'];\n\t\t\tfor (var i = 0; i < adTime.length; i++) {\n\t\t\t\tif (t >= adTime[i] && !adPlay[i]) { //如果播放时间大于广告时间而该广告还没有播放，则开始播放\n\t\t\t\t\tadPlay[i] = true;\n\t\t\t\t\tthis.newAdOther(i);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t新建其它广告 \n\t\t*/\n\t\tnewAdOther: function(i) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar ad = this.advertisements['other'][i];\n\t\t\tvar randomS = this.randomString(10); //获取一个随机字符串\n\t\t\tvar adDivID = 'adother' + randomS; //广告容器\n\t\t\timgClassName = 'adimgother' + randomS;\n\t\t\tvar adDiv = document.createElement('div');\n\t\t\tadDiv.className = adDivID;\n\t\t\tthis.PD.appendChild(adDiv);\n\t\t\tad['div'] = adDivID;\n\t\t\tad['element'] = imgClassName;\n\t\t\tvar adHtml='<img src=\"' + ad['file'] + '\" class=\"' + imgClassName + '\">';\n\t\t\tif(ad['link']){\n\t\t\t\tadHtml='<a href=\"' + ad['link'] + '\" target=\"blank\">'+adHtml+'</a>';\n\t\t\t}\n\t\t\tthis.getByElement(adDivID).innerHTML =adHtml;\n\t\t\tthis.css(adDivID, {\n\t\t\t\tposition: 'absolute',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tzIndex: '996',\n\t\t\t\ttop: '-600px',\n\t\t\t\tleft: '-600px',\n\t\t\t\tcursor: 'pointer'\n\t\t\t});\n\t\t\tif (this.ckStyle['advertisement']['closeOtherButtonShow']) {\n\t\t\t\tvar closeAdDivID = 'adotherclose-' + randomS; //广告容器\n\t\t\t\tvar closeAdDiv = document.createElement('div');\n\t\t\t\tcloseAdDiv.className = closeAdDivID;\n\t\t\t\tthis.PD.appendChild(closeAdDiv);\n\t\t\t\tad['closeDiv'] = closeAdDivID;\n\t\t\t\tad['close'] = false;\n\t\t\t\tvar closeAdDivCss=this.getEleCss(this.ckStyle['advertisement']['closeOtherButton'],{offsetX:-10000,offsetY:-10000,cursor: 'pointer',zIndex: 997});\t\t\t\t\n\t\t\t\tthis.css(closeAdDivID, closeAdDivCss);\t\t\t\n\t\t\t\tvar adOtherCloseOver = function() {\n\t\t\t\t\tthisTemp.loadImgBg(closeAdDivID,thisTemp.ckStyle['advertisement']['closeOtherButton']['mouseOver']);\n\t\t\t\t};\n\t\t\t\tvar adOtherCloseOut = function() {\n\t\t\t\t\tthisTemp.loadImgBg(closeAdDivID,thisTemp.ckStyle['advertisement']['closeOtherButton']['mouseOut']);\n\t\t\t\t};\n\t\t\t\tadOtherCloseOut();\n\t\t\t\tthis.addListenerInside('mouseover', adOtherCloseOver, this.getByElement(closeAdDivID));\n\t\t\t\tthis.addListenerInside('mouseout', adOtherCloseOut, this.getByElement(closeAdDivID));\n\t\t\t}\n\t\t\tthis.addListenerInside('load',\n\t\t\tfunction() {\n\t\t\t\tvar imgObj = new Image();\n\t\t\t\timgObj.src = this.src;\n\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\tthisTemp.css([thisTemp.getByElement(imgClassName), thisTemp.getByElement(adDivID)], {\n\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\tborder: '0px'\n\t\t\t\t});\n\t\t\t\tthisTemp.advertisements['other'][i] = ad;\n\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\tthisTemp.adOtherCoor();\n\t\t\t},\n\t\t\tthis.getByElement(imgClassName));\n\t\t\tthis.addListenerInside('click',\n\t\t\tfunction() {\n\t\t\t\tthisTemp.adOtherClose(i);\n\t\t\t},\n\t\t\tthis.getByElement(closeAdDivID));\n\t\t\tthis.addListenerInside('click',\n\t\t\tfunction() {\n\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t},\n\t\t\tthis.getByElement(imgClassName));\n\t\t\tif (ad['time'] > 0) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthisTemp.adOtherClose(i);\n\t\t\t\t},\n\t\t\t\tad['time'] * 1000);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t关闭其它广告\n\t\t*/\n\t\tadOtherClose: function(i) {\n\t\t\tvar ad = this.advertisements['other'][i];\n\t\t\tif (!this.isUndefined(ad['close'])) {\n\t\t\t\tif (!ad['close']) {\n\t\t\t\t\tad['close'] = true;\n\t\t\t\t\tthis.PD.removeChild(this.getByElement(ad['div']));\n\t\t\t\t\tthis.PD.removeChild(this.getByElement(ad['closeDiv']));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tadOtherCloseAll: function() {\n\t\t\tif (!this.isUndefined(this.advertisements['other'])) {\n\t\t\t\tvar ad = this.advertisements['other'];\n\t\t\t\tfor (var i = 0; i < ad.length; i++) {\n\t\t\t\t\tthis.adOtherClose(i);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t计算其它广告的坐标\n\t\t*/\n\t\tadOtherCoor: function() {\n\t\t\tif (!this.isUndefined(this.advertisements['other'])) {\n\t\t\t\tvar arr = this.advertisements['other'];\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tvar ad = arr[i];\n\t\t\t\t\tif (!this.isUndefined(ad['close'])) {\n\t\t\t\t\t\tif (!ad['close']) {\n\t\t\t\t\t\t\tvar rr=this.ckStyle['advertisement']['closeOtherButton'];\n\t\t\t\t\t\t\tvar coor = this.getPosition(ad);\n\t\t\t\t\t\t\tvar x = coor['x'],\n\t\t\t\t\t\t\ty = coor['y'];\n\t\t\t\t\t\t\tthis.css(this.getByElement(ad['div']), {\n\t\t\t\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\t\t\t\ttop: y + 'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tvar cxy =  this.getPosition(rr,this.getByElement(ad['div']));\n\t\t\t\t\t\t\tif (!this.isUndefined(ad['closeDiv'])) {\n\t\t\t\t\t\t\t\tthis.css(this.getByElement(ad['closeDiv']), {\n\t\t\t\t\t\t\t\t\tleft: cxy['x'] + 'px',\n\t\t\t\t\t\t\t\t\ttop: cxy['y'] + 'px'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t单独监听中间插入广告\n\t\t*/\n\t\tcheckAdInsert: function(t) {\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar adTime = this.advertisements['inserttime'];\n\t\t\tvar adPlay = this.advertisements['insertPlay'];\n\t\t\tvar duration = this.getMetaDate()['duration'];\n\t\t\tfor (var i = adTime.length - 1; i > -1; i--) {\n\t\t\t\tif (t >= adTime[i] && t < duration - 2 && t > 1 && !adPlay[i]) { //如果播放时间大于广告时间而该广告还没有播放，则开始播放\n\t\t\t\t\tthis.adI = 0;\n\t\t\t\t\tthis.adType = 'insert';\n\t\t\t\t\tthis.adMuteInto();\n\t\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\t\tthis.adPlayStart = true;\n\t\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\t\tthis.videoPause();\n\t\t\t\t\tthis.advertisementsTime();\n\t\t\t\t\tthis.advertisementsPlay();\n\t\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\t\tadPlay[i] = true;\n\t\t\t\t\tfor (var n = 0; n < i + 1; n++) {\n\t\t\t\t\t\tadPlay[n] = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*格式化中间插入广告的播放时间*/\n\t\tformatInserttime: function(duration) {\n\t\t\tif (!this.isUndefined(this.advertisements['inserttime'])) {\n\t\t\t\tvar arr = this.advertisements['inserttime'];\n\t\t\t\tvar newArr = [];\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i].toString().substr( - 1) == '%') {\n\t\t\t\t\t\tnewArr.push(parseInt(duration * parseInt(arr[i]) * 0.01));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewArr.push(parseInt(arr[i]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.advertisements['inserttime'] = newArr;\n\t\t\t}\n\t\t},\n\t\t/*获取当前的广告*/\n\t\tgetNowAdvertisements: function() {\n\t\t\tif (this.adI == -1) {\n\t\t\t\treturn {\n\t\t\t\t\tfile: '',\n\t\t\t\t\ttime: 0,\n\t\t\t\t\tlink: ''\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn this.advertisements[this.adType][this.adI];\n\t\t},\n\t\t/*根据元件尺寸和播放器尺寸调整大小*/\n\t\tadjustmentWH: function(w, h) {\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tvar nw = 0,\n\t\t\tnh = 0;\n\t\t\tif (w >= width || h >= height) {\n\t\t\t\tif (width / w > height / h) {\n\t\t\t\t\tnh = height - 20;\n\t\t\t\t\tnw = w * nh / h;\n\t\t\t\t} else {\n\t\t\t\t\tnw = width - 20;\n\t\t\t\t\tnh = h * nw / w;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnw = w;\n\t\t\t\tnh = h;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\twidth: nw,\n\t\t\t\theight: nh\n\t\t\t}\n\t\t},\n\t\t/*单独请求一次地址，但不处理返回的数据*/\n\t\tajaxSuccessNull: function(url) {\n\t\t\tif (!this.isUndefined(url)) {\n\t\t\t\tvar ajaxObj = {\n\t\t\t\t\turl: url,\n\t\t\t\t\tsuccess: function(data) {}\n\t\t\t\t};\n\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t运行指定函数\n\t\t*/\n\t\trunFunction: function(s) {\n\t\t\ttry {\n\t\t\t\tvar arr = s.split('->');\n\t\t\t\tif(arr.length==2){\n\t\t\t\t\tswitch (arr[0]) {\n\t\t\t\t\t\tcase 'javaScript':\n\t\t\t\t\t\t\tif(arr[1].substr(0,11)!='[flashvars]'){\n\t\t\t\t\t\t\t\teval(arr[1] + '()');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\teval(this.vars[arr[1].substr(11)] + '()');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'actionScript':\n\t\t\t\t\t\t\teval('this.' + arr[1] + '()');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.sendJS('clickEvent', s);\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t使用画布附加视频\n\t\t*/\n\t\tsendVCanvas: function() {\n\t\t\tif (this.timerVCanvas == null) {\n\t\t\t\tthis.css(this.V, 'display', 'none');\n\t\t\t\tthis.css(this.MD, 'display', 'block');\n\t\t\t\tvar thisTemp = this;\n\t\t\t\tvar videoCanvas = function() {\n\t\t\t\t\tif (thisTemp.MDCX.width != thisTemp.MD.offsetWidth) {\n\t\t\t\t\t\tthisTemp.MDC.width = thisTemp.MD.offsetWidth;\n\t\t\t\t\t}\n\t\t\t\t\tif (thisTemp.MDCX.height != thisTemp.MD.offsetHeight) {\n\t\t\t\t\t\tthisTemp.MDC.height = thisTemp.MD.offsetHeight;\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.MDCX.clearRect(0, 0, thisTemp.MDCX.width, thisTemp.MDCX.height);\n\t\t\t\t\tvar coor = thisTemp.getProportionCoor(thisTemp.PD.offsetWidth, thisTemp.PD.offsetHeight, thisTemp.V.videoWidth, thisTemp.V.videoHeight);\n\t\t\t\t\tthisTemp.MDCX.drawImage(thisTemp.V, 0, 0, thisTemp.V.videoWidth, thisTemp.V.videoHeight, coor['x'], coor['y'], coor['width'], coor['height']);\n\t\t\t\t};\n\t\t\t\tthis.timerVCanvas = new this.timer(0, videoCanvas);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听暂停\n\t\t*/\n\t\tpauseHandler: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.playShow(false);\n\t\t\tif (this.animatePauseArray.length > 0) {\n\t\t\t\tthis.animatePause('pause');\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video' && this.V != null && this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\tthis.stopVCanvas();\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['pause']) && !this.adPlayStart && !this.adPauseShow) { //如果存在暂停广告\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['pause']) && !thisTemp.adPlayStart && !thisTemp.adPauseShow && thisTemp.time > 1) { //如果存在暂停广告\n\t\t\t\t\t\tthisTemp.adPausePlayer();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t300);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t停止画布\n\t\t*/\n\t\tstopVCanvas: function() {\n\t\t\tif (this.timerVCanvas != null) {\n\t\t\t\tthis.css(this.V, 'display', 'block');\n\t\t\t\tthis.css(this.MD, 'display', 'none');\n\t\t\t\tif (this.timerVCanvas.runing) {\n\t\t\t\t\tthis.timerVCanvas.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerVCanvas = null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据当前播放还是暂停确认图标显示\n\t\t*/\n\t\tplayShow: function(b) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (b) {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'block');\n\t\t\t\tif (this.css(this.CB['errorText'], 'display') == 'none') {\n\t\t\t\t\tif (!this.adPlayerPlay) {\n\t\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'block');\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'none');\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'none');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听seek结束\n\t\t*/\n\t\tseekedHandler: function() {\n\t\t\tthis.resetTrack();\n\t\t\tthis.isTimeButtonMove = true;\n\t\t\tif (this.V.paused) {\n\t\t\t\tif(this.hlsAutoPlay){\n\t\t\t\t\tthis.videoPlay();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.hlsAutoPlay=true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放结束\n\t\t*/\n\t\tendedHandler: function() {\n\t\t\tthis.sendJS('ended');\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adI++;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.endAdPlay && !this.isUndefined(this.advertisements['end'])) {\n\t\t\t\tthis.endAdPlay = true;\n\t\t\t\tthis.adI = 0;\n\t\t\t\tthis.adType = 'end';\n\t\t\t\tthis.adMuteInto();\n\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\tthis.adPlayStart = true;\n\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\tthis.videoPause();\n\t\t\t\tthis.advertisementsTime();\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\tthis.adReset = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.endedAdReset();\n\t\t\tif (this.vars['loop']) {\n\t\t\t\tthis.videoSeek(0);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t重置结束后相关的设置\n\t\t*/\n\t\tendedAdReset: function() {\n\t\t\tvar arr = [];\n\t\t\tvar i = 0;\n\t\t\tif (!this.isUndefined(this.advertisements['insertPlay'])) {\n\t\t\t\tarr = this.advertisements['insertPlay'];\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tthis.advertisements['insertPlay'][i] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['otherPlay'])) {\n\t\t\t\tarr = this.advertisements['otherPlay'];\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tthis.advertisements['otherPlay'][i] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//this.endAdPlay=false;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听音量改变\n\t\t*/\n\t\tvolumechangeHandler: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ((this.ckConfig['config']['mobileVolumeBarShow'] || !this.isMobile()) && this.css(this.CB['volume'], 'display') != 'none') {\n\t\t\t\ttry {\n\t\t\t\t\tvar volume=this.volume || this.V.volume;\n\t\t\t\t\tif (volume > 0) {\n\t\t\t\t\t\tthis.css(this.CB['mute'], 'display', 'block');\n\t\t\t\t\t\tthis.css(this.CB['escMute'], 'display', 'none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.css(this.CB['mute'], 'display', 'none');\n\t\t\t\t\t\tthis.css(this.CB['escMute'], 'display', 'block');\n\t\t\t\t\t}\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放时间调节进度条\n\t\t*/\n\t\ttimeUpdateHandler: function() {\n\t\t\tvar duration = 0;\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\ttry {\n\t\t\t\t\tduration = this.V.duration;\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tif (duration > 0) {\n\t\t\t\tthis.time = this.V.currentTime;\n\t\t\t\tthis.timeTextHandler();\n\t\t\t\tthis.trackShowHandler();\n\t\t\t\tif (this.isTimeButtonMove) {\n\t\t\t\t\tthis.timeProgress(this.time, duration);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t改变控制栏坐标\n\t\t*/\n\t\tcontrolBar:function(){\n\t\t\t//控制栏背景\n\t\t\tvar cb=this.ckStyle['controlBar'];\n\t\t\tvar cssObjTemp={\n\t\t\t\talign:cb['align'],\n\t\t\t\tvAlign:cb['vAlign'],\n\t\t\t\twidth:cb['width'],\n\t\t\t\theight:cb['height'],\n\t\t\t\toffsetX:cb['offsetX'],\n\t\t\t\toffsetY:cb['offsetY']\n\t\t\t\t\n\t\t\t};\n\t\t\tvar bgCss={\n\t\t\t\tbackgroundColor:cb['background']['backgroundColor'],\n\t\t\t\tbackgroundImg:cb['background']['backgroundImg'],\n\t\t\t\talpha:cb['background']['alpha']\n\t\t\t};\n\t\t\tvar cssTemp=this.getEleCss(this.objectAssign(cssObjTemp,bgCss),{zIndex:888});\n\t\t\tthis.css(this.CB['controlBarBg'], cssTemp);\n\t\t\t//控制栏容器\n\t\t\tcssTemp=this.getEleCss(cssObjTemp,{zIndex:889});\n\t\t\tthis.css(this.CB['controlBar'], cssTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t按时间改变进度条\n\t\t*/\n\t\ttimeProgress: function(time, duration) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar timeProgressBgW = this.CB['timeProgressBg'].offsetWidth;\n\t\t\tvar timeBOW = parseInt((time * timeProgressBgW / duration) - (this.CB['timeButton'].offsetWidth * 0.5));\n\t\t\tif (timeBOW > timeProgressBgW - this.CB['timeButton'].offsetWidth) {\n\t\t\t\ttimeBOW = timeProgressBgW - this.CB['timeButton'].offsetWidth;\n\t\t\t}\n\t\t\tif (timeBOW < 0) {\n\t\t\t\ttimeBOW = 0;\n\t\t\t}\n\t\t\tthis.css(this.CB['timeProgress'], 'width', timeBOW + 'px');\n\t\t\tthis.css(this.CB['timeButton'], 'left', parseInt(timeBOW) + 'px');\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放时间改变时间显示文本框\n\t\t*/\n\t\ttimeTextHandler: function() { //显示时间/总时间\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar duration = this.V.duration;\n\t\t\tvar time = this.V.currentTime;\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tthis.CB['timeText'].innerHTML = this.formatTime(time,duration,this.ckLanguage['vod']);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听是否是缓冲状态\n\t\t*/\n\t\tbufferEdHandler: function() {\n\t\t\tif (!this.conBarShow || this.playerType == 'flashplayer') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar clearTimerBuffer = function() {\n\t\t\t\tif (thisTemp.timerBuffer != null) {\n\t\t\t\t\tif (thisTemp.timerBuffer.runing) {\n\t\t\t\t\t\tthisTemp.sendJS('buffer', 100);\n\t\t\t\t\t\tthisTemp.timerBuffer.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerBuffer = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tclearTimerBuffer();\n\t\t\tvar bufferFun = function() {\n\t\t\t\tif (!thisTemp.isUndefined(thisTemp.V) && thisTemp.V.buffered.length > 0) {\n\t\t\t\t\tvar duration = thisTemp.V.duration;\n\t\t\t\t\tvar len = thisTemp.V.buffered.length;\n\t\t\t\t\tvar bufferStart = thisTemp.V.buffered.start(len - 1);\n\t\t\t\t\tvar bufferEnd = thisTemp.V.buffered.end(len - 1);\n\t\t\t\t\tvar loadTime = bufferStart + bufferEnd;\n\t\t\t\t\tvar loadProgressBgW = thisTemp.CB['timeProgressBg'].offsetWidth;\n\t\t\t\t\tvar timeButtonW = thisTemp.CB['timeButton'].offsetWidth;\n\t\t\t\t\tvar loadW = parseInt((loadTime * loadProgressBgW / duration) + timeButtonW);\n\t\t\t\t\tif (loadW >= loadProgressBgW) {\n\t\t\t\t\t\tloadW = loadProgressBgW;\n\t\t\t\t\t\tclearTimerBuffer();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.changeLoad(loadTime);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerBuffer = new this.timer(200, bufferFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t单独计算加载进度\n\t\t*/\n\t\tchangeLoad: function(loadTime) {\n\t\t\tif (this.V == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar loadProgressBgW = this.CB['timeProgressBg'].offsetWidth;\n\t\t\tvar timeButtonW = this.CB['timeButton'].offsetWidth;\n\t\t\tvar duration = this.V.duration;\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tif (this.isUndefined(loadTime)) {\n\t\t\t\tloadTime = this.loadTime;\n\t\t\t} else {\n\t\t\t\tthis.loadTime = loadTime;\n\t\t\t}\n\t\t\tvar loadW = parseInt((loadTime * loadProgressBgW / duration) + timeButtonW);\n\t\t\tthis.css(this.CB['loadProgress'], 'width', loadW + 'px');\n\t\t\tthis.sendJS('loadTime',loadTime);\n\t\t\tthis.loadTimeTemp=loadTime;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否是直播\n\t\t*/\n\t\tjudgeIsLive: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.timerError != null) {\n\t\t\t\tif (this.timerError.runing) {\n\t\t\t\t\tthis.timerError.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerError = null;\n\t\t\t}\n\t\t\tthis.error = false;\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.css(this.CB['errorText'], 'display', 'none');\n\t\t\t}\n\t\t\tvar timeupdate = function(event) {\n\t\t\t\tthisTemp.timeUpdateHandler();\n\t\t\t};\n\t\t\tif (!this.vars['live']) {\n\t\t\t\tif (this.V != null && this.playerType == 'html5video') {\n\t\t\t\t\tthis.addListenerInside('timeupdate', timeupdate);\n\t\t\t\t\tthisTemp.timeTextHandler();\n\t\t\t\t\tthisTemp.prompt(); //添加提示点\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tthisTemp.bufferEdHandler();\n\t\t\t\t\t},\n\t\t\t\t\t200);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('timeupdate', timeupdate);\n\t\t\t\tif (this.timerTime != null) {\n\t\t\t\t\twindow.clearInterval(this.timerTime);\n\t\t\t\t\ttimerTime = null;\n\t\t\t\t}\n\t\t\t\tif (this.timerTime != null) {\n\t\t\t\t\tif (this.timerTime.runing) {\n\t\t\t\t\t\tthis.timerTime.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthis.timerTime = null;\n\t\t\t\t}\n\t\t\t\tvar timeFun = function() {\n\t\t\t\t\tif (thisTemp.V != null && !thisTemp.V.paused && thisTemp.conBarShow) {\n\t\t\t\t\t\tthisTemp.CB['timeText'].innerHTML = thisTemp.formatTime(0,0,thisTemp.ckLanguage['live']); //时间显示框默认显示内容\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.timerTime = new this.timer(1000, timeFun);\n\t\t\t\t//timerTime.start();\n\t\t\t}\n\t\t\tthis.definition();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载字幕\n\t\t*/\n\t\tloadTrack: function(def) {\n\t\t\tif (this.playerType == 'flashplayer' || this.vars['flashplayer'] == true) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(def)){\n\t\t\t\tdef=-1;\n\t\t\t}\n\t\t\tvar track = this.vars['cktrack'];\n\t\t\tvar loadTrackUrl='';\n\t\t\tvar type=this.varType(track);\n\t\t\tvar thisTemp = this;\n\t\t\tif(type=='array'){\n\t\t\t\tif(def==-1){\n\t\t\t\t\tvar index=0;\n\t\t\t\t\tvar indexN=0;\n\t\t\t\t\tfor(var i=0;i<track.length;i++){\n\t\t\t\t\t\tvar li=track[i];\n\t\t\t\t\t\tif(li.length==3 && li[2]>indexN){\n\t\t\t\t\t\t\tindexN=li[2];\n\t\t\t\t\t\t\tindex=i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tindex=def;\n\t\t\t\t}\n\t\t\t\tloadTrackUrl=track[index][0];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tloadTrackUrl=track;\n\t\t\t}\n\t\t\tvar obj = {\n\t\t\t\tmethod: 'get',\n\t\t\t\tdataType: 'text',\n\t\t\t\turl: loadTrackUrl,\n\t\t\t\tcharset: 'utf-8',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tif(data){\n\t\t\t\t\t\tthisTemp.track = thisTemp.parseSrtSubtitles(data);\n\t\t\t\t\t\tthisTemp.trackIndex = 0;\n\t\t\t\t\t\tthisTemp.nowTrackShow = {\n\t\t\t\t\t\t\tsn: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.ajax(obj);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重置字幕\n\t\t*/\n\t\tresetTrack: function() {\n\t\t\tthis.trackIndex = 0;\n\t\t\tthis.nowTrackShow = {\n\t\t\t\tsn: ''\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据时间改变读取显示字幕\n\t\t*/\n\t\ttrackShowHandler: function() {\n\t\t\tif (!this.conBarShow || this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.track.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.trackIndex >= this.track.length) {\n\t\t\t\tthis.trackIndex = 0;\n\t\t\t}\n\t\t\tvar nowTrack = this.track[this.trackIndex]; //当前编号对应的字幕内容\n\t\t\t/*\n\t\t\t\tthis.nowTrackShow=当前显示在界面上的内容\n\t\t\t\t如果当前时间正好在nowTrack时间内，则需要判断\n\t\t\t*/\n\t\t\tif (this.time >= nowTrack['startTime'] && this.time <= nowTrack['endTime']) {\n\t\t\t\t/*\n\t\t\t\t \t如果当前显示的内容不等于当前需要显示的内容时，则需要显示正确的内容\n\t\t\t\t*/\n\t\t\t\tvar nowShow = this.nowTrackShow;\n\t\t\t\tif (nowShow['sn'] != nowTrack['sn']) {\n\t\t\t\t\tthis.trackHide();\n\t\t\t\t\tthis.trackShow(nowTrack);\n\t\t\t\t\tthis.nowTrackTemp=nowTrack;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/*\n\t\t\t\t  如果当前播放时间不在当前编号字幕内，则需要先清空当前的字幕内容，再显示新的字幕内容\n\t\t\t\t*/\n\t\t\t\tthis.trackHide();\n\t\t\t\tthis.checkTrack();\n\t\t\t}\n\t\t},\n\t\ttrackShowAgain:function(){\n\t\t\tthis.trackHide();\n\t\t\tthis.trackShow(this.nowTrackTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示字幕内容\n\t\t*/\n\t\ttrackShow: function(track) {\n\t\t\tthis.nowTrackShow = track;\n\t\t\tvar arr = track['content'];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar obj = {\n\t\t\t\t\tlist: [{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\ttext: arr[i],\n\t\t\t\t\t\tcolor: this.ckStyle['cktrack']['color'],\n\t\t\t\t\t\tsize: this.ckStyle['cktrack']['size'],\n\t\t\t\t\t\tfontFamily: this.ckStyle['cktrack']['font'],\n\t\t\t\t\t\tlineHeight: this.ckStyle['cktrack']['leading']+'px'\n\t\t\t\t\t}],\n\t\t\t\t\tposition: [1, 2, null, -(arr.length - i) * this.ckStyle['cktrack']['leading'] - this.ckStyle['cktrack']['marginBottom']]\n\t\t\t\t};\n\t\t\t\tvar ele = this.addElement(obj);\n\t\t\t\tthis.trackElement.push(ele);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t隐藏字幕内容\n\t\t*/\n\t\ttrackHide: function() {\n\t\t\tfor (var i = 0; i < this.trackElement.length; i++) {\n\t\t\t\tthis.deleteElement(this.trackElement[i]);\n\t\t\t}\n\t\t\tthis.trackElement = [];\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重新计算字幕的编号\n\t\t*/\n\t\tcheckTrack: function() {\n\t\t\tvar num = this.trackIndex;\n\t\t\tvar arr = this.track;\n\t\t\tvar i = 0;\n\t\t\tfor (i = num; i < arr.length; i++) {\n\t\t\t\tif (this.time >= arr[i]['startTime'] && this.time <= arr[i]['endTime']) {\n\t\t\t\t\tthis.trackIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t-----------------------------------------------------------------------------接口函数开始\n\t\t\t接口函数\n\t\t\t在播放和暂停之间切换\n\t\t*/\n\t\tplayOrPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.playOrPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V.paused) {\n\t\t\t\tthis.videoPlay();\n\t\t\t} else {\n\t\t\t\tthis.videoPause();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t播放动作\n\t\t*/\n\t\tvideoPlay: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.eliminateAd(); //清除广告\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (this.V.currentSrc) {\n\t\t\t\t\tthis.V.play();\n\t\t\t\t}\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t暂停动作\n\t\t*/\n\t\tvideoPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.V.pause();\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t跳转时间动作\n\t\t*/\n\t\tvideoSeek: function(time) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoSeek(time);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar duration = this.V.duration>0.2?this.V.duration:this.getMetaDate()['duration'];\n\t\t\tif (duration > 0 && time > duration) {\n\t\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\t\ttime=0;\n\t\t\t\t\tthis.sendJS('ended');\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ttime = duration-0.1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (time >= 0) {\n\t\t\t\tthis.V.currentTime = time;\n\t\t\t\tthis.sendJS('seekTime', time);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t调节音量/获取音量\n\t\t*/\n\t\tchangeVolume: function(vol, bg, button) {\t\t\t\n\t\t\tif (this.loaded) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tthis.V.changeVolume(vol);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isNaN(vol) || this.isUndefined(vol)) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (!this.loaded) {\n\t\t\t\tthis.vars['volume'] = vol;\n\t\t\t}\n\t\t\tif (!this.html5Video) {\n\t\t\t\tthis.V.changeVolume(vol);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (this.isUndefined(bg)) {\n\t\t\t\t\tbg = true;\n\t\t\t\t}\n\t\t\t} catch(e) {}\n\t\t\ttry {\n\t\t\t\tif (this.isUndefined(button)) {\n\t\t\t\t\tbutton = true;\n\t\t\t\t}\n\t\t\t} catch(e) {}\n\t\t\tif (!vol) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (vol < 0) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (vol > 1) {\n\t\t\t\tvol = 1;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.V.volume = vol;\n\t\t\t} catch(error) {}\n\t\t\tthis.volume = vol;\n\t\t\tif (bg && this.conBarShow) {\n\t\t\t\tvar bgW = vol * this.CB['volumeBg'].offsetWidth;\n\t\t\t\tif (bgW < 0) {\n\t\t\t\t\tbgW = 0;\n\t\t\t\t}\n\t\t\t\tif (bgW > this.CB['volumeBg'].offsetWidth) {\n\t\t\t\t\tbgW = this.CB['volumeBg'].offsetWidth;\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['volumeUp'], 'width', bgW + 'px');\n\t\t\t}\n\n\t\t\tif (button && this.conBarShow) {\n\t\t\t\tvar buLeft = parseInt(this.CB['volumeUp'].offsetWidth - (this.CB['volumeBO'].offsetWidth * 0.5));\n\t\t\t\tif (buLeft > this.CB['volumeBg'].offsetWidth - this.CB['volumeBO'].offsetWidth) {\n\t\t\t\t\tbuLeft = this.CB['volumeBg'].offsetWidth - this.CB['volumeBO'].offsetWidth\n\t\t\t\t}\n\t\t\t\tif (buLeft < 0) {\n\t\t\t\t\tbuLeft = 0;\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['volumeBO'], 'left', buLeft + 'px');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t静音\n\t\t*/\n\t\tvideoMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoMute();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.volumeTemp = this.V ? (this.V.volume > 0 ? this.V.volume: this.vars['volume']) : this.vars['volume'];\n\t\t\tthis.changeVolume(0);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t取消静音\n\t\t*/\n\t\tvideoEscMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoEscMute();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.changeVolume(this.volumeTemp > 0 ? this.volumeTemp: this.vars['volume']);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t视频广告静音\n\t\t*/\n\t\tadMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.changeVolume(0);\n\t\t\tthis.adVideoMute = true;\n\t\t\tthis.css(this.CB['adEscMute'], 'display', 'block');\n\t\t\tthis.css(this.CB['adMute'], 'display', 'none');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t视频广告取消静音\n\t\t*/\n\t\tescAdMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar v = this.ckStyle['advertisement']['videoVolume'];\n\t\t\tthis.changeVolume(v);\n\t\t\tthis.adMuteInto();\n\t\t},\n\t\t/*\n\t\t \t初始化广告的音量按钮\n\t\t*/\n\t\tadMuteInto: function() {\n\t\t\tthis.adVideoMute = false;\n\t\t\tthis.css(this.CB['adEscMute'], 'display', 'none');\n\t\t\tthis.css(this.CB['adMute'], 'display', 'block');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t快退\n\t\t*/\n\t\tfastBack: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.fastBack();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = this.time - this.ckConfig['config']['timeJump'];\n\t\t\tif (time < 0) {\n\t\t\t\ttime = 0;\n\t\t\t}\n\t\t\tthis.videoSeek(time);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t快进\n\t\t*/\n\t\tfastNext: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.fastNext();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = this.time + this.ckConfig['config']['timeJump'];\n\t\t\tif (time > this.V.duration) {\n\t\t\t\ttime = this.V.duration;\n\t\t\t}\n\t\t\tthis.videoSeek(time);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t获取当前播放的地址\n\t\t*/\n\t\tgetCurrentSrc: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getCurrentSrc();\n\t\t\t}\n\t\t\treturn this.V.currentSrc;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t全屏/退出全屏动作，该动作只能是用户操作才可以触发，比如用户点击按钮触发该事件\n\t\t*/\n\t\tswitchFull: function() {\n\t\t\tif (this.full) {\n\t\t\t\tthis.quitFullScreen();\n\t\t\t} else {\n\t\t\t\tthis.fullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t全屏动作，该动作只能是用户操作才可以触发，比如用户点击按钮触发该事件\n\t\t*/\n\t\tfullScreen: function() {\n\t\t\tif (this.html5Video && this.playerType == 'html5video') {\n\t\t\t\tvar element = this.PD;\n\t\t\t\tif (element.requestFullscreen) {\n\t\t\t\t\telement.requestFullscreen();\n\t\t\t\t} else if (element.mozRequestFullScreen) {\n\t\t\t\t\telement.mozRequestFullScreen();\n\t\t\t\t} else if (element.webkitRequestFullscreen) {\n\t\t\t\t\telement.webkitRequestFullscreen();\n\t\t\t\t} else if (element.msRequestFullscreen) {\n\t\t\t\t\telement.msRequestFullscreen();\n\t\t\t\t} else if (element.oRequestFullscreen) {\n\t\t\t\t\telement.oRequestFullscreen();\n\t\t\t\t}\n\t\t\t\tthis.judgeFullScreen();\n\t\t\t} else {\n\t\t\t\t//this.V.fullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t退出全屏动作\n\t\t*/\n\t\tquitFullScreen: function() {\n\t\t\tif (this.html5Video && this.playerType == 'html5video') {\n\t\t\t\tif (document.exitFullscreen) {\n\t\t\t\t\tdocument.exitFullscreen();\n\t\t\t\t} else if (document.msExitFullscreen) {\n\t\t\t\t\tdocument.msExitFullscreen();\n\t\t\t\t} else if (document.mozCancelFullScreen) {\n\t\t\t\t\tdocument.mozCancelFullScreen();\n\t\t\t\t} else if (document.oRequestFullscreen) {\n\t\t\t\t\tdocument.oCancelFullScreen();\n\t\t\t\t} else if (document.requestFullscreen) {\n\t\t\t\t\tdocument.requestFullscreen();\n\t\t\t\t} else if (document.webkitExitFullscreen) {\n\t\t\t\t\tdocument.webkitExitFullscreen();\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(document.documentElement, 'cssText', '');\n\t\t\t\t\tthis.css(document.document.body, 'cssText', '');\n\t\t\t\t\tthis.css(this.PD, 'cssText', '');\n\t\t\t\t}\n\t\t\t\tthis.judgeFullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t 下面列出只有flashplayer里支持的 \n\t\t */\n\t\tvideoRotation: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoRotation(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(n)) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tvar tf = this.css(this.V, 'transform');\n\t\t\tif (this.isUndefined(tf) && !tf) {\n\t\t\t\ttf = 'rotate(0deg)';\n\t\t\t}\n\t\t\tvar reg = tf.match(/rotate\\([^)]+\\)/);\n\t\t\treg = reg ? reg[0].replace('rotate(', '').replace('deg)', '') : '';\n\t\t\tif (reg == '') {\n\t\t\t\treg = 0;\n\t\t\t} else {\n\t\t\t\treg = parseInt(reg);\n\t\t\t}\n\t\t\tif (n == -1) {\n\t\t\t\treg -= 90;\n\t\t\t} else if (n == 1) {\n\t\t\t\treg += 90;\n\t\t\t} else {\n\t\t\t\tif (n != 90 && n != 180 && n != 270 && n != -90 && n != -180 && n != -270) {\n\t\t\t\t\treg = 0;\n\t\t\t\t} else {\n\t\t\t\t\treg = n;\n\t\t\t\t}\n\t\t\t}\n\t\t\tn = reg;\n\t\t\tvar y90 = n % 90,\n\t\t\ty180 = n % 180,\n\t\t\ty270 = n % 270;\n\t\t\tvar ys = false;\n\t\t\tif (y90 == 0 && y180 == 90 && y270 == 90) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == 0 && y180 == 90 && y270 == 0) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == -0 && y180 == -90 && y270 == -90) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == -0 && y180 == -90 && y270 == -0) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\ttf = tf.replace(/rotate\\([^)]+\\)/, '').replace(/scale\\([^)]+\\)/, '') + ' rotate(' + n + 'deg)';\n\t\t\tvar cdW = this.CD.offsetWidth,\n\t\t\tcdH = this.CD.offsetHeight,\n\t\t\tvW = this.V.videoWidth,\n\t\t\tvH = this.V.videoHeight;\n\t\t\tif (vW > 0 && vH > 0) {\n\t\t\t\tif (ys) {\n\t\t\t\t\tif (cdW / cdH > vH / vW) {\n\t\t\t\t\t\tnH = cdH;\n\t\t\t\t\t\tnW = vH * nH / vW;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnW = cdW;\n\t\t\t\t\t\tnH = vW * nW / vH;\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(this.V, 'transform', 'rotate(0deg)');\n\t\t\t\t\tthis.css(this.V, 'transform', 'scale(' + nH / cdW + ',' + nW / cdH + ')' + tf);\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\t}\n\t\t\treturn;\n\t\t},\n\t\tvideoBrightness: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoBrightness(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoContrast: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoContrast(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoSaturation: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoSaturation(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoHue: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoHue(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoZoom: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoZoom(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(n)) {\n\t\t\t\tn = 1;\n\t\t\t}\n\t\t\tif (n < 0) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tif (n > 2) {\n\t\t\t\tn = 2;\n\t\t\t}\n\t\t\tvar tf = this.css(this.V, 'transform');\n\t\t\ttf = tf.replace(/scale\\([^)]+\\)/, '') + ' scale(' + n + ')';\n\t\t\tthis.videoScale = n;\n\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\treturn;\n\t\t},\n\t\tvideoProportion: function(w, h) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoProportion(w, h);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tadPlay: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.adPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adIsPause = false;\n\t\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\t\tvar type = ad['type'];\n\t\t\t\tif (this.isStrImage(type)) {\n\t\t\t\t\tthis.adCountDown();\n\t\t\t\t} else {\n\t\t\t\t\tthis.V.play();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tadPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.adPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adIsPause = true;\n\t\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\t\tvar type = ad['type'];\n\t\t\t\tif (type != 'jpg' && type != 'jpeg' && type != 'png' && type != 'svg' && type != 'gif') {\n\t\t\t\t\tthis.videoPause();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tvideoError: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoError(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tchangeConfig: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\tswitch(args.length){\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tthis.V.changeConfig(args[0]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 7:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar obj = this.ckConfig;\n\t\t\tvar arg = arguments;\n\t\t\tfor (var i = 0; i < arg.length - 1; i++) {\n\t\t\t\tif (obj.hasOwnProperty(arg[i])) {\n\t\t\t\t\tobj = obj[arg[i]];\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar val = arg[arg.length - 1];\n\t\t\tswitch (arg.length) {\n\t\t\t\tcase 2:\n\t\t\t\t\tthis.ckConfig[arg[0]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 7:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 9:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]][arg[7]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 10:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]][arg[7]][arg[8]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.sendJS('configChange', this.ckConfig);\n\t\t},\n\t\tcustom: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.custom(arguments);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(arguments)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar type='',name='',display='';\n\t\t\tif(arguments.length==4){//控制栏\n\t\t\t\ttype='controlBar-'+arguments[1];\n\t\t\t\tname=arguments[2];\n\t\t\t\tdisplay=arguments[3]?'block':'none';\n\t\t\t}\n\t\t\telse if(arguments.length==3){//播放器\n\t\t\t\ttype='player-'+arguments[0];\n\t\t\t\tname=arguments[1];\n\t\t\t\tdisplay=arguments[2]?'block':'none';\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor(var k in this.customeElement){\n\t\t\t\tvar obj=this.customeElement[k];\n\t\t\t\tif(obj['type']==type && obj['name']==name){\n\t\t\t\t\tthis.css(obj['ele'],'display',display);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetConfig: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getConfig(arguments);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar temp=this.ckConfig;\n\t\t\t\tfor(var index in arguments) {  \n\t\t\t        try{\n\t\t\t        \ttemp=temp[arguments[index]];\n\t\t\t        }\n\t\t\t        catch(error){\n\t\t\t        \ttemp=null;\n\t\t\t        }\n\t\t\t    }; \n\t\t\t\treturn temp;\n\t\t\t}\n\t\t},\n\t\topenUrl: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.openUrl(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t清除视频\n\t\t*/\n\t\tvideoClear: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoClear();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.V.innerHTML='';\n\t\t\tthis.V.src='';\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t向播放器传递新的视频地址\n\t\t*/\n\t\tnewVideo: function(c) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.newVideo(c);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.embed(c);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t截图\n\t\t*/\n\t\tscreenshot: function(obj, save, name) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.screenshot(obj, save, name);\n\t\t\t\t} catch(error) {\n\t\t\t\t\tthis.log(error);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (obj == 'video') {\n\t\t\t\tvar newCanvas = document.createElement('canvas');\n\t\t\t\tnewCanvas.width = this.V.videoWidth;\n\t\t\t\tnewCanvas.height = this.V.videoHeight;\n\t\t\t\tnewCanvas.getContext('2d').drawImage(this.V, 0, 0, this.V.videoWidth, this.V.videoHeight);\n\t\t\t\ttry {\n\t\t\t\t\tvar base64 = newCanvas.toDataURL('image/jpeg');\n\t\t\t\t\tthis.sendJS('screenshot', {\n\t\t\t\t\t\tobject: obj,\n\t\t\t\t\t\tsave: save,\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tbase64: base64\n\t\t\t\t\t});\n\t\t\t\t} catch(error) {\n\t\t\t\t\tthis.log(error);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t改变播放器尺寸\n\t\t*/\n\t\tchangeSize: function(w, h) {\n\t\t\tif (this.isUndefined(w)) {\n\t\t\t\tw = 0;\n\t\t\t}\n\t\t\tif (this.isUndefined(h)) {\n\t\t\t\th = 0;\n\t\t\t}\n\t\t\tif (w > 0) {\n\t\t\t\tthis.css(this.CD, 'width', w + 'px');\n\t\t\t}\n\t\t\tif (h > 0) {\n\t\t\t\tthis.css(this.CD, 'height', h + 'px');\n\t\t\t}\n\t\t\tif (this.html5Video) {\n\t\t\t\tthis.playerResize();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t重置播放器界面\n\t\t*/\n\t\tplayerResize:function(){\n\t\t\tthis.controlBar();//控制栏按钮\n\t\t\tthis.elementCoordinate();\n\t\t\tthis.carbarButton();\n\t\t\tthis.customCoor();//自定义元件的位置重置\n\t\t\tthis.timeProgressDefault();//进度条默认样式\n\t\t\tthis.videoCss();//计算video的宽高和位置\n\t\t\tthis.timeUpdateHandler();//修改进度条样式\n\t\t\tthis.changeElementCoor(); //修改新加元件的坐标\n\t\t\tthis.changePrompt();//重置提示点\n\t\t\tthis.advertisementStyle();//广告控制样式\n\t\t\tthis.adPauseCoor();\n\t\t\tthis.adOtherCoor();\n\t\t\tthis.changeLoad();\n\t\t\tthis.sendJS('resize');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t改变视频播放速度\n\t\t*/\n\t\tchangePlaybackRate: function(n) {\n\t\t\tif (this.html5Video) {\n\t\t\t\tvar arr = this.playbackRateArr;\n\t\t\t\tn = parseInt(n);\n\t\t\t\tif (n < arr.length) {\n\t\t\t\t\tthis.newPlaybackrate(arr[n][1]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册控制控制栏显示与隐藏函数\n\t\t*/\n\t\tchangeControlBarShow: function(show) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeControlBarShow(show);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (show) {\n\t\t\t\tthis.controlBarIsShow = true;\n\t\t\t\tthis.controlBarHide(false);\n\t\t\t} else {\n\t\t\t\tthis.controlBarIsShow = false;\n\t\t\t\tthis.controlBarHide(true);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t-----------------------------------------------------------------------\n\t\t\t调用flashplayer\n\t\t*/\n\t\tembedSWF: function() {\n\t\t\tvar vid = 'ckplayer-'+this.randomString();\n\t\t\tvar flashvars = this.getFlashVars();\n\t\t\tvar param = this.getFlashplayerParam();\n\t\t\tvar flashplayerUrl = 'http://www.macromedia.com/go/getflashplayer';\n\t\t\tvar html = '',\n\t\t\tsrc = this.ckplayerPath + 'ckplayer.swf';\n\t\t\tid = 'id=\"' + vid + '\" name=\"' + vid + '\" ';\n\t\t\thtml += '<object pluginspage=\"' + flashplayerUrl + '\" classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=11,3,0,0\" width=\"100%\" height=\"100%\" ' + id + ' align=\"middle\" wmode=\"transparent\">';\n\t\t\thtml += param['v'];\n\t\t\thtml += '<param name=\"movie\" value=\"' + src + '\">';\n\t\t\thtml += '<param name=\"flashvars\" value=\"' + flashvars + '\">';\n\t\t\thtml += '<param name=\"wmode\" value=\"transparent\">';\n\t\t\thtml += '<embed wmode=\"transparent\" ' + param['w'] + ' src=\"' + src + '\" flashvars=\"' + flashvars + '\" width=\"100%\" height=\"100%\" ' + id + ' align=\"middle\" type=\"application/x-shockwave-flash\" pluginspage=\"' + flashplayerUrl + '\" />';\n\t\t\thtml += '</object>';\n\t\t\tthis.PD.innerHTML = html;\n\t\t\tthis.V = this.getObjectById(vid); //V：定义播放器对象全局变量\n\t\t\tthis.playerType = 'flashplayer';\n\t\t},\n\t\t/*\n\t\t\t判断浏览器是否支持flashplayer \n\t\t*/\n\t\tcheckShockwaveFlash:function(){\n\t\t\tif(window.ActiveXObject) {\n\t\t\t\ttry {\n\t\t\t\t\tvar s = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n\t\t\t\t\tif(s) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {}\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tvar s = navigator.plugins['Shockwave Flash'];\n\t\t\t\t\tif(s) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将vars对象转换成字符\n\t\t*/\n\t\tgetFlashVars: function() {\n\t\t\tthis.getVarsObject();\n\t\t\tvar v = this.vars;\n\t\t\tvar z = '';\n\t\t\tfor (k in v) {\n\t\t\t\tif (k != 'flashplayer' && k != 'container' && v[k] != '') {\n\t\t\t\t\tif (z != '') {\n\t\t\t\t\t\tz += '&';\n\t\t\t\t\t}\n\t\t\t\t\tvar vk = v[k];\n\t\t\t\t\tif (vk == true) {\n\t\t\t\t\t\tvk = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (vk == false) {\n\t\t\t\t\t\tvk = 0;\n\t\t\t\t\t}\n\t\t\t\t\tz += k + '=' + vk;\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (!v.hasOwnProperty('volume') || !v['volume']) {\n\t\t\t\tif (z != '') {\n\t\t\t\t\tz += '&';\n\t\t\t\t}\n\t\t\t\tz += 'volume=0';\n\t\t\t}\n\t\t\treturn z;\n\t\t},\n\t\t/*判断字符串是否是图片*/\n\t\tisStrImage: function(s) {\n\t\t\tif (s == 'jpg' || s == 'jpeg' || s == 'png' || s == 'svg' || s == 'gif') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将vars格式化成flash能接受的对象。再由getFlashVars函数转化成字符串或由newVideo直接使用\n\t\t*/\n\t\tgetVarsObject: function() {\n\t\t\tvar v = this.vars;\n\t\t\tvar f = '',\n\t\t\td = '',\n\t\t\tw = ''; //f=视频地址，d=清晰度地址,w=权重，z=最终地址\n\t\t\tvar arr = this.VA;\n\t\t\tvar prompt = v['promptSpot'];\n\t\t\tvar i = 0;\n\t\t\tvar video = this.vars['video'];\n\t\t\tif (this.varType(video) == 'array') { //对象或数组\n\t\t\t\tvar arr = video;\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tvar arr2 = arr[i];\n\t\t\t\t\tif (arr2) {\n\t\t\t\t\t\tif (f != '') {\n\t\t\t\t\t\t\tf += this.ckConfig['config']['split'];\n\t\t\t\t\t\t\td += ',';\n\t\t\t\t\t\t\tw += ',';\n\t\t\t\t\t\t\tv['type'] += this.ckConfig['config']['split'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tf += encodeURIComponent(decodeURIComponent(arr2[0]));\n\t\t\t\t\t\td += arr2[2];\n\t\t\t\t\t\tw += arr2[3];\n\t\t\t\t\t\tv['type'] += arr2[1].replace('video/', '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (this.varType(video) == 'object') { //对象或数组\n\t\t\t\tf = encodeURIComponent(decodeURIComponent(video['file']));\n\t\t\t\tif (!this.isUndefined(video['type'])) {\n\t\t\t\t\tv['type'] = video['type'];\n\t\t\t\t}\n\t\t\t\td = '';\n\t\t\t\tw = '';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tf = encodeURIComponent(decodeURIComponent(video));\n\t\t\t}\n\t\t\tif (v['preview'] != null) {\n\t\t\t\tv['previewscale'] = v['preview']['scale'];\n\t\t\t\tv['preview'] = v['preview']['file'].join(',');\n\n\t\t\t}\n\t\t\tif (prompt != null) {\n\t\t\t\tv['promptspot'] = '';\n\t\t\t\tv['promptspottime'] = '';\n\t\t\t\tfor (i = 0; i < prompt.length; i++) {\n\t\t\t\t\tif (v['promptspot'] != '') {\n\t\t\t\t\t\tv['promptspot'] += ',';\n\t\t\t\t\t\tv['promptspottime'] += ',';\n\t\t\t\t\t}\n\t\t\t\t\tv['promptspot'] += prompt[i]['words'];\n\t\t\t\t\tv['promptspottime'] += prompt[i]['time'];\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (f != '') {\n\t\t\t\tv['video'] = f;\n\t\t\t\tv['definition'] = d;\n\t\t\t\tv['weight'] = w;\n\t\t\t}\n\t\t\tif (!v['volume']) {\n\t\t\t\tv['volume'] = 0;\n\t\t\t}\n\t\t\tvar newV = {};\n\n\t\t\tfor (var k in v) {\n\t\t\t\tif (v[k] != null) {\n\t\t\t\t\tnewV[k] = v[k];\n\t\t\t\t}\n\t\t\t\tif (k == 'type') {\n\t\t\t\t\tnewV[k] = v[k].replace('video/m3u8', 'm3u8');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.vars = newV;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将embedSWF里的param的对象进行转换\n\t\t*/\n\t\tgetFlashplayerParam: function() {\n\t\t\tvar w = '',\n\t\t\tv = '',\n\t\t\to = {\n\t\t\t\tallowScriptAccess: 'always',\n\t\t\t\tallowFullScreen: true,\n\t\t\t\tquality: 'high',\n\t\t\t\tbgcolor: '#000'\n\t\t\t};\n\t\t\tfor (var e in o) {\n\t\t\t\tw += e + '=\"' + o[e] + '\" ';\n\t\t\t\tv += '<param name=\"' + e + '\" value=\"' + o[e] + '\" />';\n\t\t\t}\n\t\t\tw = w.replace('movie=', 'src=');\n\t\t\treturn {\n\t\t\t\tw: w,\n\t\t\t\tv: v\n\t\t\t};\n\t\t},\n\n\t\t/*\n\t\t\t操作动作结束\n\t\t\t-----------------------------------------------------------------------\n\t\t\t\n\t\t\t接口函数\n\t\t\t获取元数据部分\n\t\t*/\n\t\tgetMetaDate: function() {\n\t\t\tif (!this.loaded || this.V == null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\tvar duration = 0;\n\t\t\t\ttry {\n\t\t\t\t\tduration = !isNaN(this.V.duration) ? this.V.duration: 0;\n\t\t\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\t\t\tif(this.vars['duration']>0){\n\t\t\t\t\t\t\tduration=this.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t\tvar data = {\n\t\t\t\t\tduration: duration,\n\t\t\t\t\tvolume: this.V.volume,\n\t\t\t\t\tplaybackRate: this.V.playbackRate,\n\t\t\t\t\twidth: this.PD.offsetWidth || this.V.offsetWidth || this.V.width,\n\t\t\t\t\theight: this.PD.offsetHeight || this.V.offsetHeight || this.V.height,\n\t\t\t\t\tstreamWidth: this.V.videoWidth,\n\t\t\t\t\tstreamHeight: this.V.videoHeight,\n\t\t\t\t\tvideoWidth: this.V.offsetWidth,\n\t\t\t\t\tvideoHeight: this.V.offsetHeight,\n\t\t\t\t\tpaused: this.V.paused,\n\t\t\t\t\tloadTime:this.loadTimeTemp\n\t\t\t\t};\n\t\t\t\treturn data;\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\treturn this.V.getMetaDate();\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t取当前提供给播放器播放的视频列表\n\t\t*/\n\t\tgetVideoUrl: function() {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getVideoUrl();\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (this.V.src) {\n\t\t\t\tarr.push(this.V.src);\n\t\t\t} else {\n\t\t\t\tvar uArr = this.V.childNodes;\n\t\t\t\tfor (var i = 0; i < uArr.length; i++) {\n\t\t\t\t\tarr.push(uArr[i].src);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t格式化函数\n\t\t*/\n\t\tclickEvent: function(call) {\n\t\t\tif (call == 'none' || call == '' || call == null) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'none'\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar callArr = call.split('->');\n\t\t\tvar type = '',\n\t\t\tfun = '',\n\t\t\tlink = '',\n\t\t\ttarget = '';\n\t\t\tif (callArr.length == 2) {\n\t\t\t\tvar callM = callArr[0];\n\t\t\t\tvar callE = callArr[1];\n\t\t\t\tif (!callE) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'none'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tvar val = '';\n\t\t\t\tvar eArr = [];\n\t\t\t\ttype = callM;\n\t\t\t\tswitch (callM) {\n\t\t\t\tcase 'actionScript':\n\t\t\t\t\t//trace(THIS.hasOwnProperty(callE));\n\t\t\t\t\tif (callE.indexOf('(') > -1) {\n\t\t\t\t\t\teArr = callE.split('(');\n\t\t\t\t\t\tcallE = eArr[0];\n\t\t\t\t\t\tval = eArr[1].replace(')', '');\n\t\t\t\t\t}\n\t\t\t\t\tif (val == '') {\n\t\t\t\t\t\tfun = 'thisTemp.' + callE + '()';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfun = 'thisTemp.' + callE + '(' + val + ')';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javaScript':\n\t\t\t\t\tif (callE.substr(0, 11) == '[flashvars]') {\n\t\t\t\t\t\tcallE = callE.substr(11);\n\t\t\t\t\t\tif (this.vars.hasOwnProperty(callE)) {\n\t\t\t\t\t\t\tcallE = this.vars[callE];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (callE.indexOf('(') > -1) {\n\t\t\t\t\t\teArr = callE.split('(');\n\t\t\t\t\t\tcallE = eArr[0];\n\t\t\t\t\t\tval = eArr[1].replace(')', '');\n\t\t\t\t\t}\n\t\t\t\t\tif (val == '') {\n\t\t\t\t\t\tfun = callE + '()';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfun = callE + '(' + val + ')';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"link\":\n\t\t\t\t\tvar callLink = (callE + ',').split(',');\n\t\t\t\t\tif (callLink[0].substr(0, 11) == '[flashvars]') {\n\t\t\t\t\t\tvar fl = callLink[0].replace('[flashvars]', '');\n\t\t\t\t\t\tif (this.vars.hasOwnProperty(fl)) {\n\t\t\t\t\t\t\tcallLink[0] = this.vars[fl];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!callLink[1]) {\n\t\t\t\t\t\tcallLink[1] = '_blank';\n\t\t\t\t\t}\n\t\t\t\t\tlink = callLink[0];\n\t\t\t\t\ttarget = callLink[1];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttype: type,\n\t\t\t\tfun: fun,\n\t\t\t\tlink: link,\n\t\t\t\ttarget: target\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据指定的align,valign,offsetX,offsetY计算坐标\n\t\t*/\n\t\tgetPosition: function(obj,rEle) {\n\t\t\t/*\n\t\t\t{\n\t            \"align\": \"right\",\n\t            \"vAlign\": \"right\",\n\t            \"offsetX\": -60,\n\t            \"offsetY\": -60\n\t        } \n\t\t\t*/\n\t\t\tvar pw = this.PD.offsetWidth,\n\t\t\tph = this.PD.offsetHeight;\n\t\t\tvar x = 0,\n\t\t\ty = 0;\n\t\t\tvar left=0,top=0,rw=0,rh=0;\n\t\t\tif(!this.isUndefined(rEle)){\n\t\t\t\tleft=parseInt(this.css(rEle,'left')),top=parseInt(this.css(rEle,'top')),rw=rEle.offsetWidth,rh=rEle.offsetHeight;\n\t\t\t}\n\t\t\tswitch (obj['align']) {\n\t\t\t\tcase 'left':\n\t\t\t\t\tx = obj['offsetX']+left;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'center':\n\t\t\t\t\tx = pw * 0.5 + obj['offsetX'];\n\t\t\t\t\tif(left){\n\t\t\t\t\t\tx-=(pw*0.5-rw*0.5-left);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tx = pw + obj['offsetX'];\n\t\t\t\t\tif(left){\n\t\t\t\t\t\tx-=(pw-left-rw);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tswitch (obj['vAlign']) {\n\t\t\t\tcase 'top':\n\t\t\t\t\ty = obj['offsetY']+top;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'middle':\n\t\t\t\t\ty = ph * 0.5 + obj['offsetY']-top-(rh*0.5);\n\t\t\t\t\tif(top){\n\t\t\t\t\t\tx-=(ph*0.5-rh*0.5-top);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'bottom':\n\t\t\t\t\ty = ph + obj['offsetY'];\n\t\t\t\t\tif(top){\n\t\t\t\t\t\ty-=(ph-top-rh);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t向播放器界面添加一个文本\n\t\t*/\n\t\taddElement: function(attribute) {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.addElement(attribute);\n\t\t\t}\n\t\t\tvar i = 0;\n\t\t\tvar obj = {\n\t\t\t\tlist: null,\n\t\t\t\tx: '100%',\n\t\t\t\ty: \"50%\",\n\t\t\t\tposition: null,\n\t\t\t\talpha: 1,\n\t\t\t\tbackgroundColor: '',\n\t\t\t\tbackAlpha: 1,\n\t\t\t\tbackRadius: 0,\n\t\t\t\tclickEvent: ''\n\t\t\t};\n\t\t\tobj = this.standardization(obj, attribute);\n\t\t\tvar list = obj['list'];\n\t\t\tif (list == null) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tvar id = 'element-' + this.randomString(10);\n\t\t\tvar ele = document.createElement('div');\n\t\t\tele.className = id;\n\t\t\tif (obj['x']) {\n\t\t\t\tele.setAttribute('data-x', obj['x']);\n\t\t\t}\n\t\t\tif (obj['y']) {\n\t\t\t\tele.setAttribute('data-y', obj['y']);\n\t\t\t}\n\t\t\tif (obj['position'] != null) {\n\t\t\t\tele.setAttribute('data-position', obj['position'].join(','));\n\t\t\t}\n\n\t\t\tthis.PD.appendChild(ele);\n\t\t\tthis.css(ele, {\n\t\t\t\tposition: 'absolute',\n\t\t\t\tfilter: 'alpha(opacity:' + obj['alpha'] + ')',\n\t\t\t\topacity: obj['alpha'].toString(),\n\t\t\t\twidth: '800px',\n\t\t\t\tzIndex: '20'\n\t\t\t});\n\t\t\tvar bgid = 'elementbg' + this.randomString(10);\n\t\t\tvar bgAlpha = obj['alpha'].toString();\n\t\t\tvar bgColor = obj['backgroundColor'].replace('0x', '#');\n\t\t\tvar html = '';\n\t\t\tvar idArr = [];\n\t\t\tvar clickArr = [];\n\t\t\tif (!this.isUndefined(list) && list.length > 0) {\n\t\t\t\tvar textObj, returnObj, clickEvent;\n\t\t\t\tfor (i = 0; i < list.length; i++) {\n\t\t\t\t\tvar newEleid = 'elementnew' + this.randomString(10);\n\t\t\t\t\tswitch (list[i]['type']) {\n\t\t\t\t\tcase 'image':\n\t\t\t\t\tcase 'png':\n\t\t\t\t\tcase 'jpg':\n\t\t\t\t\tcase 'jpeg':\n\t\t\t\t\tcase 'gif':\n\t\t\t\t\t\ttextObj = {\n\t\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\t\tfile: '',\n\t\t\t\t\t\t\tradius: 0,//圆角弧度\n\t\t\t\t\t\t\twidth: 30,//定义宽，必需要定义\n\t\t\t\t\t\t\theight: 30,//定义高，必需要定义\n\t\t\t\t\t\t\talpha: 1,//透明度\n\t\t\t\t\t\t\tpaddingLeft: 0,//左边距离\n\t\t\t\t\t\t\tpaddingRight: 0,//右边距离\n\t\t\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\t\t\tmarginLeft: 0,\n\t\t\t\t\t\t\tmarginRight: 0,\n\t\t\t\t\t\t\tmarginTop: 0,\n\t\t\t\t\t\t\tmarginBottom: 0,\n\t\t\t\t\t\t\tbackgroundColor: '',\n\t\t\t\t\t\t\tclickEvent: ''\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tlist[i] = this.standardization(textObj, list[i]);\n\t\t\t\t\t\tclickEvent = this.clickEvent(list[i]['clickEvent']);\n\t\t\t\t\t\tclickArr.push(clickEvent);\n\t\t\t\t\t\tif (clickEvent['type'] == 'link') {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><a href=\"' + clickEvent['link'] + '\" target=\"' + clickEvent['target'] + '\"><img class=\"' + newEleid + '_image\" src=\"' + list[i]['file'] + '\" style=\"border:0;\"></a></div>';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><img class=\"' + newEleid + '_image\" src=\"' + list[i]['file'] + '\" style=\"border:0;\"></div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'text':\n\t\t\t\t\t\ttextObj = {\n\t\t\t\t\t\t\ttype: 'text',//说明是文本\n\t\t\t\t\t\t\ttext: '',//文本内容\n\t\t\t\t\t\t\tcolor: '0xFFFFFF',\n\t\t\t\t\t\t\tsize: 14,\n\t\t\t\t\t\t\tfontFamily: this.fontFamily,\n\t\t\t\t\t\t\tleading: 0,\n\t\t\t\t\t\t\talpha: 1,//透明度\n\t\t\t\t\t\t\tpaddingLeft: 0,//左边距离\n\t\t\t\t\t\t\tpaddingRight: 0,//右边距离\n\t\t\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\t\t\tmarginLeft: 0,\n\t\t\t\t\t\t\tmarginRight: 0,\n\t\t\t\t\t\t\tmarginTop: 0,\n\t\t\t\t\t\t\tmarginBottom: 0,\n\t\t\t\t\t\t\tbackgroundColor: '',\n\t\t\t\t\t\t\tbackAlpha: 1,\n\t\t\t\t\t\t\tbackRadius: 0,//背景圆角弧度，支持数字统一设置，也支持分开设置[30,20,20,50]，对应上左，上右，下右，下左\n\t\t\t\t\t\t\tclickEvent: ''\n\t\t\t\t\t\t};\n\t\t\t\t\t\tlist[i] = this.standardization(textObj, list[i]);\n\t\t\t\t\t\tclickEvent = this.clickEvent(list[i]['clickEvent']);\n\t\t\t\t\t\tclickArr.push(clickEvent);\n\t\t\t\t\t\tif (clickEvent['type'] == 'link') {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><div class=\"' + newEleid + '_bg\"></div><div class=\"' + newEleid + '_text\"><a href=\"' + clickEvent['link'] + '\" target=\"' + clickEvent['target'] + '\">' + list[i]['text'] + '</a></div></div>';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thtml += '<div  class=\"' + newEleid + '\" data-i=\"' + i + '\"><div class=\"' + newEleid + '_bg\"></div><div class=\"' + newEleid + '_text\">' + list[i]['text'] + '</div></div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tidArr.push(newEleid);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar objClickEvent = this.clickEvent(obj['clickEvent']);\n\t\t\tele.innerHTML = '<div class=\"' + bgid + '\"></div><div class=\"' + bgid + '_c\">' + html + '</div>';\n\t\t\tif (objClickEvent['type'] == 'javaScript' || objClickEvent['type'] == 'actionScript') {\n\t\t\t\tvar objClickHandler = function() {\n\t\t\t\t\teval(objClickEvent['fun']);\n\t\t\t\t\tthisTemp.sendJS('clickEvent', clk['type'] + '->' + clk['fun'].replace('thisTemp.', '').replace('()', ''));\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', objClickHandler, this.getByElement(bgid + '_c'))\n\t\t\t}\n\t\t\tthis.css(bgid + '_c', {\n\t\t\t\tposition: 'absolute',\n\t\t\t\tzIndex: '2'\n\t\t\t});\n\t\t\tfor (i = 0; i < idArr.length; i++) {\n\t\t\t\tvar clk = clickArr[i];\n\t\t\t\tif (clk['type'] == 'javaScript' || clk['type'] == 'actionScript') {\n\t\t\t\t\tvar clickHandler = function() {\n\t\t\t\t\t\t//clk = clickArr[this.getAttribute('data-i')];\n\t\t\t\t\t\tclk = clickArr[thisTemp.getDataset(this,'i')];\n\t\t\t\t\t\teval(clk['fun']);\n\t\t\t\t\t\tthisTemp.sendJS('clickEvent', clk['type'] + '->' + clk['fun'].replace('thisTemp.', '').replace('()', ''));\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', clickHandler, this.getByElement(idArr[i]))\n\t\t\t\t}\n\t\t\t\tswitch (list[i]['type']) {\n\t\t\t\tcase 'image':\n\t\t\t\tcase 'png':\n\t\t\t\tcase 'jpg':\n\t\t\t\tcase 'jpeg':\n\t\t\t\tcase 'gif':\n\t\t\t\t\tthis.css(idArr[i], {\n\t\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t\twidth: list[i]['width'] + 'px',\n\t\t\t\t\t\theight: list[i]['height'] + 'px',\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['alpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['alpha'].toString(),\n\t\t\t\t\t\tmarginLeft: list[i]['marginLeft'] + 'px',\n\t\t\t\t\t\tmarginRight: list[i]['marginRight'] + 'px',\n\t\t\t\t\t\tmarginTop: list[i]['marginTop'] + 'px',\n\t\t\t\t\t\tmarginBottom: list[i]['marginBottom'] + 'px',\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px',\n\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i] + '_image', {\n\t\t\t\t\t\twidth: list[i]['width'] + 'px',\n\t\t\t\t\t\theight: list[i]['height'] + 'px',\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'text':\n\t\t\t\t\tthis.css(idArr[i] + '_text', {\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['alpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['alpha'].toString(),\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px',\n\t\t\t\t\t\tfontFamily: list[i]['font'],\n\t\t\t\t\t\tfontSize: list[i]['size'] + 'px',\n\t\t\t\t\t\tcolor: list[i]['color'].replace('0x', '#'),\n\t\t\t\t\t\tlineHeight: list[i]['leading'] > 0 ? list[i]['leading'] + 'px': '',\n\t\t\t\t\t\tpaddingLeft: list[i]['paddingLeft'] + 'px',\n\t\t\t\t\t\tpaddingRight: list[i]['paddingRight'] + 'px',\n\t\t\t\t\t\tpaddingTop: list[i]['paddingTop'] + 'px',\n\t\t\t\t\t\tpaddingBottom: list[i]['paddingBottom'] + 'px',\n\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tzIndex: '3',\n\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i], {\n\t\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t\twidth: this.getByElement(idArr[i] + '_text').offsetWidth + 'px',\n\t\t\t\t\t\theight: this.getByElement(idArr[i] + '_text').offsetHeight + 'px',\n\t\t\t\t\t\tmarginLeft: list[i]['marginLeft'] + 'px',\n\t\t\t\t\t\tmarginRight: list[i]['marginRight'] + 'px',\n\t\t\t\t\t\tmarginTop: list[i]['marginTop'] + 'px',\n\t\t\t\t\t\tmarginBottom: list[i]['marginBottom'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i] + '_bg', {\n\t\t\t\t\t\twidth: this.getByElement(idArr[i] + '_text').offsetWidth + 'px',\n\t\t\t\t\t\theight: this.getByElement(idArr[i] + '_text').offsetHeight + 'px',\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['backAlpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['backAlpha'].toString(),\n\t\t\t\t\t\tborderRadius: list[i]['backRadius'] + 'px',\n\t\t\t\t\t\tbackgroundColor: list[i]['backgroundColor'].replace('0x', '#'),\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tzIndex: '2'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.css(bgid, {\n\t\t\t\twidth: this.getByElement(bgid + '_c').offsetWidth + 'px',\n\t\t\t\theight: this.getByElement(bgid + '_c').offsetHeight + 'px',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tfilter: 'alpha(opacity:' + bgAlpha + ')',\n\t\t\t\topacity: bgAlpha,\n\t\t\t\tbackgroundColor: bgColor.replace('0x', '#'),\n\t\t\t\tborderRadius: obj['backRadius'] + 'px',\n\t\t\t\tzIndex: '1'\n\t\t\t});\n\t\t\tthis.css(ele, {\n\t\t\t\twidth: this.getByElement(bgid).offsetWidth + 'px',\n\t\t\t\theight: this.getByElement(bgid).offsetHeight + 'px'\n\t\t\t});\n\t\t\tvar eidCoor = this.calculationCoor(ele);\n\t\t\tthis.css(ele, {\n\t\t\t\tleft: eidCoor['x'] + 'px',\n\t\t\t\ttop: eidCoor['y'] + 'px'\n\t\t\t});\n\n\t\t\tthis.elementArr.push(ele.className);\n\t\t\treturn ele;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t获取元件的属性，包括x,y,width,height,alpha\n\t\t*/\n\t\tgetElement: function(element) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getElement(element);\n\t\t\t}\n\t\t\tvar ele = element;\n\t\t\tif (this.varType(element) == 'string') {\n\t\t\t\tele = this.getByElement(element);\n\t\t\t}\n\t\t\tvar coor = this.getCoor(ele);\n\t\t\treturn {\n\t\t\t\tx: coor['x'],\n\t\t\t\ty: coor['y'],\n\t\t\t\twidth: ele.offsetWidth,\n\t\t\t\theight: ele.offsetHeight,\n\t\t\t\talpha: !this.isUndefined(this.css(ele, 'opacity')) ? parseFloat(this.css(ele, 'opacity')) : 1,\n\t\t\t\tshow: this.css(ele, 'display') == 'none' ? false: true\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t控制元件显示和隐藏\n\t\t*/\n\t\telementShow: function(element, show) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.elementShow(element, show);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(element) == 'string') {\n\t\t\t\tif (element) {\n\t\t\t\t\tthis.css(ele, 'display', show == true ? 'block': 'none');\n\t\t\t\t} else {\n\t\t\t\t\tvar arr = this.elementTempArr;\n\t\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\t\tthis.css(arr[i], 'display', show == true ? 'block': 'none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据节点的x,y计算在播放器里的坐标\n\t\t*/\n\t\tcalculationCoor: function(ele) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.calculationCoor(ele);\n\t\t\t}\n\t\t\tif(this.isUndefined(ele)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (ele == []) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar x, y, position = [];\n\t\t\tvar w = this.PD.offsetWidth,\n\t\t\th = this.PD.offsetHeight;\n\t\t\tvar ew = ele.offsetWidth,\n\t\t\teh = ele.offsetHeight;\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'x'))) {\n\t\t\t\tx = this.getDataset(ele, 'x');\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'y'))) {\n\t\t\t\ty = this.getDataset(ele, 'y');\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'position'))) {\n\t\t\t\ttry {\n\t\t\t\t\tposition = this.getDataset(ele, 'position').toString().split(',');\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t\tif (position.length > 0) {\n\t\t\t\tposition.push(null, null, null, null);\n\t\t\t\tvar i = 0;\n\t\t\t\tfor (i = 0; i < position.length; i++) {\n\t\t\t\t\tif (this.isUndefined(position[i]) || position[i] == null || position[i] == 'null' || position[i] == '') {\n\t\t\t\t\t\tposition[i] = null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition[i] = parseFloat(position[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (position[2] == null) {\n\t\t\t\t\tswitch (position[0]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tx = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tx = parseInt((w - ew) * 0.5);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tx = w - ew;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (position[0]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tx = position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tx = parseInt(w * 0.5) + position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tx = w + position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (position[3] == null) {\n\t\t\t\t\tswitch (position[1]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\ty = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ty = parseInt((h - eh) * 0.5);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ty = h - eh;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (position[1]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\ty = position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ty = parseInt(h * 0.5) + position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ty = h + position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (x.substring(x.length - 1, x.length) == '%') {\n\t\t\t\t\tx = Math.floor(parseInt(x.substring(0, x.length - 1)) * w * 0.01);\n\t\t\t\t}\n\t\t\t\tif (y.substring(y.length - 1, y.length) == '%') {\n\t\t\t\t\ty = Math.floor(parseInt(y.substring(0, y.length - 1)) * h * 0.01);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t修改新增元件的坐标\n\t\t*/\n\t\tchangeElementCoor: function() {\n\t\t\tfor (var i = 0; i < this.elementArr.length; i++) {\n\t\t\t\tif(!this.isUndefined(this.getByElement(this.elementArr[i]))){\n\t\t\t\t\tif (this.getByElement(this.elementArr[i]) != []) {\n\t\t\t\t\t\tvar c = this.calculationCoor(this.getByElement(this.elementArr[i]));\n\t\t\t\t\t\tif (c['x'] && c['y']) {\n\t\t\t\t\t\t\tthis.css(this.elementArr[i], {\n\t\t\t\t\t\t\t\ttop: c['y'] + 'px',\n\t\t\t\t\t\t\t\tleft: c['x'] + 'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t缓动效果集\n\t\t*/\n\t\ttween: function() {\n\t\t\tvar Tween = {\n\t\t\t\tNone: { //均速运动\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuadratic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * (t /= d) * (t - 2) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t + b;\n\t\t\t\t\t\treturn - c / 2 * ((--t) * (t - 2) - 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tCubic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * t + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * t + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuartic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * ((t = t / d - 1) * t * t * t - 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;\n\t\t\t\t\t\treturn - c / 2 * ((t -= 2) * t * t * t - 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuintic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tSine: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * Math.sin(t / d * (Math.PI / 2)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tExponential: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn (t == 0) ? b: c * Math.pow(2, 10 * (t / d - 1)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn (t == d) ? b + c: c * ( - Math.pow(2, -10 * t / d) + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif (t == d) return b + c;\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n\t\t\t\t\t\treturn c / 2 * ( - Math.pow(2, -10 * --t) + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tCircular: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return - c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n\t\t\t\t\t\treturn c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tElastic: {\n\t\t\t\t\teaseIn: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\t\t\tif (!p) p = d * .3;\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\treturn - (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\t\t\tif (!p) p = d * .3;\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\treturn (a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b);\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d / 2) == 2) return b + c;\n\t\t\t\t\t\tif (!p) p = d * (.3 * 1.5);\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\tif (t < 1) return - .5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tBack: {\n\t\t\t\t\teaseIn: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\treturn c * (t /= d) * t * ((s + 1) * t - s) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tBounce: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c - Tween.Bounce.easeOut(d - t, 0, c, d) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d) < (1 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * t * t) + b;\n\t\t\t\t\t\t} else if (t < (2 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (1.5 / 2.75)) * t + .75) + b;\n\t\t\t\t\t\t} else if (t < (2.5 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (2.25 / 2.75)) * t + .9375) + b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (2.625 / 2.75)) * t + .984375) + b;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif (t < d / 2) return Tween.Bounce.easeIn(t * 2, 0, c, d) * .5 + b;\n\t\t\t\t\t\telse return Tween.Bounce.easeOut(t * 2 - d, 0, c, d) * .5 + c * .5 + b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn Tween;\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t缓动效果\n\t\t\tele:Object=需要缓动的对象,\n\t\t\tparameter:String=需要改变的属性：x,y,width,height,alpha,\n\t\t\teffect:String=效果名称,\n\t\t\tstart:Int=起始值,\n\t\t\tend:Int=结束值,\n\t\t\tspeed:Number=运动的总秒数，支持小数\n\t\t*/\n\t\tanimate: function(attribute) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.animate(attribute);\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar animateId = 'animate_' + this.randomString();\n\t\t\tvar obj = {\n\t\t\t\telement: null,\n\t\t\t\tparameter: 'x',\n\t\t\t\tstatic: false,\n\t\t\t\teffect: 'None.easeIn',\n\t\t\t\tstart: null,\n\t\t\t\tend: null,\n\t\t\t\tspeed: 0,\n\t\t\t\toverStop: false,\n\t\t\t\tpauseStop: false,\n\t\t\t\t//暂停播放时缓动是否暂停\n\t\t\t\tcallBack: null\n\t\t\t};\n\t\t\tobj = this.standardization(obj, attribute);\n\t\t\tif (obj['element'] == null || obj['speed'] == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar w = this.PD.offsetWidth,\n\t\t\th = this.PD.offsetHeight;\n\t\t\tvar effArr = (obj['effect'] + '.').split('.');\n\t\t\tvar tweenFun = this.tween()[effArr[0]][effArr[1]];\n\t\t\tvar eleCoor = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t\tif (this.isUndefined(tweenFun)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t//先将该元件从元件数组里删除，让其不再跟随播放器的尺寸改变而改变位置\n\t\t\tvar def = this.arrIndexOf(this.elementArr, obj['element'].className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementTempArr.push(obj['element'].className);\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\t//var run = true;\n\t\t\tvar css = {};\n\t\t\t//对传递的参数进行转化，x和y转化成left,top\n\t\t\tvar pm = this.getElement(obj['element']); //包含x,y,width,height,alpha属性\n\t\t\tvar t = 0; //当前时间\n\t\t\tvar b = 0; //初始值\n\t\t\tvar c = 0; //变化量\n\t\t\tvar d = obj['speed'] * 1000; //持续时间\n\t\t\tvar timerTween = null;\n\t\t\tvar tweenObj = null;\n\t\t\tvar start = obj['start'] == null ? '': obj['start'].toString();\n\t\t\tvar end = obj['end'] == null ? '': obj['end'].toString();\n\t\t\tswitch (obj['parameter']) {\n\t\t\tcase 'x':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['x'];\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(start) * w * 0.01;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(start);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['x'] - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) * w * 0.01 - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(end);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'y':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['y'];\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(start) * h * 0.01;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(start);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['y'] - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) * h * 0.01 - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(end);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'alpha':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['alpha'] * 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(obj['start']);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(obj['start'] * 100);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['alpha'] * 100 - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) * 100 - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) * 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(obj['end']) * 100 - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar callBack = function() {\n\t\t\t\tvar index = thisTemp.arrIndexOf(thisTemp.animateElementArray, animateId);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthisTemp.animateArray.splice(index, 1);\n\t\t\t\t\tthisTemp.animateElementArray.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tindex = thisTemp.arrIndexOf(thisTemp.animatePauseArray, animateId);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthisTemp.animatePauseArray.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tif (obj['callBack'] != null && obj['element'] && obj['callBack'] != 'callBack' && obj['callBack'] != 'tweenX' && obj['tweenY'] != 'callBack' && obj['callBack'] != 'tweenAlpha') {\n\t\t\t\t\tvar cb = eval(obj['callBack']);\n\t\t\t\t\tcb(obj['element']);\n\t\t\t\t\tobj['callBack'] = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar stopTween = function() {\n\t\t\t\tif (timerTween != null) {\n\t\t\t\t\tif (timerTween.runing) {\n\t\t\t\t\t\ttimerTween.stop();\n\t\t\t\t\t}\n\t\t\t\t\ttimerTween = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenX = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\tleft: Math.ceil(tweenFun(t, b, c, d)) + 'px'\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['top'] = eleCoor['y'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defX = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defX > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defX, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenY = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\ttop: Math.ceil(tweenFun(t, b, c, d)) + 'px'\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['left'] = eleCoor['x'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defY = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defY > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defY, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenAlpha = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\tvar ap = Math.ceil(tweenFun(t, b, c, d)) * 0.01;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + ap + ')',\n\t\t\t\t\t\topacity: ap.toString()\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['top'] = eleCoor['y'] + 'px';\n\t\t\t\t\t\tcss['left'] = eleCoor['x'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defA = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defA > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defA, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tswitch (obj['parameter']) {\n\t\t\t\tcase 'x':\n\t\t\t\t\ttweenObj = tweenX;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'y':\n\t\t\t\t\ttweenObj = tweenY;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'alpha':\n\t\t\t\t\ttweenObj = tweenAlpha;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\ttimerTween = new thisTemp.timer(10, tweenObj);\n\t\t\ttimerTween.callBackFunction = callBack;\n\t\t\tif (obj['overStop']) {\n\t\t\t\tvar mouseOver = function() {\n\t\t\t\t\tif (timerTween != null && timerTween.runing) {\n\t\t\t\t\t\ttimerTween.stop();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('mouseover', mouseOver, obj['element']);\n\t\t\t\tvar mouseOut = function() {\n\t\t\t\t\tvar start = true;\n\t\t\t\t\tif (obj['pauseStop'] && thisTemp.getMetaDate()['paused']) {\n\t\t\t\t\t\tstart = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (timerTween != null && !timerTween.runing && start) {\n\t\t\t\t\t\ttimerTween.start();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('mouseout', mouseOut, obj['element']);\n\t\t\t}\n\n\t\t\tthis.animateArray.push(timerTween);\n\t\t\tthis.animateElementArray.push(animateId);\n\t\t\tif (obj['pauseStop']) {\n\t\t\t\tthis.animatePauseArray.push(animateId);\n\t\t\t}\n\t\t\treturn animateId;\n\t\t},\n\t\t/*\n\t\t\t接口函数函数\n\t\t\t继续运行animate\n\t\t*/\n\t\tanimateResume: function(id) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.animateResume(this.isUndefined(id) ? '': id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (id != '' && !this.isUndefined(id) && id != 'pause') {\n\t\t\t\tarr.push(id);\n\t\t\t} else {\n\t\t\t\tif (id === 'pause') {\n\t\t\t\t\tarr = this.animatePauseArray;\n\t\t\t\t} else {\n\t\t\t\t\tarr = this.animateElementArray;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar index = this.arrIndexOf(this.animateElementArray, arr[i]);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.animateArray[index].start();\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t暂停运行animate\n\t\t*/\n\t\tanimatePause: function(id) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.animatePause(this.isUndefined(id) ? '': id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (id != '' && !this.isUndefined(id) && id != 'pause') {\n\t\t\t\tarr.push(id);\n\t\t\t} else {\n\t\t\t\tif (id === 'pause') {\n\t\t\t\t\tarr = this.animatePauseArray;\n\t\t\t\t} else {\n\t\t\t\t\tarr = this.animateElementArray;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar index = this.arrIndexOf(this.animateElementArray, arr[i]);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.animateArray[index].stop();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据ID删除数组里对应的内容\n\t\t*/\n\t\tdeleteAnimate: function(id) {\n\t\t\tif (this.playerType == 'flashplayer' && this.V) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.deleteAnimate(id);\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar index = this.arrIndexOf(this.animateElementArray, id);\n\t\t\tif (index > -1) {\n\t\t\t\tthis.animateArray[index].callBackFunction();\n\t\t\t\tthis.animateArray.splice(index, 1);\n\t\t\t\tthis.animateElementArray.splice(index, 1);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t删除外部新建的元件\n\t\t*/\n\t\tdeleteElement: function(ele) {\n\t\t\tif (this.playerType == 'flashplayer' && this.V) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.deleteElement(ele);\n\t\t\t\t} catch(event) {}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//先将该元件从元件数组里删除，让其不再跟随播放器的尺寸改变而改变位置\n\t\t\tvar def = this.arrIndexOf(this.elementArr, ele.className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdef = this.arrIndexOf(this.elementTempArr, ele.className);\n\t\t\t\tif (def > -1) {\n\t\t\t\t\tthis.elementTempArr.splice(def, 1);\n\t\t\t\t}\n\t\t\t} catch(event) {}\n\t\t\tthis.deleteAnimate(ele.className);\n\t\t\tthis.deleteChild(ele);\n\t\t},\n\t\t/*\n\t\t\t--------------------------------------------------------------\n\t\t\t共用函数部分\n\t\t\t以下函数并非只能在本程序中使用，也可以在页面其它项目中使用\n\t\t\t根据ID或className获取元素对象\n\t\t*/\n\t\tgetByElement: function(obj, parent) {\n\t\t\tif (this.isUndefined(parent)) {\n\t\t\t\tparent = document;\n\t\t\t}\n\t\t\tvar num = obj.substr(0, 1);\n\t\t\tvar res = [];\n\t\t\tif (num != '#') {\n\t\t\t\tif (num == '.') {\n\t\t\t\t\tobj = obj.substr(1, obj.length);\n\t\t\t\t}\n\t\t\t\tif (parent.getElementsByClassName) {\n\t\t\t\t\tres = parent.getElementsByClassName(obj);\n\t\t\t\t\tif(!res.length){\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar reg = new RegExp(' ' + obj + ' ', 'i');\n\t\t\t\t\tvar ele = parent.getElementsByTagName('*');\n\t\t\t\t\tfor (var i = 0; i < ele.length; i++) {\n\t\t\t\t\t\tif (reg.test(' ' + ele[i].className + ' ')) {\n\t\t\t\t\t\t\tres.push(ele[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (res.length > 0) {\n\t\t\t\t\tres=res[0];\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tres=null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (num == '#') {\n\t\t\t\t\tobj = obj.substr(1, obj.length);\n\t\t\t\t}\n\t\t\t\ttry{\n\t\t\t\t\tres=document.getElementById(obj);\n\t\t\t\t}\n\t\t\t\tcatch(event){\n\t\t\t\t\tres=null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t/*\n\t\t \t共用函数\n\t\t\t功能：修改样式或获取指定样式的值，\n\t\t\t\telem：ID对象或ID对应的字符，如果多个对象一起设置，则可以使用数组\n\t\t\t\tattribute：样式名称或对象，如果是对象，则省略掉value值\n\t\t\t\tvalue：attribute为样式名称时，定义的样式值\n\t\t\t\t示例一：\n\t\t\t\tthis.css(ID,'width','100px');\n\t\t\t\t示例二：\n\t\t\t\tthis.css('id','width','100px');\n\t\t\t\t示例三：\n\t\t\t\tthis.css([ID1,ID2,ID3],'width','100px');\n\t\t\t\t示例四：\n\t\t\t\tthis.css(ID,{\n\t\t\t\t\twidth:'100px',\n\t\t\t\t\theight:'100px'\n\t\t\t\t});\n\t\t\t\t示例五(获取宽度)：\n\t\t\t\tvar width=this.css(ID,'width');\n\t\t*/\n\t\tcss: function(elem, attribute, value) {\n\t\t\tvar i = 0;\n\t\t\tvar k = '';\n\t\t\tif (this.varType(elem) == 'array') { //数组\n\t\t\t\tfor (i = 0; i < elem.length; i++) {\n\t\t\t\t\t\tvar el;\n\t\t\t\t\t\tif (typeof(elem[i]) == 'string') {\n\t\t\t\t\t\t\tel = this.getByElement(elem[i])\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel = elem[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof(attribute) != 'object') {\n\t\t\t\t\t\t\tif (!this.isUndefined(value)) {\n\t\t\t\t\t\t\t\tel.style[attribute] = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (k in attribute) {\n\t\t\t\t\t\t\t\tif (!this.isUndefined(attribute[k])) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tel.style[k] = attribute[k];\n\t\t\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\t\t\tthis.log(event);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\n\t\t\t}\n\t\t\tif (this.varType(elem) == 'string') {\n\t\t\t\telem = this.getByElement(elem);\n\t\t\t}\n\t\t\tif (this.varType(attribute) != 'object') {\n\t\t\t\tif (!this.isUndefined(value)) {\n\t\t\t\t\telem.style[attribute] = value;\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.isUndefined(this.getStyle(elem, attribute))) {\n\t\t\t\t\t\treturn this.getStyle(elem, attribute);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (k in attribute) {\n\t\t\t\t\tif (!this.isUndefined(attribute[k])) {\n\t\t\t\t\t\telem.style[k] = attribute[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t兼容型获取style\n\t\t*/\n\t\tgetStyle: function(obj, attr) {\n\t\t\tif (!this.isUndefined(obj.style[attr])) {\n\t\t\t\treturn obj.style[attr];\n\t\t\t} else {\n\t\t\t\tif (obj.currentStyle) {\n\t\t\t\t\treturn obj.currentStyle[attr];\n\t\t\t\t} else {\n\t\t\t\t\treturn getComputedStyle(obj, false)[attr];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断变量是否存在或值是否为undefined\n\t\t*/\n\t\tisUndefined: function(value) {\n\t\t\ttry {\n\t\t\t\tif (value === 'undefined' || value === undefined || value === null || value === 'NaN' || value === NaN) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} catch(event) {\n\t\t\t\tthis.log(event);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t \t共用函数\n\t\t\t外部监听函数\n\t\t*/\n\t\taddListener: function(name, funName) {\n\t\t\tif (name && funName) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tvar ff = ''; //定义用来向flashplayer传递的函数字符\n\t\t\t\t\tif (this.varType(funName) == 'function') {\n\t\t\t\t\t\tff = this.getParameterNames(funName);\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.addListener(name, ff);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar have = false;\n\t\t\t\tfor (var i = 0; i < this.listenerJsArr.length; i++) {\n\t\t\t\t\tvar arr = this.listenerJsArr[i];\n\t\t\t\t\tif (arr[0] == name && arr[1] == funName) {\n\t\t\t\t\t\thave = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!have) {\n\t\t\t\t\tthis.listenerJsArr.push([name, funName]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t外部删除监听函数\n\t\t*/\n\t\tremoveListener: function(name, funName) {\n\t\t\tif (name && funName) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tvar ff = ''; //定义用来向flashplayer传递的函数字符\n\t\t\t\t\tif (this.varType(funName) == 'function') {\n\t\t\t\t\t\tff = this.getParameterNames(funName);\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeListener(name, ff);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfor (var i = 0; i < this.listenerJsArr.length; i++) {\n\t\t\t\t\tvar arr = this.listenerJsArr[i];\n\t\t\t\t\tif (arr[0] == name && arr[1] == funName) {\n\t\t\t\t\t\tthis.listenerJsArr.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部监听函数，调用方式：\n\t\t\tthis.addListenerInside('click',function(event){},[ID]);\n\t\t\td值为空时，则表示监听当前的视频播放器\n\t\t*/\n\t\taddListenerInside: function(e, f, d, t) {\n\t\t\tif (this.isUndefined(t)) {\n\t\t\t\tt = false;\n\t\t\t}\n\t\t\tvar o = this.V;\n\t\t\tif (!this.isUndefined(d)) {\n\t\t\t\to = d;\n\t\t\t}\n\t\t\tif (o.addEventListener) {\n\t\t\t\ttry {\n\t\t\t\t\to.addEventListener(e, f, t);\n\t\t\t\t} catch(event) {this.log(event)}\n\t\t\t} else if (o.attachEvent) {\n\t\t\t\ttry {\n\t\t\t\t\to.attachEvent('on' + e, f);\n\t\t\t\t} catch(event) {this.log(event)}\n\t\t\t} else {\n\t\t\t\to['on' + e] = f;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t删除内部监听函数，调用方式：\n\t\t\tthis.removeListenerInside('click',function(event){}[,ID]);\n\t\t\td值为空时，则表示监听当前的视频播放器\n\t\t*/\n\t\tremoveListenerInside: function(e, f, d, t) {\n\t\t\t/*if(this.playerType=='flashplayer' && this.getParameterNames(f) && this.isUndefined(d)) {\n\t\t\t\treturn;\n\t\t\t}*/\n\t\t\tif (this.isUndefined(t)) {\n\t\t\t\tt = false;\n\t\t\t}\n\t\t\tvar o = this.V;\n\t\t\tif (!this.isUndefined(d)) {\n\t\t\t\to = d;\n\t\t\t}\n\t\t\tif (o.removeEventListener) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.addNum--;\n\t\t\t\t\to.removeEventListener(e, f, t);\n\t\t\t\t} catch(e) {}\n\t\t\t} else if (o.detachEvent) {\n\t\t\t\ttry {\n\t\t\t\t\to.detachEvent('on' + e, f);\n\t\t\t\t} catch(e) {}\n\t\t\t} else {\n\t\t\t\to['on' + e] = null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t统一分配监听，以达到跟as3同样效果\n\t\t*/\n\t\tsendJS: function(name, val) {\n\t\t\tif (this.adPlayerPlay && name.substr( - 2) != 'Ad') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(name)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar list = this.listenerJsArr;\n\t\t\tvar obj = this.vars['variable'];\n\t\t\tif(this.vars['debug']){\n\t\t\t\tthis.log(name+':'+val);\n\t\t\t}\n\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\tvar arr = list[i];\t\t\t\t\n\t\t\t\tif (arr[0] == name) {\n\t\t\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\t\t\tswitch (arr[1].length) {\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\tarr[1](val);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tarr[1](val, obj);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tarr[1]();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarr[1](obj);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取函数名称，如 function ckplayer(){} var fun=ckplayer，则getParameterNames(fun)=ckplayer\n\t\t*/\n\t\tgetParameterNames: function(fn) {\n\t\t\tif (this.varType(fn) !== 'function') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\n\t\t\tvar code = fn.toString().replace(COMMENTS, '');\n\t\t\tvar result = code.slice(code.indexOf(' ') + 1, code.indexOf('('));\n\t\t\treturn result === null ? false: result;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t时间替换\n\t\t*/\n\t\treplaceTime:function(str,obj){\n\t\t\t//var timeStrArr = ['[$timeh]', '[$timei]', '[$timeI]', '[$times]', '[$timeS]', '[$durationh]', '[$durationi]', '[$durationI]', '[$durations]', '[$durationS]','[$liveTimey]', '[$liveTimeY]', '[$liveTimem]', '[$liveTimed]', '[$liveTimeh]', '[$liveTimei]', '[$liveTimes]', '[$liveLanguage]'];\n\t\t\tfor(var k in obj){\n\t\t\t\tstr=str.replace('[$'+k+']',obj[k])\n\t\t\t}\n\t\t\treturn str;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t格式化时分秒\n\t\t\tt:Int：秒数,dt:总时间的秒数\n\t\t*/\n\t\tformatTime: function(t,dt,str) {\n\t\t\tif (this.isUndefined(t) || isNaN(t)) {\n\t\t\t\tseconds = 0;\n\t\t\t}\n\t\t\tif (this.isUndefined(dt) || isNaN(dt)) {\n\t\t\t\tdt = 0;\n\t\t\t}\n\t\t\tvar minuteS=Math.floor(t/60);//将秒数直接转化成分钟取整，这个可以得到如80分钟\n\t\t\tvar minute=minuteS;//获取准确的分钟\n\t\t\tvar hourS=Math.floor(t/3600);//将秒数直接转化成小时取整，这个可以得到100小时\n\t\t\tvar second=t %60;\n\t\t\tif(minuteS>=60){\n\t\t\t\tminute=Math.floor(minuteS%60);\n\t\t\t}\n\t\t\t//总时间\n\t\t\tvar hminuteS=Math.floor(dt/60);//将秒数直接转化成分钟取整，这个可以得到如80分钟\n\t\t\tvar hminute=hminuteS;//获取准确的分钟\n\t\t\tvar hhourS=Math.floor(dt/3600);//将秒数直接转化成小时取整，这个可以得到100小时\n\t\t\tvar hsecond=dt %60;\n\t\t\tif(hminuteS>=60){\n\t\t\t\thminute=Math.floor(hminuteS%60);\n\t\t\t}\n\t\t\t//当前时间\n\t\t\tvar nowDate = new Date();\n\t\t\tvar obj={\n\t\t\t\ttimeh:hourS,//时\n\t\t\t\ttimei:minute,//分\n\t\t\t\ttimeI:minuteS,//只有分\n\t\t\t\ttimes:second,//秒\n\t\t\t\ttimeS:t,//只有秒\n\t\t\t\tdurationh:hhourS,//时\n\t\t\t\tdurationi:hminute,//分\n\t\t\t\tdurationI:hminuteS,//只有分\n\t\t\t\tdurations:hsecond,//秒\n\t\t\t\tdurationS:dt,//只有秒\n\t\t\t\tliveTimey:nowDate.getYear(),//获取当前年份(2位)\n\t\t\t\tliveTimeY:nowDate.getFullYear(),//获取完整的年份(4位,1970-????)\n\t\t\t\tliveTimem:nowDate.getMonth()+1,//获取当前月份(0-11,0代表1月)\n\t\t\t\tliveTimed:nowDate.getDate(),// 获取当前日(1-31)\n\t\t\t\tliveTimeh:nowDate.getHours(),    // 获取当前小时数(0-23)\n\t\t\t\tliveTimei:nowDate.getMinutes(),// 获取当前分钟数(0-59)\n\t\t\t\tliveTimes:nowDate.getSeconds()// 获取当前秒数(0-59)\n\t\t\t};\n\t\t\tfor(var k in obj){\n\t\t\t\tif(obj[k]<10){\n\t\t\t\t\tobj[k]='0'+Math.floor(obj[k]);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tobj[k]=Math.floor(obj[k]).toString();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.replaceTime(str,obj);\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取一个随机字符\n\t\t\tlen：随机字符长度\n\t\t*/\n\t\trandomString: function(len) {\n\t\t\tlen = len || 16;\n\t\t\tvar chars = 'abcdefghijklmnopqrstuvwxyz';\n\t\t\tvar maxPos = chars.length;\n\t\t\tvar val = '';\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tval += chars.charAt(Math.floor(Math.random() * maxPos));\n\t\t\t}\n\t\t\treturn 'ch' + val;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取字符串长度,中文算两,英文数字算1\n\t\t*/\n\t\tgetStringLen: function(str) {\n\t\t\tif(this.isUndefined(str)){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tvar len = 0;\n\t\t\tfor (var i = 0; i < str.length; i++) {\n\t\t\t\tif (str.charCodeAt(i) > 127 || str.charCodeAt(i) == 94) {\n\t\t\t\t\tlen += 2;\n\t\t\t\t} else {\n\t\t\t\t\tlen++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn len;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t用来为ajax提供支持\n\t\t*/\n\t\tcreateXHR: function() {\n\t\t\tif (window.XMLHttpRequest) {\n\t\t\t\t//IE7+、Firefox、Opera、Chrome 和Safari\n\t\t\t\treturn new XMLHttpRequest();\n\t\t\t} else if (window.ActiveXObject) {\n\t\t\t\t//IE6 及以下\n\t\t\t\ttry {\n\t\t\t\t\treturn new ActiveXObject('Microsoft.XMLHTTP');\n\t\t\t\t} catch(event) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn new ActiveXObject('Msxml2.XMLHTTP');\n\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\tthis.eject(this.errorList[7]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.eject(this.errorList[8]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\tajax调用\n\t\t*/\n\t\tajax: function(cObj) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar callback = null;\n\t\t\tvar obj = {\n\t\t\t\tmethod: 'get',//请求类型\n\t\t\t\tdataType: 'json',//请求的数据类型\n\t\t\t\tcharset: 'utf-8',\n\t\t\t\tasync: false,//true表示异步，false表示同步\n\t\t\t\turl: '',\n\t\t\t\tdata: null,\n\t\t\t\tsuccess: null,\n\t\t\t\terror:null\n\t\t\t};\n\t\t\tif (this.varType(cObj) != 'object') {\n\t\t\t\tthis.eject(this.errorList[9]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tobj = this.standardization(obj, cObj);\n\t\t\tif (obj.dataType === 'json' || obj.dataType === 'text' || obj.dataType === 'html' || obj.dataType === 'xml') {\n\t\t\t\tvar xhr = this.createXHR();\n\t\t\t\tcallback = function() {\n\t\t\t\t\t//判断http的交互是否成功\n\t\t\t\t\tif (xhr.status == 200) {\n\t\t\t\t\t\tif (thisTemp.isUndefined(obj.success)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (obj.dataType === 'json') {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tobj.success(eval('(' + xhr.responseText + ')')); //回调传递参数\n\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\tif(!thisTemp.isUndefined(obj['error'])){\n\t\t\t\t\t\t\t\t\tobj.error(event);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj.success(xhr.responseText); //回调传递参数\n\t\t\t\t\t\t}\n\t\t\t\t\t} \n\t\t\t\t\telse {\n\t\t\t\t\t\tobj.success(null);\n\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[10], 'Ajax.status:' + xhr.status);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tobj.url = obj.url.indexOf('?') == -1 ? obj.url + '?rand=' + this.randomString(6) : obj.url;\n\t\t\t\tobj.data = this.formatParams(obj.data); //通过params()将名值对转换成字符串\n\t\t\t\tif (obj.method === 'get' && !this.isUndefined(obj.data)) {\n\t\t\t\t\tif (obj.data != '') {\n\t\t\t\t\t\tif (obj.url.indexOf('?') == -1) {\n\t\t\t\t\t\t\tobj.url += '?' + obj.data\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj.url += '&' + obj.data;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (obj.async === true) { //true表示异步，false表示同步\n\t\t\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t\t\tif (xhr.readyState == 4 && callback != null) { //判断对象的状态是否交互完成\n\t\t\t\t\t\t\tcallback(); //回调\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\txhr.open(obj.method, obj.url, obj.async);\n\t\t\t\tif (obj.method === 'post') {\n\t\t\t\t\ttry{\n\t\t\t\t\t\txhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\t\t\t\t\t\txhr.setRequestHeader('charset', obj['charset']);\n\t\t\t\t\t\txhr.send(obj.data);\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttry{\n\t\t\t\t\t\txhr.send(null); //get方式则填null\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (obj.async === false) { //同步\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t}\n\t\t\telse if (obj.dataType === 'jsonp') {\n\t\t\t\tvar oHead = document.getElementsByTagName('head')[0];\n\t\t\t\tvar oScript = document.createElement('script');\n\t\t\t\tvar callbackName = 'callback' + new Date().getTime();\n\t\t\t\tvar params = this.formatParams(obj.data) + '&callback=' + callbackName; //按时间戳拼接字符串\n\t\t\t\tcallback = obj.success;\n\t\t\t\t//拼接好src\n\t\t\t\toScript.src = obj.url.split('?') + '?' + params;\n\t\t\t\t//插入script标签\n\t\t\t\toHead.insertBefore(oScript, oHead.firstChild);\n\t\t\t\t//jsonp的回调函数\n\t\t\t\twindow[callbackName] = function(json) {\n\t\t\t\t\tcallback(json);\n\t\t\t\t\toHead.removeChild(oScript);\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t动态加载js\n\t\t*/\n\t\tloadJs: function(path, success) {\n\t\t\tvar oHead = document.getElementsByTagName('HEAD').item(0);\n\t\t\tvar oScript = document.createElement('script');\n\t\t\toScript.type = 'text/javascript';\n\t\t\toScript.src = this.getNewUrl(path);\n\t\t\toHead.appendChild(oScript);\n\t\t\toScript.onload = function() {\n\t\t\t\tsuccess();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t排除IE6-9\n\t\t*/\n\t\tisMsie: function() {\n\t\t\tvar browser = navigator.appName;\n\t\t\tvar b_version = navigator.appVersion;\n\t\t\tvar version = b_version.split(';');\n\t\t\tvar trim_Version = '';\n\t\t\tif (version.length > 1) {\n\t\t\t\ttrim_Version = version[1].replace(/[ ]/g, '');\n\t\t\t}\n\t\t\tif (browser == 'Microsoft Internet Explorer' && (trim_Version == 'MSIE6.0' || trim_Version == 'MSIE7.0' || trim_Version == 'MSIE8.0' || trim_Version == 'MSIE9.0' || trim_Version == 'MSIE10.0')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断是否安装了flashplayer\n\t\t*/\n\t\tuploadFlash: function() {\n\t\t\tvar swf;\n\t\t\tif (navigator.userAgent.indexOf('MSIE') > 0) {\n\t\t\t\ttry {\n\t\t\t\t\tvar swf = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n\t\t\t\t\treturn true;\n\t\t\t\t} catch(e) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (navigator.userAgent.indexOf('Firefox') > 0) {\n\t\t\t\tswf = navigator.plugins['Shockwave Flash'];\n\t\t\t\tif (swf) {\n\t\t\t\t\treturn true\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t检测浏览器是否支持HTML5-Video\n\t\t*/\n\t\tsupportVideo: function() {\n\t\t\tif (!this.isMsie()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif ( !! document.createElement('video').canPlayType) {\n\t\t\t\tvar vidTest = document.createElement('video');\n\t\t\t\tvar oggTest;\n\t\t\t\ttry {\n\t\t\t\t\toggTest = vidTest.canPlayType('video/ogg; codecs=\"theora, vorbis\"');\n\t\t\t\t} catch(error) {\n\t\t\t\t\toggTest = false;\n\t\t\t\t}\n\t\t\t\tif (!oggTest) {\n\t\t\t\t\tvar h264Test;\n\t\t\t\t\ttry {\n\t\t\t\t\t\th264Test = vidTest.canPlayType('video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"');\n\t\t\t\t\t} catch(error) {\n\t\t\t\t\t\th264Test = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (!h264Test) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (h264Test == \"probably\") {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (oggTest == \"probably\") {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取属性值\n\t\t*/\n\t\tgetDataset: function(ele, z) {\n\t\t\ttry {\n\t\t\t\treturn ele.dataset[z];\n\t\t\t} catch(error) {\n\t\t\t\ttry {\n\t\t\t\t\treturn ele.getAttribute('data-' + z)\n\t\t\t\t} catch(error) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t返回flashplayer的对象\n\t\t*/\n\t\tgetObjectById: function(id) {\n\t\t\tvar x = null;\n\t\t\tvar y = this.getByElement('#' + id);\n\t\t\tvar r = 'embed';\n\t\t\tif (y && y.nodeName == 'OBJECT') {\n\t\t\t\tif (this.varType(y.SetVariable) != 'undefined') {\n\t\t\t\t\tx = y;\n\t\t\t\t} else {\n\t\t\t\t\tvar z = y.getElementsByTagName(r)[0];\n\t\t\t\t\tif (z) {\n\t\t\t\t\t\tx = z;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn x;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t对象转地址字符串\n\t\t*/\n\t\tformatParams: function(data) {\n\t\t\tvar arr = [];\n\t\t\tfor (var i in data) {\n\t\t\t\tarr.push(encodeURIComponent(i) + '=' + encodeURIComponent(data[i]));\n\t\t\t}\n\t\t\treturn arr.join('&');\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t对地址进行冒泡排序\n\t\t*/\n\t\tarrSort: function(arr) {\n\t\t\tvar temp = [];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tfor (var j = 0; j < arr.length - i; j++) {\n\t\t\t\t\tif (!this.isUndefined(arr[j + 1]) && arr[j][3] < arr[j + 1][3]) {\n\t\t\t\t\t\ttemp = arr[j + 1];\n\t\t\t\t\t\tarr[j + 1] = arr[j];\n\t\t\t\t\t\tarr[j] = temp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取文件名称\n\t\t*/\n\t\tgetFileName: function(filepath) {\n\t\t\tif(!filepath) return '';\n\t\t\treturn filepath.replace(/(.*\\/)*([^.]+).*/ig,'$2');\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t判断文件后缀\n\t\t*/\n\t\tgetFileExt: function(filepath) {\n\t\t\tif (filepath != '' && !this.isUndefined(filepath)) {\n\t\t\t\tif (filepath.indexOf('?') > -1) {\n\t\t\t\t\tfilepath = filepath.split('?')[0];\n\t\t\t\t}\n\t\t\t\tvar pos = '.' + filepath.replace(/.+\\./, '');\n\t\t\t\treturn pos.toLowerCase();\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t判断是否是移动端\n\t\t*/\n\t\tisMobile: function() {\n\t\t\tif (navigator.userAgent.toLowerCase().match(/(iphone|ipad|ipod|android|ios|midp|windows mobile|windows ce|rv:1.2.3.4|ucweb)/i)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t搜索字符串str是否包含key\n\t\t*/\n\t\tisContains: function(str, key) {\n\t\t\treturn str.indexOf(key) > -1;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t给地址添加随机数\n\t\t*/\n\t\tgetNewUrl: function(url) {\n\t\t\tif (this.isContains(url, '?')) {\n\t\t\t\treturn url += '&' + this.randomString(8) + '=' + this.randomString(8);\n\t\t\t} else {\n\t\t\t\treturn url += '?' + this.randomString(8) + '=' + this.randomString(8);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取clientX和clientY\n\t\t*/\n\t\tclient: function(event) {\n\t\t\tvar eve = event || window.event;\n\t\t\tif (this.isUndefined(eve)) {\n\t\t\t\teve = {\n\t\t\t\t\tclientX: 0,\n\t\t\t\t\tclientY: 0\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: eve.clientX + (document.documentElement.scrollLeft || this.body.scrollLeft) - this.pdCoor['x'],\n\t\t\t\ty: eve.clientY + (document.documentElement.scrollTop || this.body.scrollTop) - this.pdCoor['y']\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t获取节点的绝对坐标\n\t\t*/\n\t\tgetCoor: function(obj) {\n\t\t\tvar coor = this.getXY(obj);\n\t\t\treturn {\n\t\t\t\tx: coor['x'] - this.pdCoor['x'],\n\t\t\t\ty: coor['y'] - this.pdCoor['y']\n\t\t\t};\n\t\t},\n\t\tgetXY: function(obj) {\n\t\t\tvar parObj = obj;\n\t\t\tvar left = obj.offsetLeft;\n\t\t\tvar top = obj.offsetTop;\n\t\t\t\n\t\t\twhile (parObj = parObj.offsetParent) {\n\t\t\t\tleft += parObj.offsetLeft;\n\t\t\t\ttop += parObj.offsetTop;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: left,\n\t\t\t\ty: top\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t删除本对象的所有属性\n\t\t*/\n\t\tremoveChild: function() {\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\t//删除计时器\n\t\t\t\tvar i = 0;\n\t\t\t\tvar timerArr = [this.timerError, this.timerFull, this.timerTime, this.timerBuffer, this.timerClick, this.timerCBar, this.timerVCanvas];\n\t\t\t\tfor (i = 0; i < timerArr.length; i++) {\n\t\t\t\t\tif (timerArr[i] != null) {\n\t\t\t\t\t\tif (timerArr[i].runing) {\n\t\t\t\t\t\t\ttimerArr[i].stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttimerArr[i] = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//删除事件监听\n\t\t\t\tvar ltArr = this.listenerJsArr;\n\t\t\t\tfor (i = 0; i < ltArr.length; i++) {\n\t\t\t\t\tthis.removeListener(ltArr[i][0], ltArr[i][1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.playerType == '';\n\t\t\tthis.V = null;\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.deleteChild(this.CB['menu']);\n\t\t\t}\n\t\t\tthis.deleteChild(this.PD);\n\t\t\tthis.CD.innerHTML = '';\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t画封闭的图形\n\t\t*/\n\t\tcanvasFill: function(name, path) {\n\t\t\tname.beginPath();\n\t\t\tfor (var i = 0; i < path.length; i++) {\n\t\t\t\tvar d = path[i];\n\t\t\t\tif (i > 0) {\n\t\t\t\t\tname.lineTo(d[0], d[1]);\n\t\t\t\t} else {\n\t\t\t\t\tname.moveTo(d[0], d[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tname.closePath();\n\t\t\tname.fill();\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t画矩形\n\t\t*/\n\t\tcanvasFillRect: function(name, path) {\n\t\t\tfor (var i = 0; i < path.length; i++) {\n\t\t\t\tvar d = path[i];\n\t\t\t\tname.fillRect(d[0], d[1], d[2], d[3]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t删除容器节点\n\t\t*/\n\t\tdeleteChild: function(f) {\n\t\t\tvar def = this.arrIndexOf(this.elementArr, f.className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\tvar childs = f.childNodes;\n\t\t\tfor (var i = childs.length - 1; i >= 0; i--) {\n\t\t\t\tf.removeChild(childs[i]);\n\t\t\t}\n\n\t\t\tif (f && f != null && f.parentNode) {\n\t\t\t\ttry {\n\t\t\t\t\tif (f.parentNode) {\n\t\t\t\t\t\tf.parentNode.removeChild(f);\n\n\t\t\t\t\t}\n\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t \t根据容器的宽高,内部节点的宽高计算出内部节点的宽高及坐标\n\t\t*/\n\t\tgetProportionCoor: function(stageW, stageH, vw, vh) {\n\t\t\tvar w = 0,\n\t\t\th = 0,\n\t\t\tx = 0,\n\t\t\ty = 0;\n\t\t\tif (stageW / stageH < vw / vh) {\n\t\t\t\tw = stageW;\n\t\t\t\th = w * vh / vw;\n\t\t\t} else {\n\t\t\t\th = stageH;\n\t\t\t\tw = h * vw / vh;\n\t\t\t}\n\t\t\tx = (stageW - w) * 0.5;\n\t\t\ty = (stageH - h) * 0.5;\n\t\t\treturn {\n\t\t\t\twidth: parseInt(w),\n\t\t\t\theight: parseInt(h),\n\t\t\t\tx: parseInt(x),\n\t\t\t\ty: parseInt(y)\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将字幕文件内容转换成数组\n\t\t*/\n\t\tparseSrtSubtitles: function(srt) {\n\t\t\tvar subtitlesArr = [];\n\t\t\tvar textSubtitles = [];\n\t\t\tvar i = 0;\n\t\t\tvar arrs = srt.split('\\n');\n\t\t\tvar arr = [];\n\t\t\tvar delHtmlTag = function(str) {\n\t\t\t\treturn str.replace(/<[^>]+>/g, ''); //去掉所有的html标记\n\t\t\t};\n\t\t\tfor (i = 0; i < arrs.length; i++) {\n\t\t\t\tif (arrs[i].replace(/\\s/g, '').length > 0) {\n\t\t\t\t\tarr.push(arrs[i]);\n\t\t\t\t} else {\n\t\t\t\t\tif (arr.length > 0) {\n\t\t\t\t\t\ttextSubtitles.push(arr);\n\t\t\t\t\t}\n\t\t\t\t\tarr = [];\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (i = 0; i < textSubtitles.length; ++i) {\n\t\t\t\tvar textSubtitle = textSubtitles[i];\n\t\t\t\tif (textSubtitle.length >= 2) {\n\t\t\t\t\tvar sn = textSubtitle[0]; // 字幕的序号\n\t\t\t\t\tvar startTime = this.toSeconds(this.trim(textSubtitle[1].split(' --> ')[0])); // 字幕的开始时间\n\t\t\t\t\tvar endTime = this.toSeconds(this.trim(textSubtitle[1].split(' --> ')[1])); // 字幕的结束时间\n\t\t\t\t\tvar content = [delHtmlTag(textSubtitle[2])]; // 字幕的内容\n\t\t\t\t\tvar cktrackdelay=this.vars['cktrackdelay'];\n\t\t\t\t\tif(cktrackdelay!=0){\n\t\t\t\t\t\tstartTime+=cktrackdelay;\n\t\t\t\t\t\tendTime+=cktrackdelay;\n\t\t\t\t\t}\n\t\t\t\t\t// 字幕可能有多行\n\t\t\t\t\tif (textSubtitle.length > 2) {\n\t\t\t\t\t\tfor (var j = 3; j < textSubtitle.length; j++) {\n\t\t\t\t\t\t\tcontent.push(delHtmlTag(textSubtitle[j]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// 字幕对象\n\t\t\t\t\tvar subtitle = {\n\t\t\t\t\t\tsn: sn,\n\t\t\t\t\t\tstartTime: startTime,\n\t\t\t\t\t\tendTime: endTime,\n\t\t\t\t\t\tcontent: content\n\t\t\t\t\t};\n\t\t\t\t\tsubtitlesArr.push(subtitle);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn subtitlesArr;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t计时器,该函数模拟as3中的timer原理\n\t\t\ttime:计时时间,单位:毫秒\n\t\t\tfun:接受函数\n\t\t\tnumber:运行次数,不设置则无限运行\n\t\t*/\n\t\ttimer: function(time, fun, number) {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.time = 10; //运行间隔\n\t\t\tthis.fun = null; //监听函数\n\t\t\tthis.timeObj = null; //setInterval对象\n\t\t\tthis.number = 0; //已运行次数\n\t\t\tthis.numberTotal = null; //总至需要次数\n\t\t\tthis.runing = false; //当前状态\n\t\t\tthis.startFun = function() {\n\t\t\t\tthisTemp.number++;\n\t\t\t\tthisTemp.fun();\n\t\t\t\tif (thisTemp.numberTotal != null && thisTemp.number >= thisTemp.numberTotal) {\n\t\t\t\t\tthisTemp.stop();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.start = function() {\n\t\t\t\tif (!thisTemp.runing) {\n\t\t\t\t\tthisTemp.runing = true;\n\t\t\t\t\tthisTemp.timeObj = window.setInterval(thisTemp.startFun, time);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.stop = function() {\n\t\t\t\tif (thisTemp.runing) {\n\t\t\t\t\tthisTemp.runing = false;\n\t\t\t\t\twindow.clearInterval(thisTemp.timeObj);\n\t\t\t\t\tthisTemp.timeObj = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (time) {\n\t\t\t\tthis.time = time;\n\t\t\t}\n\t\t\tif (fun) {\n\t\t\t\tthis.fun = fun;\n\t\t\t}\n\t\t\tif (number) {\n\t\t\t\tthis.numberTotal = number;\n\t\t\t}\n\t\t\tthis.start();\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将时分秒转换成秒\n\t\t*/\n\t\ttoSeconds: function(t) {\n\t\t\tvar s = 0.0;\n\t\t\tif (t) {\n\t\t\t\tvar p = t.split(':');\n\t\t\t\tfor (i = 0; i < p.length; i++) {\n\t\t\t\t\ts = s * 60 + parseFloat(p[i].replace(',', '.'));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn s;\n\t\t},\n\t\t/*将字符变成数字形式的数组*/\n\t\tarrayInt: function(str) {\n\t\t\tvar a = str.split(',');\n\t\t\tvar b = [];\n\t\t\tfor (var i = 0; i < a.length; i++) {\n\t\t\t\tif (this.isUndefined(a[i])) {\n\t\t\t\t\ta[i] = 0;\n\t\t\t\t}\n\t\t\t\tif (a[i].substr( - 1) != '%') {\n\t\t\t\t\ta[i] = parseInt(a[i]);\n\t\t\t\t}\n\t\t\t\tb.push(a[i]);\n\t\t\t}\n\t\t\treturn b;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将对象Object标准化\n\t\t*/\n\t\tstandardization: function(o, n) { //n替换进o\n\t\t\tvar h = {};\n\t\t\tvar k;\n\t\t\tfor (k in o) {\n\t\t\t\th[k] = o[k];\n\t\t\t}\n\t\t\tfor (k in n) {\n\t\t\t\tvar type ='';\n\t\t\t\tif(h[k]){\n\t\t\t\t\ttype = this.varType(h[k]);\n\t\t\t\t}\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'number':\n\t\t\t\t\t\th[k] = parseFloat(n[k]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\th[k] = n[k];\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn h;\n\t\t},\n\t\tobjectAssign:function(o,n) {\n\t\t\tif(this.varType(o)!='object' || this.varType(n)!='object'){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar obj1=this.newObj(o),obj2=this.newObj(n);\n\t\t\tfor(var k in obj2){\n\t\t\t\tif(this.varType(obj2[k])=='object'){\n\t\t\t\t\tif(this.varType(obj1[k])!='object'){\n\t\t\t\t\t\tobj1[k]={};\n\t\t\t\t\t}\n\t\t\t\t\tobj1[k]=this.objectAssign(obj1[k],obj2[k]);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tobj1[k]=obj2[k];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn obj1;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t搜索数组\n\t\t */\n\t\tarrIndexOf: function(arr, key) {\n\t\t\tif(this.isUndefined(arr) || this.isUndefined(key)){\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tvar re = new RegExp(key, ['']);\n\t\t\treturn (arr.toString().replace(re, '┢').replace(/[^,┢]/g, '')).indexOf('┢');\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t去掉空格\n\t\t */\n\t\ttrim: function(str) {\n\t\t\tif (str != '') {\n\t\t\t\treturn str.replace(/(^\\s*)|(\\s*$)/g, '');\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t输出内容到控制台\n\t\t*/\n\t\tlog: function(val) {\n\t\t\ttry {\n\t\t\t\tconsole.log(val);\n\t\t\t} catch(e) {}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t弹出提示\n\t\t*/\n\t\teject: function(er, val) {\n\t\t\tif (!this.vars['debug']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar errorVal = er[1];\n\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\terrorVal = errorVal.replace('[error]', val);\n\t\t\t}\n\t\t\tvar value = 'error ' + er[0] + ':' + errorVal;\n\t\t\ttry {\n\t\t\t\tthis.log(value);\n\t\t\t} catch(e) {}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t系统错误\n\t\t*/\n\t\tsysError: function(er, val) {\n\t\t\tvar ele= this.getByElement(this.vars['container']);\n\t\t\tvar errorVal = er[1];\n\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\terrorVal = errorVal.replace('[error]', val);\n\t\t\t}\n\t\t\tvar value = 'error ' + er[0] + ':' + errorVal;\n\t\t\tele.innerHTML=value;\n\t\t\tthis.css(ele,{\n\t\t\t\tbackgroundColor: '#000',\n\t\t\t\tcolor:'#FFF',\n\t\t\t\ttextAlign:'center',\n\t\t\t\tlineHeight:ele.offsetHeight+'px'\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断变量类型\n\t\t*/\n\t\tvarType:function(val){\n\t\t\tif(val===null){\n\t\t\t\treturn 'string';\n\t\t\t}\n\t\t\tvar type = typeof(val);\n\t\t\tswitch(type) {\n\t\t\t\tcase 'string':\n\t\t\t\t\treturn 'string';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'number':\n\t\t\t\t\treturn 'number';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'boolean':\n\t\t\t\t\treturn 'boolean';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'function':\n\t\t\t\t\treturn 'function';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'symbol':\n\t\t\t\t\treturn 'symbol';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'object':\n\t\t\t\t\tif(!this.isUndefined(typeof(val.length))) {\n\t\t\t\t\t\treturn 'array';\n\t\t\t\t\t}\n\t\t\t\t\treturn 'object';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'undefined':\n\t\t\t\t\treturn 'undefined';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn typeof(val);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t获取此js文件所在路径\n\t\t*/\n\t\tgetPath:function(){\n\t\t\tvar scriptList = document.scripts,\n\t\t\tthisPath = scriptList[scriptList.length - 1].src;\n\t\t\tfor(var i=0;i<scriptList.length;i++){\n\t\t\t\tvar scriptName=scriptList[i].getAttribute('name') || scriptList[i].getAttribute('data-name');\n\t\t\t\tvar src=scriptList[i].src.slice(scriptList[i].src.lastIndexOf('/') + 1,scriptList[i].src.lastIndexOf('.'));\n\t\t\t\tif((scriptName && (scriptName=='ckplayer' || scriptName=='ckplayer.min')) || (scriptList[i].src && (src=='ckplayer' || src=='ckplayer.min'))){\n\t\t\t\t\tthisPath = scriptList[i].src;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn thisPath.substring(0, thisPath.lastIndexOf('/') + 1);\n\t\t},\n\t\tgetConfigObject:function(){\n\t\t\treturn this.jsonConfig;\n\t\t},\n\t\tgetStyleObject:function(){\n\t\t\treturn this.jsonStyle;\n\t\t},\n\t\tgetLanguageObject:function(){\n\t\t\treturn this.jsongLanguage;\n\t\t}\n\t};\n\twindow.ckplayer = ckplayer;\n})();\n","date":"2022-12-11T10:10:07.575Z","updated":"2022-12-11T10:10:07.575Z","path":"js/ckplayer.js","layout":"false","title":"","comments":1,"_id":"clbj7iclq0001m0lmbj1w73mp","content":"/*\n\t软件名称：ckplayer\n\t软件版本：X2\n\t软件作者：niandeng\n\t软件网站：http://www.ckplayer.com\n\t--------------------------------------------------------------------------------------------------------------------\n\t开发说明：\n\t使用的主要程序语言：javascript(js)及actionscript3.0(as3.0)(as3.0主要用于flashplayer部分的开发，不在该页面呈现)\n\t功能：播放视频\n\t特点：兼容HTML5-VIDEO(优先)以及FlashPlayer\n\t--------------------------------------------------------------------------------------------------------------------\n\t使用开源代码部分：\n\t1：flashls-http://flashls.org/\n\t=====================================================================================================================\n*/\n\n!(function() {\n\tvar ckplayer = function(obj) {\n\t\t/*\n\t\t\tjavascript部分开发所用的注释说明：\n\t\t\t1：初始化-程序调用时即运行的代码部分\n\t\t\t2：定义样式-定义容器（div,p,canvas等）的样式表，即css\n\t\t\t3：监听动作-监听元素节点（单击-click，鼠标进入-mouseover，鼠标离开-mouseout，鼠标移动-mousemove等）事件\n\t\t\t4：监听事件-监听视频的状态（播放，暂停，全屏，音量调节等）事件\n\t\t\t5：共用函数-这类函数在外部也可以使用\n\t\t\t6：全局变量-定义成全局使用的变量\n\t\t\t7：其它相关注释\n\t\t\t全局变量说明：\n\t\t\t在本软件中所使用到的全局变量（变量（类型）包括Boolean，String，Int，Object（包含元素对象和变量对象），Array，Function等）\n\t\t\t下面列出重要的全局变量：\n\t\t\t\tV:Object：视频对象\n\t\t\t\tVA:Array：视频列表（包括视频地址，类型，清晰度说明）\n\t\t\t\tID:String：视频ID\n\t\t\t\tCB:Object：控制栏各元素的集合对象\n\t\t\t\tPD:Object：内部视频容器对象\n\t\t\t---------------------------------------------------------------------------------------------\n\t\t\t程序开始\n\t\t\t下面为需要初始化配置的全局变量\n\t\t*/\n\t\t//全局变量：播放器默认配置，在外部传递过来相应配置后，则进行相关替换\n\t\tthis.varsDefault = {\n\t\t\tplayerID: '',//播放器ID\n\t\t\tcontainer: '',//视频容器的ID\n\t\t\tvariable: 'ckplayer',//播放函数(变量)名称\n\t\t\tvolume: 0.8,//默认音量，范围0-1\n\t\t\tposter: '',//封面图片地址\n\t\t\tautoplay: false,//是否自动播放\n\t\t\tloop: false,//是否需要循环播放\n\t\t\tlive: false,//是否是直播\n\t\t\tduration: 0,//指定总时间\n\t\t\tforceduration:0,//强制使用该时间为总时间\n\t\t\tseek: 0,//默认需要跳转的秒数\n\t\t\tdrag: '',//拖动时支持的前置参数\n\t\t\tfront: '',//前一集按钮动作\n\t\t\tnext: '',//下一集按钮动作\n\t\t\tloaded: '',//加载播放器后调用的函数\n\t\t\tflashplayer: false,//设置成true则强制使用flashplayer\n\t\t\thtml5m3u8: false,//PC平台上是否使用h5播放器播放m3u8\n\t\t\ttrack: null,//字幕轨道\n\t\t\tcktrack: null,//ck字幕\n\t\t\tcktrackdelay:0,//字幕显示延迟时间\n\t\t\tpreview: null,//预览图片对象\n\t\t\tprompt: null,//提示点功能\n\t\t\tvideo: null,//视频地址\n\t\t\tconfig: '',//调用配置函数名称\n\t\t\ttype: '',//视频格式\n\t\t\tcrossorigin: '',//设置html5视频的crossOrigin属性\n\t\t\tcrossdomain: '',//安全策略文件地址\n\t\t\tunescape: false,//默认flashplayer里需要解码\n\t\t\tmobileCkControls: false,//移动端h5显示控制栏\n\t\t\tmobileAutoFull: true,//移动端是否默认全屏播放\n\t\t\tplaybackrate: 1,//默认倍速\n\t\t\th5container: '',//h5环境中使用自定义容器\n\t\t\tdebug: false,//是否开启调试模式\n\t\t\toverspread:true,//是否让视频铺满播放器\n\t\t\tlanguage:'',//语言文件路径\n\t\t\tstyle:'',//风格文件路径\n\t\t\t//以下为广告相关配置\n\t\t\tadfront: '',\n\t\t\tadfronttime: '',\n\t\t\tadfrontlink: '',\n\t\t\tadpause: '',\n\t\t\tadpausetime: '',\n\t\t\tadpauselink: '',\n\t\t\tadinsert: '',\n\t\t\tadinserttime: '',\n\t\t\tadinsertlink: '',\n\t\t\tinserttime: '',\n\t\t\tadend: '',\n\t\t\tadendtime: '',\n\t\t\tadendlink: '',\n\t\t\tadvertisements: ''\n\t\t};\n\t\t//全局变量:vars\n\t\tthis.vars = {};\n\t\t//全局变量：配置文件函数\n\t\tthis.ckConfig = {};\n\t\tthis.jsonConfig = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：语言配置\n\t\tthis.ckLanguage = {};\n\t\tthis.jsonLanguage = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：语言配置\n\t\tthis.ckStyle = {};\n\t\tthis.jsonStyle = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：右键菜单：[菜单标题,类型(link:链接，default:灰色，function：调用函数，javascript:调用js函数),执行内容(包含链接地址，函数名称),[line(间隔线)]]\n\t\tthis.contextMenu = [['ckplayer', 'link', 'http://www.ckplayer.com', '_blank'], ['version:X2', 'default', 'line']];\n\t\t//全局变量：错误提示列表\n\t\tthis.errorList = [\n\t\t\t['000', 'Object does not exist'], \n\t\t\t['001', 'Variables type is not a object'], \n\t\t\t['002', 'Video object does not exist'],\n\t\t\t['003', 'Video object format error'], \n\t\t\t['004', 'Video object format error'], \n\t\t\t['005', 'Video object format error'], \n\t\t\t['006', '[error] does not exist'], \n\t\t\t['007', 'Ajax error'],\n\t\t\t['008', 'Ajax error'],\n\t\t\t['009', 'Ajax object format error'],\n\t\t\t['010', 'Ajax.status:[error]'],\n\t\t\t['011', '[error] File loading failed or error'],\n\t\t\t['012', '[error]']\n\t\t];\n\t\t//全局变量：HTML5变速播放的值数组/如果不需要可以设置成null\n\t\tthis.playbackRateArr = [[0.5, '0.5X'], [1, '1X'], [1.25, '1.25X'], [1.5, '1.5X'], [2, '2X'], [4, '4X']];\n\t\t//全局变量：保存倍速\n\t\tthis.playbackRateTemp=1;\n\t\t//全局变量：HTML5默认变速播放的值\n\t\tthis.playbackRateDefault = 1;\n\t\t//全局变量：HTML5当前显示的字幕编号\n\t\tthis.subtitlesTemp=-1;\n\t\t//全局变量：定义logo\n\t\tthis.logo = '';\n\t\t//全局变量：是否加载了播放器\n\t\tthis.loaded = false;\n\t\t//全局变量：计时器，监听视频加载出错的状态\n\t\tthis.timerError = null;\n\t\t//全局变量：是否出错\n\t\tthis.error = false;\n\t\t//全局变量：出错地址的数组\n\t\tthis.errorUrl = [];\n\t\t//全局变量：计时器，监听全屏与非全屏状态\n\t\tthis.timerFull = null;\n\t\t//全局变量：是否全屏状态\n\t\tthis.full = false;\n\t\t//全局变量：计时器，监听当前的月/日 时=分=秒\n\t\tthis.timerTime = null;\n\t\t//全局变量：计时器，监听视频加载\n\t\tthis.timerBuffer = null;\n\t\t//全局变量：设置进度按钮及进度条是否跟着时间变化，该属性主要用来在按下进度按钮时暂停进度按钮移动和进度条的长度变化\n\t\tthis.isTimeButtonMove = true;\n\t\t//全局变量：进度栏是否有效，如果是直播，则不需要监听时间让进度按钮和进度条变化\n\t\tthis.isTimeButtonDown = false;\n\t\t//全局变量：计时，用来计算鼠标离开清晰度或字幕或倍速按钮后的计算时间标准\n\t\tthis.timeButtonOver=null;\n\t\t//全局变量：鼠标离开清晰度或字幕或倍速是否需要隐藏\n\t\tthis.buttonHide=false;\n\t\t//全局变量：用来模拟双击功能的判断\n\t\tthis.isClick = false;\n\t\t//全局变量：计时器，用来模拟双击功能的计时器\n\t\tthis.timerClick = null;\n\t\t//全局变量：计时器，监听鼠标在视频上移动显示控制栏\n\t\tthis.timerCBar = null;\n\t\t//全局变量：播放视频时如果该变量的值大于0，则进行跳转后设置该值为0\n\t\tthis.needSeek = 0;\n\t\t//全局变量：当前音量\n\t\tthis.volume = 0;\n\t\t//全局变量：静音时保存临时音量\n\t\tthis.volumeTemp = 0;\n\t\t//全局变量/变量类型：Number/功能：当前播放时间\n\t\tthis.time = 0;\n\t\t//全局变量：定义首次调用\n\t\tthis.isFirst = true;\n\t\t//全局变量：是否使用HTML5-VIDEO播放\n\t\tthis.html5Video = true;\n\t\t//全局变量记录视频容器节点的x;y\n\t\tthis.pdCoor = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\t//全局变量：判断当前使用的播放器类型，html5video或flashplayer\n\t\tthis.playerType = '';\n\t\t//全局变量：加载进度条的长度\n\t\tthis.loadTime = 0;\n\t\t//全局变量：body对象\n\t\tthis.body = document.body || document.documentElement;\n\t\t//全局变量：播放器\n\t\tthis.V = null;\n\t\t//全局变量：保存外部js监听事件数组\n\t\tthis.listenerJsArr = [];\n\t\t//全局变量：保存控制栏显示元素的总宽度\n\t\tthis.buttonLen = 0;\n\t\t//全局变量：保存控制栏显示元素的数组\n\t\tthis.buttonArr = [];\n\t\t//全局变量：保存播放器上新增元件的数组\n\t\tthis.elementArr = [];\n\t\t//全局变量：保存播放器上弹幕的临时数组\n\t\tthis.elementTempArr = [];\n\t\t//全局变量：字幕内容\n\t\tthis.track = [];\n\t\t//全局变量：字幕索引\n\t\tthis.trackIndex = 0;\n\t\t//全局变量：当前显示的字幕内容\n\t\tthis.nowTrackShow = {\n\t\t\tsn: ''\n\t\t};\n\t\t//全局变量：保存字幕元件数组\n\t\tthis.trackElement = [];\n\t\t//全局变量：将视频转换为图片\n\t\tthis.timerVCanvas = null;\n\t\t//全局变量：animate，缓动对象数组\n\t\tthis.animateArray = [];\n\t\t//全局变量：保存animate的元件\n\t\tthis.animateElementArray = [];\n\t\t//全局变量：保存需要在暂停时停止缓动的数组\n\t\tthis.animatePauseArray = [];\n\t\t//全局变量：预览图片加载状态/0=没有加载，1=正在加载，2=加载完成\n\t\tthis.previewStart = 0;\n\t\t//全局变量：预览图片容器\n\t\tthis.previewDiv = null;\n\t\t//全局变量：预览框\n\t\tthis.previewTop = null;\n\t\t//全局变量：预览框的宽\n\t\tthis.previewWidth = 120;\n\t\t//全局变量：预览图片容器缓动函数\n\t\tthis.previewTween = null;\n\t\t//全局变量：是否是m3u8格式，是的话则可以加载hls.js\n\t\tthis.isM3u8 = false;\n\t\t//全局变量：保存提示点数组\n\t\tthis.promptArr = [];\n\t\t//全局变量：显示提示点文件的容器\n\t\tthis.promptElement = null;\n\t\t//全局变量：控制栏是否显示\n\t\tthis.conBarShow = true;\n\t\t//全局变量：是否监听过h5的错误\n\t\tthis.errorAdd = false;\n\t\t//全局变量：是否发送了错误\n\t\tthis.errorSend = false;\n\t\t//全局变量：控制栏是否隐藏\n\t\tthis.controlBarIsShow = true;\n\t\t//全局变量，保存当前缩放比例\n\t\tthis.videoScale = 1;\n\t\t//全局变量：设置字体\n\t\tthis.fontFamily = '\"Microsoft YaHei\"; YaHei; \"\\5FAE\\8F6F\\96C5\\9ED1\"; SimHei; \"\\9ED1\\4F53\";Arial';\n\t\t//全局变量：记录第一次拖动进度按钮时的位置\n\t\tthis.timeSliderLeftTemp = 0;\n\t\t//全局变量：判断是否记录了总时间\n\t\tthis.durationSendJS = false;\n\t\t//全局变量：初始化广告分析是否结束设置\n\t\tthis.adAnalysisEnd = false;\n\t\t//全局变量：广告变量\n\t\tthis.advertisements = {};\n\t\t//全局变量：是否是第一次播放视频\n\t\tthis.isFirstTimePlay = true;\n\t\t//全局变量：当前需要播放的广告类型\n\t\tthis.adType = '';\n\t\t//全局变量：播放广告计数\n\t\tthis.adI = 0;\n\t\t//全局变量：要播放的临时地址\n\t\tthis.videoTemp = {\n\t\t\tsrc: '',\n\t\t\tsource: '',\n\t\t\tcurrentSrc: '',\n\t\t\tloop: false\n\t\t};\n\t\t//全局变量：当前要播放的广告组总时间\n\t\tthis.adTimeAllTotal = 0;\n\t\t//全局变量：肖前要播放的广告时间\n\t\tthis.adTimeTotal = 0;\n\t\t//全局变量：用来做倒计时\n\t\tthis.adCountDownObj = null;\n\t\t//全局变量：前置，中插，结尾广告是否已开始运行\n\t\tthis.adPlayStart = false;\n\t\t//全局变量：目前是否在播放广告\n\t\tthis.adPlayerPlay = false;\n\t\t//全局变量：当前广告是否暂停\n\t\tthis.adIsPause = false;\n\t\t//全局变量：视频广告是否静音\n\t\tthis.adVideoMute = false;\n\t\t//全局变量：是否需要记录当前播放的时间供广告播放结束后进行跳转\n\t\tthis.adIsVideoTime = false;\n\t\t//全局变量：后置广告是否播放\n\t\tthis.endAdPlay = false;\n\t\t//全局变量：暂停广告是否在显示\n\t\tthis.adPauseShow = false;\n\t\t//全局变量：是否需要重置广告以实现重新播放时再播放一次\n\t\tthis.adReset = false;\n\t\t//全局变量：记录鼠标在视频上点击时的坐标\n\t\tthis.videoClickXy={x:0,y:0};\n\t\t//全局变量：是否在播放广告时播放过视频广告\n\t\tthis.adVideoPlay = false;\n\t\t\n\t\t//全局变量：临时存储已加载时间的变量\n\t\tthis.loadTimeTemp=0;\n\t\t//全局变量，临时存储hls形式下首次加载时是否需要暂停或播放的判断\n\t\tthis.hlsAutoPlay=true;\n\t\t//全局变量，loading是否显示\n\t\tthis.loadingShow=false;\n\t\t//全局变量，保存视频地址字符串的\n\t\tthis.videoString='';\n\t\t//全局变量，保存所有自定义元件的数组\n\t\tthis.customeElement=[];\n\t\t//全局变量，保存PD的宽高\n\t\tthis.cdWH={w:0,h:0};\n\t\t//全局变量，保存所有的元素变量\n\t\tthis.CB={};\n\t\t//全局变量，调用当前路径\n\t\tthis.ckplayerPath=this.getPath();\n\t\tif (obj) {\n\t\t\tthis.embed(obj);\n\t\t}\n\t};\n\tckplayer.prototype = {\n\t\t/*\n\t\t\t主要函数部分开始\n\t\t\t主接口函数：\n\t\t\t调用播放器需初始化该函数\n\t\t*/\n\t\tembed: function(c) {\n\t\t\t//c:Object：是调用接口传递的属性对象\n\t\t\tif (window.location.href.substr(0, 7) == 'file://') {//如果是使用的file协议打网页则弹出提示\n\t\t\t\talert('Please use the HTTP protocol to open the page');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(c)) {\n\t\t\t\tthis.eject(this.errorList[0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(c) != 'object') {\n\t\t\t\tthis.eject(this.errorList[1]);\n\t\t\t}\n\t\t\tthis.vars = this.standardization(this.varsDefault, c);\n\t\t\tif (!this.vars['mobileCkControls'] && this.isMobile()) {\n\t\t\t\tthis.vars['flashplayer'] = false;\n\t\t\t\tthis.conBarShow = false;\n\t\t\t}\n\t\t\tvar videoStringTemp = this.vars['video'];\n\t\t\tif (!videoStringTemp) {\n\t\t\t\tthis.eject(this.errorList[2]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(videoStringTemp) == 'string') {\n\t\t\t\tif (videoStringTemp.substr(0, 3) == 'CK:' || videoStringTemp.substr(0, 3) == 'CE:' || videoStringTemp.substr(8, 3) == 'CK:' || videoStringTemp.substr(8, 3) == 'CE:') {\n\t\t\t\t\tthis.vars['flashplayer'] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.varType(videoStringTemp) == 'object') {\n\t\t\t\tif (videoStringTemp.length > 1) {\n\t\t\t\t\tif (videoStringTemp[0][0].substr(0, 3) == 'CK:' || videoStringTemp[0][0].substr(0, 3) == 'CE:' || videoStringTemp[0][0].substr(8, 3) == 'CK:' || videoStringTemp[0][0].substr(8, 3) == 'CE:') {\n\t\t\t\t\t\tthis.vars['flashplayer'] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.videoString=videoStringTemp;\n\t\t\tthis.checkUpConfig();\t\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载config文件\n\t\t*/\n\t\tcheckUpConfig:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar configPath='';\n\t\t\tvar jsTemp=null;\n\t\t\tif (this.vars['config']) {\n\t\t\t\tif (this.vars['config'].substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp= eval(this.vars['config'] + '()');\n\t\t\t\t\tif(!this.isUndefined(jsTemp)){\n\t\t\t\t\t\tthis.ckConfig=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.jsonConfig=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.loadConfig(null);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadConfig(this.ckplayerPath+this.vars['config']);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadConfig(this.ckplayerPath+this.vars['config'].substr(8));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t\t\tvar isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerConfig)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp= ckplayerConfig();\n\t\t\t          \tif(jsTemp){\n\t\t\t          \t\tthis.ckConfig=this.newObj(jsTemp);\n\t\t\t          \t\tthis.jsonConfig=this.newObj(jsTemp);\n\t\t\t          \t\tthis.loadConfig(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthis.loadConfig(this.ckplayerPath+'ckplayer.json');\n\t\t\t\t\t\t}\n\t\t\t        }\n\t\t\t        else {\n\t\t\t           this.loadConfig(this.ckplayerPath+'ckplayer.json');\n\t\t\t        }\n\t\t\t    } catch(e) {\n\t\t\t    \tthisTemp.sysError(thisTemp.errorList[12],e);//系统错误\n\t\t\t    }\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadConfig:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.ckConfig=data;\n\t\t\t\t\t\t\tthisTemp.jsonConfig=thisTemp.newObj(data);\n\t\t\t\t\t\t\tif(!thisTemp.isUndefined(data['flashvars'])){\n\t\t\t\t\t\t\t\tthisTemp.vars=thisTemp.objectAssign(data['flashvars'],thisTemp.vars);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.checkUpLanguage();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'Config');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.checkUpLanguage();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载语言文件\n\t\t*/\n\t\tcheckUpLanguage:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar languagePath='';\n\t\t\tvar jsTemp=null;\n\t\t\tif (this.vars['language']) {\n\t\t\t\tlanguagePath=this.vars['language'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif (this.ckConfig['languagePath']) {\n\t\t\t\t\tlanguagePath=this.ckConfig['languagePath'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (languagePath) {\n\t\t\t\tif (languagePath.substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp = eval(languagePath + '()');\n\t\t\t\t\tif(jsTemp){\n\t\t\t\t\t\tthis.ckLanguage=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.jsonLanguage=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.loadLanguage(null);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadLanguage(this.ckplayerPath+languagePath);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadLanguage(this.ckplayerPath+languagePath.substr(8));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t\t\tvar isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerLanguage)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp = ckplayerLanguage();\n\t\t\t          \tif(jsTemp){\n\t\t\t          \t\tthis.ckLanguage=this.newObj(jsTemp);\n\t\t\t          \t\tthis.jsonLanguage=this.newObj(jsTemp);\n\t\t\t          \t\tthis.loadLanguage(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t this.loadLanguage(this.ckplayerPath+'language.json');\n\t\t\t\t\t\t}\n\t\t\t        }\n\t\t\t        else {\n\t\t\t           this.loadLanguage(this.ckplayerPath+'language.json');\n\t\t\t        }\n\t\t\t    } catch(e) {\n\t\t\t    \tthisTemp.sysError(thisTemp.errorList[12],e);//系统错误\n\t\t\t    }\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadLanguage:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.ckLanguage=data;\n\t\t\t\t\t\t\tthisTemp.jsonLanguage=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.checkUpStyle();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'language.json');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.checkUpStyle();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载皮肤文件\n\t\t*/\n\t\tcheckUpStyle:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar stylePath='';\n\t\t\tvar jsTemp=null;\n\t\t\tvar configJs=this.newObj(this.ckConfig);\n\t\t\tif (this.vars['style']) {\n\t\t\t\tstylePath=this.vars['style'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif (this.ckConfig['stylePath']) {\n\t\t\t\t\tstylePath=''+this.ckConfig['stylePath'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (stylePath) {\n\t\t\t\tif (stylePath.substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp = eval(stylePath + '()');\n\t\t\t\t\tif(!this.isUndefined(jsTemp)){\n\t\t\t          \tthis.jsonStyle=this.newObj(jsTemp);\n\t\t\t          \tthis.ckStyle=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.ckStyle['advertisement']=this.objectAssign(configJs['style']['advertisement'],this.ckStyle['advertisement']);\n\t\t\t\t\t\tthis.ckStyle=this.objectAssign(configJs['style'],this.ckStyle);\n\t\t\t\t\t\tthis.loadStyle(null);\n\t\t\t        }\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadStyle(this.ckplayerPath+stylePath);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadStyle(this.ckplayerPath+stylePath.substr(8));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t       var isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerStyle)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){isFun=false;}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp= ckplayerStyle();\n\t\t\t          \tif(!this.isUndefined(jsTemp)){\n\t\t\t          \t\tthis.jsonStyle=this.newObj(jsTemp);\n\t\t\t          \t\tthis.ckStyle=this.newObj(jsTemp);\n\t\t\t\t\t\t\tthis.ckStyle['advertisement']=this.objectAssign(configJs['style']['advertisement'],this.ckStyle['advertisement']);\n\t\t\t\t\t\t\tthis.ckStyle=this.objectAssign(configJs['style'],this.ckStyle);\n\t\t\t\t\t\t\tthis.loadStyle(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthis.loadStyle(this.ckplayerPath+'style.json');\n\t\t\t\t\t\t}\n\t\t\t\t    }\n\t\t\t        else {\n\t\t\t           this.loadStyle(this.ckplayerPath+'style.json');\n\t\t\t        }\n\t\t\t    } catch(e) {}\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadStyle:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tvar configJs=this.newObj(this.ckConfig);\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.jsonStyle=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.ckStyle=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.ckStyle['advertisement']=thisTemp.objectAssign(configJs['style']['advertisement'],thisTemp.ckStyle['advertisement']);\n\t\t\t\t\t\t\tthisTemp.ckStyle=thisTemp.objectAssign(configJs['style'],thisTemp.ckStyle);\n\t\t\t\t\t\t\tthisTemp.loadConfigHandler();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'Style');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.loadConfigHandler();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t当config,language,style三个文件或函数处理完成后执行的动作\n\t\t*/\n\t\tloadConfigHandler:function(){\n\t\t\tif ((!this.supportVideo() && this.vars['flashplayer'] != '') || (this.vars['flashplayer'] && this.uploadFlash()) || !this.isMsie()) {\n\t\t\t\tthis.html5Video = false;\n\t\t\t\tthis.getVideo();\n\t\t\t} \n\t\t\telse if (this.videoString) {\n\t\t\t\t//判断视频数据类型\n\t\t\t\tthis.analysedVideoUrl(this.videoString);\n\t\t\t} \n\t\t\telse {\n\t\t\t\tthis.eject(this.errorList[2]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据外部传递过来的video开始分析视频地址\n\t\t*/\n\t\tanalysedVideoUrl: function(video) {\n\t\t\tvar i = 0,\n\t\t\ty = 0;\n\t\t\tvar thisTemp = this;\n\t\t\tthis.VA = [];//定义全局变量VA：视频列表（包括视频地址，类型，清晰度说明）\n\t\t\tif (this.varType(video) == 'string') { //如果是字符形式的则判断后缀进行填充\n\t\t\t\tif (video.substr(0, 8) != 'website:') {\n\t\t\t\t\tthis.VA = [[video, '', '', 0]];\n\t\t\t\t\tvar fileExt = this.getFileExt(video);\n\t\t\t\t\tswitch (fileExt) {\n\t\t\t\t\tcase '.mp4':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/mp4';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '.ogg':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/ogg';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '.webm':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/webm';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tthis.getVideo();\n\t\t\t\t} else {\n\t\t\t\t\tif (this.html5Video) {\n\t\t\t\t\t\tvar ajaxObj = {\n\t\t\t\t\t\t\turl: video.substr(8),\n\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\t\t\tthisTemp.analysedUrl(data);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[5]);\n\t\t\t\t\t\t\t\t\tthis.VA = video;\n\t\t\t\t\t\t\t\t\tthisTemp.getVideo();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror:function(data){\n\t\t\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.VA = video;\n\t\t\t\t\t\tthis.getVideo();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t} \n\t\t\telse if(this.varType(video)=='array'){//如果视频地址是数组\n\t\t\t\tif (this.varType(video[0])=='array') { //如果视频地址是二维数组\n\t\t\t\t\tthis.VA = video;\n\t\t\t\t}\n\t\t\t\tthis.getVideo();\n\t\t\t}\n\t\t\telse if(this.varType(video)=='object'){\n\t\t\t\t/*\n\t\t\t\t\t如果video格式是对象形式，则分二种\n\t\t\t\t\t如果video对象里包含type，则直接播放\n\t\t\t\t*/\n\t\t\t\tif (!this.isUndefined(video['type'])) {\n\t\t\t\t\tthis.VA.push([video['file'], video['type'], '', 0]);\n\t\t\t\t\tthis.getVideo();\n\t\t\t\t} else {\n\t\t\t\t\tthis.eject(this.errorList[5]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.eject(this.errorList[4]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t对请求到的视频地址进行重新分析\n\t\t*/\n\t\tanalysedUrl: function(data) {\n\t\t\tthis.vars = this.standardization(this.vars, data);\n\t\t\tif (!this.isUndefined(data['video'])) {\n\t\t\t\tthis.vars['video'] = data['video'];\n\t\t\t}\n\t\t\tthis.analysedVideoUrl(this.vars['video']);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t检查浏览器支持的视频格式，如果是则将支持的视频格式重新分组给播放列表\n\t\t*/\n\t\tgetHtml5Video: function() {\n\t\t\tvar va = this.VA;\n\t\t\tvar nva = [];\n\t\t\tvar mobile = this.isMobile();\n\t\t\tvar video = document.createElement('video');\n\t\t\tvar codecs = function(type) {\n\t\t\t\tvar cod = '';\n\t\t\t\tswitch (type) {\n\t\t\t\tcase 'video/mp4':\n\t\t\t\t\tcod = 'avc1.4D401E, mp4a.40.2';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video/ogg':\n\t\t\t\t\tcod = 'theora, vorbis';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video/webm':\n\t\t\t\t\tcod = 'vp8.0, vorbis';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn cod;\n\t\t\t};\n\t\t\tvar supportType = function(vidType, codType) {\n\t\t\t\tif (!video.canPlayType) {\n\t\t\t\t\tthis.html5Video = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar isSupp = video.canPlayType(vidType + ';codecs=\"' + codType + '\"');\n\t\t\t\tif (isSupp == '') {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tif (this.vars['flashplayer'] || !this.isMsie()) {\n\t\t\t\tthis.html5Video = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (var i = 0; i < va.length; i++) {\n\t\t\t\tvar v = va[i];\n\t\t\t\tif (v) {\n\t\t\t\t\tif (v[1] != '' && !mobile && supportType(v[1], codecs(v[1])) && v[0].substr(0, 4) != 'rtmp') {\n\t\t\t\t\t\tnva.push(v);\n\t\t\t\t\t}\n\t\t\t\t\tif ((this.getFileExt(v[0]) == '.m3u8' || this.vars['type'] == 'video/m3u8' || this.vars['type'] == 'm3u8' || v[1] == 'video/m3u8' || v[1] == 'm3u8') && this.vars['html5m3u8'] && !mobile) {\n\t\t\t\t\t\tthis.isM3u8 = true;\n\t\t\t\t\t\tnva.push(v);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (nva.length > 0) {\n\t\t\t\tthis.VA = nva;\n\t\t\t} else {\n\t\t\t\tif (!mobile) {\n\t\t\t\t\tthis.html5Video = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据视频地址开始构建播放器\n\t\t*/\n\t\tgetVideo: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar v = this.vars;\n\t\t\t//如果存在广告字段则开始分析广告\n\t\t\tif (!this.adAnalysisEnd && (v['adfront'] != '' || v['adpause'] != '' || v['adinsert'] != '' || v['adend'] != '' || v['advertisements'] != '')) {\n\t\t\t\tthis.adAnalysisEnd = true;\n\t\t\t\tthis.adAnalysis();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//如果存在字幕则加载\n\t\t\tif (this.V) { //如果播放器已存在，则认为是从newVideo函数发送过来的请求\n\t\t\t\tthis.changeVideo();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.vars['cktrack']) {\n\t\t\t\tthis.loadTrack();\n\t\t\t}\n\t\t\tif (this.supportVideo() && !this.vars['flashplayer']) {\n\t\t\t\tthis.getHtml5Video(); //判断浏览器支持的视频格式\n\t\t\t}\n\t\t\tvar src = '',\n\t\t\tsource = '',\n\t\t\tposter = '',\n\t\t\tloop = '',\n\t\t\tautoplay = '',\n\t\t\ttrack = '',\n\t\t\tcrossorigin='';\n\t\t\tvar video = v['video'];\n\t\t\tvar i = 0;\n\t\t\tvar vBg=this.ckStyle['background']['backgroundColor'].replace('0x','#');\n\t\t\tthis.CD = this.getByElement(v['container']);\n\t\t\tvolume = v['volume'];\n\t\t\tif (this.isUndefined(this.CD)) {\n\t\t\t\tthis.eject(this.errorList[6], v['container']);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\t//开始构建播放器容器\n\t\t\tthis.V = undefined;\n\t\t\tvar thisPd = null;\n\t\t\tif (v['h5container'] != '') {\n\t\t\t\tthisPd = this.getByElement(v['h5container']);\n\t\t\t\tif (this.isUndefined(thisPd)) {\n\t\t\t\t\tthisPd = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar isVideoH5 = null; //isUndefined  thisPd\n\t\t\tif (v['playerID'] != '') {\n\t\t\t\tisVideoH5 = this.getByElement('#' + v['playerID']);\n\t\t\t\tif (this.isUndefined(isVideoH5)) {\n\t\t\t\t\tisVideoH5 = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (thisPd != null && isVideoH5 != null) {\n\t\t\t\tthis.PD = thisPd; //PD:定义播放器容器对象全局变量\n\t\t\t} else {\n\t\t\t\tvar playerID = 'ckplayer-' + this.randomString();\n\t\t\t\tvar playerDiv = document.createElement('div');\n\t\t\t\tplayerDiv.className = playerID;\n\t\t\t\tthis.CD.innerHTML = '';\n\t\t\t\tthis.CD.appendChild(playerDiv);\n\t\t\t\tthis.PD = playerDiv; //PD:定义播放器容器对象全局变量\n\t\t\t}\n\t\t\tthis.css(this.CD, {\n\t\t\t\tbackgroundColor: vBg,\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tposition: 'relative'\n\t\t\t});\n\t\t\tthis.css(this.PD, {\n\t\t\t\tbackgroundColor: vBg,\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '100%',\n\t\t\t\tfontFamily: this.fontFamily\n\t\t\t});\n\t\t\tif (this.html5Video) { //如果支持HTML5-VIDEO则默认使用HTML5-VIDEO播放器\n\t\t\t\t\n\t\t\t\t//禁止播放器容器上鼠标选择文本\n\t\t\t\tthis.PD.onselectstart = this.PD.ondrag = function() {\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t\t//播放器容器构建完成并且设置好样式\n\t\t\t\t//构建播放器\n\t\t\t\tif (this.VA.length == 1) {\n\t\t\t\t\tthis.videoTemp['src'] = decodeURIComponent(this.VA[0][0]);\n\t\t\t\t\tsrc = ' src=\"' + this.videoTemp['src'] + '\"';\n\n\t\t\t\t} else {\n\t\t\t\t\tvar videoArr = this.VA.slice(0);\n\t\t\t\t\tvideoArr = this.arrSort(videoArr);\n\t\t\t\t\tfor (i = 0; i < videoArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = videoArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t\tif (type == ' type=\"video/m3u8\"' || type == ' type=\"m3u8\"') {\n\t\t\t\t\t\t\t\ttype = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + decodeURIComponent(va[0]) + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.videoTemp['source'] = source;\n\t\t\t\t}\n\t\t\t\t//分析视频地址结束\n\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\tautoplay = ' autoplay=\"autoplay\"';\n\t\t\t\t}\n\t\t\t\tif (v['poster']) {\n\t\t\t\t\tposter = ' poster=\"' + v['poster'] + '\"';\n\t\t\t\t}\n\t\t\t\tif (v['loop']) {\n\t\t\t\t\tloop = ' loop=\"loop\"';\n\t\t\t\t}\n\t\t\t\tif (v['seek'] > 0) {\n\t\t\t\t\tthis.needSeek = v['seek'];\n\t\t\t\t}\n\t\t\t\tif (v['track'] != null && v['cktrack'] == null) {\n\t\t\t\t\tvar trackArr = v['track'];\n\t\t\t\t\tvar trackDefault = '';\n\t\t\t\t\tvar defaultHave = false;\n\t\t\t\t\tfor (i = 0; i < trackArr.length; i++) {\n\t\t\t\t\t\tvar trackObj = trackArr[i];\n\t\t\t\t\t\tif (trackObj['default'] && !defaultHave) {\n\t\t\t\t\t\t\ttrackDefault = ' default';\n\t\t\t\t\t\t\tdefaultHave = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttrackDefault = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttrack += '<track kind=\"' + trackObj['kind'] + '\" src=\"' + trackObj['src'] + '\" srclang=\"' + trackObj['srclang'] + '\" label=\"' + trackObj['label'] + '\"' + trackDefault + '>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(v['crossorigin']){\n\t\t\t\t\tcrossorigin=' crossorigin=\"'+v['crossorigin']+'\"';\n\t\t\t\t}\n\t\t\t\tvar autoLoad = this.ckConfig['config']['autoLoad'];\n\t\t\t\tvar preload = '';\n\t\t\t\tif (!autoLoad) {\n\t\t\t\t\tpreload = ' preload=\"meta\"';\n\t\t\t\t}\n\t\t\t\tvar vid = this.randomString();\n\t\t\t\tvar controls = '';\n\t\t\t\tvar mobileAutoFull = v['mobileAutoFull'];\n\t\t\t\tvar mobileautofull = '';\n\t\t\t\tif (!mobileAutoFull) {\n\t\t\t\t\tmobileautofull = ' x-webkit-airplay=\"true\" playsinline  webkit-playsinline=\"true\"  x5-video-player-type=\"h5\"';\n\t\t\t\t}\n\t\t\t\tif(this.isMobile()){\n\t\t\t\t\tcontrols = ' controls=\"controls\"';\n\t\t\t\t}\n\t\t\t\tif (isVideoH5 != null && thisPd != null) {\n\t\t\t\t\tthis.V = isVideoH5;\n\t\t\t\t\tif (v['poster']) {\n\t\t\t\t\t\tthis.V.poster = v['poster'];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar html = '';\n\t\t\t\t\tif (!this.isM3u8) {\n\t\t\t\t\t\thtml = '<video id=\"' + vid + '\"' + src + ' controlslist=\"nodownload\" width=\"100%\" height=\"100%\"' + autoplay + poster + loop + preload + controls + mobileautofull + track + crossorigin+'>' + source + '</video>';\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml = '<video id=\"' + vid + '\" controlslist=\"nodownload\" width=\"100%\" height=\"100%\"' + poster + loop + preload + controls + mobileautofull + track + crossorigin+'></video>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.PD.innerHTML = html;\n\t\t\t\t\tthis.V = this.getByElement('#' + vid); //V：定义播放器对象全局变量\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.volume = volume; //定义音量\n\t\t\t\t\tif (this.playbackRateArr && this.vars['playbackrate'] > -1) {\n\t\t\t\t\t\tif (this.vars['playbackrate'] < this.playbackRateArr.length) {\n\t\t\t\t\t\t\tthis.playbackRateDefault = this.vars['playbackrate'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.V.playbackRate = this.playbackRateArr[this.playbackRateDefault][0]; //定义倍速\n\t\t\t\t\t}\n\t\t\t\t} catch(error) {}\n\t\t\t\tthis.css(this.V, {\n\t\t\t\t\tbackgroundColor: vBg,\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100%'\n\t\t\t\t});\n\t\t\t\tif (this.isM3u8) {\n\t\t\t\t\tvar loadJsHandler = function() {\n\t\t\t\t\t\tthisTemp.embedHls(thisTemp.VA[0][0], v['autoplay']);\n\t\t\t\t\t};\n\t\t\t\t\tthis.loadJs(this.ckplayerPath + 'hls/hls.min.js', loadJsHandler);\n\t\t\t\t}\n\t\t\t\tthis.css(this.V, 'backgroundColor', vBg);\n\t\t\t\t//创建一个画布容器\n\t\t\t\tif (this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\t\tvar canvasDiv = document.createElement('div');\n\t\t\t\t\tthis.PD.appendChild(canvasDiv);\n\t\t\t\t\tthis.MD = canvasDiv; //定义画布存储容器\n\t\t\t\t\tthis.css(this.MD, {\n\t\t\t\t\t\tbackgroundColor: vBg,\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\ttop: '0px',\n\t\t\t\t\t\tzIndex: '10'\n\t\t\t\t\t});\n\t\t\t\t\tvar cvid = 'ccanvas' + this.randomString();\n\t\t\t\t\tthis.MD.innerHTML = this.newCanvas(cvid, this.MD.offsetWidth, this.MD.offsetHeight);\n\t\t\t\t\tthis.MDC = this.getByElement(cvid + '-canvas');\n\t\t\t\t\tthis.MDCX = this.MDC.getContext('2d');\n\t\t\t\t}\n\t\t\t\tthis.playerType = 'html5video';\n\t\t\t\t//播放器构建完成并且设置好样式\n\t\t\t\t//建立播放器的监听函数，包含操作监听及事件监听\n\t\t\t\tthis.addVEvent();\n\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t//根据清晰度的值构建清晰度切换按钮\n\t\t\t\t\tthis.definition();\n\t\t\t\t\tif (!this.vars['live'] && this.playbackRateArr && this.vars['playbackrate'] > -1) {\n\t\t\t\t\t\tthis.playbackRate();\n\t\t\t\t\t}\n\t\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\t\tthis.loadingStart(true);\n\t\t\t\t\t}\n\t\t\t\t\tthis.subtitleSwitch();\n\t\t\t\t}\n\t\t\t\tthis.playerLoad();\n\t\t\t} else { //如果不支持HTML5-VIDEO则调用flashplayer\n\t\t\t\tthis.embedSWF();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t分析广告数据\n\t\t*/\n\t\tadAnalysis: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar v = this.vars;\n\t\t\tvar isAdvShow = [];\n\t\t\tvar i = 0;\n\t\t\tif (v['advertisements'] != '' && v['advertisements'].substr(0, 8) == 'website:') {\n\t\t\t\tvar ajaxObj = {\n\t\t\t\t\turl: v['advertisements'].substr(8),\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\tvar newData = {};\n\t\t\t\t\t\t\tvar val = null;\n\t\t\t\t\t\t\t//对广告进行分析\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(data['front']) || !thisTemp.isUndefined(data['pause']) || !thisTemp.isUndefined(data['end']) || !thisTemp.isUndefined(data['insert']) || !thisTemp.isUndefined(data['other'])) {\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['front']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['front'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['pause']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['pause'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['insert']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['insert'] = val;\n\t\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(data['inserttime'])) {\n\t\t\t\t\t\t\t\t\t\t\tnewData['inserttime'] = thisTemp.arrayInt(data['inserttime']);\n\t\t\t\t\t\t\t\t\t\t\tisAdvShow = [];\n\t\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < newData['inserttime'].length; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\tisAdvShow.push(false);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tnewData['insertPlay'] = isAdvShow;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['end']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['end'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['other']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['other'] = val;\n\t\t\t\t\t\t\t\t\t\tisAdvShow = [];\n\t\t\t\t\t\t\t\t\t\tvar arrTemp = [];\n\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < val.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\tisAdvShow.push(false);\n\t\t\t\t\t\t\t\t\t\t\tarrTemp.push(parseInt('0' + val[i]['startTime']));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnewData['othertime'] = arrTemp;\n\t\t\t\t\t\t\t\t\t\tnewData['otherPlay'] = isAdvShow;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\tthisTemp.log(event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.advertisements = newData;\n\t\t\t\t\t\t\t//对广告进行分析结束\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisTemp.getVideo();\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){}\n\t\t\t\t};\n\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t} else {\n\t\t\t\t//根据广告分析\n\t\t\t\tthis.adAnalysisOne('front', 'adfront', 'adfronttime', 'adfrontlink', 'adfronttype');\n\t\t\t\tthis.adAnalysisOne('pause', 'adpause', 'adpausetime', 'adpauselink', 'adpausetype');\n\t\t\t\tthis.adAnalysisOne('insert', 'adinsert', 'adinserttime', 'adinsertlink', 'adinserttype');\n\t\t\t\tthis.adAnalysisOne('end', 'adend', 'adendtime', 'adendlink', 'adendtype');\n\t\t\t\tif (!this.isUndefined(this.advertisements['insert'])) {\n\t\t\t\t\tif (!this.isUndefined(v['inserttime'])) {\n\t\t\t\t\t\tthisTemp.advertisements['inserttime'] = v['inserttime'];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!this.isUndefined(thisTemp.advertisements['inserttime'])) {\n\t\t\t\t\tthisTemp.advertisements['inserttime'] = thisTemp.arrayInt(thisTemp.advertisements['inserttime']);\n\t\t\t\t\tisInsert = [];\n\t\t\t\t\tfor (i = 0; i < thisTemp.advertisements['inserttime'].length; i++) {\n\t\t\t\t\t\tisInsert.push(false);\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.advertisements['insertPlay'] = isInsert;\n\t\t\t\t}\n\t\t\t\tthisTemp.getVideo();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t将广告数组数据里不是视频和图片的去除\n\t\t*/\n\t\tarrayDel: function(arr) {\n\t\t\tif(this.isUndefined(arr)){\n\t\t\t\treturn arr;\n\t\t\t}\n\t\t\tif (arr.length == 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar newArr = [];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar type = arr[i]['type'];\n\t\t\t\tif (type == 'mp4' || type == 'mov' || this.isStrImage(type)) {\n\t\t\t\t\tnewArr.push(arr[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (newArr.length > 0) {\n\t\t\t\treturn newArr;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\t/*分析单个类型的广告*/\n\t\tadAnalysisOne: function(adType, adName, adTime, adLink, adStype) {\n\t\t\tvar v = this.vars;\n\t\t\tif (this.isUndefined(v[adName])) {\n\t\t\t\tv[adName] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adTime])) {\n\t\t\t\tv[adTime] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adLink])) {\n\t\t\t\tv[adLink] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adStype])) {\n\t\t\t\tv[adStype] = '';\n\t\t\t}\n\t\t\tif (v[adName] != '') {\n\t\t\t\tvar adList = [];\n\t\t\t\tvar ad = v[adName].split(',');\n\t\t\t\tvar adtime = v[adTime].split(',');\n\t\t\t\tvar adlink = v[adLink].split(',');\n\t\t\t\tvar adstype = v[adStype].split(',');\n\t\t\t\tvar i = 0;\n\t\t\t\tif (ad.length > 0) {\n\t\t\t\t\tvar adLinkLen = adlink.length,\n\t\t\t\t\tadTimeLen = adtime.length;\n\t\t\t\t\tif (v[adLink] == '') {\n\t\t\t\t\t\tadLinkLen = 0;\n\t\t\t\t\t\tadlink = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (v[adTime] == '') {\n\t\t\t\t\t\tadTimeLen = 0;\n\t\t\t\t\t\tadtime = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (adLinkLen < ad.length) {\n\t\t\t\t\t\tfor (i = adLinkLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadlink.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (adTimeLen < ad.length) {\n\t\t\t\t\t\tfor (i = adTimeLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadtime.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar adstypeLen = adstype.length;\n\t\t\t\t\tif (v[adStype] == '') {\n\t\t\t\t\t\tadstypeLen = 0;\n\t\t\t\t\t\tadstype = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (adstypeLen < ad.length) {\n\t\t\t\t\t\tfor (i = adstypeLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadstype.push(this.getFileExt(ad[i]).replace('.', ''));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (i = 0; i < ad.length; i++) {\n\t\t\t\t\t\tvar type = adstype[i];\n\t\t\t\t\t\tif (type == 'mp4' || type == 'mov' || this.isStrImage(type)) {\n\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\tfile: ad[i],\n\t\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t\t\ttime: parseInt(adtime[i]) > 0 ? parseInt(adtime[i]) : this.ckStyle['advertisement']['time'],\n\t\t\t\t\t\t\t\tlink: adlink[i]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tadList.push(obj);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (this.isUndefined(this.advertisements)) {\n\t\t\t\t\t\tthis.advertisements = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (adList.length > 0) {\n\t\t\t\t\t\tthis.advertisements[adType] = adList;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t发送播放器加载成功的消息\n\t\t*/\n\t\tplayerLoad: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.isFirst) {\n\t\t\t\tthis.isFirst = false;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthisTemp.loadedHandler();\n\t\t\t\t},1);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t建立播放器的监听函数，包含操作监听及事件监听\n\t\t*/\n\t\taddVEvent: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar duration=0;\n\t\t\t//监听视频单击事件\n\t\t\tvar eventVideoClick = function(event) {\n\t\t\t\tthisTemp.videoClickXy={x:event.clientX,y:event.clientY};\n\t\t\t\tthisTemp.videoClick();\n\t\t\t};\n\t\t\tthis.addListenerInside('click', eventVideoClick);\n\t\t\tthis.addListenerInside('click', eventVideoClick, this.MDC);\n\t\t\t//延迟计算加载失败事件\n\t\t\tthis.timerErrorFun();\n\t\t\t//监听视频加载到元数据事件\n\t\t\tvar eventJudgeIsLive = function(event) {\n\t\t\t\tthisTemp.sendJS('loadedmetadata');\n\t\t\t\tif (thisTemp.varType(thisTemp.V.duration) == 'number' && thisTemp.V.duration > 1) {\n\t\t\t\t\tduration = thisTemp.V.duration;\n\t\t\t\t\tif(!duration){\n\t\t\t\t\t\tif(thisTemp.vars['duration']>0){\n\t\t\t\t\t\t\tduration=thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.sendJS('duration', duration);\n\t\t\t\t\tthisTemp.formatInserttime(duration);\n\t\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\t\tthisTemp.advertisementsTime(duration + 1);\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.durationSendJS = true;\n\t\t\t\t}\n\t\t\t\tif (thisTemp.conBarShow) {\n\t\t\t\t\tthisTemp.V.controls=null;\n\t\t\t\t\tthisTemp.videoCss();\n\t\t\t\t}\n\t\t\t\tthisTemp.judgeIsLive();\n\t\t\t};\n\t\t\t//监听视频播放事件\n\t\t\tvar eventPlaying = function(event) {\n\t\t\t\tthisTemp.playingHandler();\n\t\t\t\tthisTemp.sendJS('play');\n\t\t\t\tthisTemp.sendJS('paused', false);\n\t\t\t\tif (!thisTemp.durationSendJS && thisTemp.varType(thisTemp.V.duration) == 'number' && thisTemp.V.duration > 0) {\n\t\t\t\t\tduration = thisTemp.V.duration;\n\t\t\t\t\tif(!duration){\n\t\t\t\t\t\tif(thisTemp.vars['duration']>0){\n\t\t\t\t\t\t\tduration=thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.durationSendJS = true;\n\t\t\t\t\tthisTemp.sendJS('duration', duration);\n\t\t\t\t\tthisTemp.formatInserttime(duration);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('playing', eventPlaying);\n\t\t\t//监听视频暂停事件\n\t\t\tvar eventPause = function(event) {\n\t\t\t\tthisTemp.pauseHandler();\n\t\t\t\tthisTemp.sendJS('pause');\n\t\t\t\tthisTemp.sendJS('paused', true);\n\t\t\t};\n\t\t\tthis.addListenerInside('pause', eventPause);\n\t\t\t//监听视频播放结束事件\n\t\t\tvar eventEnded = function(event) {\n\t\t\t\tthisTemp.endedHandler();\n\t\t\t};\n\t\t\tthis.addListenerInside('ended', eventEnded);\n\t\t\t//监听视频播放时间事件\n\t\t\tvar eventTimeupdate = function(event) {\n\t\t\t\tif (thisTemp.loadingShow) {\n\t\t\t\t\tthisTemp.loadingStart(false);\n\t\t\t\t}\n\t\t\t\tif (thisTemp.time) {\n\t\t\t\t\tif (!thisTemp.adPlayerPlay) {\n\t\t\t\t\t\tthisTemp.sendJS('time', thisTemp.time);\n\t\t\t\t\t\t//监听中间插入广告是否需要播放\n\t\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['insert'])) {\n\t\t\t\t\t\t\tthisTemp.checkAdInsert(thisTemp.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//监听其它广告\n\t\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['other'])) {\n\t\t\t\t\t\t\tthisTemp.checkAdOther(thisTemp.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (thisTemp.time < 3 && thisTemp.adReset) {\n\t\t\t\t\t\t\tthisTemp.adReset = false;\n\t\t\t\t\t\t\tthisTemp.endedAdReset();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { //如果是广告则进行广告倒计时\n\t\t\t\t\t\tthisTemp.adPlayerTimeHandler(thisTemp.time);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('timeupdate', eventTimeupdate);\n\t\t\t//监听视频缓冲事件\n\t\t\tvar eventWaiting = function(event) {\n\t\t\t\tthisTemp.loadingStart(true);\n\t\t\t};\n\t\t\tthis.addListenerInside('waiting', eventWaiting);\n\t\t\t//监听视频seek开始事件\n\t\t\tvar eventSeeking = function(event) {\n\t\t\t\tthisTemp.sendJS('seek', 'start');\n\t\t\t};\n\t\t\tthis.addListenerInside('seeking', eventSeeking);\n\t\t\t//监听视频seek结束事件\n\t\t\tvar eventSeeked = function(event) {\n\t\t\t\tthisTemp.seekedHandler();\n\t\t\t\tthisTemp.sendJS('seek', 'ended');\n\t\t\t};\n\t\t\tthis.addListenerInside('seeked', eventSeeked);\n\t\t\t//监听视频音量\n\t\t\tvar eventVolumeChange = function(event) {\n\t\t\t\ttry {\n\t\t\t\t\tthisTemp.volumechangeHandler();\n\t\t\t\t\tthisTemp.sendJS('volume', thisTemp.volume || thisTemp.V.volume);\n\t\t\t\t} catch(event) {}\n\t\t\t};\n\t\t\tthis.addListenerInside('volumechange', eventVolumeChange);\n\t\t\t//监听全屏事件\n\t\t\tvar eventFullChange = function(event) {\n\t\t\t\tvar fullState = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen;\n\t\t\t\tthisTemp.sendJS('full', fullState);\n\t\t\t};\n\t\t\tthis.addListenerInside('fullscreenchange', eventFullChange);\n\t\t\tthis.addListenerInside('webkitfullscreenchange', eventFullChange);\n\t\t\tthis.addListenerInside('mozfullscreenchange', eventFullChange);\n\t\t\t//建立界面\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.interFace();\n\t\t\t}\n\t\t\tthis.addListenerInside('loadedmetadata', eventJudgeIsLive);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重置界面元素\n\t\t*/\n\t\tresetPlayer: function() {\n\t\t\tthis.timeTextHandler();\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.timeProgress(0, 1); //改变时间进度条宽\n\t\t\t\tthis.changeLoad(0);\n\t\t\t\tthis.initPlayPause(); //判断显示播放或暂停按钮\n\t\t\t\tthis.definition(); //构建清晰度按钮\n\t\t\t\tthis.deletePrompt(); //删除提示点\n\t\t\t\tthis.deletePreview(); //删除预览图\n\t\t\t\tthis.trackHide(); //重置字幕\n\t\t\t\tthis.resetTrack();\n\t\t\t\tthis.trackElement = [];\n\t\t\t\tthis.track = [];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建界面元素\n\t\t */\n\t\tinterFace: function() {\n\t\t\tthis.conBarShow = true;\n\t\t\tvar thisTemp = this;\n\t\t\tvar html = ''; //控制栏内容\n\t\t\tvar i = 0;\n\t\t\tvar thisStyle=this.ckStyle;\n\t\t\tvar styleC=thisStyle['controlBar'];\n\t\t\tvar styleCB=styleC['button'];\n\t\t\tvar styleAS=thisStyle['advertisement'];\n\t\t\tvar styleDF=styleC['definition'];\n\t\t\tvar bWidth = 38;//按钮的宽\n\t\t\tvar timeInto = this.formatTime(0,this.vars['duration'],this.ckLanguage['vod']); //时间显示框默认显示内容\t\t\t\n\t\t\t/*\n\t\t\t\t构建一些PD（播放器容器）里使用的元素\n\t\t\t*/\n\t\t\t/*\n\t\t\t \t构建播放器内的元素\n\t\t\t*/\n\t\t\tthis.CB={menu:null};\n\t\t\tvar divEle={\n\t\t\t\tcontrolBarBg:null,\n\t\t\t\tcontrolBar:null,\n\t\t\t\tpauseCenter:null,\n\t\t\t\terrorText:null,\n\t\t\t\tpromptBg:null,\n\t\t\t\tprompt:null,\n\t\t\t\tpromptTriangle:null,\n\t\t\t\tdefinitionP:null,\n\t\t\t\tplaybackrateP:null,\n\t\t\t\tsubtitlesP:null,\n\t\t\t\tloading:null,\n\t\t\t\tlogo:null,\n\t\t\t\tadBackground:null,\n\t\t\t\tadElement:null,\n\t\t\t\tadLink:null,\n\t\t\t\tadPauseClose:null,\n\t\t\t\tadTime:null,\n\t\t\t\tadTimeText:null,\n\t\t\t\tadMute:null,\n\t\t\t\tadEscMute:null,\n\t\t\t\tadSkip:null,\n\t\t\t\tadSkipText:null,\n\t\t\t\tadSkipButton:null\n\t\t\t};\n\t\t\tvar k='';\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.PD.appendChild(this.CB[k]);\n\t\t\t}\n\t\t\t/*\n\t\t\t\t构建鼠标右键容器\n\t\t\t*/\n\t\t\tthis.CB['menu']=document.createElement('div');\n\t\t\tthis.body.appendChild(this.CB['menu']);\n\t\t\tif (this.vars['live']) { //如果是直播，时间显示文本框里显示当前系统时间\n\t\t\t\ttimeInto = this.formatTime(0,0,this.ckLanguage['live']); //时间显示框默认显示内容\n\t\t\t}\n\t\t\t/*\n\t\t\t\t构建控制栏的按钮\n\t\t\t*/\n\t\t\tdivEle={\n\t\t\t\tplay:null,\n\t\t\t\tpause:null,\n\t\t\t\tmute:null,\n\t\t\t\tescMute:null,\n\t\t\t\tfull:null,\n\t\t\t\tescFull:null,\n\t\t\t\tdefinition:null,\n\t\t\t\tplaybackrate:null,\n\t\t\t\tsubtitles:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\tthis.CB[k].dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\tthis.CB['controlBar'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tdivEle={\n\t\t\t\ttimeProgressBg:null,\n\t\t\t\ttimeBoBg:null,\n\t\t\t\tvolume:null,\n\t\t\t\ttimeText:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['controlBar'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['timeText'].innerHTML=timeInto;//初始化时间\n\t\t\tdivEle={\n\t\t\t\tloadProgress:null,\n\t\t\t\ttimeProgress:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['timeProgressBg'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['timeButton']=document.createElement('div');\n\t\t\tthis.CB['timeBoBg'].appendChild(this.CB['timeButton']);\n\t\t\tdivEle={\n\t\t\t\tvolumeBg:null,\n\t\t\t\tvolumeBO:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['volume'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['volumeUp']=document.createElement('div');\n\t\t\tthis.CB['volumeBg'].appendChild(this.CB['volumeUp']);\n\t\t\t//构建loading图标\n\t\t\tvar imgTemp=null;\n\t\t\tvar imgFile='';\n\t\t\tvar imgFile=thisStyle['loading']['file'];\n\t\t\tif(!this.isUndefined(thisStyle['loading']['fileH5'])){\n\t\t\t\timgFile=thisStyle['loading']['fileH5'];\n\t\t\t}\n\t\t\tif(imgFile){\n\t\t\t\timgTemp=document.createElement('img');\n\t\t\t\timgTemp.src=imgFile;\n\t\t\t\timgTemp.border=0;\n\t\t\t\tthis.CB['loading'].appendChild(imgTemp);\n\t\t\t}\n\t\t\t//构建logo图标\n\t\t\timgFile=thisStyle['logo']['file'];\n\t\t\tif(!this.isUndefined(thisStyle['logo']['fileH5'])){\n\t\t\t\timgFile=thisStyle['logo']['fileH5'];\n\t\t\t}\n\t\t\tif(imgFile){\n\t\t\t\timgTemp=document.createElement('img');\n\t\t\t\timgTemp.src=imgFile;\n\t\t\t\timgTemp.border=0;\n\t\t\t\tthis.CB['logo'].appendChild(imgTemp);\n\t\t\t}\t\t\t\n\t\t\t//定义界面元素的样式\n\t\t\tif(this.ckConfig['config']['buttonMode']['player']){\n\t\t\t\tthis.css(this.PD, {cursor: 'pointer'});\n\t\t\t}\n\t\t\t//控制栏背景\n\t\t\tthis.controlBar(); //改变控制栏\n\t\t\tvar cssTemp=null;\n\t\t\t//定义提示语的样式\n\t\t\tvar promptCss=thisStyle['prompt'];\n\t\t\tcssTemp=this.getEleCss(promptCss,{overflow: 'hidden',zIndex: 900,display:'none'});\n\t\t\tthis.css(this.CB['promptBg'],cssTemp);\n\t\t\tthis.css(this.CB['promptBg'],'padding','0px');\n\t\t\tcssTemp['backgroundColor']='';\n\t\t\tcssTemp['border']='';\n\t\t\tcssTemp['borderRadius']='';\n\t\t\tcssTemp['whiteSpace']='nowrap';\n\t\t\tthis.css(this.CB['prompt'],cssTemp);\n\t\t\t//定义提示语下方的三解形的样式\n\t\t\tcssTemp={\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t\tborderLeft: promptCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\tborderRight: promptCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\tborderTop: promptCss['triangleHeight']+'px solid '+promptCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\toverflow: 'hidden',\n\t\t\t\topacity:promptCss['triangleAlpha'],\n\t\t\t\tfilter:'alpha(opacity:'+promptCss['triangleAlpha']+')',\n\t\t\t\tposition:'absolute',\n\t\t\t\tleft:'0px',\n\t\t\t\ttop:'0px',\n\t\t\t\tzIndex: 900,\n\t\t\t\tdisplay:'none'\n\t\t\t};\n\t\t\tthis.css(this.CB['promptTriangle'],cssTemp);\n\t\t\tthis.elementCoordinate();//中间播放按钮，出错文本框，logo，loading\n\t\t\tthis.css([this.CB['pauseCenter'],this.CB['loading'],this.CB['errorText']],'display','none');\n\t\t\tthis.carbarButton();//控制栏按钮\n\t\t\tthis.playerCustom();//播放器界面自定义元件\n\t\t\tthis.carbarCustom();//控制栏自定义元件\n\t\t\tthis.timeProgressDefault();//进度条默认样式\n\t\t\tthis.videoCss();//计算video的宽高和位置\n\t\t\t//初始化判断播放/暂停按钮隐藏项\n\t\t\tthis.initPlayPause();\n\t\t\tif (this.vars['volume'] > 0) {\n\t\t\t\tthis.css(this.CB['escMute'], 'display', 'none');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['mute'], 'display', 'none');\n\t\t\t}\n\t\t\tif (!this.ckConfig['config']['mobileVolumeBarShow'] && this.isMobile()) {\n\t\t\t\tthis.css([this.CB['mute'], this.CB['escMute'], this.CB['volume']], {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.css(this.CB['escFull'],'display', 'none');\n\t\t\t//设置广告背景层样式\n\t\t\tvar cssObj={\n\t\t\t\talign: 'top',\n\t\t\t\tvAlign:'left',\n\t\t\t\twidth:'100%',\n\t\t\t\theight:'100%',\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\tzIndex: 910,\n\t\t\t\tdisplay: 'none'\n\t\t\t};\n\t\t\tcssTemp=this.getEleCss(styleAS['background'],cssObj);\n\t\t\tthis.css(this.CB['adBackground'],cssTemp);\n\t\t\tthis.css(this.CB['adElement'], {\n\t\t\t\tposition: 'absolute',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\ttop: '0px',\n\t\t\t\tzIndex: 911,\n\t\t\t\tfloat: 'center',\n\t\t\t\tdisplay: 'none'\n\t\t\t});\n\t\t\t//广告控制各元素样式，用一个函数单独定义，这样在播放器尺寸变化时可以重新设置样式\n\t\t\tthis.advertisementStyle();\n\t\t\t//初始化广告控制各元素-隐藏\n\t\t\tthis.css([this.CB['adTime'],this.CB['adTimeText'],this.CB['adMute'],this.CB['adEscMute'],this.CB['adSkip'],this.CB['adSkipText'],this.CB['adSkipButton'],this.CB['adLink'],this.CB['adPauseClose']],'display','none');\n\t\t\t//定义鼠标经过控制栏只显示完整的进度条，鼠标离开进度条则显示简单的进度条\n\t\t\tvar timeProgressOut = function(event) {\n\t\t\t\tthisTemp.timeProgressMouseOut();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', timeProgressOut, this.CB['timeBoBg']);\n\t\t\tvar timeProgressOver = function(event) {\n\t\t\t\tthisTemp.timeProgressDefault();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', timeProgressOver, this.CB['controlBar']);\n\t\t\t//定义各按钮鼠标经过时的切换样式\n\t\t\tthis.buttonEventFun(this.CB['play'],styleCB['play']);//播放按钮\n\t\t\tthis.buttonEventFun(this.CB['pause'],styleCB['pause']);//暂停按钮\n\t\t\tthis.buttonEventFun(this.CB['mute'],styleCB['mute']);//静音按钮\n\t\t\tthis.buttonEventFun(this.CB['escMute'],styleCB['escMute']);//恢复音量按钮\n\t\t\tthis.buttonEventFun(this.CB['full'],styleCB['full']);//全屏按钮\n\t\t\tthis.buttonEventFun(this.CB['escFull'],styleCB['escFull']);//退出全屏按钮\n\t\t\tthis.buttonEventFun(this.CB['adMute'],styleAS['muteButton']);//广告静音按钮\n\t\t\tthis.buttonEventFun(this.CB['adEscMute'],styleAS['escMuteButton']);//恢复广告音量按钮\n\t\t\tthis.buttonEventFun(this.CB['adSkipButton'],styleAS['skipAdButton']);//跳过广告按钮\n\t\t\tthis.buttonEventFun(this.CB['adLink'],styleAS['adLinkButton']);//广告查看详情按钮\n\t\t\tthis.buttonEventFun(this.CB['adPauseClose'],styleAS['closeButton']);//播放暂停时的广告的关闭按钮\n\t\t\tthis.buttonEventFun(this.CB['pauseCenter'],thisStyle['centerPlay']);//播放器中间暂停时的播放按钮\n\t\t\tthis.buttonEventFun(this.CB['volumeBO'],styleC['volumeSchedule']['button']);//音量调节框按钮样式\n\t\t\tthis.buttonEventFun(this.CB['timeButton'],styleC['timeSchedule']['button']);//时间进度调节框按钮样式\n\n\t\t\tthis.addButtonEvent(); //注册按钮及音量调节，进度操作事件\n\t\t\tthis.controlBarHide(); //单独注册控制栏隐藏事件\n\t\t\tthis.newMenu(); //设置右键的样式和事件\n\t\t\tthis.keypress(); //注册键盘事件\n\t\t\t//初始化音量调节框\n\t\t\tthis.changeVolume(this.vars['volume']);\n\t\t\tsetTimeout(function() {\n\t\t\t\tthisTemp.elementCoordinate(); //调整中间暂停按钮/loading的位置/error的位置\n\t\t\t},\n\t\t\t100);\n\t\t\tthis.checkBarWidth();\n\t\t\tvar resize = function() {\n\t\t\t\tthisTemp.log('window.resize');\n\t\t\t\tthisTemp.playerResize();\n\t\t\t};\n\t\t\tvar MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n\t\t\tvar observer = new MutationObserver(function(){\n\t\t\t\tthisTemp.log('video.resize');\n\t\t\t\tvar cdW=parseInt(thisTemp.css(thisTemp.CD,'width')),cdH=parseInt(thisTemp.css(thisTemp.CD,'height'));\n\t\t\t\tif(cdW!=thisTemp.cdWH['w'] || cdH!=thisTemp.cdWH['h']){\n\t\t\t\t\tthisTemp.cdWH={\n\t\t\t\t\t\tw:cdW,\n\t\t\t\t\t\th:cdH\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.changeSize(cdW,cdH);\n\t\t\t\t}\n\t\t\t});\n\t\t\tobserver.observe(this.CD, {attributes: true, attributeFilter: ['style'], attributeOldValue: true });\n\t\t\tthis.addListenerInside('resize', resize, window);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t进间进度条默认样式\n\t\t*/\n\t\ttimeProgressDefault:function(){\n\t\t\tvar styleCT=this.ckStyle['controlBar']['timeSchedule'];\n\t\t\tvar cssObj=this.newObj(styleCT['default']);\n\t\t\tvar loadBackImg=cssObj['loadProgressImg'],playBackImg=cssObj['playProgressImg'];\n\t\t\tvar cssTemp=null;\n\t\t\tthis.css(this.CB['timeBoBg'],'display','block');\n\t\t\t//时间进度条背景容器\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow: 'hidden',zIndex: 2},this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['timeProgressBg'], cssTemp);\n\t\t\t//加载进度\n\t\t\tcssObj={\n\t\t\t\talign:'left',\n\t\t\t\tvAlign:'top',\n\t\t\t\twidth:1,\n\t\t\t\theight:cssObj['height'],\n\t\t\t\tbackgroundImg:loadBackImg\n\t\t\t};\n\t\t\t//加载进度和时间进度\n\t\t\tif(this.CB['loadProgress'].offsetWidth>1){\n\t\t\t\tcssObj['width']=this.CB['loadProgress'].offsetWidth;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow:'hidden',zIndex:1},this.CB['timeProgressBg']);\n\t\t\tthis.css(this.CB['loadProgress'],cssTemp);\n\t\t\tcssObj['width']=0;\n\t\t\tif(this.CB['timeProgress'].offsetWidth>1 && parseInt(this.css(this.CB['timeButton'],'left'))>0){\n\t\t\t\tcssObj['width']=this.CB['timeProgress'].offsetWidth;\n\t\t\t\t\n\t\t\t}\n\t\t\tcssObj['backgroundImg']=playBackImg;\n\t\t\tcssTemp=this.getEleCss(cssObj,{overflow:'hidden',zIndex:2});\n\t\t\tthis.css(this.CB['timeProgress'],cssTemp);\n\t\t\t//时间进度按钮容器\n\t\t\tcssTemp=this.getEleCss(styleCT['buttonContainer'],{position: 'absolute',overflow: 'hidden',zIndex: 3},this.CB['controlBar']);\n\t\t\tif(this.ckConfig['config']['buttonMode']['timeSchedule']){\n\t\t\t\tcssTemp['cursor']='pointer';\n\t\t\t}\n\t\t\tthis.css(this.CB['timeBoBg'],cssTemp);\n\t\t\t//时间进度按钮\n\t\t\tcssTemp=this.getEleCss(styleCT['button'],{cursor: 'pointer',overflow: 'hidden',zIndex: 4},this.CB['timeBoBg']);\n\t\t\tthis.css(this.CB['timeButton'], cssTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t进间进度条鼠标离开样式\n\t\t*/\n\t\ttimeProgressMouseOut:function(){\n\t\t\tvar styleCT=this.ckStyle['controlBar']['timeSchedule'];\n\t\t\tvar cssObj=this.newObj(styleCT['mouseOut']);\n\t\t\tvar loadBackImg=cssObj['loadProgressImg'],playBackImg=cssObj['playProgressImg'];\n\t\t\tvar cssTemp=null;\n\t\t\tthis.css(this.CB['timeBoBg'],'display','block');\n\t\t\t//时间进度条背景容器\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow: 'hidden',zIndex: 2},this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['timeProgressBg'], cssTemp);\n\t\t\t//加载进度\n\t\t\tcssObj={\n\t\t\t\talign:'left',\n\t\t\t\tvAlign:'top',\n\t\t\t\twidth:1,\n\t\t\t\theight:cssObj['height'],\n\t\t\t\tbackgroundImg:loadBackImg\n\t\t\t};\n\t\t\t//加载进度和时间进度\n\t\t\tif(this.CB['loadProgress'].offsetWidth>1){\n\t\t\t\tcssObj['width']=this.CB['loadProgress'].offsetWidth;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow:'hidden',zIndex:1},this.CB['timeProgressBg']);\n\t\t\tthis.css(this.CB['loadProgress'],cssTemp);\n\t\t\tcssObj['width']=1;\n\t\t\tif(this.CB['timeProgress'].offsetWidth>1 && parseInt(this.css(this.CB['timeButton'],'left'))>0){\n\t\t\t\tcssObj['width']=this.CB['timeProgress'].offsetWidth;\n\t\t\t\tcssObj['backgroundImg']=playBackImg;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(cssObj,{overflow:'hidden',zIndex:2});\n\t\t\tthis.css(this.CB['timeProgress'],cssTemp);\t\t\t\n\t\t\tthis.css(this.CB['timeBoBg'],'display','none');\t\t\t\n\t\t},\n\t\t/*\n\t\t\t统一注册按钮鼠标经过和离开时的切换动作\n\t\t*/\n\t\tbuttonEventFun:function(ele,cssEle){\n\t\t\tvar thisTemp=this;\n\t\t\tvar overFun = function(event) {\n\t\t\t\tthisTemp.css(ele,{\n\t\t\t\t\tbackgroundImage:'url('+cssEle['mouseOver']+')'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptShow(ele);\n\t\t\t};\n\t\t\tvar outFun = function(event) {\n\t\t\t\tthisTemp.css(ele,{\n\t\t\t\t\tbackgroundImage:'url('+cssEle['mouseOut']+')'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t};\n\t\t\toutFun();\n\t\t\tthis.addListenerInside('mouseover', overFun, ele);\n\t\t\tthis.addListenerInside('mouseout', outFun, ele);\n\t\t\tif(!this.isUndefined(cssEle['clickEvent'])){\n\t\t\t\tvar clickFun=function(event){\n\t\t\t\t\tthisTemp.runFunction(cssEle['clickEvent']);\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', clickFun, ele);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化样式用的数字\n\t\t*/\n\t\tformatNumPx:function(str,z){\n\t\t\tif(!str){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(str.toString().indexOf('%')>-1){//说明是根据百分比来计算\n\t\t\t\tif(!this.isUndefined(z)){//如果有值\n\t\t\t\t\treturn parseInt(str)*z*0.01+'px';\n\t\t\t\t}\n\t\t\t\treturn str;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn str+'px';\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化样式用的数字，返回类型必需是数字或百分比\n\t\t*/\n\t\tformatZToNum:function(str,z){\n\t\t\tif(!str){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(str.toString().indexOf('%')>-1){//说明是根据百分比来计算\n\t\t\t\tif(!this.isUndefined(z)){//如果有值\n\t\t\t\t\treturn parseInt(str)*z*0.01;\n\t\t\t\t}\n\t\t\t\treturn str;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn str;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t对对象进行深度复制\n\t\t*/\n\t\tnewObj:function(obj) {\n\t\t\tif(this.isUndefined(obj)){\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t  \tvar str, newobj ={};//constructor 属性返回对创建此对象的数组函数的引用。创建相同类型的空数据\n\t\t  \tif (this.varType(obj) != 'object') {\n\t\t    \treturn obj;\n\t\t  \t}\n\t\t  \telse {\n\t\t    \tfor (var k in obj) {\n\t\t    \t\tif(this.isUndefined(obj[k])){\n\t\t    \t\t\tnewobj[k] = obj[k];\n\t\t    \t\t}\n\t\t    \t\telse{\n\t\t\t      \t\tif(this.varType(obj[k]) == 'object') { //判断对象的这条属性是否为对象\n\t\t\t        \t\tnewobj[k] = this.newObj(obj[k]);//若是对象进行嵌套调用\n\t\t\t      \t\t}\n\t\t\t      \t\telse{\n\t\t\t        \t\tnewobj[k] = obj[k];\n\t\t\t      \t\t}\n\t\t\t      \t}\n\t\t    \t}\n\t\t  \t}\n\t\t  \treturn newobj;//返回深度克隆后的对象\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t统一的显示图片\n\t\t*/\n\t\tloadImgBg:function(eleid,obj){\n\t\t\tthis.css(this.getByElement(eleid),{\n\t\t\t\tbackgroundImage:'url('+obj+')'\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化css\n\t\t\teleObj=样式,\n\t\t\tsupplement=补充样式,\n\t\t\trrEle=参考对象，\n\t\t\t该函数强制使用position定位的元素\n\t\t*/\n\t\tgetEleCss:function(eleObj,supplement,rrEle){\n\t\t\tvar eleName=null;\n\t\t\tvar pdW=this.PD.offsetWidth,pdH=this.PD.offsetHeight;\n\t\t\tif(rrEle){\n\t\t\t\tpdW=rrEle.offsetWidth;\n\t\t\t\tpdH=rrEle.offsetHeight;\n\t\t\t}\n\t\t\tif(this.isUndefined(eleObj)){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\teleName=this.newObj(eleObj);\n\t\t\tvar cssObject={};\n\t\t\tif(!this.isUndefined(eleName['width'])){\n\t\t\t\tcssObject['width']=this.formatZToNum(eleName['width'],pdW)+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['height'])){\n\t\t\t\tcssObject['height']=this.formatZToNum(eleName['height'],pdH)+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['background'])){\n\t\t\t\tvar bg=eleName['background'];\n\t\t\t\tif(!this.isUndefined(bg['backgroundColor'])){\n\t\t\t\t\tcssObject['backgroundColor']=bg['backgroundColor'].replace('0x','#');\n\t\t\t\t}\n\t\t\t\tif(!this.isUndefined(bg['backgroundImg'])){\n\t\t\t\t\tcssObject['backgroundImage']='url('+bg['backgroundImg']+')';\n\t\t\t\t}\n\t\t\t\tif(!this.isUndefined(bg['alpha'])){\n\t\t\t\t\tcssObject['filter']='alpha(opacity:'+bg['alpha']+')';\n\t\t\t\t\tcssObject['opacity']=bg['alpha'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['backgroundColor'])){\n\t\t\t\tcssObject['backgroundColor']=eleName['backgroundColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['backgroundImg'])){\n\t\t\t\tcssObject['backgroundImage']='url('+eleName['backgroundImg']+')';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['color'])){\n\t\t\t\tcssObject['color']=eleName['color'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['font'])){\n\t\t\t\tcssObject['fontFamily']=eleName['font'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['size'])){\n\t\t\t\tcssObject['fontSize']=eleName['size']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['alpha'])){\n\t\t\t\tcssObject['filter']='alpha(opacity:'+eleName['alpha']+')';\n\t\t\t\tcssObject['opacity']=eleName['alpha'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['lineHeight'])){\n\t\t\t\tcssObject['lineHeight']=eleName['lineHeight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['textAlign'])){\n\t\t\t\tcssObject['textAlign']=eleName['textAlign'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderRadius'])){\n\t\t\t\tcssObject['borderRadius']=eleName['borderRadius']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['radius'])){\n\t\t\t\tcssObject['borderRadius']=eleName['radius']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['padding'])){\n\t\t\t\tcssObject['padding']=eleName['padding']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingLeft'])){\n\t\t\t\tcssObject['paddingLeft']=eleName['paddingLeft']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingRight'])){\n\t\t\t\tcssObject['paddingRight']=eleName['paddingRight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingTop'])){\n\t\t\t\tcssObject['paddingTop']=eleName['paddingTop']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingBottom'])){\n\t\t\t\tcssObject['paddingBottom']=eleName['paddingBottom']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['margin'])){\n\t\t\t\tcssObject['margin']=eleName['margin']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginLeft'])){\n\t\t\t\tcssObject['marginLeft']=eleName['marginLeft']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginRight'])){\n\t\t\t\tcssObject['marginRight']=eleName['marginRight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginTop'])){\n\t\t\t\tcssObject['marginTop']=eleName['marginTop']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginBottom'])){\n\t\t\t\tcssObject['marginBottom']=eleName['marginBottom']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['border']) && !this.isUndefined(eleName['borderColor'])){\n\t\t\t\tcssObject['border']=eleName['border']+'px solid '+eleName['borderColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderLeft']) && !this.isUndefined(eleName['borderLeftColor'])){\n\t\t\t\tcssObject['borderLeft']=eleName['borderLeft']+'px solid '+eleName['borderLeftColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderRight']) && !this.isUndefined(eleName['borderRightColor'])){\n\t\t\t\tcssObject['borderRight']=eleName['borderRight']+'px solid '+eleName['borderRightColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderTop']) && !this.isUndefined(eleName['borderTopColor'])){\n\t\t\t\tcssObject['borderTop']=eleName['borderTop']+'px solid '+eleName['borderTopColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderBottom']) && !this.isUndefined(eleName['borderBottomColor'])){\n\t\t\t\tcssObject['borderBottom']=eleName['borderBottom']+'px solid '+eleName['borderBottomColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(supplement)){\n\t\t\t\tfor(var k in supplement){\n\t\t\t\t\tcssObject[k]=supplement[k];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcssObject['position']='absolute';\n\t\t\tvar left=-10000,top=-10000,right=-10000,bottom=-10000;\n\t\t\tvar offsetX=0,offsetY=0;\n\t\t\tif(!this.isUndefined(eleName['offsetX'])){\n\t\t\t\toffsetX=eleName['offsetX'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginX'])){\n\t\t\t\toffsetX=eleName['marginX'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['offsetY'])){\n\t\t\t\toffsetY=eleName['offsetY'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginY'])){\n\t\t\t\toffsetY=eleName['marginY'];\n\t\t\t}\n\t\t\toffsetX=this.formatZToNum(offsetX,pdW);\n\t\t\toffsetY=this.formatZToNum(offsetY,pdH);\n\t\t\tif(!this.isUndefined(eleName['align'])){\n\t\t\t\tleft=0;\n\t\t\t\tswitch (eleName['align']) {\n\t\t\t\t\tcase 'left':\n\t\t\t\t\t\tleft = offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'center':\n\t\t\t\t\t\tleft = pdW * 0.5 + offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\tleft = pdW+offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right2':\n\t\t\t\t\t\tleft = -10000;\n\t\t\t\t\t\tright=offsetX;\n\t\t\t\t\t\tbreak;\t\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['vAlign'])){\n\t\t\t\ttop=0;\n\t\t\t\tswitch (eleName['vAlign']) {\n\t\t\t\t\tcase 'top':\n\t\t\t\t\t\ttop = offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'middle':\n\t\t\t\t\t\ttop=pdH*0.5+offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\ttop =pdH+offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom2':\n\t\t\t\t\t\ttop=-10000;\n\t\t\t\t\t\tbottom =offsetY;\n\t\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(left>-10000){\n\t\t\t\tcssObject['left']=left+'px';\n\t\t\t}\n\t\t\tif(right>-10000){\n\t\t\t\tcssObject['right']=right+'px';\n\t\t\t}\n\t\t\tif(top>-10000){\n\t\t\t\tcssObject['top']=top+'px';\n\t\t\t}\n\t\t\tif(bottom>-10000){\n\t\t\t\tcssObject['bottom']=bottom+'px';\n\t\t\t}\n\t\t\treturn cssObject;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t创建按钮，使用canvas画布\n\t\t*/\n\t\tnewCanvas: function(id, width, height) {\n\t\t\treturn '<canvas class=\"' + id + '-canvas\" width=\"' + width + '\" height=\"' + height + '\"></canvas>';\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册按钮，音量调节框，进度操作框事件\n\t\t*/\n\t\taddButtonEvent: function() {\n\t\t\tvar thisTemp = this;\n\t\t\t//定义按钮的单击事件\n\t\t\t\n\t\t\t//定义各个按钮的鼠标经过/离开事件\n\t\t\tvar promptHide = function(event) {\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t};\n\t\t\tvar definitionOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['definition']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', definitionOver, this.CB['definition']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['definition']);\n\t\t\tvar playbackrateOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['playbackrate']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', playbackrateOver, this.CB['playbackrate']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['playbackrate']);\n\t\t\tvar subtitlesOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['subtitles']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', subtitlesOver, this.CB['subtitles']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['subtitles']);\n\t\t\t//定义音量和进度按钮的滑块事件\n\t\t\tvar volumePrompt = function(vol) {\n\t\t\t\tvar volumeBOXY = thisTemp.getCoor(thisTemp.CB['volumeBO']);\n\t\t\t\tvar promptObj = {\n\t\t\t\t\ttitle:thisTemp.ckLanguage['volumeSliderOver'].replace('[$volume]',vol),\n\t\t\t\t\tx: volumeBOXY['x'] + thisTemp.CB['volumeBO'].offsetWidth * 0.5,\n\t\t\t\t\ty: volumeBOXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, promptObj);\n\t\t\t};\n\t\t\tvar volumeObj = {\n\t\t\t\tslider: this.CB['volumeBO'],\n\t\t\t\tfollow: this.CB['volumeUp'],\n\t\t\t\trefer: this.CB['volumeBg'],\n\t\t\t\tgrossValue: 'volume',\n\t\t\t\tpd: true,\n\t\t\t\tstartFun: function(vol) {},\n\t\t\t\tmonitorFun: function(vol) {\n\t\t\t\t\tthisTemp.changeVolume(vol * 0.01, false, false);\n\t\t\t\t\tvolumePrompt(vol);\n\t\t\t\t},\n\t\t\t\tendFun: function(vol) {},\n\t\t\t\toverFun: function(vol) {\n\t\t\t\t\tvolumePrompt(vol);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.slider(volumeObj);\n\t\t\tvar volumeClickObj = {\n\t\t\t\trefer: this.CB['volumeBg'],\n\t\t\t\tgrossValue: 'volume',\n\t\t\t\tfun: function(vol) {\n\t\t\t\t\tthisTemp.changeVolume(vol * 0.01, true, true);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.progressClick(volumeClickObj);\n\t\t\tthis.timeButtonMouseDown(); //用单击的函数来判断是否需要建立控制栏监听\n\t\t\t//鼠标经过/离开音量调节框时的\n\t\t\tvar volumeBgMove = function(event) {\n\t\t\t\tvar volumeBgXY = thisTemp.getCoor(thisTemp.CB['volumeBg']);\n\t\t\t\tvar eventX = thisTemp.client(event)['x'];\n\t\t\t\tvar eventVolume = parseInt((eventX - volumeBgXY['x']) * 100 / thisTemp.CB['volumeBg'].offsetWidth);\n\t\t\t\tvar buttonPromptObj = {\n\t\t\t\t\ttitle:thisTemp.ckLanguage['volumeSliderOver'].replace('[$volume]',eventVolume),\n\t\t\t\t\tx: eventX,\n\t\t\t\t\ty: volumeBgXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, buttonPromptObj);\n\t\t\t};\n\t\t\tthis.addListenerInside('mousemove', volumeBgMove, this.CB['volumeBg']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['volumeBg']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['volumeBO']);\n\t\t\t//注册清晰度相关事件\n\t\t\tthis.addDefListener();\n\t\t\t//注册倍速相关事件\n\t\t\tthis.addPlaybackrate();\n\t\t\t//注册多字幕事件\n\t\t\tthis.addSubtitles();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册单击视频动作\n\t\t*/\n\t\tvideoClick: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar clearTimerClick = function() {\n\t\t\t\tif (thisTemp.timerClick != null) {\n\t\t\t\t\tif (thisTemp.timerClick.runing) {\n\t\t\t\t\t\tthisTemp.timerClick.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerClick = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timerClickFun = function() {\n\t\t\t\tclearTimerClick();\n\t\t\t\tthisTemp.isClick = false;\n\t\t\t\tthisTemp.sendJS('videoClick',thisTemp.videoClickXy);\n\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\tvar ad = thisTemp.getNowAdvertisements();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (ad['link'] != '') {\n\t\t\t\t\t\t\twindow.open(ad['link']);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.ckConfig['config']['click']) {\n\t\t\t\t\t\tthisTemp.playOrPause();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t};\n\t\t\tclearTimerClick();\n\t\t\tif (this.isClick) {\n\t\t\t\tthis.isClick = false;\n\t\t\t\tthisTemp.sendJS('videoDoubleClick',thisTemp.videoClickXy);\n\t\t\t\tif (thisTemp.ckConfig['config']['doubleClick']) {\n\t\t\t\t\tif (!this.full) {\n\t\t\t\t\t\tthisTemp.fullScreen();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthisTemp.quitFullScreen();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tthis.isClick = true;\n\t\t\t\tthis.timerClick = new this.timer(300, timerClickFun, 1)\n\t\t\t\t//this.timerClick.start();\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册鼠标经过进度滑块的事件\n\t\t*/\n\t\ttimeButtonMouseDown: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar timePrompt = function(time) {\n\t\t\t\tif (isNaN(time)) {\n\t\t\t\t\ttime = 0;\n\t\t\t\t}\n\t\t\t\tvar timeButtonXY = thisTemp.getCoor(thisTemp.CB['timeButton']);\n\t\t\t\tvar promptObj = {\n\t\t\t\t\ttitle: thisTemp.formatTime(time,0,thisTemp.ckLanguage['timeSliderOver']),\n\t\t\t\t\tx: timeButtonXY['x'] - thisTemp.pdCoor['x'] + thisTemp.CB['timeButton'].offsetWidth * 0.5,\n\t\t\t\t\ty: timeButtonXY['y'] - thisTemp.pdCoor['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, promptObj);\n\t\t\t};\n\t\t\tvar timeObj = {\n\t\t\t\tslider: this.CB['timeButton'],\n\t\t\t\tfollow: this.CB['timeProgress'],\n\t\t\t\trefer: this.CB['timeBoBg'],\n\t\t\t\tgrossValue: 'time',\n\t\t\t\tpd: false,\n\t\t\t\tstartFun: function(time) {\n\t\t\t\t\tthisTemp.isTimeButtonMove = false;\n\t\t\t\t},\n\t\t\t\tmonitorFun: function(time) {},\n\t\t\t\tendFun: function(time) {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tif (thisTemp.V.duration > 0) {\n\t\t\t\t\t\t\tthisTemp.needSeek = 0;\n\t\t\t\t\t\t\tthisTemp.videoSeek(parseInt(time));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\toverFun: function(time) {\n\t\t\t\t\ttimePrompt(time);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timeClickObj = {\n\t\t\t\trefer: this.CB['timeBoBg'],\n\t\t\t\tgrossValue: 'time',\n\t\t\t\tfun: function(time) {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tif (thisTemp.V.duration > 0) {\n\t\t\t\t\t\t\tthisTemp.needSeek = 0;\n\t\t\t\t\t\t\tthisTemp.videoSeek(parseInt(time));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timeBoBgmousemove = function(event) {\n\t\t\t\tvar timeBoBgXY = thisTemp.getCoor(thisTemp.CB['timeBoBg']);\n\t\t\t\tvar eventX = thisTemp.client(event)['x'];\n\t\t\t\tvar duration=thisTemp.V.duration;\n\t\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\t\tduration = thisTemp.vars['duration'];\n\t\t\t\t}\n\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t}\n\t\t\t\tvar eventTime = parseInt((eventX - timeBoBgXY['x']) * duration / thisTemp.CB['timeBoBg'].offsetWidth);\n\t\t\t\tvar buttonPromptObj = {\n\t\t\t\t\ttitle: thisTemp.formatTime(eventTime,0,thisTemp.ckLanguage['timeSliderOver']),\n\t\t\t\t\tx: eventX,\n\t\t\t\t\ty: timeBoBgXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, buttonPromptObj);\n\t\t\t\tvar def = false;\n\t\t\t\tif (!thisTemp.isUndefined(thisTemp.CB['definitionP'])) {\n\t\t\t\t\tif (thisTemp.css(thisTemp.CB['definitionP'], 'display') != 'block') {\n\t\t\t\t\t\tdef = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (thisTemp.vars['preview'] != null && def) {\n\t\t\t\t\tbuttonPromptObj['time'] = eventTime;\n\t\t\t\t\tthisTemp.preview(buttonPromptObj);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar promptHide = function(event) {\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\tif (thisTemp.previewDiv != null) {\n\t\t\t\t\tthisTemp.css([thisTemp.previewDiv, thisTemp.previewTop], 'display', 'none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (!this.vars['live']) { //如果不是直播\n\t\t\t\tthis.isTimeButtonDown = true;\n\t\t\t\tthis.addListenerInside('mousemove', timeBoBgmousemove, this.CB['timeBoBg']);\n\t\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['timeBoBg']);\n\t\t\t} else {\n\t\t\t\tthis.isTimeButtonDown = false;\n\t\t\t\ttimeObj['removeListenerInside'] = true;\n\t\t\t\ttimeClickObj['removeListenerInside'] = true;\n\t\t\t}\n\t\t\tthis.slider(timeObj);\n\t\t\tthis.progressClick(timeClickObj);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册调节框上单击事件，包含音量调节框和播放时度调节框\n\t\t*/\n\t\tprogressClick: function(obj) {\n\t\t\t/*\n\t\t\t\trefer:参考对象\n\t\t\t\tfun:返回函数\n\t\t\t\trefer:参考元素，即背景\n\t\t\t\tgrossValue:调用的参考值类型\n\t\t\t\tpd:\n\t\t\t*/\n\t\t\t//建立参考元素的mouseClick事件，用来做为鼠标在其上按下时触发的状态\n\t\t\tvar thisTemp = this;\n\t\t\tvar referMouseClick = function(event) {\n\t\t\t\tvar referX = thisTemp.client(event)['x'] - thisTemp.getCoor(obj['refer'])['x'];\n\t\t\t\tvar rWidth = obj['refer'].offsetWidth;\n\t\t\t\tvar grossValue = 0;\n\t\t\t\tif (obj['grossValue'] == 'volume') {\n\t\t\t\t\tgrossValue = 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tgrossValue = thisTemp.V.duration;\n\t\t\t\t\t\tif (isNaN(grossValue) || parseInt(grossValue) < 0.2) {\n\t\t\t\t\t\t\tgrossValue = thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\t\tgrossValue=thisTemp.vars['forceduration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar nowZ = parseInt(referX * grossValue / rWidth);\n\t\t\t\tif (obj['fun']) {\n\t\t\t\t\tif (obj['grossValue'] === 'time') {\n\t\t\t\t\t\tvar sliderXY = thisTemp.getCoor(thisTemp.CB['timeButton']);\n\t\t\t\t\t\tsliderLeft = sliderXY['x'];\n\t\t\t\t\t\tif (!thisTemp.checkSlideLeft(referX, sliderLeft, rWidth)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar bimeButtonWB = thisTemp.CB['timeButton'].offsetWidth * 0.5;\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['timeButton'], 'left', (referX - bimeButtonWB) + 'px');\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['timeProgress'], 'width', (referX) + 'px');\n\t\t\t\t\t}\n\t\t\t\t\tobj['fun'](nowZ);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (this.isUndefined(obj['removeListenerInside'])) {\n\t\t\t\tthis.addListenerInside('click', referMouseClick, obj['refer']);\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('click', referMouseClick, obj['refer']);\n\t\t\t}\n\n\t\t},\n\n\t\t/*\n\t\t\t内部函数\n\t\t\t共用的注册滑块事件\n\t\t*/\n\t\tslider: function(obj) {\n\t\t\t/*\n\t\t\t\tobj={\n\t\t\t\t\tslider:滑块元素\n\t\t\t\t\tfollow:跟随滑块的元素\n\t\t\t\t\trefer:参考元素，即背景\n\t\t\t\t\tgrossValue:调用的参考值类型\n\t\t\t\t\tstartFun:开始调用的元素\n\t\t\t\t\tmonitorFun:监听函数\n\t\t\t\t\tendFun:结束调用的函数\n\t\t\t\t\toverFun:鼠标放上去后调用的函数\n\t\t\t\t\tpd:是否需要修正\n\t\t\t\t}\n\t\t\t*/\n\t\t\tvar thisTemp = this;\n\t\t\tvar clientX = 0,\n\t\t\tcriterionWidth = 0,\n\t\t\tsliderLeft = 0,\n\t\t\treferLeft = 0;\n\t\t\tvar value = 0;\n\t\t\tvar calculation = function() { //根据滑块的left计算百分比\n\t\t\t\tvar sLeft = parseInt(thisTemp.css(obj['slider'], 'left'));\n\t\t\t\tvar rWidth = obj['refer'].offsetWidth - obj['slider'].offsetWidth;\n\t\t\t\tvar grossValue = 0;\n\t\t\t\tif (thisTemp.isUndefined(sLeft) || isNaN(sLeft)) {\n\t\t\t\t\tsLeft = 0;\n\t\t\t\t}\n\t\t\t\tif (obj['grossValue'] == 'volume') {\n\t\t\t\t\tgrossValue = 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tgrossValue = thisTemp.V.duration;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn parseInt(sLeft * grossValue / rWidth);\n\t\t\t};\n\t\t\tvar mDown = function(event) {\n\t\t\t\tthisTemp.addListenerInside('mousemove', mMove, document);\n\t\t\t\tthisTemp.addListenerInside('mouseup', mUp, document);\n\t\t\t\tvar referXY = thisTemp.getCoor(obj['refer']);\n\t\t\t\tvar sliderXY = thisTemp.getCoor(obj['slider']);\n\t\t\t\tclientX = thisTemp.client(event)['x'];\n\t\t\t\treferLeft = referXY['x'];\n\t\t\t\tsliderLeft = sliderXY['x'];\n\t\t\t\tcriterionWidth = clientX - sliderLeft;\n\t\t\t\tif (obj['startFun']) {\n\t\t\t\t\tobj['startFun'](calculation());\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mMove = function(event) {\n\t\t\t\tclientX = thisTemp.client(event)['x'];\n\t\t\t\tvar newX = clientX - criterionWidth - referLeft;\n\t\t\t\tif (newX < 0) {\n\t\t\t\t\tnewX = 0;\n\t\t\t\t}\n\t\t\t\tif (newX > obj['refer'].offsetWidth - obj['slider'].offsetWidth) {\n\t\t\t\t\tnewX = obj['refer'].offsetWidth - obj['slider'].offsetWidth;\n\t\t\t\t}\n\t\t\t\tif (obj['slider'] === thisTemp.CB['timeButton']) {\n\t\t\t\t\tif (!thisTemp.checkSlideLeft(newX, sliderLeft, obj['refer'].offsetWidth)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisTemp.css(obj['slider'], 'left', newX + 'px');\n\t\t\t\tthisTemp.css(obj['follow'], 'width', (newX + obj['slider'].offsetWidth * 0.5) + 'px');\n\t\t\t\tvar nowZ = calculation();\n\t\t\t\tif (obj['monitorFun']) {\n\t\t\t\t\tobj['monitorFun'](nowZ);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mUp = function(event) {\n\t\t\t\tthisTemp.removeListenerInside('mousemove', mMove, document);\n\t\t\t\tthisTemp.removeListenerInside('mouseup', mUp, document);\n\t\t\t\tif (obj['endFun']) {\n\t\t\t\t\tobj['endFun'](calculation());\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mOver = function(event) {\n\t\t\t\tif (obj['overFun']) {\n\t\t\t\t\tobj['overFun'](calculation());\n\t\t\t\t}\n\n\t\t\t};\n\t\t\tif (this.isUndefined(obj['removeListenerInside'])) {\n\t\t\t\tthis.addListenerInside('mousedown', mDown, obj['slider']);\n\t\t\t\tthis.addListenerInside('mouseover', mOver, obj['slider']);\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('mousedown', mDown, obj['slider']);\n\t\t\t\tthis.removeListenerInside('mouseover', mOver, obj['slider']);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否可以拖动进度按钮或点击进度栏\n\t\t*/\n\t\tcheckSlideLeft: function(newX, sliderLeft, refer) {\n\t\t\tvar timeSA = this.ckConfig['config']['timeScheduleAdjust'];\n\t\t\tswitch (timeSA) {\n\t\t\tcase 0:\n\t\t\t\treturn false;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tif (newX < sliderLeft) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tif (newX > sliderLeft) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tif (!this.timeSliderLeftTemp) {\n\t\t\t\t\tthis.timeSliderLeftTemp = sliderLeft / refer;\n\t\t\t\t}\n\t\t\t\tif (newX < this.timeSliderLeftTemp * refer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tif (!this.timeSliderLeftTemp) {\n\t\t\t\t\tthis.timeSliderLeftTemp = sliderLeft / refer;\n\t\t\t\t} else {\n\t\t\t\t\tvar timeSliderMax = sliderLeft / refer;\n\t\t\t\t\tif (timeSliderMax > this.timeSliderLeftTemp) {\n\t\t\t\t\t\tthis.timeSliderLeftTemp = timeSliderMax;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (newX > this.timeSliderLeftTemp * refer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示loading\n\t\t*/\n\t\tloadingStart: function(rot) {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.isUndefined(rot)) {\n\t\t\t\trot = true;\n\t\t\t}\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.css(thisTemp.CB['loading'], 'display', 'none');\n\t\t\t\tthis.loadingShow=false;\n\t\t\t}\n\t\t\tvar buffer = 0;\n\t\t\tif (rot) {\n\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\tthis.css(thisTemp.CB['loading'], 'display', 'block');\n\t\t\t\t\tthis.loadingShow=true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthisTemp.sendJS('buffer', 100);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示提示语\n\t\t*/\n\t\tpromptShow: function(ele, data) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar obj = {};\n\t\t\tvar eleTitle='';\n\t\t\tif(!this.isUndefined(ele)){\n\t\t\t\teleTitle=this.getDataset(ele, 'title');\n\t\t\t\tif(this.isUndefined(eleTitle)){\n\t\t\t\t\tele=null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ele || data) {\n\t\t\t\tif (!this.isUndefined(data)) {\n\t\t\t\t\tobj = data;\n\t\t\t\t} else {\n\t\t\t\t\tvar offsetCoor = this.getCoor(ele);\n\t\t\t\t\tobj = {\n\t\t\t\t\t\ttitle: eleTitle,\n\t\t\t\t\t\tx: offsetCoor['x'] + ele.offsetWidth * 0.5,\n\t\t\t\t\t\ty: offsetCoor['y']\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthis.CB['prompt'].innerHTML = obj['title'];\n\t\t\t\tthis.css(this.CB['prompt'], 'display', 'block');\n\t\t\t\tvar promptStye=this.ckStyle['prompt'];\n\t\t\t\tvar promoptWidth=this.CB['prompt'].offsetWidth,promoptHeight=this.CB['prompt'].offsetHeight;\n\t\t\t\tthis.css(this.CB['promptBg'], {width:promoptWidth + 'px',height:promoptHeight+'px'});\n\t\t\t\tvar x = obj['x'] - (promoptWidth * 0.5);\n\t\t\t\tvar y = obj['y'] - this.CB['prompt'].offsetHeight-promptStye['marginBottom']-promptStye['triangleHeight'];\n\t\t\t\tif (x < 0) {\n\t\t\t\t\tx = 0;\n\t\t\t\t}\n\t\t\t\tif (x > this.PD.offsetWidth - promoptWidth) {\n\t\t\t\t\tx = this.PD.offsetWidth - promoptWidth;\n\t\t\t\t}\n\t\t\t\tthis.css([this.CB['promptBg'], this.CB['prompt']], {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\ttop: y + 'px'\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['promptTriangle'], {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tleft: x+(promoptWidth-promptStye['triangleWidth'])*0.5+parseInt(promptStye['triangleDeviationX']) + 'px',\n\t\t\t\t\ttop: y +promoptHeight+ 'px'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.css([this.CB['promptBg'], this.CB['prompt'],this.CB['promptTriangle']], {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听错误\n\t\t*/\n\t\ttimerErrorFun: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.errorSend = false;\n\t\t\tvar clearIntervalError = function(event) {\n\t\t\t\tif (thisTemp.timerError != null) {\n\t\t\t\t\tif (thisTemp.timerError.runing) {\n\t\t\t\t\t\tthisTemp.timerError.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerError = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar errorFun = function(event) {\n\t\t\t\tclearIntervalError();\n\t\t\t\tthisTemp.error = true;\n\t\t\t\t//提取错误播放地址\n\t\t\t\tthisTemp.errorUrl = thisTemp.getVideoUrl();\n\t\t\t\t//提取错误播放地址结束\n\t\t\t\tif (!thisTemp.errorSend) {\n\t\t\t\t\tthisTemp.errorSend = true;\n\t\t\t\t\tthisTemp.sendJS('error');\n\t\t\t\t}\n\t\t\t\tif (thisTemp.conBarShow) {\n\t\t\t\t\tthisTemp.CB['errorText'].innerHTML=thisTemp.ckLanguage['error']['streamNotFound'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['errorText'], 'display', 'block');\n\t\t\t\t\tthisTemp.css([thisTemp.CB['pauseCenter'],thisTemp.CB['loading']], 'display', 'none');\n\t\t\t\t}\n\t\t\t\tthisTemp.V.removeAttribute('poster');\n\t\t\t\tthisTemp.resetPlayer();\n\t\t\t};\n\t\t\tvar errorListenerFun = function(event) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif (isNaN(thisTemp.V.duration)) {\n\t\t\t\t\t\terrorFun(event);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tif (!this.errorAdd) {\n\t\t\t\tthis.errorAdd = true;\n\t\t\t\tthis.addListenerInside('error', errorListenerFun);\n\t\t\t}\n\t\t\tclearIntervalError();\n\t\t\tvar timerErrorFun = function() {\n\t\t\t\tif (thisTemp.V && parseInt(thisTemp.V.networkState) == 3) {\n\t\t\t\t\terrorFun();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerError = new this.timer(this.ckConfig['config']['errorTime'], timerErrorFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建判断全屏还是非全屏的判断\n\t\t*/\n\t\tjudgeFullScreen: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.timerFull != null) {\n\t\t\t\tif (this.timerFull.runing) {\n\t\t\t\t\tthis.timerFull.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerFull = null;\n\t\t\t}\n\t\t\tvar fullFun = function() {\n\t\t\t\tthisTemp.isFullScreen();\n\t\t\t};\n\t\t\tthis.timerFull = new this.timer(20, fullFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否是全屏\n\t\t*/\n\t\tisFullScreen: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fullState = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement;\n\t\t\tif (fullState && !this.full) {\n\t\t\t\tthis.full = true;\n\t\t\t\tthis.sendJS('full', true);\n\t\t\t\tthis.elementCoordinate();\n\t\t\t\tthis.carbarButton();\n\t\t\t\tthis.customCoor();//控制栏自定义元件\n\t\t\t\tthis.css(this.CB['full'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['escFull'], 'display', 'block');\n\t\t\t\tif (this.vars['live'] == 0) {\n\t\t\t\t\tthis.timeUpdateHandler();\n\t\t\t\t}\n\t\t\t\tthis.PD.appendChild(this.CB['menu']);\n\t\t\t}\n\t\t\tif (!fullState && this.full) {\n\t\t\t\tthis.full = false;\n\t\t\t\tthis.sendJS('full', false);\n\t\t\t\tthis.elementCoordinate();\n\t\t\t\tthis.carbarButton();\n\t\t\t\tthis.customCoor();//控制栏自定义元件\n\t\t\t\tthis.css(this.CB['full'], 'display', 'block');\n\t\t\t\tthis.css(this.CB['escFull'], 'display', 'none');\n\t\t\t\tif (this.timerFull != null) {\n\t\t\t\t\tif (this.timerFull.runing) {\n\t\t\t\t\t\tthis.timerFull.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthis.timerFull = null;\n\t\t\t\t}\n\t\t\t\tif (this.vars['live'] == 0) {\n\t\t\t\t\tthis.timeUpdateHandler();\n\t\t\t\t}\n\t\t\t\tthis.body.appendChild(this.CB['menu']);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建右键内容及注册相关动作事件\n\t\t*/\n\t\tnewMenu: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar i = 0;\n\t\t\tthis.css(this.CB['menu'], {\n\t\t\t\tbackgroundColor: '#FFFFFF',\n\t\t\t\tpadding: '5px',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tleft: '10px',\n\t\t\t\ttop: '20px',\n\t\t\t\tdisplay: 'none',\n\t\t\t\tzIndex: '999',\n\t\t\t\tcolor: '#A1A9BE',\n\t\t\t\tboxShadow: '2px 2px 3px #AAAAAA'\n\t\t\t});\n\t\t\tvar mArr = this.contextMenu;\n\t\t\tvar cMenu = this.ckConfig['menu'];\n\t\t\tif (cMenu['name']) {\n\t\t\t\tif (cMenu['link']) {\n\t\t\t\t\tmArr[0] = [cMenu['name'], 'link', cMenu['link']];\n\t\t\t\t} else {\n\t\t\t\t\tmArr[0] = [cMenu['name'], 'default'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (cMenu['version']) {\n\t\t\t\tmArr[1] = [cMenu['version'], 'default', 'line'];\n\t\t\t}\n\t\t\tif (cMenu['more']) {\n\t\t\t\tif (this.varType(cMenu['more']) == 'array') {\n\t\t\t\t\tif (cMenu['more'].length > 0) {\n\t\t\t\t\t\tvar moreArr = cMenu['more'];\n\t\t\t\t\t\tfor (i = 0; i < moreArr.length; i++) {\n\t\t\t\t\t\t\tvar mTemp = moreArr[i];\n\t\t\t\t\t\t\tvar arrTemp = [];\n\t\t\t\t\t\t\tif (mTemp['name']) {\n\t\t\t\t\t\t\t\tarrTemp.push(mTemp['name']);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (mTemp['clickEvent'] && mTemp['clickEvent'] != 'none') {\n\t\t\t\t\t\t\t\tvar eveObj = this.clickEvent(mTemp['clickEvent']);\n\t\t\t\t\t\t\t\tarrTemp.push(eveObj['type']);\n\t\t\t\t\t\t\t\tif (eveObj['fun']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(eveObj['fun']);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (eveObj['link']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(eveObj['link']);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (eveObj['target']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(' target=\"' + eveObj['target'] + '\"');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (mTemp['separatorBefore']) {\n\t\t\t\t\t\t\t\tarrTemp.push('line');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmArr.push(arrTemp);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar html = '';\n\t\t\tfor (i = 0; i < mArr.length; i++) {\n\t\t\t\tvar me = mArr[i];\n\t\t\t\tswitch (me[1]) {\n\t\t\t\tcase 'default':\n\t\t\t\t\thtml += '<p>' + me[0] + '</p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'link':\n\t\t\t\t\tif (me[3]) {\n\t\t\t\t\t\tme[3] = 'target=\"' + me[3] + '\"';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '<p><a href=\"' + me[2] + '\"' + me[3] + '>' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javaScript':\n\t\t\t\t\thtml += '<p><a href=\"javascript:' + me[2] + '\">' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'actionScript':\n\t\t\t\t\thtml += '<p><a href=\"javascript:' + this.vars['variable'] + me[2].replace('thisTemp', '') + '\">' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.CB['menu'].innerHTML = html;\n\t\t\tvar pArr = this.CB['menu'].childNodes;\n\t\t\tfor (i = 0; i < pArr.length; i++) {\n\t\t\t\tthis.css(pArr[i], {\n\t\t\t\t\theight: '30px',\n\t\t\t\t\tlineHeight: '30px',\n\t\t\t\t\tmargin: '0px',\n\t\t\t\t\tfontFamily: this.fontFamily,\n\t\t\t\t\tfontSize: '12px',\n\t\t\t\t\tpaddingLeft: '10px',\n\t\t\t\t\tpaddingRight: '30px'\n\t\t\t\t});\n\t\t\t\tif (mArr[i][mArr[i].length - 1] == 'line') {\n\t\t\t\t\tthis.css(pArr[i], 'borderBottom', '1px solid #e9e9e9');\n\t\t\t\t}\n\t\t\t\tvar aArr = pArr[i].childNodes;\n\t\t\t\tfor (var n = 0; n < aArr.length; n++) {\n\t\t\t\t\tif (aArr[n].localName == 'a') {\n\t\t\t\t\t\tthis.css(aArr[n], {\n\t\t\t\t\t\t\tcolor: '#000000',\n\t\t\t\t\t\t\ttextDecoration: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.PD.oncontextmenu = function(event) {\n\t\t\t\tvar eve = event || window.event;\n\t\t\t\tvar client = thisTemp.client(event);\n\t\t\t\tif (eve.button == 2) {\n\t\t\t\t\teve.returnvalue = false;\n\t\t\t\t\tvar x = client['x'] + thisTemp.pdCoor['x'] - 2;\n\t\t\t\t\tvar y = client['y'] + thisTemp.pdCoor['y'] - 2;\n\t\t\t\t\tthisTemp.css(thisTemp.CB['menu'], {\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\t\ttop: y + 'px'\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tvar setTimeOutPClose = function() {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar mouseOut = function(event) {\n\t\t\t\tsetTimeOutPClose();\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['menu'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', mouseOut, thisTemp.CB['menu']);\n\t\t\tvar mouseOver = function(event) {\n\t\t\t\tsetTimeOutPClose();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', mouseOver, thisTemp.CB['menu']);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建控制栏隐藏事件\n\t\t*/\n\t\tcontrolBarHide: function(hide) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar client = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t},\n\t\t\toldClient = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t\tvar cShow = true,\n\t\t\tforce = false;\n\t\t\tvar oldCoor = [0, 0];\n\t\t\tvar controlBarShow = function(show) {\n\t\t\t\tif (show && !cShow && thisTemp.controlBarIsShow) {\n\t\t\t\t\tcShow = true;\n\t\t\t\t\tthisTemp.sendJS('controlBar', true);\n\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBarBg'], 'display', 'block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBar'], 'display', 'block');\n\t\t\t\t\tthisTemp.timeProgressDefault();\n\t\t\t\t\t//thisTemp.css(thisTemp.CB['timeProgressBg'], 'display', 'block');\n\t\t\t\t\t//thisTemp.css(thisTemp.CB['timeBoBg'], 'display', 'block');\n\t\t\t\t\tthisTemp.changeVolume(thisTemp.volume);\n\t\t\t\t\tthisTemp.changeLoad();\n\t\t\t\t\tif (!thisTemp.timerBuffer) {\n\t\t\t\t\t\tthisTemp.bufferEdHandler();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (cShow) {\n\t\t\t\t\t\tcShow = false;\n\t\t\t\t\t\tvar paused = thisTemp.getMetaDate()['paused'];\n\t\t\t\t\t\tif (force) {\n\t\t\t\t\t\t\tpaused = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!paused) {\n\t\t\t\t\t\t\tthisTemp.sendJS('controlBar', false);\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBarBg'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBar'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.promptShow(false);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisTemp.videoCss();//计算video的宽高和位置\n\t\t\t};\n\t\t\tvar cbarFun = function(event) {\n\t\t\t\tif (client['x'] == oldClient['x'] && client['y'] == oldClient['y']) {\n\t\t\t\t\tvar cdH = parseInt(thisTemp.CD.offsetHeight);\n\t\t\t\t\tif ((client['y'] < cdH - 50 || client['y'] > cdH - 2) && cShow && !thisTemp.getMetaDate()['paused']) {\n\t\t\t\t\t\tcontrolBarShow(false);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!cShow) {\n\t\t\t\t\t\tcontrolBarShow(true);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\toldClient = {\n\t\t\t\t\tx: client['x'],\n\t\t\t\t\ty: client['y']\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerCBar = new this.timer(2000, cbarFun);\n\t\t\tvar cdMove = function(event) {\n\t\t\t\tvar getClient = thisTemp.client(event);\n\t\t\t\tclient['x'] = getClient['x'];\n\t\t\t\tclient['y'] = getClient['y'];\n\t\t\t\tif (!cShow) {\n\t\t\t\t\tcontrolBarShow(true);\n\t\t\t\t}\n\t\t\t\tthisTemp.sendJS('mouse',client);\n\t\t\t};\n\t\t\tthis.addListenerInside('mousemove', cdMove, thisTemp.CD);\n\t\t\tthis.addListenerInside('ended', cdMove);\n\t\t\tthis.addListenerInside('resize', cdMove, window);\n\t\t\tif (hide === true) {\n\t\t\t\tcShow = true;\n\t\t\t\tforce = true;\n\t\t\t\tcontrolBarShow(false);\n\t\t\t}\n\t\t\tif (hide === false) {\n\t\t\t\tcShow = false;\n\t\t\t\tforce = true;\n\t\t\t\tcontrolBarShow(true);\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册键盘按键事件\n\t\t*/\n\t\tkeypress: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar keyDown = function(eve) {\n\t\t\t\tvar keycode = eve.keyCode || eve.which;\n\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tswitch (keycode) {\n\t\t\t\t\tcase 32:\n\t\t\t\t\t\tthisTemp.playOrPause();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 37:\n\t\t\t\t\t\tthisTemp.fastBack();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 39:\n\t\t\t\t\t\tthisTemp.fastNext();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 38:\n\t\t\t\t\t\tnow = thisTemp.volume + thisTemp.ckConfig['config']['volumeJump'];\n\t\t\t\t\t\tthisTemp.changeVolume(now > 1 ? 1 : now);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 40:\n\t\t\t\t\t\tnow = thisTemp.volume - thisTemp.ckConfig['config']['volumeJump'];\n\t\t\t\t\t\tthisTemp.changeVolume(now < 0 ? 0 : now);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('keydown', keyDown, window || document);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册倍速相关\n\t\t*/\n\t\tplaybackRate: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['playbackRate']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['playbackrate'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar thisTemp = this;\n\t\t\tvar dArr = this.playbackRateArr;\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的倍速\n\t\t\tvar i = 0,nowI=0;\n\t\t\tnowD = dArr[this.playbackRateDefault][1];\n\t\t\tnowI=this.playbackRateDefault;\n\t\t\tthis.removeChildAll(this.CB['playbackrateP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['playbackratePB']=document.createElement('div'),this.CB['playbackratePC']=document.createElement('div');\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackratePB']);\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackratePC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['playbackratePC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['playbackrateP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['playbackratePB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i][1];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['playbackrateP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['playbackrateP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['playbackratePC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['playbackratePC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar subClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newPlaybackrate(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', subClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['playbackrateTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackrateTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['playbackrateTriangle'],cssTemp);\n\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = nowD;\n\t\t\t} else {\n\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = this.ckLanguage['playbackrate'];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册切换倍速播放相关事件\n\t\t*/\n\t\taddPlaybackrate: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['playbackrateP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['playbackratePC'])){\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'],'display','block');\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['playbackrate']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackratePB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['playbackratePC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['playbackratePC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['playbackratePC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['playbackratePC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['playbackratePB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['playbackrate']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['playbackrateP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['playbackrateP']);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t切换倍速后发生的动作\n\t\t*/\n\t\tnewPlaybackrate: function(title) {\n\t\t\tvar vArr = this.playbackRateArr;\n\t\t\tvar nVArr = [];\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[1] == title) {\n\t\t\t\t\tthis.playbackRateDefault = i;\n\t\t\t\t\tthis.V.playbackRate = v[0];\n\t\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = v[1];\n\t\t\t\t\t\tthis.playbackRate();\n\t\t\t\t\t}\n\t\t\t\t\tthis.sendJS('playbackRate', v);\n\t\t\t\t\tthis.playbackRateTemp=v[0];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册多字幕切换相关\n\t\t*/\n\t\tsubtitleSwitch: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['subtitle']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar dArr = this.vars['cktrack'];//字幕数组\n\t\t\tif(this.varType(dArr)!='array'){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(dArr[0][1]==''){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['subtitle'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的字幕\n\t\t\tvar i = 0,nowI=0;\n\t\t\t\n\t\t\tif(this.subtitlesTemp==-1 && dArr.length>0){\n\t\t\t\tthis.subtitlesTemp=dArr.length-1;\n\t\t\t}\n\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\tif(this.subtitlesTemp==i){\n\t\t\t\t\tnowD=dArr[i][1];\n\t\t\t\t\tnowI=i;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!nowD) {\n\t\t\t\tnowD = dArr[0][1];\n\t\t\t}\n\t\t\tthis.removeChildAll(this.CB['subtitlesP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['subtitlesPB']=document.createElement('div'),this.CB['subtitlesPC']=document.createElement('div');\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesPB']);\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesPC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['subtitlesPC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['subtitlesP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['subtitlesPB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i][1];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['subtitlesP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['subtitlesP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['subtitlesPC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['subtitlesPC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar subClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newSubtitles(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', subClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['subtitlesTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['subtitlesTriangle'],cssTemp);\n\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = nowD;\n\t\t\t} else {\n\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = this.ckLanguage['subtitle'];\n\t\t\t}\n\t\t\t\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册多字幕切换事件\n\t\t*/\n\t\taddSubtitles:function(){\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['subtitlesP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['subtitlesPC'])){\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['subtitle']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'],'display','block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesPB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['subtitlesPC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['subtitlesPC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['subtitlesPC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['subtitlesPC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['subtitlesPB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['subtitles']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['subtitlesP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['subtitlesP']);\n\t\t},\n\t\t/*\n\t\t\t接口函数:修改字幕，按数组编号来\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeSubtitles: function(n) {\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar vArr = this.vars['cktrack'];//字幕数组\n\t\t\tif(this.varType(vArr)!='array'){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeSubtitles(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (vArr.length > n) {\n\t\t\t\tvar arr = vArr[n];\n\t\t\t\tif (arr.length > 2) {\n\t\t\t\t\tvar title = arr[1];\n\t\t\t\t\tif (title) {\n\t\t\t\t\t\tthis.newSubtitles(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数：修改字幕大小\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeSubtitlesSize:function(n,m){\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeSubtitlesSize(n,m);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.ckStyle['cktrack']['size']=n;\n\t\t\tif(!this.isUndefined(m)){\n\t\t\t\tthis.ckStyle['cktrack']['leading']=m;\n\t\t\t}\n\t\t\tthis.trackShowAgain();\n\t\t},\n\t\t/*\n\t\t\t当切换字幕时的动作 \n\t\t*/\n\t\tnewSubtitles:function(title){\n\t\t\tvar vArr = this.vars['cktrack'];//字幕数组\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[1] == title) {\n\t\t\t\t\tthis.subtitlesTemp=i;\n\t\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = v[1];\n\t\t\t\t\t\tthis.subtitleSwitch();\n\t\t\t\t\t\tthis.loadTrack(i);\n\t\t\t\t\t}\n\t\t\t\t\tthis.sendJS('subtitles', v);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建清晰度按钮及切换事件(Click事件)\n\t\t*/\n\t\tdefinition: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['definition']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['definition'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar thisTemp = this;\n\t\t\tvar vArr = this.VA;\n\t\t\tvar dArr = [];\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的清晰度\n\t\t\tvar i = 0,nowI=0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar d = vArr[i][2];\n\t\t\t\tif (dArr.indexOf(d) == -1) {\n\t\t\t\t\tdArr.push(d);\n\t\t\t\t}\n\t\t\t\tif (this.V) {\n\t\t\t\t\tif (vArr[i][0] == this.V.currentSrc) {\n\t\t\t\t\t\tnowD = d;\n\t\t\t\t\t\tnowI = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!nowD) {\n\t\t\t\tnowD = dArr[0];\n\t\t\t}\n\t\t\tthis.removeChildAll(this.CB['definitionP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['definitionPB']=document.createElement('div'),this.CB['definitionPC']=document.createElement('div');\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionPB']);\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionPC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['definitionPC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['definitionP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['definitionPB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['definitionP'],dArr[i],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['definitionP'],dArr[i],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['definitionPC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['definitionPC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar defClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newDefinition(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', defClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['definitionTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['definitionTriangle'],cssTemp);\n\t\t\t\tthis.CB['defaultButtonText'].innerHTML = nowD;\n\t\t\t\tthis.css(this.CB['definition'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.CB['defaultButtonText'].innerHTML = this.ckLanguage['definition'];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除节点内容\n\t\t*/\n\t\tremoveChildAll:function(ele){\n\t\t\tfor(var i=ele.childNodes.length-1;i>=0;i--){\n\t\t\t\tvar childNode=ele.childNodes[i];\n\t\t\t\tele.removeChild(childNode);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册清晰度相关事件\n\t\t*/\n\t\taddDefListener: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['definitionP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['definitionPC'])){\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'],'display','block');\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['definition']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionPB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['definitionPC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['definitionPC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['definitionPC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['definitionPC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['definitionPB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['definition']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['definitionP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['definitionP']);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeDefinition: function(n) {\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeDefinition(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.VA.length > n) {\n\t\t\t\tvar arr = this.VA[n];\n\t\t\t\tif (arr.length > 3) {\n\t\t\t\t\tvar title = arr[2];\n\t\t\t\t\tif (title) {\n\t\t\t\t\t\tthis.newDefinition(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t切换清晰度后发生的动作\n\t\t*/\n\t\tnewDefinition: function(title) {\n\t\t\tvar vArr = this.VA;\n\t\t\tvar nVArr = [];\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[2] == title) {\n\t\t\t\t\tnVArr.push(v);\n\t\t\t\t\tthis.sendJS('definitionChange', i + '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (nVArr.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V != null && this.needSeek == 0) {\n\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t}\n\t\t\tif (this.getFileExt(nVArr[0][0]) != '.m3u8') {\n\t\t\t\tthis.isM3u8 = false;\n\t\t\t}\n\t\t\tif (!this.isM3u8) {\n\t\t\t\tif (nVArr.length == 1) {\n\t\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\t\tthis.V.src = nVArr[0][0];\n\t\t\t\t\tthis.V.currentSrc = nVArr[0][0];\n\t\t\t\t} else {\n\t\t\t\t\tvar source = '';\n\t\t\t\t\tnVArr = this.arrSort(nVArr);\n\t\t\t\t\tfor (i = 0; i < nVArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = nVArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + va[0] + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\tthis.V.innerHTML = source;\n\t\t\t\t\tthis.V.currentSrc = nVArr[0][0];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.embedHls(vArr[0][0], this.vars['autoplay']);\n\t\t\t}\n\t\t\tthis.V.autoplay = 'autoplay';\n\t\t\tthis.V.load();\n\t\t\tif (this.playbackRateTemp!=1) {\n\t\t\t\tthis.V.playbackRate = this.playbackRateTemp; //定义倍速\n\t\t\t}\n\t\t\tthis.timerErrorFun();\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t播放hls\n\t\t*/\n\t\tembedHls: function(url, autoplay) {\n\t\t\tvar thisTemp = this;\n\t\t\tthisTemp.hlsAutoPlay=autoplay;\n\t\t\tif (Hls.isSupported()) {\n\t\t\t\tvar hls = new Hls();\n\t\t\t\thls.loadSource(url);\n\t\t\t\thls.attachMedia(this.V);\n\t\t\t\thls.on(Hls.Events.MANIFEST_PARSED,\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.playerLoad();\n\t\t\t\t\tif (autoplay) {\n\t\t\t\t\t\tthisTemp.videoPlay();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建提示点\n\t\t*/\n\t\tprompt: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar prompt = this.vars['promptSpot'];\n\t\t\tif (prompt == null || this.promptArr.length > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar showPrompt = function(event) {\n\t\t\t\tif (thisTemp.promptElement == null) {\n\t\t\t\t\tvar random2 = 'prompte-' + thisTemp.randomString(5);\n\t\t\t\t\tvar ele2 = document.createElement('div');\n\t\t\t\t\tele2.className = random2;\n\t\t\t\t\tthisTemp.PD.appendChild(ele2);\n\t\t\t\t\tthisTemp.promptElement = thisTemp.getByElement(random2);\n\t\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\t\toverflowX: 'hidden',\n\t\t\t\t\t\tlineHeight: thisTemp.ckStyle['previewPrompt']['lineHeight']+'px',\n\t\t\t\t\t\tfontFamily: thisTemp.ckStyle['previewPrompt']['font'],\n\t\t\t\t\t\tfontSize: thisTemp.ckStyle['previewPrompt']['size']+'px',\n\t\t\t\t\t\tcolor: thisTemp.ckStyle['previewPrompt']['color'].replace('0x','#'),\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\tzIndex: '90'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tvar pcon = thisTemp.getPromptTest();\n\t\t\t\tvar pW = pcon['pW'],\n\t\t\t\tpT = pcon['pT'],\n\t\t\t\tpL = parseInt(thisTemp.css(this, 'left')) - parseInt(pW * 0.5);\n\t\t\t\tif (pcon['pL'] > 10) {\n\t\t\t\t\tpL = pcon['pL'];\n\t\t\t\t}\n\t\t\t\tif (pL < 0) {\n\t\t\t\t\tpL = 0;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\twidth: pW + 'px',\n\t\t\t\t\tleft: ( - pW - 10) + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptElement.innerHTML = thisTemp.getDataset(this, 'words');\n\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\tleft: pL + 'px',\n\t\t\t\t\ttop: (pT - thisTemp.promptElement.offsetHeight-thisTemp.ckStyle['previewPrompt']['marginBottom']) + 'px'\n\t\t\t\t});\n\t\t\t};\n\t\t\tvar hidePrompt = function(event) {\n\t\t\t\tif (thisTemp.promptElement != null) {\n\t\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\t\tdisplay: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < prompt.length; i++) {\n\t\t\t\tvar pr = prompt[i];\n\t\t\t\tvar words = pr['words'];\n\t\t\t\tvar time = pr['time'];\n\t\t\t\tvar random = 'prompttitle-' + this.randomString(5);\n\t\t\t\tvar ele = document.createElement('div');\n\t\t\t\tele.className = random;\n\t\t\t\tthis.CB['timeBoBg'].appendChild(ele);\n\t\t\t\tvar div = this.getByElement(random);\n\t\t\t\ttry{\n\t\t\t\t\tdiv.setAttribute('data-time', time);\n\t\t\t\t\tif(this.ckConfig['config']['promptSpotTime']){\n\t\t\t\t\t\twords=this.formatTime(time,0,this.ckLanguage['timeSliderOver'])+' '+words;\n\t\t\t\t\t}\n\t\t\t\t\tdiv.setAttribute('data-words', words);\n\t\t\t\t}\n\t\t\t\tcatch(event){}\n\t\t\t\tvar pCss=this.getEleCss(this.ckStyle['promptSpotH5'],{marginY:-10000,zIndex: 1});\n\t\t\t\ttry{\n\t\t\t\t\tthis.css(div, pCss);\n\t\t\t\t}\n\t\t\t\tcatch(event){}\n\t\t\t\tthis.addListenerInside('mouseover', showPrompt, div);\n\t\t\t\tthis.addListenerInside('mouseout', hidePrompt, div);\n\t\t\t\tthis.promptArr.push(div);\n\t\t\t}\n\t\t\tthis.changePrompt();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t计算提示文本的位置\n\t\t*/\n\t\tgetPromptTest: function() {\n\t\t\tvar pW = this.previewWidth,\n\t\t\tpT = this.getCoor(this.CB['timeProgressBg'])['y'],\n\t\t\tpL = 0;\n\t\t\tif (this.previewTop != null) {\n\t\t\t\tpT = parseInt(this.css(this.previewTop, 'top'));\n\t\t\t\tpL = parseInt(this.css(this.previewTop, 'left'));\n\t\t\t} else {\n\t\t\t\tpT -= 35;\n\t\t\t}\n\t\t\tpL += 2;\n\t\t\tif (pL < 0) {\n\t\t\t\tpL = 0;\n\t\t\t}\n\t\t\tif (pL > this.PD.offsetWidth - pW) {\n\t\t\t\tpL = this.PD.offsetWidth - pW;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tpW: pW,\n\t\t\t\tpT: pT,\n\t\t\t\tpL: pL\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除提示点\n\t\t*/\n\t\tdeletePrompt: function() {\n\t\t\tvar arr = this.promptArr;\n\t\t\tif (arr.length > 0) {\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i]) {\n\t\t\t\t\t\tthis.deleteChild(arr[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.promptArr = [];\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t计算提示点坐标\n\t\t*/\n\t\tchangePrompt: function() {\n\t\t\tif (this.promptArr.length == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = this.promptArr;\n\t\t\tvar duration = this.getMetaDate()['duration'];\n\t\t\tvar bw = this.CB['timeBoBg'].offsetWidth;\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar time = parseInt(this.getDataset(arr[i], 'time'));\n\t\t\t\tvar left = parseInt(time * bw / duration) - parseInt(arr[i].offsetWidth * 0.5);\n\t\t\t\tif (left < 0) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\t\t\t\tif (left > bw - parseInt(arr[i].offsetWidth * 0.5)) {\n\t\t\t\t\tleft = bw - parseInt(arr[i].offsetWidth * 0.5);\n\t\t\t\t}\n\t\t\t\tthis.css(arr[i], {\n\t\t\t\t\tleft: left + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建预览图片效果\n\t\t*/\n\t\tpreview: function(obj) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar preview = {\n\t\t\t\tfile: null,\n\t\t\t\tscale: 0\n\t\t\t};\n\t\t\tpreview = this.standardization(preview, this.vars['preview']);\n\t\t\tif (preview['file'] == null || preview['scale'] <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar srcArr = preview['file'];\n\t\t\tif (this.previewStart == 0) { //如果还没有构建，则先进行构建\n\t\t\t\tthis.previewStart = 1;\n\t\t\t\tif (srcArr.length > 0) {\n\t\t\t\t\tvar i = 0;\n\t\t\t\t\tvar imgW = 0,\n\t\t\t\t\timgH = 0;\n\t\t\t\t\tvar random = 'preview-'+thisTemp.randomString(10);\n\t\t\t\t\tvar loadNum = 0;\n\t\t\t\t\tvar loadImg = function(i) {\n\t\t\t\t\t\tsrcArr[i] = thisTemp.getNewUrl(srcArr[i]);\n\t\t\t\t\t\tvar n = 0;\n\t\t\t\t\t\tvar img = new Image();\n\t\t\t\t\t\timg.src = srcArr[i];\n\t\t\t\t\t\timg.className = random + i;\n\t\t\t\t\t\timg.onload = function(event) {\n\t\t\t\t\t\t\tloadNum++;\n\t\t\t\t\t\t\tif (thisTemp.previewDiv == null) { //如果没有建立DIV，则建\n\t\t\t\t\t\t\t\timgW = img.width;\n\t\t\t\t\t\t\t\timgH = img.height;\n\t\t\t\t\t\t\t\tthisTemp.previewWidth = parseInt(imgW * 0.1);\n\t\t\t\t\t\t\t\tvar ele = document.createElement('div');\n\t\t\t\t\t\t\t\tele.className = random;\n\t\t\t\t\t\t\t\tthisTemp.PD.appendChild(ele);\n\t\t\t\t\t\t\t\tthisTemp.previewDiv = thisTemp.getByElement(random);\n\t\t\t\t\t\t\t\tvar eleTop = 0;\n\t\t\t\t\t\t\t\teleTop=thisTemp.PD.offsetHeight -thisTemp.ckStyle['preview']['bottom'];\n\t\t\t\t\t\t\t\tthisTemp.css(thisTemp.previewDiv, {\n\t\t\t\t\t\t\t\t\twidth: srcArr.length * imgW * 10 + 'px',\n\t\t\t\t\t\t\t\t\theight: parseInt(imgH * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\tbackgroundColor: '#000000',\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\t\t\ttop: eleTop + 'px',\n\t\t\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t\t\tzIndex: '80'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tele.setAttribute('data-x', '0');\n\t\t\t\t\t\t\t\tele.setAttribute('data-y', eleTop);\n\t\t\t\t\t\t\t\tvar ele2 = document.createElement('div');\n\t\t\t\t\t\t\t\tele2.className = random + 'd2';\n\t\t\t\t\t\t\t\tthisTemp.PD.appendChild(ele2);\n\t\t\t\t\t\t\t\tthisTemp.previewTop = thisTemp.getByElement(ele2.className);\n\t\t\t\t\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\t\t\t\t\twidth: parseInt(imgW * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\theight: parseInt(imgH * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\tborder: thisTemp.ckStyle['preview']['border']+'px solid ' + thisTemp.ckStyle['preview']['borderColor'].replace('0x','#'),\n\t\t\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\t\t\ttop: eleTop + 'px',\n\t\t\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t\t\tzIndex: '81'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tvar html = '';\n\t\t\t\t\t\t\t\tfor (n = 0; n < srcArr.length; n++) {\n\t\t\t\t\t\t\t\t\thtml += thisTemp.newCanvas(random + n, imgW * 10, parseInt(imgH * 0.1))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisTemp.previewDiv.innerHTML = html;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.previewDiv.appendChild(img);\n\t\t\t\t\t\t\tvar cimg = thisTemp.getByElement(img.className);\n\t\t\t\t\t\t\tvar canvas = thisTemp.getByElement(img.className + '-canvas');\n\t\t\t\t\t\t\tvar context = canvas.getContext('2d');\n\t\t\t\t\t\t\tvar sx = 0,\n\t\t\t\t\t\t\tsy = 0,\n\t\t\t\t\t\t\tx = 0,\n\t\t\t\t\t\t\th = parseInt(imgH * 0.1);\n\t\t\t\t\t\t\tfor (n = 0; n < 100; n++) {\n\t\t\t\t\t\t\t\tx = parseInt(n * imgW * 0.1);\n\t\t\t\t\t\t\t\tcontext.drawImage(cimg, sx, sy, parseInt(imgW * 0.1), h, x, 0, parseInt(imgW * 0.1), h);\n\t\t\t\t\t\t\t\tsx += parseInt(imgW * 0.1);\n\t\t\t\t\t\t\t\tif (sx >= imgW) {\n\t\t\t\t\t\t\t\t\tsx = 0;\n\t\t\t\t\t\t\t\t\tsy += h;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisTemp.css(cimg, 'display', 'none');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (loadNum == srcArr.length) {\n\t\t\t\t\t\t\t\tthisTemp.previewStart = 2;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t\t\tloadImg(i);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tloadImg(i);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.previewStart == 2) {\n\t\t\t\tvar isTween = true;\n\t\t\t\tvar nowNum = parseInt(obj['time'] / this.vars['preview']['scale']);\n\t\t\t\tvar numTotal = parseInt(thisTemp.getMetaDate()['duration'] / this.vars['preview']['scale']);\n\t\t\t\tif (thisTemp.css(thisTemp.previewDiv, 'display') == 'none') {\n\t\t\t\t\tisTween = false;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'display', 'block');\n\t\t\t\tvar imgWidth = thisTemp.previewDiv.offsetWidth * 0.01 / srcArr.length;\n\t\t\t\tvar left = (imgWidth * nowNum) - obj['x'] + parseInt(imgWidth * 0.5),\n\t\t\t\ttop=thisTemp.PD.offsetHeight- thisTemp.previewDiv.offsetHeight -thisTemp.ckStyle['preview']['bottom'];\n\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'top', top + 2 + 'px');\n\t\t\t\tvar topLeft = obj['x'] - parseInt(imgWidth * 0.5);\n\t\t\t\tvar timepieces = 0;\n\t\t\t\tif (topLeft < 0) {\n\t\t\t\t\ttopLeft = 0;\n\t\t\t\t\ttimepieces = obj['x'] - topLeft - imgWidth * 0.5;\n\t\t\t\t}\n\t\t\t\tif (topLeft > thisTemp.PD.offsetWidth - imgWidth) {\n\t\t\t\t\ttopLeft = thisTemp.PD.offsetWidth - imgWidth;\n\t\t\t\t\ttimepieces = obj['x'] - topLeft - imgWidth * 0.5;\n\t\t\t\t}\n\t\t\t\tif (left < 0) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\t\t\t\tif (left > numTotal * imgWidth - thisTemp.PD.offsetWidth) {\n\t\t\t\t\tleft = numTotal * imgWidth - thisTemp.PD.offsetWidth;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\tleft: topLeft + 'px',\n\t\t\t\t\ttop: top + 2 + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t\tif (thisTemp.previewTop.offsetHeight > thisTemp.previewDiv.offsetHeight) {\n\t\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\t\theight: thisTemp.previewDiv.offsetHeight - (thisTemp.previewTop.offsetHeight - thisTemp.previewDiv.offsetHeight) + 'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (this.previewTween != null) {\n\t\t\t\t\tthis.animatePause(this.previewTween);\n\t\t\t\t\tthis.previewTween = null\n\t\t\t\t}\n\t\t\t\tvar nowLeft = parseInt(thisTemp.css(thisTemp.previewDiv, 'left'));\n\t\t\t\tvar leftC = nowLeft + left;\n\t\t\t\tif (nowLeft == -(left + timepieces)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (isTween) {\n\t\t\t\t\tvar obj = {\n\t\t\t\t\t\telement: thisTemp.previewDiv,\n\t\t\t\t\t\tstart: null,\n\t\t\t\t\t\tend: -(left + timepieces),\n\t\t\t\t\t\tspeed: 0.3\n\t\t\t\t\t};\n\t\t\t\t\tthis.previewTween = this.animate(obj);\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'left', -(left + timepieces) + 'px')\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除预览图节点\n\t\t*/\n\t\tdeletePreview: function() {\n\t\t\tif (this.previewDiv != null) {\n\t\t\t\tthis.deleteChild(this.previewDiv);\n\t\t\t\tthis.previewDiv = null;\n\t\t\t\tthis.previewStart = 0;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t修改视频地址，属性\n\t\t*/\n\t\tchangeVideo: function() {\n\t\t\tif (!this.html5Video) {\n\t\t\t\tthis.getVarsObject();\n\t\t\t\tthis.V.newVideo(this.vars);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar vArr = this.VA;\n\t\t\tvar v = this.vars;\n\t\t\tvar i = 0;\n\t\t\tif (vArr.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V != null && this.needSeek == 0) {\n\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t}\n\t\t\tif (v['poster']) {\n\t\t\t\tthis.V.poster = v['poster'];\n\t\t\t} else {\n\t\t\t\tthis.V.removeAttribute('poster');\n\t\t\t}\n\t\t\tif (v['loop']) {\n\t\t\t\tthis.V.loop = 'loop';\n\t\t\t} else {\n\t\t\t\tthis.V.removeAttribute('loop');\n\t\t\t}\n\t\t\tif (v['seek'] > 0) {\n\t\t\t\tthis.needSeek = v['seek'];\n\t\t\t} else {\n\t\t\t\tthis.needSeek = 0;\n\t\t\t}\n\t\t\tif (this.getFileExt(vArr[0][0]) != '.m3u8') {\n\t\t\t\tthis.isM3u8 = false;\n\t\t\t}\n\t\t\tif (!this.isM3u8) {\n\t\t\t\tif (vArr.length == 1) {\n\t\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\t\tthis.V.src = vArr[0][0];\n\t\t\t\t} else {\n\t\t\t\t\tvar source = '';\n\t\t\t\t\tvArr = this.arrSort(vArr);\n\t\t\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = vArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + va[0] + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\tthis.V.innerHTML = source;\n\t\t\t\t}\n\t\t\t\t//分析视频地址结束\n\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\tthis.V.autoplay = 'autoplay';\n\t\t\t\t} else {\n\t\t\t\t\tthis.V.removeAttribute('autoplay');\n\t\t\t\t}\n\t\t\t\tthis.V.load();\n\t\t\t} else {\n\t\t\t\tthis.embedHls(vArr[0][0], v['autoplay']);\n\t\t\t}\n\t\t\tif (!this.isUndefined(v['volume'])) {\n\t\t\t\tthis.changeVolume(v['volume']);\n\t\t\t}\n\t\t\tthis.resetPlayer(); //重置界面元素\n\t\t\tthis.timerErrorFun();\n\t\t\t//如果存在字幕则加载\n\t\t\tif (this.vars['cktrack']) {\n\t\t\t\tthis.loadTrack();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t调整中间暂停按钮,缓冲loading，错误提示文本框的位置\n\t\t*/\n\t\telementCoordinate: function() {\n\t\t\tthis.pdCoor = this.getXY(this.PD);\n\t\t\tvar cssTemp=null;\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['centerPlay'],{cursor:'pointer'});\n\t\t\t\tthis.css(this.CB['pauseCenter'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['loading']);\n\t\t\t\tthis.css(this.CB['loading'],cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['error']);\n\t\t\t\tthis.css(this.CB['errorText'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['logo']);\n\t\t\t\tthis.css(this.CB['logo'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\tthis.checkBarWidth();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t控制栏内各按钮的位置\n\t\t*/\n\t\tcarbarButton:function(){\n\t\t\tvar styleC=this.ckStyle['controlBar'];\n\t\t\tvar styleCB=styleC['button'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\tvar cssSup2={overflow: 'hidden',cursor: 'default',zIndex: 1};\n\t\t\tvar cssSup4={overflow: 'hidden',cursor: 'pointer',display: 'none',zIndex: 995};\n\t\t\t//播放/暂停按钮\n\t\t\tcssTemp=this.getEleCss(styleCB['play'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['play'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['pause'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['pause'],cssTemp);\n\t\t\t//设置静音/取消静音的按钮样式\n\t\t\tcssTemp=this.getEleCss(styleCB['mute'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['mute'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['escMute'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['escMute'],cssTemp);\n\t\t\t//设置全屏/退出全屏按钮样式\n\t\t\tcssTemp=this.getEleCss(styleCB['full'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['full'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['escFull'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['escFull'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleC['timeText']['vod'],cssSup2,this.CB['controlBarBg']);\n \t\t\tthis.css(this.CB['timeText'], cssTemp);\n \t\t\t//音量调节框\n \t\t\tvar volumeSchedule=this.newObj(styleC['volumeSchedule']);\n \t\t\tvolumeSchedule['backgroundImg']='';\n\t\t\tcssTemp=this.getEleCss(volumeSchedule,cssSup2,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['volume'],cssTemp);\n\t\t\tcssTemp= {\n\t\t\t\twidth: cssTemp['width'],\n\t\t\t\theight: styleC['volumeSchedule']['backgroundHeight']+'px',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tbackgroundRepeat:'no-repeat',\n\t\t\t\tbackgroundPosition:'left center'\n\t\t\t};\n\t\t\tif(this.ckConfig['config']['buttonMode']['volumeSchedule']){\n\t\t\t\tcssTemp['cursor']='pointer';\n\t\t\t}\n\t\t\tthis.css(this.CB['volumeBg'],cssTemp);\n\t\t\tthis.css(this.CB['volumeBg'], {\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t\tcssTemp['width']=(this.CB['volumeBO'].offsetWidth*0.5+parseInt(this.css(this.CB['volumeBO'],'left')))+'px';\n\t\t\tthis.css(this.CB['volumeUp'],cssTemp);\n\t\t\tthis.css(this.CB['volumeBg'], 'backgroundImage', 'url('+styleC['volumeSchedule']['backgroundImg']+')');\n\t\t\tthis.css(this.CB['volumeUp'], 'backgroundImage', 'url('+styleC['volumeSchedule']['maskImg']+')');\n\t\t\t//音量调节按钮\n\t\t\tcssTemp=this.getEleCss(styleC['volumeSchedule']['button'],{overflow: 'hidden',cursor: 'pointer',backgroundRepeat:'no-repeat',backgroundPosition:'left center'});\n\t\t\tthis.css(this.CB['volumeBO'],cssTemp);\n\t\t\t//倍速容器\n\t\t\tif(this.ckConfig['config']['playbackRate']){\n\t\t\t\tif(!this.CB['playbackrateButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['playbackrate'],styleC['playbackrate']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['playbackrate']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['playbackrate'],'playbackrateButtonText');\n\t\t\t\t}\n\t\t\t\tcssTemp=this.getEleCss(styleC['playbackrate']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['playbackrate'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['playbackrateP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['playbackrate']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['playbackrateP'], cssTemp);\n\t\t\t}\n\t\t\t//初始化清晰度按钮\n\t\t\tif(this.ckConfig['config']['definition']){\n\t\t\t\tif(!this.CB['defaultButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['definition'],styleC['definition']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['definition']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['definition'],'defaultButtonText');\n\t\t\t\t}\n\t\t\t\tcssTemp=this.getEleCss(styleC['definition']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['definition'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['definitionP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['definition']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['definitionP'], cssTemp);\n\t\t\t}\n\t\t\t//初始化字幕切换按钮\n\t\t\tif(this.ckConfig['config']['subtitle']){\n\t\t\t\tif(!this.CB['subtitleButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['subtitles'],styleC['subtitle']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['subtitle']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['subtitle'],'subtitleButtonText');\n\t\t\t\t}\n\t\t\t\t//字幕按钮列表容器样式\n\t\t\t\tcssTemp=this.getEleCss(styleC['subtitle']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['subtitles'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['subtitlesP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['subtitle']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['subtitlesP'], cssTemp);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t构造一个文字按钮\n\t\t \tele:当前按钮\n\t\t \tcss:样式\n\t\t \tcssSup:补充样式\n\t\t \tupEle：上一级容器对象\n\t\t \ttext:显示的文本\n\t\t \tnewName:文本框名称\n\t\t*/\n\t\ttextButton:function(ele,css,cssSup,upEle,text,newName){\n\t\t\tvar thisTemp=this;\n\t\t\tvar bgCss={\n\t\t\t\twidth:css['width'],\n\t\t\t\theight:css['height']\n\t\t\t};\n\t\t\tif(cssSup){\n\t\t\t\tbgCss={\n\t\t\t\t\twidth:css['width'],\n\t\t\t\t\theight:css['height'],\n\t\t\t\t\talign:cssSup['align'],\n\t\t\t\t\tvAlign:cssSup['vAlign'],\n\t\t\t\t\tmarginX: cssSup['marginX'],\n\t\t\t\t\tmarginY: cssSup['marginY'],\n\t\t\t\t\toffsetX: cssSup['offsetX'],\n\t\t\t\t\toffsetY: cssSup['offsetY'],\n\t\t\t\t\tzIndex:2\n\t\t\t\t};\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(bgCss,null,upEle);\n\t\t\tthisTemp.css(ele, cssTemp);\n\t\t\tvar outCss=this.newObj(css);\n\t\t\tvar overCss=this.newObj(css);\n\t\t\tvar textOutCss=this.newObj(css);\n\t\t\tvar textOverCss=this.newObj(css);\n\t\t\tvar cssTemp=null;\n\t\t\toutCss['alpha']=css['backgroundAlpha'];\n\t\t\toverCss['backgroundColor']=css['overBackgroundColor'];\n\t\t\toverCss['alpha']=css['backgroundAlpha'];\n\t\t\ttextOutCss['color']=css['textColor'];\n\t\t\ttextOverCss['color']=css['overTextColor'];\n\t\t\ttextOutCss['textAlign']=css['align'];\n\t\t\ttextOverCss['textAlign']=css['align'];\n\t\t\t//修正文字\n\t\t\ttextOutCss['backgroundColor']=textOverCss['backgroundColor']='';\n\t\t\tvar bgEle=document.createElement('div');//按钮背景层\n\t\t\tthis.removeChildAll(ele);\n\t\t\tele.appendChild(bgEle);\n\t\t\tif(newName){\n\t\t\t\tthis.CB[newName]=document.createElement('div');//文字层\n\t\t\t\tele.appendChild(this.CB[newName]);\n\t\t\t\tthis.CB[newName].innerHTML=text;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar newEle=document.createElement('div');//文字层\n\t\t\t\tele.appendChild(newEle);\n\t\t\t\tnewEle.innerHTML=text;\n\t\t\t}\n\t\t\tvar outFun=function(){\n\t\t\t\tcssTemp=thisTemp.getEleCss(outCss,{cursor: 'pointer',zIndex:1},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tthisTemp.css(bgEle, cssTemp);\n\t\t\t\tcssTemp=thisTemp.getEleCss(textOutCss,{cursor: 'pointer',zIndex:2},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tif(newName){\n\t\t\t\t\tthisTemp.css(thisTemp.CB[newName], cssTemp,bgEle);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(newEle, cssTemp,bgEle);\n\t\t\t\t}\n\t\t\t\tthisTemp.buttonHide=true;//显示的列表框需要隐藏\n\t\t\t\tif(thisTemp.timeButtonOver){\n\t\t\t\t\twindow.clearTimeout(thisTemp.timeButtonOver);\n\t\t\t\t\tthisTemp.timeButtonOver=null;\n\t\t\t\t}\n\t\t\t\tthisTemp.timeButtonOver=window.setTimeout(function(){thisTemp.buttonListHide()},1000);\n\t\t\t};\n\t\t\tvar overFun=function(){\n\t\t\t\tcssTemp=thisTemp.getEleCss(overCss,{zIndex:1},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tthisTemp.css(bgEle, cssTemp);\n\t\t\t\tcssTemp=thisTemp.getEleCss(textOverCss,{zIndex:2},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tif(newName){\n\t\t\t\t\tthisTemp.css(thisTemp.CB[newName], cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(newEle, cssTemp);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t};\n\t\t\toutFun();\n\t\t\tthis.addListenerInside('mouseout', outFun, ele);\n\t\t\tthis.addListenerInside('mouseover', overFun, ele);\n\t\t},\n\t\t/*\n\t\t\t隐藏所有的列表框 \n\t\t*/\n\t\tbuttonListHide:function(){\n\t\t\tif(this.buttonHide){\n\t\t\t\tthis.css([this.CB['definitionP'],this.CB['subtitlesP'],this.CB['playbackrateP']],'display','none');\n\t\t\t}\n\t\t\tif(this.timeButtonOver){\n\t\t\t\twindow.clearTimeout(this.timeButtonOver);\n\t\t\t\tthis.timeButtonOver=null;\n\t\t\t}\n\t\t\tthis.buttonHide=false;\n\t\t},\n\t\t/*\n\t\t \t计算视频的宽高\n\t\t*/\n\t\tvideoCss:function(){\n\t\t\tvar cssTemp={};\n\t\t\t\n\t\t\tif(this.css(this.CB['controlBar'],'display')=='none'){\n\t\t\t\tcssTemp=this.ckStyle['video']['controlBarHideReserve'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tcssTemp=this.ckStyle['video']['reserve'];\n\t\t\t}\n\t\t\tvar spacingBottom=cssTemp['spacingBottom'];\n\t\t\tif(this.V.controls && this.isMobile()){\n\t\t\t\tspacingBottom-=40;\n\t\t\t}\n\t\t\tvar pW=this.PD.offsetWidth,pH=this.PD.offsetHeight;\n\t\t\tvar vW=pW-cssTemp['spacingLeft']-cssTemp['spacingRight'];\n\t\t\tvar vH=pH-cssTemp['spacingTop']-spacingBottom;\n\t\t\tif(!this.MD){\n\t\t\t\tthis.css(this.V,{\n\t\t\t\t\twidth:vW+'px',\n\t\t\t\t\theight:vH+'px',\n\t\t\t\t\tmarginLeft:cssTemp['spacingLeft']+'px',\n\t\t\t\t\tmarginTop:cssTemp['spacingTop']+'px'\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.css([this.MD,this.MDC],{\n\t\t\t\t\twidth:vW+'px',\n\t\t\t\t\theight:vH+'px',\n\t\t\t\t\tmarginLeft:cssTemp['spacingLeft']+'px',\n\t\t\t\t\tmarginTop:cssTemp['spacingTop']+'px'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t播放器界面自定义元素\n\t\t*/\n\t\tplayerCustom:function(){\n\t\t\tvar custom=this.ckStyle['custom'];\n\t\t\tvar button=custom['button'];\n\t\t\tvar images=custom['images'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup=null;\n\t\t\tvar k='',tempID='';\n\t\t\tvar b={};\n\t\t\tvar tempDiv;\n\t\t\tvar i=0;\n\t\t\tfor(k in button){\n\t\t\t\tb=button[k];\n\t\t\t\tcssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'player-button',name:k});\n\t\t\t\tthis.PD.appendChild(tempDiv);\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\ttempDiv.dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tthis.buttonEventFun(tempDiv,b);\n\t\t\t}\n\t\t\tfor(k in images){\n\t\t\t\tb=images[k];\n\t\t\t\tcssSup={overflow: 'hidden',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'player-images',name:k});\n\t\t\t\tthis.PD.appendChild(tempDiv);\n\t\t\t\tvar img=new Image();\n\t\t\t\timg.src=images[k]['img'];\n\t\t\t\ttempDiv.appendChild(img);\n\t\t\t\ti++\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素\n\t\t*/\n\t\tcarbarCustom:function(){\n\t\t\tvar custom=this.ckStyle['controlBar']['custom'];\n\t\t\tvar button=custom['button'];\n\t\t\tvar images=custom['images'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup=null;\n\t\t\tvar k='',tempID='';\n\t\t\tvar b={};\n\t\t\tvar tempDiv;\n\t\t\tvar i=0;\n\t\t\tfor(k in button){\n\t\t\t\tb=button[k];\n\t\t\t\tcssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup,this.CB['controlBarBg']);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'controlBar-button',name:k});\n\t\t\t\tthis.CB['controlBar'].appendChild(tempDiv);\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\ttempDiv.dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tthis.buttonEventFun(tempDiv,b);\n\t\t\t}\n\t\t\tfor(k in images){\n\t\t\t\tb=images[k];\n\t\t\t\tcssSup={overflow: 'hidden',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup,this.CB['controlBarBg']);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'controlBar-images',name:k});\n\t\t\t\tthis.CB['controlBar'].appendChild(tempDiv);\n\t\t\t\tvar img=new Image();\n\t\t\t\timg.src=images[k]['img'];\n\t\t\t\ttempDiv.appendChild(img);\n\t\t\t\ti++;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素的位置\n\t\t*/\n\t\tcustomCoor:function(){\n\t\t\tvar cssTemp=null;\n\t\t\tif(this.customeElement.length>0){\n\t\t\t\tfor(var i=0;i<this.customeElement.length;i++){\n\t\t\t\t\tif(this.customeElement[i]['type']=='controlBar'){\n\t\t\t\t\t\tcssTemp=this.getEleCss(this.customeElement[i]['css'],this.customeElement[i]['cssSup'],this.CB['controlBarBg']);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tcssTemp=this.getEleCss(this.customeElement[i]['css'],this.customeElement[i]['cssSup']);\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(this.customeElement[i]['ele'],cssTemp);\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素的显示和隐藏，只对播放器界面的有效，作用是当播放视频广告时隐藏，广告播放完成后显示\n\t\t*/\n\t\tcustomShow:function(show){\n\t\t\tif(this.customeElement.length>0){\n\t\t\t\tfor(var i=0;i<this.customeElement.length;i++){\n\t\t\t\t\tif(this.customeElement[i]['type']=='player'){\n\t\t\t\t\t\tthis.css(this.customeElement[i]['ele'],'display',show?'block':'none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t},\n\t\t/*\n\t\t \t广告控制栏样式\n\t\t*/\n\t\tadvertisementStyle:function(){\n\t\t\tvar asArr=['muteButton','escMuteButton','adLinkButton','closeButton','skipAdButton','countDown','countDownText','skipDelay','skipDelayText'];\n\t\t\tvar eleArr=['adMute','adEscMute','adLink','adPauseClose','adSkipButton','adTime','adTimeText','adSkip','adSkipText'];\n\t\t\tfor(var i=0;i<eleArr.length;i++){\n\t\t\t\tvar cssUp={overflow: 'hidden',zIndex: 999};\n\t\t\t\tif(i<5){\n\t\t\t\t\tcssUp['cursor']='pointer';\n\t\t\t\t}\n\t\t\t\tvar cssTemp=this.getEleCss(this.ckStyle['advertisement'][asArr[i]],cssUp);\n\t\t\t\tthis.css(this.CB[eleArr[i]],cssTemp);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t当播放器尺寸变化时，显示和隐藏相关节点\n\t\t*/\n\t\tcheckBarWidth: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t初始化暂停或播放按钮\n\t\t*/\n\t\tinitPlayPause: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.vars['autoplay']) {\n\t\t\t\tthis.css([this.CB['play'], this.CB['pauseCenter']], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'block');\n\t\t\t\tif (this.css(this.CB['errorText'], 'display') == 'none') {\n\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'block');\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'none');\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t\t下面为监听事件\n\t\t\t内部函数\n\t\t\t监听元数据已加载\n\t\t*/\n\t\tloadedHandler: function() {\n\t\t\tthis.loaded = true;\n\t\t\tif (this.vars['loaded'] != '') {\n\t\t\t\ttry {\n\t\t\t\t\teval(this.vars['loaded'] + '(\\''+this.vars['variable']+'\\')');\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放\n\t\t*/\n\t\tplayingHandler: function() {\n\t\t\tthis.playShow(true);\n\t\t\t//如果是第一次播放\n\t\t\tif (this.isFirstTimePlay && !this.isUndefined(this.advertisements['front'])) {\n\t\t\t\tthis.isFirstTimePlay = false;\n\t\t\t\t//调用播放前置广告组件\n\t\t\t\tthis.adI = 0;\n\t\t\t\tthis.adType = 'front';\n\t\t\t\tthis.adMuteInto();\n\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\tthis.adPlayStart = true;\n\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\tthis.videoPause();\n\t\t\t\tthis.advertisementsTime();\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\t//调用播放前置广告组件结束\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//判断第一次播放结束\n\t\t\tif (this.needSeek > 0) {\n\t\t\t\tthis.videoSeek(this.needSeek);\n\t\t\t\tthis.needSeek = 0;\n\t\t\t}\n\t\t\tif (this.animatePauseArray.length > 0) {\n\t\t\t\tthis.animateResume('pause');\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video' && this.V != null && this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\tthis.sendVCanvas();\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['pause']) && !this.adPlayStart) { //如果存在暂停广告\n\t\t\t\tthis.closePauseAd();\n\t\t\t}\n\t\t},\n\t\t/*暂停时播放暂停广告*/\n\t\tadPausePlayer: function() {\n\t\t\tthis.adI = 0;\n\t\t\tthis.adType = 'pause';\n\t\t\tthis.adPauseShow = true;\n\t\t\tthis.loadAdPause();\n\t\t\tthis.sendJS('pauseAd','play');\n\t\t},\n\t\tloadAdPause: function() {\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tvar thisTemp = this;\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tif (this.isStrImage(type) && this.adPauseShow) {\n\t\t\t\tthis.css(this.CB['adElement'], 'display', 'block');\n\t\t\t\tvar imgClass = 'adimg' + this.randomString(10);\n\t\t\t\tvar imgHtml = '<img src=\"' + ad['file'] + '\" class=\"' + imgClass + '\">';\n\t\t\t\tif (ad['link']) {\n\t\t\t\t\timgHtml = '<a href=\"' + ad['link'] + '\" target=\"_blank\">' + imgHtml + '</a>';\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = imgHtml;\n\t\t\t\tthis.addListenerInside('load',\n\t\t\t\tfunction() {\n\t\t\t\t\tvar imgObj = new Image();\n\t\t\t\t\timgObj.src = this.src;\n\t\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\t\tthisTemp.css([thisTemp.getByElement(imgClass), thisTemp.CB['adElement']], {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\tborder: '0px'\n\t\t\t\t\t});\n\t\t\t\t\tif (thisTemp.ckStyle['advertisement']['closeButtonShow'] && thisTemp.adPauseShow) {\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['adPauseClose'], {\n\t\t\t\t\t\t\tdisplay: 'block'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\t\tthisTemp.adPauseCoor();\n\t\t\t\t},\n\t\t\t\tthis.getByElement(imgClass));\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adElement']);\n\t\t\t\tvar newI = this.adI;\n\t\t\t\tif (this.adI < this.advertisements['pause'].length - 1) {\n\t\t\t\t\tnewI++;\n\t\t\t\t} else {\n\t\t\t\t\tnewI = 0;\n\t\t\t\t}\n\t\t\t\tif (ad['time'] > 0) {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tif (thisTemp.adPauseShow) {\n\t\t\t\t\t\t\tthisTemp.adI = newI;\n\t\t\t\t\t\t\tthisTemp.loadAdPause();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tad['time'] * 1000);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*调整暂停广告的位置*/\n\t\tadPauseCoor: function() {\n\t\t\tif (this.css(this.CB['adElement'], 'display') == 'block') {\n\t\t\t\tvar w = this.CB['adElement'].offsetWidth,\n\t\t\t\th = this.CB['adElement'].offsetHeight;\n\t\t\t\tvar pw = this.PD.offsetWidth,\n\t\t\t\tph = this.PD.offsetHeight;\n\t\t\t\tthis.css(this.CB['adElement'], {\n\t\t\t\t\ttop: (ph - h) * 0.5 + 'px',\n\t\t\t\t\tleft: (pw - w) * 0.5 + 'px'\n\t\t\t\t});\n\t\t\t\tif (this.css(this.CB['adPauseClose'], 'display') == 'block') {\n\t\t\t\t\tvar rr=this.ckStyle['advertisement']['closeButton'];\n\t\t\t\t\tvar cxy =  this.getPosition(rr,this.CB['adElement']);\n\t\t\t\t\tthis.css(this.CB['adPauseClose'], {\n\t\t\t\t\t\ttop: cxy['y'] + 'px',\n\t\t\t\t\t\tleft: cxy['x'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t关闭暂停广告\n\t\t*/\n\t\tclosePauseAd: function() {\n\t\t\tthis.CB['adElement'].innerHTML = '';\n\t\t\tthis.css([this.CB['adElement'], this.CB['adPauseClose']], 'display', 'none');\n\t\t\tthis.adPauseShow = false;\n\t\t\tthis.sendJS('pauseAd','ended');\n\t\t},\n\t\t/*计算广告时间*/\n\t\tadvertisementsTime: function(nt) {\n\t\t\tif (this.isUndefined(nt)) {\n\t\t\t\tnt = 0;\n\t\t\t}\n\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\tif (nt > 0) {\n\t\t\t\tad[this.adI]['time'] = Math.ceil(nt);\n\t\t\t}\n\t\t\tthis.adTimeAllTotal = 0;\n\t\t\tfor (var i = this.adI; i < ad.length; i++) {\n\t\t\t\tif (!this.isUndefined(ad[i]['time'])) {\n\t\t\t\t\tthis.adTimeAllTotal += Math.ceil(ad[i]['time']);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.adTimeAllTotal > 0) {\n\t\t\t\tthis.CB['adTimeText'].innerHTML = this.ckLanguage['adCountdown'].replace('[$second]', this.adTimeAllTotal).replace('[$Second]', this.adTimeAllTotal > 9 ? this.adTimeAllTotal: '0' + this.adTimeAllTotal);\n\t\t\t}\n\t\t\tif (this.adPauseShow) {\n\t\t\t\tthis.closePauseAd();\n\t\t\t}\n\t\t\tthis.adOtherCloseAll();\n\t\t\tthis.adTimeTotal = -1;\n\t\t},\n\t\t/*判断是否需要显示跳过广告按钮*/\n\t\tadSkipButtonShow: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar skipConfig = this.ckStyle['advertisement'];\n\t\t\tvar delayTimeTemp = skipConfig[this.adType + 'SkipButtonDelay'];\n\t\t\tvar timeFun = function() {\n\t\t\t\tif (delayTimeTemp >= 0) {\n\t\t\t\t\tthisTemp.CB['adSkipText'].innerHTML = thisTemp.ckLanguage['skipDelay'].replace('[$second]', delayTimeTemp).replace('[$Second]', delayTimeTemp > 9 ? delayTimeTemp: '0' + delayTimeTemp);\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','none');\n\t\t\t\t\tsetTimeout(timeFun, 1000);\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','none');\n\t\t\t\t\tif(thisTemp.css(thisTemp.CB['adTime'],'display')=='block'){\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','block');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tdelayTimeTemp--;\n\t\t\t};\n\t\t\tif (skipConfig['skipButtonShow']) {\n\t\t\t\tif (skipConfig[this.adType + 'SkipButtonDelay'] > 0 && this.isUndefined(this.adSkipButtonTime)) {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']], 'display', 'block');\n\t\t\t\t\ttimeFun();\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','none');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','block');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*播放广告*/\n\t\tadvertisementsPlay: function() {\n\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText'], this.CB['adSkip'], this.CB['adSkipText'],this.CB['adSkipButton'], this.CB['adLink']], 'display', 'none');\n\t\t\tthis.adPlayerPlay = false;\n\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\tif (this.adI == 0 && (this.adType == 'front' || this.adType == 'insert' || this.adType == 'end')) {\n\t\t\t\tthis.sendJS('process', this.adType + ' ad play');\n\t\t\t\tthis.sendJS(this.adType+'Ad','play');\n\t\t\t}\n\t\t\tthis.trackHide();\n\t\t\tif (this.adI < ad.length) {\n\t\t\t\tif (!this.isUndefined(ad[this.adI]['time'])) {\n\t\t\t\t\tthis.adTimeTotal = parseInt(ad[this.adI]['time']);\n\t\t\t\t}\n\t\t\t\tthis.loadAdvertisements();\n\t\t\t} else {\n\t\t\t\tthis.adEnded();\n\t\t\t}\n\t\t},\n\t\t/*清除当前所有广告*/\n\t\teliminateAd: function() {\n\t\t\tif (this.adType) {\n\t\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\t\tthis.adI = ad.length;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t}\n\n\t\t},\n\t\t/*广告播放结束*/\n\t\tadEnded: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.adPlayStart = false;\n\t\t\tif(this.adType=='front'){\n\t\t\t\tthis.time=0;\n\t\t\t}\n\t\t\tthis.adPlayerPlay = false;\n\t\t\tif (this.adVideoPlay) {\n\t\t\t\tif (this.videoTemp['src'] != '') {\n\t\t\t\t\tthis.V.src = this.videoTemp['src'];\n\t\t\t\t} else {\n\t\t\t\t\tif (this.V.src) {\n\t\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['source'] != '') {\n\t\t\t\t\tthis.V.innerHTML = this.videoTemp['source'];\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['currentSrc'] != '') {\n\t\t\t\t\tthis.V.src = this.videoTemp['currentSrc'];\n\t\t\t\t\tthis.V.currentSrc = this.videoTemp['currentSrc'];\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['loop']) {\n\t\t\t\t\tthis.V.loop = true;\n\t\t\t\t\tthis.videoTemp['loop'] = false;\n\t\t\t\t}\n\t\t\t\tif (this.adType == 'end') {\n\t\t\t\t\tthis.endedHandler();\n\t\t\t\t} else {\n\t\t\t\t\tthis.videoPlay();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.videoPlay();\n\t\t\t}\n\t\t\tthis.changeVolume(this.vars['volume']);\n\t\t\tthis.sendJS('process', this.adType + ' ad ended');\n\t\t\tthis.sendJS(this.adType+'Ad','ended');\n\t\t\tthis.changeControlBarShow(true);\n\t\t\tthis.css(this.CB['logo'], 'display','block');\n\t\t\tthis.customShow(true);\n\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText'], this.CB['adSkip'], this.CB['adSkipText'],this.CB['adSkipButton'], this.CB['adLink'],this.CB['adMute'], this.CB['adEscMute']], 'display', 'none');\n\t\t},\n\t\t/*加载广告*/\n\t\tloadAdvertisements: function() {\n\t\t\t//this.videoTemp\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tvar thisTemp = this;\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tthis.changeControlBarShow(false);\n\t\t\tthis.adPlayerPlay = true;\n\t\t\tthis.css(this.CB['logo'], 'display','none');\n\t\t\tthis.customShow(false);\n\t\t\tif (this.isStrImage(type)) {\n\t\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText']], 'display', 'block');\n\t\t\t\tthis.css([this.CB['adMute'], this.CB['adEscMute']], 'display', 'none');\n\t\t\t\tvar imgClass = 'adimg' + this.randomString(10);\n\t\t\t\tvar imgHtml = '<img src=\"' + ad['file'] + '\" class=\"' + imgClass + '\">';\n\t\t\t\tif (ad['link']) {\n\t\t\t\t\timgHtml = '<a href=\"' + ad['link'] + '\" target=\"_blank\">' + imgHtml + '</a>';\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = imgHtml;\n\t\t\t\tthis.addListenerInside('load',\n\t\t\t\tfunction() {\n\t\t\t\t\tvar imgObj = new Image();\n\t\t\t\t\timgObj.src = this.src;\n\t\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\t\tthisTemp.css(thisTemp.getByElement(imgClass), {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\tborder: '0px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adElement'], {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\ttop: (height - imgWH['height']) * 0.5 + 'px',\n\t\t\t\t\t\tleft: (width - imgWH['width']) * 0.5 + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.getByElement(imgClass));\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adElement']);\n\t\t\t\tif (!this.isUndefined(ad['time'])) {\n\t\t\t\t\tthis.adCountDown();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.css([this.CB['adTime'], this.CB['adTimeText']], 'display', 'block');\n\t\t\t\t//判断是否静音\n\t\t\t\tif (this.adVideoMute) {\n\t\t\t\t\tthis.css(this.CB['adEscMute'], 'display', 'block');\n\t\t\t\t\tthis.css(this.CB['adMute'], 'display', 'none');\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.CB['adEscMute'], 'display', 'none');\n\t\t\t\t\tthis.css(this.CB['adMute'], 'display', 'block');\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = '';\n\t\t\t\tif (this.videoTemp['currentSrc'] == '') {\n\t\t\t\t\tthis.videoTemp['currentSrc'] = this.getCurrentSrc();\n\t\t\t\t}\n\t\t\t\tif (this.V.loop) {\n\t\t\t\t\tthis.videoTemp['loop'] = true;\n\t\t\t\t\tthis.V.loop = false;\n\t\t\t\t}\n\t\t\t\tif (this.V != null && this.V.currentTime > 0 && this.adIsVideoTime && this.adType!='front') { //当有视频广告时而又没有记录下已播放的时间则进行记录\n\t\t\t\t\tthis.adIsVideoTime = false;\n\t\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t\t}\n\t\t\t\tthis.V.src = ad['file'];\n\t\t\t\tthis.V.currentSrc = ad['file'];\n\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\tthis.V.play();\n\t\t\t\tthis.adVideoPlay = true;\n\t\t\t\tthis.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\tif (!this.adVideoMute) {\n\t\t\t\t\tthis.escAdMute();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ad['link']) {\n\t\t\t\tthis.css(this.CB['adLink'], 'display', 'block');\n\t\t\t\tvar adLinkClick = function(event) {\n\t\t\t\t\tthisTemp.sendJS('clickEvent', 'javaScript->adLinkClick');\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', adLinkClick, this.CB['adLink']);\n\t\t\t\tthis.adLinkTemp=ad['link'];\n\t\t\t\tvar linkTemp = '<a href=\"' + ad['link'] + '\" target=\"_blank\" class=\"ckadmorelink\"><img src=\"' + this.ckStyle['png-1-1'] + '\" width=\"'+this.ckStyle['advertisement']['adLinkButton']['width']+'\" height=\"'+this.ckStyle['advertisement']['adLinkButton']['height']+'\"></a>';\n\t\t\t\tthis.CB['adLink'].innerHTML = linkTemp;\n\t\t\t\tthis.css(this.getByElement('ckadmorelink'), {\n\t\t\t\t\tcolor: '#FFFFFF',\n\t\t\t\t\ttextDecoration: 'none'\n\t\t\t\t});\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adLink']);\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['adLink'], 'display', 'none');\n\t\t\t}\n\n\t\t},\n\t\t/*普通广告倒计时*/\n\t\tadCountDown: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.adTimeTotal > 0) {\n\t\t\t\tif (!this.adIsPause) {\n\t\t\t\t\tthis.adTimeTotal--;\n\t\t\t\t\tthis.showAdTime();\n\t\t\t\t\tthis.adCountDownObj = null;\n\t\t\t\t\tthis.adCountDownObj = setTimeout(function() {\n\t\t\t\t\t\tthisTemp.adCountDown();\n\t\t\t\t\t},\n\t\t\t\t\t1000);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.adI++;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t}\n\t\t},\n\t\t/*视频广告倒计时*/\n\t\tadPlayerTimeHandler: function(time) {\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tif (this.isStrImage(type)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adTimeTotal != parseInt(time)) {\n\t\t\t\tthis.adTimeTotal = parseInt(time);\n\t\t\t\tthis.showAdTime();\n\t\t\t}\n\t\t},\n\t\t/*格式化广告倒计时显示*/\n\t\tshowAdTime: function() {\n\t\t\tthis.adTimeAllTotal--;\n\t\t\tvar n = this.adTimeAllTotal;\n\t\t\tif (n < 0) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tthis.CB['adTimeText'].innerHTML = this.ckLanguage['adCountdown'].replace('[$second]', n).replace('[$Second]', n < 10 ? '0' + n: n);\n\t\t},\n\t\t/*\n\t\t\t单独监听其它广告\n\t\t*/\n\t\tcheckAdOther: function(t) {\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar adTime = this.advertisements['othertime'];\n\t\t\tvar adPlay = this.advertisements['otherPlay'];\n\t\t\tfor (var i = 0; i < adTime.length; i++) {\n\t\t\t\tif (t >= adTime[i] && !adPlay[i]) { //如果播放时间大于广告时间而该广告还没有播放，则开始播放\n\t\t\t\t\tadPlay[i] = true;\n\t\t\t\t\tthis.newAdOther(i);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t新建其它广告 \n\t\t*/\n\t\tnewAdOther: function(i) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar ad = this.advertisements['other'][i];\n\t\t\tvar randomS = this.randomString(10); //获取一个随机字符串\n\t\t\tvar adDivID = 'adother' + randomS; //广告容器\n\t\t\timgClassName = 'adimgother' + randomS;\n\t\t\tvar adDiv = document.createElement('div');\n\t\t\tadDiv.className = adDivID;\n\t\t\tthis.PD.appendChild(adDiv);\n\t\t\tad['div'] = adDivID;\n\t\t\tad['element'] = imgClassName;\n\t\t\tvar adHtml='<img src=\"' + ad['file'] + '\" class=\"' + imgClassName + '\">';\n\t\t\tif(ad['link']){\n\t\t\t\tadHtml='<a href=\"' + ad['link'] + '\" target=\"blank\">'+adHtml+'</a>';\n\t\t\t}\n\t\t\tthis.getByElement(adDivID).innerHTML =adHtml;\n\t\t\tthis.css(adDivID, {\n\t\t\t\tposition: 'absolute',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tzIndex: '996',\n\t\t\t\ttop: '-600px',\n\t\t\t\tleft: '-600px',\n\t\t\t\tcursor: 'pointer'\n\t\t\t});\n\t\t\tif (this.ckStyle['advertisement']['closeOtherButtonShow']) {\n\t\t\t\tvar closeAdDivID = 'adotherclose-' + randomS; //广告容器\n\t\t\t\tvar closeAdDiv = document.createElement('div');\n\t\t\t\tcloseAdDiv.className = closeAdDivID;\n\t\t\t\tthis.PD.appendChild(closeAdDiv);\n\t\t\t\tad['closeDiv'] = closeAdDivID;\n\t\t\t\tad['close'] = false;\n\t\t\t\tvar closeAdDivCss=this.getEleCss(this.ckStyle['advertisement']['closeOtherButton'],{offsetX:-10000,offsetY:-10000,cursor: 'pointer',zIndex: 997});\t\t\t\t\n\t\t\t\tthis.css(closeAdDivID, closeAdDivCss);\t\t\t\n\t\t\t\tvar adOtherCloseOver = function() {\n\t\t\t\t\tthisTemp.loadImgBg(closeAdDivID,thisTemp.ckStyle['advertisement']['closeOtherButton']['mouseOver']);\n\t\t\t\t};\n\t\t\t\tvar adOtherCloseOut = function() {\n\t\t\t\t\tthisTemp.loadImgBg(closeAdDivID,thisTemp.ckStyle['advertisement']['closeOtherButton']['mouseOut']);\n\t\t\t\t};\n\t\t\t\tadOtherCloseOut();\n\t\t\t\tthis.addListenerInside('mouseover', adOtherCloseOver, this.getByElement(closeAdDivID));\n\t\t\t\tthis.addListenerInside('mouseout', adOtherCloseOut, this.getByElement(closeAdDivID));\n\t\t\t}\n\t\t\tthis.addListenerInside('load',\n\t\t\tfunction() {\n\t\t\t\tvar imgObj = new Image();\n\t\t\t\timgObj.src = this.src;\n\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\tthisTemp.css([thisTemp.getByElement(imgClassName), thisTemp.getByElement(adDivID)], {\n\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\tborder: '0px'\n\t\t\t\t});\n\t\t\t\tthisTemp.advertisements['other'][i] = ad;\n\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\tthisTemp.adOtherCoor();\n\t\t\t},\n\t\t\tthis.getByElement(imgClassName));\n\t\t\tthis.addListenerInside('click',\n\t\t\tfunction() {\n\t\t\t\tthisTemp.adOtherClose(i);\n\t\t\t},\n\t\t\tthis.getByElement(closeAdDivID));\n\t\t\tthis.addListenerInside('click',\n\t\t\tfunction() {\n\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t},\n\t\t\tthis.getByElement(imgClassName));\n\t\t\tif (ad['time'] > 0) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthisTemp.adOtherClose(i);\n\t\t\t\t},\n\t\t\t\tad['time'] * 1000);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t关闭其它广告\n\t\t*/\n\t\tadOtherClose: function(i) {\n\t\t\tvar ad = this.advertisements['other'][i];\n\t\t\tif (!this.isUndefined(ad['close'])) {\n\t\t\t\tif (!ad['close']) {\n\t\t\t\t\tad['close'] = true;\n\t\t\t\t\tthis.PD.removeChild(this.getByElement(ad['div']));\n\t\t\t\t\tthis.PD.removeChild(this.getByElement(ad['closeDiv']));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tadOtherCloseAll: function() {\n\t\t\tif (!this.isUndefined(this.advertisements['other'])) {\n\t\t\t\tvar ad = this.advertisements['other'];\n\t\t\t\tfor (var i = 0; i < ad.length; i++) {\n\t\t\t\t\tthis.adOtherClose(i);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t计算其它广告的坐标\n\t\t*/\n\t\tadOtherCoor: function() {\n\t\t\tif (!this.isUndefined(this.advertisements['other'])) {\n\t\t\t\tvar arr = this.advertisements['other'];\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tvar ad = arr[i];\n\t\t\t\t\tif (!this.isUndefined(ad['close'])) {\n\t\t\t\t\t\tif (!ad['close']) {\n\t\t\t\t\t\t\tvar rr=this.ckStyle['advertisement']['closeOtherButton'];\n\t\t\t\t\t\t\tvar coor = this.getPosition(ad);\n\t\t\t\t\t\t\tvar x = coor['x'],\n\t\t\t\t\t\t\ty = coor['y'];\n\t\t\t\t\t\t\tthis.css(this.getByElement(ad['div']), {\n\t\t\t\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\t\t\t\ttop: y + 'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tvar cxy =  this.getPosition(rr,this.getByElement(ad['div']));\n\t\t\t\t\t\t\tif (!this.isUndefined(ad['closeDiv'])) {\n\t\t\t\t\t\t\t\tthis.css(this.getByElement(ad['closeDiv']), {\n\t\t\t\t\t\t\t\t\tleft: cxy['x'] + 'px',\n\t\t\t\t\t\t\t\t\ttop: cxy['y'] + 'px'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t单独监听中间插入广告\n\t\t*/\n\t\tcheckAdInsert: function(t) {\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar adTime = this.advertisements['inserttime'];\n\t\t\tvar adPlay = this.advertisements['insertPlay'];\n\t\t\tvar duration = this.getMetaDate()['duration'];\n\t\t\tfor (var i = adTime.length - 1; i > -1; i--) {\n\t\t\t\tif (t >= adTime[i] && t < duration - 2 && t > 1 && !adPlay[i]) { //如果播放时间大于广告时间而该广告还没有播放，则开始播放\n\t\t\t\t\tthis.adI = 0;\n\t\t\t\t\tthis.adType = 'insert';\n\t\t\t\t\tthis.adMuteInto();\n\t\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\t\tthis.adPlayStart = true;\n\t\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\t\tthis.videoPause();\n\t\t\t\t\tthis.advertisementsTime();\n\t\t\t\t\tthis.advertisementsPlay();\n\t\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\t\tadPlay[i] = true;\n\t\t\t\t\tfor (var n = 0; n < i + 1; n++) {\n\t\t\t\t\t\tadPlay[n] = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*格式化中间插入广告的播放时间*/\n\t\tformatInserttime: function(duration) {\n\t\t\tif (!this.isUndefined(this.advertisements['inserttime'])) {\n\t\t\t\tvar arr = this.advertisements['inserttime'];\n\t\t\t\tvar newArr = [];\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i].toString().substr( - 1) == '%') {\n\t\t\t\t\t\tnewArr.push(parseInt(duration * parseInt(arr[i]) * 0.01));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewArr.push(parseInt(arr[i]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.advertisements['inserttime'] = newArr;\n\t\t\t}\n\t\t},\n\t\t/*获取当前的广告*/\n\t\tgetNowAdvertisements: function() {\n\t\t\tif (this.adI == -1) {\n\t\t\t\treturn {\n\t\t\t\t\tfile: '',\n\t\t\t\t\ttime: 0,\n\t\t\t\t\tlink: ''\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn this.advertisements[this.adType][this.adI];\n\t\t},\n\t\t/*根据元件尺寸和播放器尺寸调整大小*/\n\t\tadjustmentWH: function(w, h) {\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tvar nw = 0,\n\t\t\tnh = 0;\n\t\t\tif (w >= width || h >= height) {\n\t\t\t\tif (width / w > height / h) {\n\t\t\t\t\tnh = height - 20;\n\t\t\t\t\tnw = w * nh / h;\n\t\t\t\t} else {\n\t\t\t\t\tnw = width - 20;\n\t\t\t\t\tnh = h * nw / w;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnw = w;\n\t\t\t\tnh = h;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\twidth: nw,\n\t\t\t\theight: nh\n\t\t\t}\n\t\t},\n\t\t/*单独请求一次地址，但不处理返回的数据*/\n\t\tajaxSuccessNull: function(url) {\n\t\t\tif (!this.isUndefined(url)) {\n\t\t\t\tvar ajaxObj = {\n\t\t\t\t\turl: url,\n\t\t\t\t\tsuccess: function(data) {}\n\t\t\t\t};\n\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t运行指定函数\n\t\t*/\n\t\trunFunction: function(s) {\n\t\t\ttry {\n\t\t\t\tvar arr = s.split('->');\n\t\t\t\tif(arr.length==2){\n\t\t\t\t\tswitch (arr[0]) {\n\t\t\t\t\t\tcase 'javaScript':\n\t\t\t\t\t\t\tif(arr[1].substr(0,11)!='[flashvars]'){\n\t\t\t\t\t\t\t\teval(arr[1] + '()');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\teval(this.vars[arr[1].substr(11)] + '()');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'actionScript':\n\t\t\t\t\t\t\teval('this.' + arr[1] + '()');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.sendJS('clickEvent', s);\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t使用画布附加视频\n\t\t*/\n\t\tsendVCanvas: function() {\n\t\t\tif (this.timerVCanvas == null) {\n\t\t\t\tthis.css(this.V, 'display', 'none');\n\t\t\t\tthis.css(this.MD, 'display', 'block');\n\t\t\t\tvar thisTemp = this;\n\t\t\t\tvar videoCanvas = function() {\n\t\t\t\t\tif (thisTemp.MDCX.width != thisTemp.MD.offsetWidth) {\n\t\t\t\t\t\tthisTemp.MDC.width = thisTemp.MD.offsetWidth;\n\t\t\t\t\t}\n\t\t\t\t\tif (thisTemp.MDCX.height != thisTemp.MD.offsetHeight) {\n\t\t\t\t\t\tthisTemp.MDC.height = thisTemp.MD.offsetHeight;\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.MDCX.clearRect(0, 0, thisTemp.MDCX.width, thisTemp.MDCX.height);\n\t\t\t\t\tvar coor = thisTemp.getProportionCoor(thisTemp.PD.offsetWidth, thisTemp.PD.offsetHeight, thisTemp.V.videoWidth, thisTemp.V.videoHeight);\n\t\t\t\t\tthisTemp.MDCX.drawImage(thisTemp.V, 0, 0, thisTemp.V.videoWidth, thisTemp.V.videoHeight, coor['x'], coor['y'], coor['width'], coor['height']);\n\t\t\t\t};\n\t\t\t\tthis.timerVCanvas = new this.timer(0, videoCanvas);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听暂停\n\t\t*/\n\t\tpauseHandler: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.playShow(false);\n\t\t\tif (this.animatePauseArray.length > 0) {\n\t\t\t\tthis.animatePause('pause');\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video' && this.V != null && this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\tthis.stopVCanvas();\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['pause']) && !this.adPlayStart && !this.adPauseShow) { //如果存在暂停广告\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['pause']) && !thisTemp.adPlayStart && !thisTemp.adPauseShow && thisTemp.time > 1) { //如果存在暂停广告\n\t\t\t\t\t\tthisTemp.adPausePlayer();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t300);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t停止画布\n\t\t*/\n\t\tstopVCanvas: function() {\n\t\t\tif (this.timerVCanvas != null) {\n\t\t\t\tthis.css(this.V, 'display', 'block');\n\t\t\t\tthis.css(this.MD, 'display', 'none');\n\t\t\t\tif (this.timerVCanvas.runing) {\n\t\t\t\t\tthis.timerVCanvas.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerVCanvas = null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据当前播放还是暂停确认图标显示\n\t\t*/\n\t\tplayShow: function(b) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (b) {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'block');\n\t\t\t\tif (this.css(this.CB['errorText'], 'display') == 'none') {\n\t\t\t\t\tif (!this.adPlayerPlay) {\n\t\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'block');\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'none');\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'none');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听seek结束\n\t\t*/\n\t\tseekedHandler: function() {\n\t\t\tthis.resetTrack();\n\t\t\tthis.isTimeButtonMove = true;\n\t\t\tif (this.V.paused) {\n\t\t\t\tif(this.hlsAutoPlay){\n\t\t\t\t\tthis.videoPlay();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.hlsAutoPlay=true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放结束\n\t\t*/\n\t\tendedHandler: function() {\n\t\t\tthis.sendJS('ended');\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adI++;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.endAdPlay && !this.isUndefined(this.advertisements['end'])) {\n\t\t\t\tthis.endAdPlay = true;\n\t\t\t\tthis.adI = 0;\n\t\t\t\tthis.adType = 'end';\n\t\t\t\tthis.adMuteInto();\n\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\tthis.adPlayStart = true;\n\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\tthis.videoPause();\n\t\t\t\tthis.advertisementsTime();\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\tthis.adReset = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.endedAdReset();\n\t\t\tif (this.vars['loop']) {\n\t\t\t\tthis.videoSeek(0);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t重置结束后相关的设置\n\t\t*/\n\t\tendedAdReset: function() {\n\t\t\tvar arr = [];\n\t\t\tvar i = 0;\n\t\t\tif (!this.isUndefined(this.advertisements['insertPlay'])) {\n\t\t\t\tarr = this.advertisements['insertPlay'];\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tthis.advertisements['insertPlay'][i] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['otherPlay'])) {\n\t\t\t\tarr = this.advertisements['otherPlay'];\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tthis.advertisements['otherPlay'][i] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//this.endAdPlay=false;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听音量改变\n\t\t*/\n\t\tvolumechangeHandler: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ((this.ckConfig['config']['mobileVolumeBarShow'] || !this.isMobile()) && this.css(this.CB['volume'], 'display') != 'none') {\n\t\t\t\ttry {\n\t\t\t\t\tvar volume=this.volume || this.V.volume;\n\t\t\t\t\tif (volume > 0) {\n\t\t\t\t\t\tthis.css(this.CB['mute'], 'display', 'block');\n\t\t\t\t\t\tthis.css(this.CB['escMute'], 'display', 'none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.css(this.CB['mute'], 'display', 'none');\n\t\t\t\t\t\tthis.css(this.CB['escMute'], 'display', 'block');\n\t\t\t\t\t}\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放时间调节进度条\n\t\t*/\n\t\ttimeUpdateHandler: function() {\n\t\t\tvar duration = 0;\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\ttry {\n\t\t\t\t\tduration = this.V.duration;\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tif (duration > 0) {\n\t\t\t\tthis.time = this.V.currentTime;\n\t\t\t\tthis.timeTextHandler();\n\t\t\t\tthis.trackShowHandler();\n\t\t\t\tif (this.isTimeButtonMove) {\n\t\t\t\t\tthis.timeProgress(this.time, duration);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t改变控制栏坐标\n\t\t*/\n\t\tcontrolBar:function(){\n\t\t\t//控制栏背景\n\t\t\tvar cb=this.ckStyle['controlBar'];\n\t\t\tvar cssObjTemp={\n\t\t\t\talign:cb['align'],\n\t\t\t\tvAlign:cb['vAlign'],\n\t\t\t\twidth:cb['width'],\n\t\t\t\theight:cb['height'],\n\t\t\t\toffsetX:cb['offsetX'],\n\t\t\t\toffsetY:cb['offsetY']\n\t\t\t\t\n\t\t\t};\n\t\t\tvar bgCss={\n\t\t\t\tbackgroundColor:cb['background']['backgroundColor'],\n\t\t\t\tbackgroundImg:cb['background']['backgroundImg'],\n\t\t\t\talpha:cb['background']['alpha']\n\t\t\t};\n\t\t\tvar cssTemp=this.getEleCss(this.objectAssign(cssObjTemp,bgCss),{zIndex:888});\n\t\t\tthis.css(this.CB['controlBarBg'], cssTemp);\n\t\t\t//控制栏容器\n\t\t\tcssTemp=this.getEleCss(cssObjTemp,{zIndex:889});\n\t\t\tthis.css(this.CB['controlBar'], cssTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t按时间改变进度条\n\t\t*/\n\t\ttimeProgress: function(time, duration) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar timeProgressBgW = this.CB['timeProgressBg'].offsetWidth;\n\t\t\tvar timeBOW = parseInt((time * timeProgressBgW / duration) - (this.CB['timeButton'].offsetWidth * 0.5));\n\t\t\tif (timeBOW > timeProgressBgW - this.CB['timeButton'].offsetWidth) {\n\t\t\t\ttimeBOW = timeProgressBgW - this.CB['timeButton'].offsetWidth;\n\t\t\t}\n\t\t\tif (timeBOW < 0) {\n\t\t\t\ttimeBOW = 0;\n\t\t\t}\n\t\t\tthis.css(this.CB['timeProgress'], 'width', timeBOW + 'px');\n\t\t\tthis.css(this.CB['timeButton'], 'left', parseInt(timeBOW) + 'px');\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放时间改变时间显示文本框\n\t\t*/\n\t\ttimeTextHandler: function() { //显示时间/总时间\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar duration = this.V.duration;\n\t\t\tvar time = this.V.currentTime;\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tthis.CB['timeText'].innerHTML = this.formatTime(time,duration,this.ckLanguage['vod']);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听是否是缓冲状态\n\t\t*/\n\t\tbufferEdHandler: function() {\n\t\t\tif (!this.conBarShow || this.playerType == 'flashplayer') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar clearTimerBuffer = function() {\n\t\t\t\tif (thisTemp.timerBuffer != null) {\n\t\t\t\t\tif (thisTemp.timerBuffer.runing) {\n\t\t\t\t\t\tthisTemp.sendJS('buffer', 100);\n\t\t\t\t\t\tthisTemp.timerBuffer.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerBuffer = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tclearTimerBuffer();\n\t\t\tvar bufferFun = function() {\n\t\t\t\tif (!thisTemp.isUndefined(thisTemp.V) && thisTemp.V.buffered.length > 0) {\n\t\t\t\t\tvar duration = thisTemp.V.duration;\n\t\t\t\t\tvar len = thisTemp.V.buffered.length;\n\t\t\t\t\tvar bufferStart = thisTemp.V.buffered.start(len - 1);\n\t\t\t\t\tvar bufferEnd = thisTemp.V.buffered.end(len - 1);\n\t\t\t\t\tvar loadTime = bufferStart + bufferEnd;\n\t\t\t\t\tvar loadProgressBgW = thisTemp.CB['timeProgressBg'].offsetWidth;\n\t\t\t\t\tvar timeButtonW = thisTemp.CB['timeButton'].offsetWidth;\n\t\t\t\t\tvar loadW = parseInt((loadTime * loadProgressBgW / duration) + timeButtonW);\n\t\t\t\t\tif (loadW >= loadProgressBgW) {\n\t\t\t\t\t\tloadW = loadProgressBgW;\n\t\t\t\t\t\tclearTimerBuffer();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.changeLoad(loadTime);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerBuffer = new this.timer(200, bufferFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t单独计算加载进度\n\t\t*/\n\t\tchangeLoad: function(loadTime) {\n\t\t\tif (this.V == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar loadProgressBgW = this.CB['timeProgressBg'].offsetWidth;\n\t\t\tvar timeButtonW = this.CB['timeButton'].offsetWidth;\n\t\t\tvar duration = this.V.duration;\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tif (this.isUndefined(loadTime)) {\n\t\t\t\tloadTime = this.loadTime;\n\t\t\t} else {\n\t\t\t\tthis.loadTime = loadTime;\n\t\t\t}\n\t\t\tvar loadW = parseInt((loadTime * loadProgressBgW / duration) + timeButtonW);\n\t\t\tthis.css(this.CB['loadProgress'], 'width', loadW + 'px');\n\t\t\tthis.sendJS('loadTime',loadTime);\n\t\t\tthis.loadTimeTemp=loadTime;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否是直播\n\t\t*/\n\t\tjudgeIsLive: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.timerError != null) {\n\t\t\t\tif (this.timerError.runing) {\n\t\t\t\t\tthis.timerError.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerError = null;\n\t\t\t}\n\t\t\tthis.error = false;\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.css(this.CB['errorText'], 'display', 'none');\n\t\t\t}\n\t\t\tvar timeupdate = function(event) {\n\t\t\t\tthisTemp.timeUpdateHandler();\n\t\t\t};\n\t\t\tif (!this.vars['live']) {\n\t\t\t\tif (this.V != null && this.playerType == 'html5video') {\n\t\t\t\t\tthis.addListenerInside('timeupdate', timeupdate);\n\t\t\t\t\tthisTemp.timeTextHandler();\n\t\t\t\t\tthisTemp.prompt(); //添加提示点\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tthisTemp.bufferEdHandler();\n\t\t\t\t\t},\n\t\t\t\t\t200);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('timeupdate', timeupdate);\n\t\t\t\tif (this.timerTime != null) {\n\t\t\t\t\twindow.clearInterval(this.timerTime);\n\t\t\t\t\ttimerTime = null;\n\t\t\t\t}\n\t\t\t\tif (this.timerTime != null) {\n\t\t\t\t\tif (this.timerTime.runing) {\n\t\t\t\t\t\tthis.timerTime.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthis.timerTime = null;\n\t\t\t\t}\n\t\t\t\tvar timeFun = function() {\n\t\t\t\t\tif (thisTemp.V != null && !thisTemp.V.paused && thisTemp.conBarShow) {\n\t\t\t\t\t\tthisTemp.CB['timeText'].innerHTML = thisTemp.formatTime(0,0,thisTemp.ckLanguage['live']); //时间显示框默认显示内容\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.timerTime = new this.timer(1000, timeFun);\n\t\t\t\t//timerTime.start();\n\t\t\t}\n\t\t\tthis.definition();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载字幕\n\t\t*/\n\t\tloadTrack: function(def) {\n\t\t\tif (this.playerType == 'flashplayer' || this.vars['flashplayer'] == true) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(def)){\n\t\t\t\tdef=-1;\n\t\t\t}\n\t\t\tvar track = this.vars['cktrack'];\n\t\t\tvar loadTrackUrl='';\n\t\t\tvar type=this.varType(track);\n\t\t\tvar thisTemp = this;\n\t\t\tif(type=='array'){\n\t\t\t\tif(def==-1){\n\t\t\t\t\tvar index=0;\n\t\t\t\t\tvar indexN=0;\n\t\t\t\t\tfor(var i=0;i<track.length;i++){\n\t\t\t\t\t\tvar li=track[i];\n\t\t\t\t\t\tif(li.length==3 && li[2]>indexN){\n\t\t\t\t\t\t\tindexN=li[2];\n\t\t\t\t\t\t\tindex=i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tindex=def;\n\t\t\t\t}\n\t\t\t\tloadTrackUrl=track[index][0];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tloadTrackUrl=track;\n\t\t\t}\n\t\t\tvar obj = {\n\t\t\t\tmethod: 'get',\n\t\t\t\tdataType: 'text',\n\t\t\t\turl: loadTrackUrl,\n\t\t\t\tcharset: 'utf-8',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tif(data){\n\t\t\t\t\t\tthisTemp.track = thisTemp.parseSrtSubtitles(data);\n\t\t\t\t\t\tthisTemp.trackIndex = 0;\n\t\t\t\t\t\tthisTemp.nowTrackShow = {\n\t\t\t\t\t\t\tsn: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.ajax(obj);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重置字幕\n\t\t*/\n\t\tresetTrack: function() {\n\t\t\tthis.trackIndex = 0;\n\t\t\tthis.nowTrackShow = {\n\t\t\t\tsn: ''\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据时间改变读取显示字幕\n\t\t*/\n\t\ttrackShowHandler: function() {\n\t\t\tif (!this.conBarShow || this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.track.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.trackIndex >= this.track.length) {\n\t\t\t\tthis.trackIndex = 0;\n\t\t\t}\n\t\t\tvar nowTrack = this.track[this.trackIndex]; //当前编号对应的字幕内容\n\t\t\t/*\n\t\t\t\tthis.nowTrackShow=当前显示在界面上的内容\n\t\t\t\t如果当前时间正好在nowTrack时间内，则需要判断\n\t\t\t*/\n\t\t\tif (this.time >= nowTrack['startTime'] && this.time <= nowTrack['endTime']) {\n\t\t\t\t/*\n\t\t\t\t \t如果当前显示的内容不等于当前需要显示的内容时，则需要显示正确的内容\n\t\t\t\t*/\n\t\t\t\tvar nowShow = this.nowTrackShow;\n\t\t\t\tif (nowShow['sn'] != nowTrack['sn']) {\n\t\t\t\t\tthis.trackHide();\n\t\t\t\t\tthis.trackShow(nowTrack);\n\t\t\t\t\tthis.nowTrackTemp=nowTrack;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/*\n\t\t\t\t  如果当前播放时间不在当前编号字幕内，则需要先清空当前的字幕内容，再显示新的字幕内容\n\t\t\t\t*/\n\t\t\t\tthis.trackHide();\n\t\t\t\tthis.checkTrack();\n\t\t\t}\n\t\t},\n\t\ttrackShowAgain:function(){\n\t\t\tthis.trackHide();\n\t\t\tthis.trackShow(this.nowTrackTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示字幕内容\n\t\t*/\n\t\ttrackShow: function(track) {\n\t\t\tthis.nowTrackShow = track;\n\t\t\tvar arr = track['content'];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar obj = {\n\t\t\t\t\tlist: [{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\ttext: arr[i],\n\t\t\t\t\t\tcolor: this.ckStyle['cktrack']['color'],\n\t\t\t\t\t\tsize: this.ckStyle['cktrack']['size'],\n\t\t\t\t\t\tfontFamily: this.ckStyle['cktrack']['font'],\n\t\t\t\t\t\tlineHeight: this.ckStyle['cktrack']['leading']+'px'\n\t\t\t\t\t}],\n\t\t\t\t\tposition: [1, 2, null, -(arr.length - i) * this.ckStyle['cktrack']['leading'] - this.ckStyle['cktrack']['marginBottom']]\n\t\t\t\t};\n\t\t\t\tvar ele = this.addElement(obj);\n\t\t\t\tthis.trackElement.push(ele);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t隐藏字幕内容\n\t\t*/\n\t\ttrackHide: function() {\n\t\t\tfor (var i = 0; i < this.trackElement.length; i++) {\n\t\t\t\tthis.deleteElement(this.trackElement[i]);\n\t\t\t}\n\t\t\tthis.trackElement = [];\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重新计算字幕的编号\n\t\t*/\n\t\tcheckTrack: function() {\n\t\t\tvar num = this.trackIndex;\n\t\t\tvar arr = this.track;\n\t\t\tvar i = 0;\n\t\t\tfor (i = num; i < arr.length; i++) {\n\t\t\t\tif (this.time >= arr[i]['startTime'] && this.time <= arr[i]['endTime']) {\n\t\t\t\t\tthis.trackIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t-----------------------------------------------------------------------------接口函数开始\n\t\t\t接口函数\n\t\t\t在播放和暂停之间切换\n\t\t*/\n\t\tplayOrPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.playOrPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V.paused) {\n\t\t\t\tthis.videoPlay();\n\t\t\t} else {\n\t\t\t\tthis.videoPause();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t播放动作\n\t\t*/\n\t\tvideoPlay: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.eliminateAd(); //清除广告\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (this.V.currentSrc) {\n\t\t\t\t\tthis.V.play();\n\t\t\t\t}\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t暂停动作\n\t\t*/\n\t\tvideoPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.V.pause();\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t跳转时间动作\n\t\t*/\n\t\tvideoSeek: function(time) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoSeek(time);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar duration = this.V.duration>0.2?this.V.duration:this.getMetaDate()['duration'];\n\t\t\tif (duration > 0 && time > duration) {\n\t\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\t\ttime=0;\n\t\t\t\t\tthis.sendJS('ended');\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ttime = duration-0.1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (time >= 0) {\n\t\t\t\tthis.V.currentTime = time;\n\t\t\t\tthis.sendJS('seekTime', time);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t调节音量/获取音量\n\t\t*/\n\t\tchangeVolume: function(vol, bg, button) {\t\t\t\n\t\t\tif (this.loaded) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tthis.V.changeVolume(vol);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isNaN(vol) || this.isUndefined(vol)) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (!this.loaded) {\n\t\t\t\tthis.vars['volume'] = vol;\n\t\t\t}\n\t\t\tif (!this.html5Video) {\n\t\t\t\tthis.V.changeVolume(vol);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (this.isUndefined(bg)) {\n\t\t\t\t\tbg = true;\n\t\t\t\t}\n\t\t\t} catch(e) {}\n\t\t\ttry {\n\t\t\t\tif (this.isUndefined(button)) {\n\t\t\t\t\tbutton = true;\n\t\t\t\t}\n\t\t\t} catch(e) {}\n\t\t\tif (!vol) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (vol < 0) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (vol > 1) {\n\t\t\t\tvol = 1;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.V.volume = vol;\n\t\t\t} catch(error) {}\n\t\t\tthis.volume = vol;\n\t\t\tif (bg && this.conBarShow) {\n\t\t\t\tvar bgW = vol * this.CB['volumeBg'].offsetWidth;\n\t\t\t\tif (bgW < 0) {\n\t\t\t\t\tbgW = 0;\n\t\t\t\t}\n\t\t\t\tif (bgW > this.CB['volumeBg'].offsetWidth) {\n\t\t\t\t\tbgW = this.CB['volumeBg'].offsetWidth;\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['volumeUp'], 'width', bgW + 'px');\n\t\t\t}\n\n\t\t\tif (button && this.conBarShow) {\n\t\t\t\tvar buLeft = parseInt(this.CB['volumeUp'].offsetWidth - (this.CB['volumeBO'].offsetWidth * 0.5));\n\t\t\t\tif (buLeft > this.CB['volumeBg'].offsetWidth - this.CB['volumeBO'].offsetWidth) {\n\t\t\t\t\tbuLeft = this.CB['volumeBg'].offsetWidth - this.CB['volumeBO'].offsetWidth\n\t\t\t\t}\n\t\t\t\tif (buLeft < 0) {\n\t\t\t\t\tbuLeft = 0;\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['volumeBO'], 'left', buLeft + 'px');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t静音\n\t\t*/\n\t\tvideoMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoMute();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.volumeTemp = this.V ? (this.V.volume > 0 ? this.V.volume: this.vars['volume']) : this.vars['volume'];\n\t\t\tthis.changeVolume(0);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t取消静音\n\t\t*/\n\t\tvideoEscMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoEscMute();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.changeVolume(this.volumeTemp > 0 ? this.volumeTemp: this.vars['volume']);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t视频广告静音\n\t\t*/\n\t\tadMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.changeVolume(0);\n\t\t\tthis.adVideoMute = true;\n\t\t\tthis.css(this.CB['adEscMute'], 'display', 'block');\n\t\t\tthis.css(this.CB['adMute'], 'display', 'none');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t视频广告取消静音\n\t\t*/\n\t\tescAdMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar v = this.ckStyle['advertisement']['videoVolume'];\n\t\t\tthis.changeVolume(v);\n\t\t\tthis.adMuteInto();\n\t\t},\n\t\t/*\n\t\t \t初始化广告的音量按钮\n\t\t*/\n\t\tadMuteInto: function() {\n\t\t\tthis.adVideoMute = false;\n\t\t\tthis.css(this.CB['adEscMute'], 'display', 'none');\n\t\t\tthis.css(this.CB['adMute'], 'display', 'block');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t快退\n\t\t*/\n\t\tfastBack: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.fastBack();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = this.time - this.ckConfig['config']['timeJump'];\n\t\t\tif (time < 0) {\n\t\t\t\ttime = 0;\n\t\t\t}\n\t\t\tthis.videoSeek(time);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t快进\n\t\t*/\n\t\tfastNext: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.fastNext();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = this.time + this.ckConfig['config']['timeJump'];\n\t\t\tif (time > this.V.duration) {\n\t\t\t\ttime = this.V.duration;\n\t\t\t}\n\t\t\tthis.videoSeek(time);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t获取当前播放的地址\n\t\t*/\n\t\tgetCurrentSrc: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getCurrentSrc();\n\t\t\t}\n\t\t\treturn this.V.currentSrc;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t全屏/退出全屏动作，该动作只能是用户操作才可以触发，比如用户点击按钮触发该事件\n\t\t*/\n\t\tswitchFull: function() {\n\t\t\tif (this.full) {\n\t\t\t\tthis.quitFullScreen();\n\t\t\t} else {\n\t\t\t\tthis.fullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t全屏动作，该动作只能是用户操作才可以触发，比如用户点击按钮触发该事件\n\t\t*/\n\t\tfullScreen: function() {\n\t\t\tif (this.html5Video && this.playerType == 'html5video') {\n\t\t\t\tvar element = this.PD;\n\t\t\t\tif (element.requestFullscreen) {\n\t\t\t\t\telement.requestFullscreen();\n\t\t\t\t} else if (element.mozRequestFullScreen) {\n\t\t\t\t\telement.mozRequestFullScreen();\n\t\t\t\t} else if (element.webkitRequestFullscreen) {\n\t\t\t\t\telement.webkitRequestFullscreen();\n\t\t\t\t} else if (element.msRequestFullscreen) {\n\t\t\t\t\telement.msRequestFullscreen();\n\t\t\t\t} else if (element.oRequestFullscreen) {\n\t\t\t\t\telement.oRequestFullscreen();\n\t\t\t\t}\n\t\t\t\tthis.judgeFullScreen();\n\t\t\t} else {\n\t\t\t\t//this.V.fullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t退出全屏动作\n\t\t*/\n\t\tquitFullScreen: function() {\n\t\t\tif (this.html5Video && this.playerType == 'html5video') {\n\t\t\t\tif (document.exitFullscreen) {\n\t\t\t\t\tdocument.exitFullscreen();\n\t\t\t\t} else if (document.msExitFullscreen) {\n\t\t\t\t\tdocument.msExitFullscreen();\n\t\t\t\t} else if (document.mozCancelFullScreen) {\n\t\t\t\t\tdocument.mozCancelFullScreen();\n\t\t\t\t} else if (document.oRequestFullscreen) {\n\t\t\t\t\tdocument.oCancelFullScreen();\n\t\t\t\t} else if (document.requestFullscreen) {\n\t\t\t\t\tdocument.requestFullscreen();\n\t\t\t\t} else if (document.webkitExitFullscreen) {\n\t\t\t\t\tdocument.webkitExitFullscreen();\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(document.documentElement, 'cssText', '');\n\t\t\t\t\tthis.css(document.document.body, 'cssText', '');\n\t\t\t\t\tthis.css(this.PD, 'cssText', '');\n\t\t\t\t}\n\t\t\t\tthis.judgeFullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t 下面列出只有flashplayer里支持的 \n\t\t */\n\t\tvideoRotation: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoRotation(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(n)) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tvar tf = this.css(this.V, 'transform');\n\t\t\tif (this.isUndefined(tf) && !tf) {\n\t\t\t\ttf = 'rotate(0deg)';\n\t\t\t}\n\t\t\tvar reg = tf.match(/rotate\\([^)]+\\)/);\n\t\t\treg = reg ? reg[0].replace('rotate(', '').replace('deg)', '') : '';\n\t\t\tif (reg == '') {\n\t\t\t\treg = 0;\n\t\t\t} else {\n\t\t\t\treg = parseInt(reg);\n\t\t\t}\n\t\t\tif (n == -1) {\n\t\t\t\treg -= 90;\n\t\t\t} else if (n == 1) {\n\t\t\t\treg += 90;\n\t\t\t} else {\n\t\t\t\tif (n != 90 && n != 180 && n != 270 && n != -90 && n != -180 && n != -270) {\n\t\t\t\t\treg = 0;\n\t\t\t\t} else {\n\t\t\t\t\treg = n;\n\t\t\t\t}\n\t\t\t}\n\t\t\tn = reg;\n\t\t\tvar y90 = n % 90,\n\t\t\ty180 = n % 180,\n\t\t\ty270 = n % 270;\n\t\t\tvar ys = false;\n\t\t\tif (y90 == 0 && y180 == 90 && y270 == 90) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == 0 && y180 == 90 && y270 == 0) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == -0 && y180 == -90 && y270 == -90) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == -0 && y180 == -90 && y270 == -0) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\ttf = tf.replace(/rotate\\([^)]+\\)/, '').replace(/scale\\([^)]+\\)/, '') + ' rotate(' + n + 'deg)';\n\t\t\tvar cdW = this.CD.offsetWidth,\n\t\t\tcdH = this.CD.offsetHeight,\n\t\t\tvW = this.V.videoWidth,\n\t\t\tvH = this.V.videoHeight;\n\t\t\tif (vW > 0 && vH > 0) {\n\t\t\t\tif (ys) {\n\t\t\t\t\tif (cdW / cdH > vH / vW) {\n\t\t\t\t\t\tnH = cdH;\n\t\t\t\t\t\tnW = vH * nH / vW;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnW = cdW;\n\t\t\t\t\t\tnH = vW * nW / vH;\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(this.V, 'transform', 'rotate(0deg)');\n\t\t\t\t\tthis.css(this.V, 'transform', 'scale(' + nH / cdW + ',' + nW / cdH + ')' + tf);\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\t}\n\t\t\treturn;\n\t\t},\n\t\tvideoBrightness: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoBrightness(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoContrast: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoContrast(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoSaturation: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoSaturation(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoHue: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoHue(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoZoom: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoZoom(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(n)) {\n\t\t\t\tn = 1;\n\t\t\t}\n\t\t\tif (n < 0) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tif (n > 2) {\n\t\t\t\tn = 2;\n\t\t\t}\n\t\t\tvar tf = this.css(this.V, 'transform');\n\t\t\ttf = tf.replace(/scale\\([^)]+\\)/, '') + ' scale(' + n + ')';\n\t\t\tthis.videoScale = n;\n\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\treturn;\n\t\t},\n\t\tvideoProportion: function(w, h) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoProportion(w, h);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tadPlay: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.adPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adIsPause = false;\n\t\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\t\tvar type = ad['type'];\n\t\t\t\tif (this.isStrImage(type)) {\n\t\t\t\t\tthis.adCountDown();\n\t\t\t\t} else {\n\t\t\t\t\tthis.V.play();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tadPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.adPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adIsPause = true;\n\t\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\t\tvar type = ad['type'];\n\t\t\t\tif (type != 'jpg' && type != 'jpeg' && type != 'png' && type != 'svg' && type != 'gif') {\n\t\t\t\t\tthis.videoPause();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tvideoError: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoError(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tchangeConfig: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\tswitch(args.length){\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tthis.V.changeConfig(args[0]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 7:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar obj = this.ckConfig;\n\t\t\tvar arg = arguments;\n\t\t\tfor (var i = 0; i < arg.length - 1; i++) {\n\t\t\t\tif (obj.hasOwnProperty(arg[i])) {\n\t\t\t\t\tobj = obj[arg[i]];\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar val = arg[arg.length - 1];\n\t\t\tswitch (arg.length) {\n\t\t\t\tcase 2:\n\t\t\t\t\tthis.ckConfig[arg[0]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 7:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 9:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]][arg[7]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 10:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]][arg[7]][arg[8]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.sendJS('configChange', this.ckConfig);\n\t\t},\n\t\tcustom: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.custom(arguments);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(arguments)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar type='',name='',display='';\n\t\t\tif(arguments.length==4){//控制栏\n\t\t\t\ttype='controlBar-'+arguments[1];\n\t\t\t\tname=arguments[2];\n\t\t\t\tdisplay=arguments[3]?'block':'none';\n\t\t\t}\n\t\t\telse if(arguments.length==3){//播放器\n\t\t\t\ttype='player-'+arguments[0];\n\t\t\t\tname=arguments[1];\n\t\t\t\tdisplay=arguments[2]?'block':'none';\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor(var k in this.customeElement){\n\t\t\t\tvar obj=this.customeElement[k];\n\t\t\t\tif(obj['type']==type && obj['name']==name){\n\t\t\t\t\tthis.css(obj['ele'],'display',display);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetConfig: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getConfig(arguments);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar temp=this.ckConfig;\n\t\t\t\tfor(var index in arguments) {  \n\t\t\t        try{\n\t\t\t        \ttemp=temp[arguments[index]];\n\t\t\t        }\n\t\t\t        catch(error){\n\t\t\t        \ttemp=null;\n\t\t\t        }\n\t\t\t    }; \n\t\t\t\treturn temp;\n\t\t\t}\n\t\t},\n\t\topenUrl: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.openUrl(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t清除视频\n\t\t*/\n\t\tvideoClear: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoClear();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.V.innerHTML='';\n\t\t\tthis.V.src='';\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t向播放器传递新的视频地址\n\t\t*/\n\t\tnewVideo: function(c) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.newVideo(c);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.embed(c);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t截图\n\t\t*/\n\t\tscreenshot: function(obj, save, name) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.screenshot(obj, save, name);\n\t\t\t\t} catch(error) {\n\t\t\t\t\tthis.log(error);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (obj == 'video') {\n\t\t\t\tvar newCanvas = document.createElement('canvas');\n\t\t\t\tnewCanvas.width = this.V.videoWidth;\n\t\t\t\tnewCanvas.height = this.V.videoHeight;\n\t\t\t\tnewCanvas.getContext('2d').drawImage(this.V, 0, 0, this.V.videoWidth, this.V.videoHeight);\n\t\t\t\ttry {\n\t\t\t\t\tvar base64 = newCanvas.toDataURL('image/jpeg');\n\t\t\t\t\tthis.sendJS('screenshot', {\n\t\t\t\t\t\tobject: obj,\n\t\t\t\t\t\tsave: save,\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tbase64: base64\n\t\t\t\t\t});\n\t\t\t\t} catch(error) {\n\t\t\t\t\tthis.log(error);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t改变播放器尺寸\n\t\t*/\n\t\tchangeSize: function(w, h) {\n\t\t\tif (this.isUndefined(w)) {\n\t\t\t\tw = 0;\n\t\t\t}\n\t\t\tif (this.isUndefined(h)) {\n\t\t\t\th = 0;\n\t\t\t}\n\t\t\tif (w > 0) {\n\t\t\t\tthis.css(this.CD, 'width', w + 'px');\n\t\t\t}\n\t\t\tif (h > 0) {\n\t\t\t\tthis.css(this.CD, 'height', h + 'px');\n\t\t\t}\n\t\t\tif (this.html5Video) {\n\t\t\t\tthis.playerResize();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t重置播放器界面\n\t\t*/\n\t\tplayerResize:function(){\n\t\t\tthis.controlBar();//控制栏按钮\n\t\t\tthis.elementCoordinate();\n\t\t\tthis.carbarButton();\n\t\t\tthis.customCoor();//自定义元件的位置重置\n\t\t\tthis.timeProgressDefault();//进度条默认样式\n\t\t\tthis.videoCss();//计算video的宽高和位置\n\t\t\tthis.timeUpdateHandler();//修改进度条样式\n\t\t\tthis.changeElementCoor(); //修改新加元件的坐标\n\t\t\tthis.changePrompt();//重置提示点\n\t\t\tthis.advertisementStyle();//广告控制样式\n\t\t\tthis.adPauseCoor();\n\t\t\tthis.adOtherCoor();\n\t\t\tthis.changeLoad();\n\t\t\tthis.sendJS('resize');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t改变视频播放速度\n\t\t*/\n\t\tchangePlaybackRate: function(n) {\n\t\t\tif (this.html5Video) {\n\t\t\t\tvar arr = this.playbackRateArr;\n\t\t\t\tn = parseInt(n);\n\t\t\t\tif (n < arr.length) {\n\t\t\t\t\tthis.newPlaybackrate(arr[n][1]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册控制控制栏显示与隐藏函数\n\t\t*/\n\t\tchangeControlBarShow: function(show) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeControlBarShow(show);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (show) {\n\t\t\t\tthis.controlBarIsShow = true;\n\t\t\t\tthis.controlBarHide(false);\n\t\t\t} else {\n\t\t\t\tthis.controlBarIsShow = false;\n\t\t\t\tthis.controlBarHide(true);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t-----------------------------------------------------------------------\n\t\t\t调用flashplayer\n\t\t*/\n\t\tembedSWF: function() {\n\t\t\tvar vid = 'ckplayer-'+this.randomString();\n\t\t\tvar flashvars = this.getFlashVars();\n\t\t\tvar param = this.getFlashplayerParam();\n\t\t\tvar flashplayerUrl = 'http://www.macromedia.com/go/getflashplayer';\n\t\t\tvar html = '',\n\t\t\tsrc = this.ckplayerPath + 'ckplayer.swf';\n\t\t\tid = 'id=\"' + vid + '\" name=\"' + vid + '\" ';\n\t\t\thtml += '<object pluginspage=\"' + flashplayerUrl + '\" classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=11,3,0,0\" width=\"100%\" height=\"100%\" ' + id + ' align=\"middle\" wmode=\"transparent\">';\n\t\t\thtml += param['v'];\n\t\t\thtml += '<param name=\"movie\" value=\"' + src + '\">';\n\t\t\thtml += '<param name=\"flashvars\" value=\"' + flashvars + '\">';\n\t\t\thtml += '<param name=\"wmode\" value=\"transparent\">';\n\t\t\thtml += '<embed wmode=\"transparent\" ' + param['w'] + ' src=\"' + src + '\" flashvars=\"' + flashvars + '\" width=\"100%\" height=\"100%\" ' + id + ' align=\"middle\" type=\"application/x-shockwave-flash\" pluginspage=\"' + flashplayerUrl + '\" />';\n\t\t\thtml += '</object>';\n\t\t\tthis.PD.innerHTML = html;\n\t\t\tthis.V = this.getObjectById(vid); //V：定义播放器对象全局变量\n\t\t\tthis.playerType = 'flashplayer';\n\t\t},\n\t\t/*\n\t\t\t判断浏览器是否支持flashplayer \n\t\t*/\n\t\tcheckShockwaveFlash:function(){\n\t\t\tif(window.ActiveXObject) {\n\t\t\t\ttry {\n\t\t\t\t\tvar s = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n\t\t\t\t\tif(s) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {}\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tvar s = navigator.plugins['Shockwave Flash'];\n\t\t\t\t\tif(s) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将vars对象转换成字符\n\t\t*/\n\t\tgetFlashVars: function() {\n\t\t\tthis.getVarsObject();\n\t\t\tvar v = this.vars;\n\t\t\tvar z = '';\n\t\t\tfor (k in v) {\n\t\t\t\tif (k != 'flashplayer' && k != 'container' && v[k] != '') {\n\t\t\t\t\tif (z != '') {\n\t\t\t\t\t\tz += '&';\n\t\t\t\t\t}\n\t\t\t\t\tvar vk = v[k];\n\t\t\t\t\tif (vk == true) {\n\t\t\t\t\t\tvk = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (vk == false) {\n\t\t\t\t\t\tvk = 0;\n\t\t\t\t\t}\n\t\t\t\t\tz += k + '=' + vk;\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (!v.hasOwnProperty('volume') || !v['volume']) {\n\t\t\t\tif (z != '') {\n\t\t\t\t\tz += '&';\n\t\t\t\t}\n\t\t\t\tz += 'volume=0';\n\t\t\t}\n\t\t\treturn z;\n\t\t},\n\t\t/*判断字符串是否是图片*/\n\t\tisStrImage: function(s) {\n\t\t\tif (s == 'jpg' || s == 'jpeg' || s == 'png' || s == 'svg' || s == 'gif') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将vars格式化成flash能接受的对象。再由getFlashVars函数转化成字符串或由newVideo直接使用\n\t\t*/\n\t\tgetVarsObject: function() {\n\t\t\tvar v = this.vars;\n\t\t\tvar f = '',\n\t\t\td = '',\n\t\t\tw = ''; //f=视频地址，d=清晰度地址,w=权重，z=最终地址\n\t\t\tvar arr = this.VA;\n\t\t\tvar prompt = v['promptSpot'];\n\t\t\tvar i = 0;\n\t\t\tvar video = this.vars['video'];\n\t\t\tif (this.varType(video) == 'array') { //对象或数组\n\t\t\t\tvar arr = video;\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tvar arr2 = arr[i];\n\t\t\t\t\tif (arr2) {\n\t\t\t\t\t\tif (f != '') {\n\t\t\t\t\t\t\tf += this.ckConfig['config']['split'];\n\t\t\t\t\t\t\td += ',';\n\t\t\t\t\t\t\tw += ',';\n\t\t\t\t\t\t\tv['type'] += this.ckConfig['config']['split'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tf += encodeURIComponent(decodeURIComponent(arr2[0]));\n\t\t\t\t\t\td += arr2[2];\n\t\t\t\t\t\tw += arr2[3];\n\t\t\t\t\t\tv['type'] += arr2[1].replace('video/', '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (this.varType(video) == 'object') { //对象或数组\n\t\t\t\tf = encodeURIComponent(decodeURIComponent(video['file']));\n\t\t\t\tif (!this.isUndefined(video['type'])) {\n\t\t\t\t\tv['type'] = video['type'];\n\t\t\t\t}\n\t\t\t\td = '';\n\t\t\t\tw = '';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tf = encodeURIComponent(decodeURIComponent(video));\n\t\t\t}\n\t\t\tif (v['preview'] != null) {\n\t\t\t\tv['previewscale'] = v['preview']['scale'];\n\t\t\t\tv['preview'] = v['preview']['file'].join(',');\n\n\t\t\t}\n\t\t\tif (prompt != null) {\n\t\t\t\tv['promptspot'] = '';\n\t\t\t\tv['promptspottime'] = '';\n\t\t\t\tfor (i = 0; i < prompt.length; i++) {\n\t\t\t\t\tif (v['promptspot'] != '') {\n\t\t\t\t\t\tv['promptspot'] += ',';\n\t\t\t\t\t\tv['promptspottime'] += ',';\n\t\t\t\t\t}\n\t\t\t\t\tv['promptspot'] += prompt[i]['words'];\n\t\t\t\t\tv['promptspottime'] += prompt[i]['time'];\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (f != '') {\n\t\t\t\tv['video'] = f;\n\t\t\t\tv['definition'] = d;\n\t\t\t\tv['weight'] = w;\n\t\t\t}\n\t\t\tif (!v['volume']) {\n\t\t\t\tv['volume'] = 0;\n\t\t\t}\n\t\t\tvar newV = {};\n\n\t\t\tfor (var k in v) {\n\t\t\t\tif (v[k] != null) {\n\t\t\t\t\tnewV[k] = v[k];\n\t\t\t\t}\n\t\t\t\tif (k == 'type') {\n\t\t\t\t\tnewV[k] = v[k].replace('video/m3u8', 'm3u8');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.vars = newV;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将embedSWF里的param的对象进行转换\n\t\t*/\n\t\tgetFlashplayerParam: function() {\n\t\t\tvar w = '',\n\t\t\tv = '',\n\t\t\to = {\n\t\t\t\tallowScriptAccess: 'always',\n\t\t\t\tallowFullScreen: true,\n\t\t\t\tquality: 'high',\n\t\t\t\tbgcolor: '#000'\n\t\t\t};\n\t\t\tfor (var e in o) {\n\t\t\t\tw += e + '=\"' + o[e] + '\" ';\n\t\t\t\tv += '<param name=\"' + e + '\" value=\"' + o[e] + '\" />';\n\t\t\t}\n\t\t\tw = w.replace('movie=', 'src=');\n\t\t\treturn {\n\t\t\t\tw: w,\n\t\t\t\tv: v\n\t\t\t};\n\t\t},\n\n\t\t/*\n\t\t\t操作动作结束\n\t\t\t-----------------------------------------------------------------------\n\t\t\t\n\t\t\t接口函数\n\t\t\t获取元数据部分\n\t\t*/\n\t\tgetMetaDate: function() {\n\t\t\tif (!this.loaded || this.V == null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\tvar duration = 0;\n\t\t\t\ttry {\n\t\t\t\t\tduration = !isNaN(this.V.duration) ? this.V.duration: 0;\n\t\t\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\t\t\tif(this.vars['duration']>0){\n\t\t\t\t\t\t\tduration=this.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t\tvar data = {\n\t\t\t\t\tduration: duration,\n\t\t\t\t\tvolume: this.V.volume,\n\t\t\t\t\tplaybackRate: this.V.playbackRate,\n\t\t\t\t\twidth: this.PD.offsetWidth || this.V.offsetWidth || this.V.width,\n\t\t\t\t\theight: this.PD.offsetHeight || this.V.offsetHeight || this.V.height,\n\t\t\t\t\tstreamWidth: this.V.videoWidth,\n\t\t\t\t\tstreamHeight: this.V.videoHeight,\n\t\t\t\t\tvideoWidth: this.V.offsetWidth,\n\t\t\t\t\tvideoHeight: this.V.offsetHeight,\n\t\t\t\t\tpaused: this.V.paused,\n\t\t\t\t\tloadTime:this.loadTimeTemp\n\t\t\t\t};\n\t\t\t\treturn data;\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\treturn this.V.getMetaDate();\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t取当前提供给播放器播放的视频列表\n\t\t*/\n\t\tgetVideoUrl: function() {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getVideoUrl();\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (this.V.src) {\n\t\t\t\tarr.push(this.V.src);\n\t\t\t} else {\n\t\t\t\tvar uArr = this.V.childNodes;\n\t\t\t\tfor (var i = 0; i < uArr.length; i++) {\n\t\t\t\t\tarr.push(uArr[i].src);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t格式化函数\n\t\t*/\n\t\tclickEvent: function(call) {\n\t\t\tif (call == 'none' || call == '' || call == null) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'none'\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar callArr = call.split('->');\n\t\t\tvar type = '',\n\t\t\tfun = '',\n\t\t\tlink = '',\n\t\t\ttarget = '';\n\t\t\tif (callArr.length == 2) {\n\t\t\t\tvar callM = callArr[0];\n\t\t\t\tvar callE = callArr[1];\n\t\t\t\tif (!callE) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'none'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tvar val = '';\n\t\t\t\tvar eArr = [];\n\t\t\t\ttype = callM;\n\t\t\t\tswitch (callM) {\n\t\t\t\tcase 'actionScript':\n\t\t\t\t\t//trace(THIS.hasOwnProperty(callE));\n\t\t\t\t\tif (callE.indexOf('(') > -1) {\n\t\t\t\t\t\teArr = callE.split('(');\n\t\t\t\t\t\tcallE = eArr[0];\n\t\t\t\t\t\tval = eArr[1].replace(')', '');\n\t\t\t\t\t}\n\t\t\t\t\tif (val == '') {\n\t\t\t\t\t\tfun = 'thisTemp.' + callE + '()';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfun = 'thisTemp.' + callE + '(' + val + ')';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javaScript':\n\t\t\t\t\tif (callE.substr(0, 11) == '[flashvars]') {\n\t\t\t\t\t\tcallE = callE.substr(11);\n\t\t\t\t\t\tif (this.vars.hasOwnProperty(callE)) {\n\t\t\t\t\t\t\tcallE = this.vars[callE];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (callE.indexOf('(') > -1) {\n\t\t\t\t\t\teArr = callE.split('(');\n\t\t\t\t\t\tcallE = eArr[0];\n\t\t\t\t\t\tval = eArr[1].replace(')', '');\n\t\t\t\t\t}\n\t\t\t\t\tif (val == '') {\n\t\t\t\t\t\tfun = callE + '()';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfun = callE + '(' + val + ')';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"link\":\n\t\t\t\t\tvar callLink = (callE + ',').split(',');\n\t\t\t\t\tif (callLink[0].substr(0, 11) == '[flashvars]') {\n\t\t\t\t\t\tvar fl = callLink[0].replace('[flashvars]', '');\n\t\t\t\t\t\tif (this.vars.hasOwnProperty(fl)) {\n\t\t\t\t\t\t\tcallLink[0] = this.vars[fl];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!callLink[1]) {\n\t\t\t\t\t\tcallLink[1] = '_blank';\n\t\t\t\t\t}\n\t\t\t\t\tlink = callLink[0];\n\t\t\t\t\ttarget = callLink[1];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttype: type,\n\t\t\t\tfun: fun,\n\t\t\t\tlink: link,\n\t\t\t\ttarget: target\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据指定的align,valign,offsetX,offsetY计算坐标\n\t\t*/\n\t\tgetPosition: function(obj,rEle) {\n\t\t\t/*\n\t\t\t{\n\t            \"align\": \"right\",\n\t            \"vAlign\": \"right\",\n\t            \"offsetX\": -60,\n\t            \"offsetY\": -60\n\t        } \n\t\t\t*/\n\t\t\tvar pw = this.PD.offsetWidth,\n\t\t\tph = this.PD.offsetHeight;\n\t\t\tvar x = 0,\n\t\t\ty = 0;\n\t\t\tvar left=0,top=0,rw=0,rh=0;\n\t\t\tif(!this.isUndefined(rEle)){\n\t\t\t\tleft=parseInt(this.css(rEle,'left')),top=parseInt(this.css(rEle,'top')),rw=rEle.offsetWidth,rh=rEle.offsetHeight;\n\t\t\t}\n\t\t\tswitch (obj['align']) {\n\t\t\t\tcase 'left':\n\t\t\t\t\tx = obj['offsetX']+left;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'center':\n\t\t\t\t\tx = pw * 0.5 + obj['offsetX'];\n\t\t\t\t\tif(left){\n\t\t\t\t\t\tx-=(pw*0.5-rw*0.5-left);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tx = pw + obj['offsetX'];\n\t\t\t\t\tif(left){\n\t\t\t\t\t\tx-=(pw-left-rw);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tswitch (obj['vAlign']) {\n\t\t\t\tcase 'top':\n\t\t\t\t\ty = obj['offsetY']+top;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'middle':\n\t\t\t\t\ty = ph * 0.5 + obj['offsetY']-top-(rh*0.5);\n\t\t\t\t\tif(top){\n\t\t\t\t\t\tx-=(ph*0.5-rh*0.5-top);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'bottom':\n\t\t\t\t\ty = ph + obj['offsetY'];\n\t\t\t\t\tif(top){\n\t\t\t\t\t\ty-=(ph-top-rh);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t向播放器界面添加一个文本\n\t\t*/\n\t\taddElement: function(attribute) {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.addElement(attribute);\n\t\t\t}\n\t\t\tvar i = 0;\n\t\t\tvar obj = {\n\t\t\t\tlist: null,\n\t\t\t\tx: '100%',\n\t\t\t\ty: \"50%\",\n\t\t\t\tposition: null,\n\t\t\t\talpha: 1,\n\t\t\t\tbackgroundColor: '',\n\t\t\t\tbackAlpha: 1,\n\t\t\t\tbackRadius: 0,\n\t\t\t\tclickEvent: ''\n\t\t\t};\n\t\t\tobj = this.standardization(obj, attribute);\n\t\t\tvar list = obj['list'];\n\t\t\tif (list == null) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tvar id = 'element-' + this.randomString(10);\n\t\t\tvar ele = document.createElement('div');\n\t\t\tele.className = id;\n\t\t\tif (obj['x']) {\n\t\t\t\tele.setAttribute('data-x', obj['x']);\n\t\t\t}\n\t\t\tif (obj['y']) {\n\t\t\t\tele.setAttribute('data-y', obj['y']);\n\t\t\t}\n\t\t\tif (obj['position'] != null) {\n\t\t\t\tele.setAttribute('data-position', obj['position'].join(','));\n\t\t\t}\n\n\t\t\tthis.PD.appendChild(ele);\n\t\t\tthis.css(ele, {\n\t\t\t\tposition: 'absolute',\n\t\t\t\tfilter: 'alpha(opacity:' + obj['alpha'] + ')',\n\t\t\t\topacity: obj['alpha'].toString(),\n\t\t\t\twidth: '800px',\n\t\t\t\tzIndex: '20'\n\t\t\t});\n\t\t\tvar bgid = 'elementbg' + this.randomString(10);\n\t\t\tvar bgAlpha = obj['alpha'].toString();\n\t\t\tvar bgColor = obj['backgroundColor'].replace('0x', '#');\n\t\t\tvar html = '';\n\t\t\tvar idArr = [];\n\t\t\tvar clickArr = [];\n\t\t\tif (!this.isUndefined(list) && list.length > 0) {\n\t\t\t\tvar textObj, returnObj, clickEvent;\n\t\t\t\tfor (i = 0; i < list.length; i++) {\n\t\t\t\t\tvar newEleid = 'elementnew' + this.randomString(10);\n\t\t\t\t\tswitch (list[i]['type']) {\n\t\t\t\t\tcase 'image':\n\t\t\t\t\tcase 'png':\n\t\t\t\t\tcase 'jpg':\n\t\t\t\t\tcase 'jpeg':\n\t\t\t\t\tcase 'gif':\n\t\t\t\t\t\ttextObj = {\n\t\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\t\tfile: '',\n\t\t\t\t\t\t\tradius: 0,//圆角弧度\n\t\t\t\t\t\t\twidth: 30,//定义宽，必需要定义\n\t\t\t\t\t\t\theight: 30,//定义高，必需要定义\n\t\t\t\t\t\t\talpha: 1,//透明度\n\t\t\t\t\t\t\tpaddingLeft: 0,//左边距离\n\t\t\t\t\t\t\tpaddingRight: 0,//右边距离\n\t\t\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\t\t\tmarginLeft: 0,\n\t\t\t\t\t\t\tmarginRight: 0,\n\t\t\t\t\t\t\tmarginTop: 0,\n\t\t\t\t\t\t\tmarginBottom: 0,\n\t\t\t\t\t\t\tbackgroundColor: '',\n\t\t\t\t\t\t\tclickEvent: ''\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tlist[i] = this.standardization(textObj, list[i]);\n\t\t\t\t\t\tclickEvent = this.clickEvent(list[i]['clickEvent']);\n\t\t\t\t\t\tclickArr.push(clickEvent);\n\t\t\t\t\t\tif (clickEvent['type'] == 'link') {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><a href=\"' + clickEvent['link'] + '\" target=\"' + clickEvent['target'] + '\"><img class=\"' + newEleid + '_image\" src=\"' + list[i]['file'] + '\" style=\"border:0;\"></a></div>';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><img class=\"' + newEleid + '_image\" src=\"' + list[i]['file'] + '\" style=\"border:0;\"></div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'text':\n\t\t\t\t\t\ttextObj = {\n\t\t\t\t\t\t\ttype: 'text',//说明是文本\n\t\t\t\t\t\t\ttext: '',//文本内容\n\t\t\t\t\t\t\tcolor: '0xFFFFFF',\n\t\t\t\t\t\t\tsize: 14,\n\t\t\t\t\t\t\tfontFamily: this.fontFamily,\n\t\t\t\t\t\t\tleading: 0,\n\t\t\t\t\t\t\talpha: 1,//透明度\n\t\t\t\t\t\t\tpaddingLeft: 0,//左边距离\n\t\t\t\t\t\t\tpaddingRight: 0,//右边距离\n\t\t\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\t\t\tmarginLeft: 0,\n\t\t\t\t\t\t\tmarginRight: 0,\n\t\t\t\t\t\t\tmarginTop: 0,\n\t\t\t\t\t\t\tmarginBottom: 0,\n\t\t\t\t\t\t\tbackgroundColor: '',\n\t\t\t\t\t\t\tbackAlpha: 1,\n\t\t\t\t\t\t\tbackRadius: 0,//背景圆角弧度，支持数字统一设置，也支持分开设置[30,20,20,50]，对应上左，上右，下右，下左\n\t\t\t\t\t\t\tclickEvent: ''\n\t\t\t\t\t\t};\n\t\t\t\t\t\tlist[i] = this.standardization(textObj, list[i]);\n\t\t\t\t\t\tclickEvent = this.clickEvent(list[i]['clickEvent']);\n\t\t\t\t\t\tclickArr.push(clickEvent);\n\t\t\t\t\t\tif (clickEvent['type'] == 'link') {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><div class=\"' + newEleid + '_bg\"></div><div class=\"' + newEleid + '_text\"><a href=\"' + clickEvent['link'] + '\" target=\"' + clickEvent['target'] + '\">' + list[i]['text'] + '</a></div></div>';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thtml += '<div  class=\"' + newEleid + '\" data-i=\"' + i + '\"><div class=\"' + newEleid + '_bg\"></div><div class=\"' + newEleid + '_text\">' + list[i]['text'] + '</div></div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tidArr.push(newEleid);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar objClickEvent = this.clickEvent(obj['clickEvent']);\n\t\t\tele.innerHTML = '<div class=\"' + bgid + '\"></div><div class=\"' + bgid + '_c\">' + html + '</div>';\n\t\t\tif (objClickEvent['type'] == 'javaScript' || objClickEvent['type'] == 'actionScript') {\n\t\t\t\tvar objClickHandler = function() {\n\t\t\t\t\teval(objClickEvent['fun']);\n\t\t\t\t\tthisTemp.sendJS('clickEvent', clk['type'] + '->' + clk['fun'].replace('thisTemp.', '').replace('()', ''));\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', objClickHandler, this.getByElement(bgid + '_c'))\n\t\t\t}\n\t\t\tthis.css(bgid + '_c', {\n\t\t\t\tposition: 'absolute',\n\t\t\t\tzIndex: '2'\n\t\t\t});\n\t\t\tfor (i = 0; i < idArr.length; i++) {\n\t\t\t\tvar clk = clickArr[i];\n\t\t\t\tif (clk['type'] == 'javaScript' || clk['type'] == 'actionScript') {\n\t\t\t\t\tvar clickHandler = function() {\n\t\t\t\t\t\t//clk = clickArr[this.getAttribute('data-i')];\n\t\t\t\t\t\tclk = clickArr[thisTemp.getDataset(this,'i')];\n\t\t\t\t\t\teval(clk['fun']);\n\t\t\t\t\t\tthisTemp.sendJS('clickEvent', clk['type'] + '->' + clk['fun'].replace('thisTemp.', '').replace('()', ''));\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', clickHandler, this.getByElement(idArr[i]))\n\t\t\t\t}\n\t\t\t\tswitch (list[i]['type']) {\n\t\t\t\tcase 'image':\n\t\t\t\tcase 'png':\n\t\t\t\tcase 'jpg':\n\t\t\t\tcase 'jpeg':\n\t\t\t\tcase 'gif':\n\t\t\t\t\tthis.css(idArr[i], {\n\t\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t\twidth: list[i]['width'] + 'px',\n\t\t\t\t\t\theight: list[i]['height'] + 'px',\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['alpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['alpha'].toString(),\n\t\t\t\t\t\tmarginLeft: list[i]['marginLeft'] + 'px',\n\t\t\t\t\t\tmarginRight: list[i]['marginRight'] + 'px',\n\t\t\t\t\t\tmarginTop: list[i]['marginTop'] + 'px',\n\t\t\t\t\t\tmarginBottom: list[i]['marginBottom'] + 'px',\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px',\n\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i] + '_image', {\n\t\t\t\t\t\twidth: list[i]['width'] + 'px',\n\t\t\t\t\t\theight: list[i]['height'] + 'px',\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'text':\n\t\t\t\t\tthis.css(idArr[i] + '_text', {\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['alpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['alpha'].toString(),\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px',\n\t\t\t\t\t\tfontFamily: list[i]['font'],\n\t\t\t\t\t\tfontSize: list[i]['size'] + 'px',\n\t\t\t\t\t\tcolor: list[i]['color'].replace('0x', '#'),\n\t\t\t\t\t\tlineHeight: list[i]['leading'] > 0 ? list[i]['leading'] + 'px': '',\n\t\t\t\t\t\tpaddingLeft: list[i]['paddingLeft'] + 'px',\n\t\t\t\t\t\tpaddingRight: list[i]['paddingRight'] + 'px',\n\t\t\t\t\t\tpaddingTop: list[i]['paddingTop'] + 'px',\n\t\t\t\t\t\tpaddingBottom: list[i]['paddingBottom'] + 'px',\n\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tzIndex: '3',\n\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i], {\n\t\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t\twidth: this.getByElement(idArr[i] + '_text').offsetWidth + 'px',\n\t\t\t\t\t\theight: this.getByElement(idArr[i] + '_text').offsetHeight + 'px',\n\t\t\t\t\t\tmarginLeft: list[i]['marginLeft'] + 'px',\n\t\t\t\t\t\tmarginRight: list[i]['marginRight'] + 'px',\n\t\t\t\t\t\tmarginTop: list[i]['marginTop'] + 'px',\n\t\t\t\t\t\tmarginBottom: list[i]['marginBottom'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i] + '_bg', {\n\t\t\t\t\t\twidth: this.getByElement(idArr[i] + '_text').offsetWidth + 'px',\n\t\t\t\t\t\theight: this.getByElement(idArr[i] + '_text').offsetHeight + 'px',\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['backAlpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['backAlpha'].toString(),\n\t\t\t\t\t\tborderRadius: list[i]['backRadius'] + 'px',\n\t\t\t\t\t\tbackgroundColor: list[i]['backgroundColor'].replace('0x', '#'),\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tzIndex: '2'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.css(bgid, {\n\t\t\t\twidth: this.getByElement(bgid + '_c').offsetWidth + 'px',\n\t\t\t\theight: this.getByElement(bgid + '_c').offsetHeight + 'px',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tfilter: 'alpha(opacity:' + bgAlpha + ')',\n\t\t\t\topacity: bgAlpha,\n\t\t\t\tbackgroundColor: bgColor.replace('0x', '#'),\n\t\t\t\tborderRadius: obj['backRadius'] + 'px',\n\t\t\t\tzIndex: '1'\n\t\t\t});\n\t\t\tthis.css(ele, {\n\t\t\t\twidth: this.getByElement(bgid).offsetWidth + 'px',\n\t\t\t\theight: this.getByElement(bgid).offsetHeight + 'px'\n\t\t\t});\n\t\t\tvar eidCoor = this.calculationCoor(ele);\n\t\t\tthis.css(ele, {\n\t\t\t\tleft: eidCoor['x'] + 'px',\n\t\t\t\ttop: eidCoor['y'] + 'px'\n\t\t\t});\n\n\t\t\tthis.elementArr.push(ele.className);\n\t\t\treturn ele;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t获取元件的属性，包括x,y,width,height,alpha\n\t\t*/\n\t\tgetElement: function(element) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getElement(element);\n\t\t\t}\n\t\t\tvar ele = element;\n\t\t\tif (this.varType(element) == 'string') {\n\t\t\t\tele = this.getByElement(element);\n\t\t\t}\n\t\t\tvar coor = this.getCoor(ele);\n\t\t\treturn {\n\t\t\t\tx: coor['x'],\n\t\t\t\ty: coor['y'],\n\t\t\t\twidth: ele.offsetWidth,\n\t\t\t\theight: ele.offsetHeight,\n\t\t\t\talpha: !this.isUndefined(this.css(ele, 'opacity')) ? parseFloat(this.css(ele, 'opacity')) : 1,\n\t\t\t\tshow: this.css(ele, 'display') == 'none' ? false: true\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t控制元件显示和隐藏\n\t\t*/\n\t\telementShow: function(element, show) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.elementShow(element, show);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(element) == 'string') {\n\t\t\t\tif (element) {\n\t\t\t\t\tthis.css(ele, 'display', show == true ? 'block': 'none');\n\t\t\t\t} else {\n\t\t\t\t\tvar arr = this.elementTempArr;\n\t\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\t\tthis.css(arr[i], 'display', show == true ? 'block': 'none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据节点的x,y计算在播放器里的坐标\n\t\t*/\n\t\tcalculationCoor: function(ele) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.calculationCoor(ele);\n\t\t\t}\n\t\t\tif(this.isUndefined(ele)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (ele == []) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar x, y, position = [];\n\t\t\tvar w = this.PD.offsetWidth,\n\t\t\th = this.PD.offsetHeight;\n\t\t\tvar ew = ele.offsetWidth,\n\t\t\teh = ele.offsetHeight;\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'x'))) {\n\t\t\t\tx = this.getDataset(ele, 'x');\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'y'))) {\n\t\t\t\ty = this.getDataset(ele, 'y');\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'position'))) {\n\t\t\t\ttry {\n\t\t\t\t\tposition = this.getDataset(ele, 'position').toString().split(',');\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t\tif (position.length > 0) {\n\t\t\t\tposition.push(null, null, null, null);\n\t\t\t\tvar i = 0;\n\t\t\t\tfor (i = 0; i < position.length; i++) {\n\t\t\t\t\tif (this.isUndefined(position[i]) || position[i] == null || position[i] == 'null' || position[i] == '') {\n\t\t\t\t\t\tposition[i] = null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition[i] = parseFloat(position[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (position[2] == null) {\n\t\t\t\t\tswitch (position[0]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tx = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tx = parseInt((w - ew) * 0.5);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tx = w - ew;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (position[0]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tx = position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tx = parseInt(w * 0.5) + position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tx = w + position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (position[3] == null) {\n\t\t\t\t\tswitch (position[1]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\ty = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ty = parseInt((h - eh) * 0.5);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ty = h - eh;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (position[1]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\ty = position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ty = parseInt(h * 0.5) + position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ty = h + position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (x.substring(x.length - 1, x.length) == '%') {\n\t\t\t\t\tx = Math.floor(parseInt(x.substring(0, x.length - 1)) * w * 0.01);\n\t\t\t\t}\n\t\t\t\tif (y.substring(y.length - 1, y.length) == '%') {\n\t\t\t\t\ty = Math.floor(parseInt(y.substring(0, y.length - 1)) * h * 0.01);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t修改新增元件的坐标\n\t\t*/\n\t\tchangeElementCoor: function() {\n\t\t\tfor (var i = 0; i < this.elementArr.length; i++) {\n\t\t\t\tif(!this.isUndefined(this.getByElement(this.elementArr[i]))){\n\t\t\t\t\tif (this.getByElement(this.elementArr[i]) != []) {\n\t\t\t\t\t\tvar c = this.calculationCoor(this.getByElement(this.elementArr[i]));\n\t\t\t\t\t\tif (c['x'] && c['y']) {\n\t\t\t\t\t\t\tthis.css(this.elementArr[i], {\n\t\t\t\t\t\t\t\ttop: c['y'] + 'px',\n\t\t\t\t\t\t\t\tleft: c['x'] + 'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t缓动效果集\n\t\t*/\n\t\ttween: function() {\n\t\t\tvar Tween = {\n\t\t\t\tNone: { //均速运动\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuadratic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * (t /= d) * (t - 2) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t + b;\n\t\t\t\t\t\treturn - c / 2 * ((--t) * (t - 2) - 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tCubic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * t + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * t + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuartic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * ((t = t / d - 1) * t * t * t - 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;\n\t\t\t\t\t\treturn - c / 2 * ((t -= 2) * t * t * t - 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuintic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tSine: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * Math.sin(t / d * (Math.PI / 2)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tExponential: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn (t == 0) ? b: c * Math.pow(2, 10 * (t / d - 1)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn (t == d) ? b + c: c * ( - Math.pow(2, -10 * t / d) + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif (t == d) return b + c;\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n\t\t\t\t\t\treturn c / 2 * ( - Math.pow(2, -10 * --t) + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tCircular: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return - c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n\t\t\t\t\t\treturn c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tElastic: {\n\t\t\t\t\teaseIn: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\t\t\tif (!p) p = d * .3;\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\treturn - (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\t\t\tif (!p) p = d * .3;\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\treturn (a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b);\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d / 2) == 2) return b + c;\n\t\t\t\t\t\tif (!p) p = d * (.3 * 1.5);\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\tif (t < 1) return - .5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tBack: {\n\t\t\t\t\teaseIn: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\treturn c * (t /= d) * t * ((s + 1) * t - s) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tBounce: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c - Tween.Bounce.easeOut(d - t, 0, c, d) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d) < (1 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * t * t) + b;\n\t\t\t\t\t\t} else if (t < (2 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (1.5 / 2.75)) * t + .75) + b;\n\t\t\t\t\t\t} else if (t < (2.5 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (2.25 / 2.75)) * t + .9375) + b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (2.625 / 2.75)) * t + .984375) + b;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif (t < d / 2) return Tween.Bounce.easeIn(t * 2, 0, c, d) * .5 + b;\n\t\t\t\t\t\telse return Tween.Bounce.easeOut(t * 2 - d, 0, c, d) * .5 + c * .5 + b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn Tween;\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t缓动效果\n\t\t\tele:Object=需要缓动的对象,\n\t\t\tparameter:String=需要改变的属性：x,y,width,height,alpha,\n\t\t\teffect:String=效果名称,\n\t\t\tstart:Int=起始值,\n\t\t\tend:Int=结束值,\n\t\t\tspeed:Number=运动的总秒数，支持小数\n\t\t*/\n\t\tanimate: function(attribute) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.animate(attribute);\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar animateId = 'animate_' + this.randomString();\n\t\t\tvar obj = {\n\t\t\t\telement: null,\n\t\t\t\tparameter: 'x',\n\t\t\t\tstatic: false,\n\t\t\t\teffect: 'None.easeIn',\n\t\t\t\tstart: null,\n\t\t\t\tend: null,\n\t\t\t\tspeed: 0,\n\t\t\t\toverStop: false,\n\t\t\t\tpauseStop: false,\n\t\t\t\t//暂停播放时缓动是否暂停\n\t\t\t\tcallBack: null\n\t\t\t};\n\t\t\tobj = this.standardization(obj, attribute);\n\t\t\tif (obj['element'] == null || obj['speed'] == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar w = this.PD.offsetWidth,\n\t\t\th = this.PD.offsetHeight;\n\t\t\tvar effArr = (obj['effect'] + '.').split('.');\n\t\t\tvar tweenFun = this.tween()[effArr[0]][effArr[1]];\n\t\t\tvar eleCoor = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t\tif (this.isUndefined(tweenFun)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t//先将该元件从元件数组里删除，让其不再跟随播放器的尺寸改变而改变位置\n\t\t\tvar def = this.arrIndexOf(this.elementArr, obj['element'].className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementTempArr.push(obj['element'].className);\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\t//var run = true;\n\t\t\tvar css = {};\n\t\t\t//对传递的参数进行转化，x和y转化成left,top\n\t\t\tvar pm = this.getElement(obj['element']); //包含x,y,width,height,alpha属性\n\t\t\tvar t = 0; //当前时间\n\t\t\tvar b = 0; //初始值\n\t\t\tvar c = 0; //变化量\n\t\t\tvar d = obj['speed'] * 1000; //持续时间\n\t\t\tvar timerTween = null;\n\t\t\tvar tweenObj = null;\n\t\t\tvar start = obj['start'] == null ? '': obj['start'].toString();\n\t\t\tvar end = obj['end'] == null ? '': obj['end'].toString();\n\t\t\tswitch (obj['parameter']) {\n\t\t\tcase 'x':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['x'];\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(start) * w * 0.01;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(start);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['x'] - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) * w * 0.01 - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(end);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'y':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['y'];\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(start) * h * 0.01;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(start);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['y'] - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) * h * 0.01 - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(end);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'alpha':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['alpha'] * 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(obj['start']);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(obj['start'] * 100);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['alpha'] * 100 - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) * 100 - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) * 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(obj['end']) * 100 - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar callBack = function() {\n\t\t\t\tvar index = thisTemp.arrIndexOf(thisTemp.animateElementArray, animateId);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthisTemp.animateArray.splice(index, 1);\n\t\t\t\t\tthisTemp.animateElementArray.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tindex = thisTemp.arrIndexOf(thisTemp.animatePauseArray, animateId);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthisTemp.animatePauseArray.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tif (obj['callBack'] != null && obj['element'] && obj['callBack'] != 'callBack' && obj['callBack'] != 'tweenX' && obj['tweenY'] != 'callBack' && obj['callBack'] != 'tweenAlpha') {\n\t\t\t\t\tvar cb = eval(obj['callBack']);\n\t\t\t\t\tcb(obj['element']);\n\t\t\t\t\tobj['callBack'] = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar stopTween = function() {\n\t\t\t\tif (timerTween != null) {\n\t\t\t\t\tif (timerTween.runing) {\n\t\t\t\t\t\ttimerTween.stop();\n\t\t\t\t\t}\n\t\t\t\t\ttimerTween = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenX = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\tleft: Math.ceil(tweenFun(t, b, c, d)) + 'px'\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['top'] = eleCoor['y'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defX = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defX > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defX, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenY = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\ttop: Math.ceil(tweenFun(t, b, c, d)) + 'px'\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['left'] = eleCoor['x'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defY = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defY > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defY, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenAlpha = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\tvar ap = Math.ceil(tweenFun(t, b, c, d)) * 0.01;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + ap + ')',\n\t\t\t\t\t\topacity: ap.toString()\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['top'] = eleCoor['y'] + 'px';\n\t\t\t\t\t\tcss['left'] = eleCoor['x'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defA = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defA > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defA, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tswitch (obj['parameter']) {\n\t\t\t\tcase 'x':\n\t\t\t\t\ttweenObj = tweenX;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'y':\n\t\t\t\t\ttweenObj = tweenY;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'alpha':\n\t\t\t\t\ttweenObj = tweenAlpha;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\ttimerTween = new thisTemp.timer(10, tweenObj);\n\t\t\ttimerTween.callBackFunction = callBack;\n\t\t\tif (obj['overStop']) {\n\t\t\t\tvar mouseOver = function() {\n\t\t\t\t\tif (timerTween != null && timerTween.runing) {\n\t\t\t\t\t\ttimerTween.stop();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('mouseover', mouseOver, obj['element']);\n\t\t\t\tvar mouseOut = function() {\n\t\t\t\t\tvar start = true;\n\t\t\t\t\tif (obj['pauseStop'] && thisTemp.getMetaDate()['paused']) {\n\t\t\t\t\t\tstart = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (timerTween != null && !timerTween.runing && start) {\n\t\t\t\t\t\ttimerTween.start();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('mouseout', mouseOut, obj['element']);\n\t\t\t}\n\n\t\t\tthis.animateArray.push(timerTween);\n\t\t\tthis.animateElementArray.push(animateId);\n\t\t\tif (obj['pauseStop']) {\n\t\t\t\tthis.animatePauseArray.push(animateId);\n\t\t\t}\n\t\t\treturn animateId;\n\t\t},\n\t\t/*\n\t\t\t接口函数函数\n\t\t\t继续运行animate\n\t\t*/\n\t\tanimateResume: function(id) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.animateResume(this.isUndefined(id) ? '': id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (id != '' && !this.isUndefined(id) && id != 'pause') {\n\t\t\t\tarr.push(id);\n\t\t\t} else {\n\t\t\t\tif (id === 'pause') {\n\t\t\t\t\tarr = this.animatePauseArray;\n\t\t\t\t} else {\n\t\t\t\t\tarr = this.animateElementArray;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar index = this.arrIndexOf(this.animateElementArray, arr[i]);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.animateArray[index].start();\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t暂停运行animate\n\t\t*/\n\t\tanimatePause: function(id) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.animatePause(this.isUndefined(id) ? '': id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (id != '' && !this.isUndefined(id) && id != 'pause') {\n\t\t\t\tarr.push(id);\n\t\t\t} else {\n\t\t\t\tif (id === 'pause') {\n\t\t\t\t\tarr = this.animatePauseArray;\n\t\t\t\t} else {\n\t\t\t\t\tarr = this.animateElementArray;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar index = this.arrIndexOf(this.animateElementArray, arr[i]);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.animateArray[index].stop();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据ID删除数组里对应的内容\n\t\t*/\n\t\tdeleteAnimate: function(id) {\n\t\t\tif (this.playerType == 'flashplayer' && this.V) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.deleteAnimate(id);\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar index = this.arrIndexOf(this.animateElementArray, id);\n\t\t\tif (index > -1) {\n\t\t\t\tthis.animateArray[index].callBackFunction();\n\t\t\t\tthis.animateArray.splice(index, 1);\n\t\t\t\tthis.animateElementArray.splice(index, 1);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t删除外部新建的元件\n\t\t*/\n\t\tdeleteElement: function(ele) {\n\t\t\tif (this.playerType == 'flashplayer' && this.V) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.deleteElement(ele);\n\t\t\t\t} catch(event) {}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//先将该元件从元件数组里删除，让其不再跟随播放器的尺寸改变而改变位置\n\t\t\tvar def = this.arrIndexOf(this.elementArr, ele.className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdef = this.arrIndexOf(this.elementTempArr, ele.className);\n\t\t\t\tif (def > -1) {\n\t\t\t\t\tthis.elementTempArr.splice(def, 1);\n\t\t\t\t}\n\t\t\t} catch(event) {}\n\t\t\tthis.deleteAnimate(ele.className);\n\t\t\tthis.deleteChild(ele);\n\t\t},\n\t\t/*\n\t\t\t--------------------------------------------------------------\n\t\t\t共用函数部分\n\t\t\t以下函数并非只能在本程序中使用，也可以在页面其它项目中使用\n\t\t\t根据ID或className获取元素对象\n\t\t*/\n\t\tgetByElement: function(obj, parent) {\n\t\t\tif (this.isUndefined(parent)) {\n\t\t\t\tparent = document;\n\t\t\t}\n\t\t\tvar num = obj.substr(0, 1);\n\t\t\tvar res = [];\n\t\t\tif (num != '#') {\n\t\t\t\tif (num == '.') {\n\t\t\t\t\tobj = obj.substr(1, obj.length);\n\t\t\t\t}\n\t\t\t\tif (parent.getElementsByClassName) {\n\t\t\t\t\tres = parent.getElementsByClassName(obj);\n\t\t\t\t\tif(!res.length){\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar reg = new RegExp(' ' + obj + ' ', 'i');\n\t\t\t\t\tvar ele = parent.getElementsByTagName('*');\n\t\t\t\t\tfor (var i = 0; i < ele.length; i++) {\n\t\t\t\t\t\tif (reg.test(' ' + ele[i].className + ' ')) {\n\t\t\t\t\t\t\tres.push(ele[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (res.length > 0) {\n\t\t\t\t\tres=res[0];\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tres=null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (num == '#') {\n\t\t\t\t\tobj = obj.substr(1, obj.length);\n\t\t\t\t}\n\t\t\t\ttry{\n\t\t\t\t\tres=document.getElementById(obj);\n\t\t\t\t}\n\t\t\t\tcatch(event){\n\t\t\t\t\tres=null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t/*\n\t\t \t共用函数\n\t\t\t功能：修改样式或获取指定样式的值，\n\t\t\t\telem：ID对象或ID对应的字符，如果多个对象一起设置，则可以使用数组\n\t\t\t\tattribute：样式名称或对象，如果是对象，则省略掉value值\n\t\t\t\tvalue：attribute为样式名称时，定义的样式值\n\t\t\t\t示例一：\n\t\t\t\tthis.css(ID,'width','100px');\n\t\t\t\t示例二：\n\t\t\t\tthis.css('id','width','100px');\n\t\t\t\t示例三：\n\t\t\t\tthis.css([ID1,ID2,ID3],'width','100px');\n\t\t\t\t示例四：\n\t\t\t\tthis.css(ID,{\n\t\t\t\t\twidth:'100px',\n\t\t\t\t\theight:'100px'\n\t\t\t\t});\n\t\t\t\t示例五(获取宽度)：\n\t\t\t\tvar width=this.css(ID,'width');\n\t\t*/\n\t\tcss: function(elem, attribute, value) {\n\t\t\tvar i = 0;\n\t\t\tvar k = '';\n\t\t\tif (this.varType(elem) == 'array') { //数组\n\t\t\t\tfor (i = 0; i < elem.length; i++) {\n\t\t\t\t\t\tvar el;\n\t\t\t\t\t\tif (typeof(elem[i]) == 'string') {\n\t\t\t\t\t\t\tel = this.getByElement(elem[i])\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel = elem[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof(attribute) != 'object') {\n\t\t\t\t\t\t\tif (!this.isUndefined(value)) {\n\t\t\t\t\t\t\t\tel.style[attribute] = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (k in attribute) {\n\t\t\t\t\t\t\t\tif (!this.isUndefined(attribute[k])) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tel.style[k] = attribute[k];\n\t\t\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\t\t\tthis.log(event);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\n\t\t\t}\n\t\t\tif (this.varType(elem) == 'string') {\n\t\t\t\telem = this.getByElement(elem);\n\t\t\t}\n\t\t\tif (this.varType(attribute) != 'object') {\n\t\t\t\tif (!this.isUndefined(value)) {\n\t\t\t\t\telem.style[attribute] = value;\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.isUndefined(this.getStyle(elem, attribute))) {\n\t\t\t\t\t\treturn this.getStyle(elem, attribute);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (k in attribute) {\n\t\t\t\t\tif (!this.isUndefined(attribute[k])) {\n\t\t\t\t\t\telem.style[k] = attribute[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t兼容型获取style\n\t\t*/\n\t\tgetStyle: function(obj, attr) {\n\t\t\tif (!this.isUndefined(obj.style[attr])) {\n\t\t\t\treturn obj.style[attr];\n\t\t\t} else {\n\t\t\t\tif (obj.currentStyle) {\n\t\t\t\t\treturn obj.currentStyle[attr];\n\t\t\t\t} else {\n\t\t\t\t\treturn getComputedStyle(obj, false)[attr];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断变量是否存在或值是否为undefined\n\t\t*/\n\t\tisUndefined: function(value) {\n\t\t\ttry {\n\t\t\t\tif (value === 'undefined' || value === undefined || value === null || value === 'NaN' || value === NaN) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} catch(event) {\n\t\t\t\tthis.log(event);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t \t共用函数\n\t\t\t外部监听函数\n\t\t*/\n\t\taddListener: function(name, funName) {\n\t\t\tif (name && funName) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tvar ff = ''; //定义用来向flashplayer传递的函数字符\n\t\t\t\t\tif (this.varType(funName) == 'function') {\n\t\t\t\t\t\tff = this.getParameterNames(funName);\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.addListener(name, ff);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar have = false;\n\t\t\t\tfor (var i = 0; i < this.listenerJsArr.length; i++) {\n\t\t\t\t\tvar arr = this.listenerJsArr[i];\n\t\t\t\t\tif (arr[0] == name && arr[1] == funName) {\n\t\t\t\t\t\thave = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!have) {\n\t\t\t\t\tthis.listenerJsArr.push([name, funName]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t外部删除监听函数\n\t\t*/\n\t\tremoveListener: function(name, funName) {\n\t\t\tif (name && funName) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tvar ff = ''; //定义用来向flashplayer传递的函数字符\n\t\t\t\t\tif (this.varType(funName) == 'function') {\n\t\t\t\t\t\tff = this.getParameterNames(funName);\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeListener(name, ff);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfor (var i = 0; i < this.listenerJsArr.length; i++) {\n\t\t\t\t\tvar arr = this.listenerJsArr[i];\n\t\t\t\t\tif (arr[0] == name && arr[1] == funName) {\n\t\t\t\t\t\tthis.listenerJsArr.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部监听函数，调用方式：\n\t\t\tthis.addListenerInside('click',function(event){},[ID]);\n\t\t\td值为空时，则表示监听当前的视频播放器\n\t\t*/\n\t\taddListenerInside: function(e, f, d, t) {\n\t\t\tif (this.isUndefined(t)) {\n\t\t\t\tt = false;\n\t\t\t}\n\t\t\tvar o = this.V;\n\t\t\tif (!this.isUndefined(d)) {\n\t\t\t\to = d;\n\t\t\t}\n\t\t\tif (o.addEventListener) {\n\t\t\t\ttry {\n\t\t\t\t\to.addEventListener(e, f, t);\n\t\t\t\t} catch(event) {this.log(event)}\n\t\t\t} else if (o.attachEvent) {\n\t\t\t\ttry {\n\t\t\t\t\to.attachEvent('on' + e, f);\n\t\t\t\t} catch(event) {this.log(event)}\n\t\t\t} else {\n\t\t\t\to['on' + e] = f;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t删除内部监听函数，调用方式：\n\t\t\tthis.removeListenerInside('click',function(event){}[,ID]);\n\t\t\td值为空时，则表示监听当前的视频播放器\n\t\t*/\n\t\tremoveListenerInside: function(e, f, d, t) {\n\t\t\t/*if(this.playerType=='flashplayer' && this.getParameterNames(f) && this.isUndefined(d)) {\n\t\t\t\treturn;\n\t\t\t}*/\n\t\t\tif (this.isUndefined(t)) {\n\t\t\t\tt = false;\n\t\t\t}\n\t\t\tvar o = this.V;\n\t\t\tif (!this.isUndefined(d)) {\n\t\t\t\to = d;\n\t\t\t}\n\t\t\tif (o.removeEventListener) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.addNum--;\n\t\t\t\t\to.removeEventListener(e, f, t);\n\t\t\t\t} catch(e) {}\n\t\t\t} else if (o.detachEvent) {\n\t\t\t\ttry {\n\t\t\t\t\to.detachEvent('on' + e, f);\n\t\t\t\t} catch(e) {}\n\t\t\t} else {\n\t\t\t\to['on' + e] = null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t统一分配监听，以达到跟as3同样效果\n\t\t*/\n\t\tsendJS: function(name, val) {\n\t\t\tif (this.adPlayerPlay && name.substr( - 2) != 'Ad') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(name)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar list = this.listenerJsArr;\n\t\t\tvar obj = this.vars['variable'];\n\t\t\tif(this.vars['debug']){\n\t\t\t\tthis.log(name+':'+val);\n\t\t\t}\n\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\tvar arr = list[i];\t\t\t\t\n\t\t\t\tif (arr[0] == name) {\n\t\t\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\t\t\tswitch (arr[1].length) {\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\tarr[1](val);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tarr[1](val, obj);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tarr[1]();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarr[1](obj);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取函数名称，如 function ckplayer(){} var fun=ckplayer，则getParameterNames(fun)=ckplayer\n\t\t*/\n\t\tgetParameterNames: function(fn) {\n\t\t\tif (this.varType(fn) !== 'function') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\n\t\t\tvar code = fn.toString().replace(COMMENTS, '');\n\t\t\tvar result = code.slice(code.indexOf(' ') + 1, code.indexOf('('));\n\t\t\treturn result === null ? false: result;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t时间替换\n\t\t*/\n\t\treplaceTime:function(str,obj){\n\t\t\t//var timeStrArr = ['[$timeh]', '[$timei]', '[$timeI]', '[$times]', '[$timeS]', '[$durationh]', '[$durationi]', '[$durationI]', '[$durations]', '[$durationS]','[$liveTimey]', '[$liveTimeY]', '[$liveTimem]', '[$liveTimed]', '[$liveTimeh]', '[$liveTimei]', '[$liveTimes]', '[$liveLanguage]'];\n\t\t\tfor(var k in obj){\n\t\t\t\tstr=str.replace('[$'+k+']',obj[k])\n\t\t\t}\n\t\t\treturn str;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t格式化时分秒\n\t\t\tt:Int：秒数,dt:总时间的秒数\n\t\t*/\n\t\tformatTime: function(t,dt,str) {\n\t\t\tif (this.isUndefined(t) || isNaN(t)) {\n\t\t\t\tseconds = 0;\n\t\t\t}\n\t\t\tif (this.isUndefined(dt) || isNaN(dt)) {\n\t\t\t\tdt = 0;\n\t\t\t}\n\t\t\tvar minuteS=Math.floor(t/60);//将秒数直接转化成分钟取整，这个可以得到如80分钟\n\t\t\tvar minute=minuteS;//获取准确的分钟\n\t\t\tvar hourS=Math.floor(t/3600);//将秒数直接转化成小时取整，这个可以得到100小时\n\t\t\tvar second=t %60;\n\t\t\tif(minuteS>=60){\n\t\t\t\tminute=Math.floor(minuteS%60);\n\t\t\t}\n\t\t\t//总时间\n\t\t\tvar hminuteS=Math.floor(dt/60);//将秒数直接转化成分钟取整，这个可以得到如80分钟\n\t\t\tvar hminute=hminuteS;//获取准确的分钟\n\t\t\tvar hhourS=Math.floor(dt/3600);//将秒数直接转化成小时取整，这个可以得到100小时\n\t\t\tvar hsecond=dt %60;\n\t\t\tif(hminuteS>=60){\n\t\t\t\thminute=Math.floor(hminuteS%60);\n\t\t\t}\n\t\t\t//当前时间\n\t\t\tvar nowDate = new Date();\n\t\t\tvar obj={\n\t\t\t\ttimeh:hourS,//时\n\t\t\t\ttimei:minute,//分\n\t\t\t\ttimeI:minuteS,//只有分\n\t\t\t\ttimes:second,//秒\n\t\t\t\ttimeS:t,//只有秒\n\t\t\t\tdurationh:hhourS,//时\n\t\t\t\tdurationi:hminute,//分\n\t\t\t\tdurationI:hminuteS,//只有分\n\t\t\t\tdurations:hsecond,//秒\n\t\t\t\tdurationS:dt,//只有秒\n\t\t\t\tliveTimey:nowDate.getYear(),//获取当前年份(2位)\n\t\t\t\tliveTimeY:nowDate.getFullYear(),//获取完整的年份(4位,1970-????)\n\t\t\t\tliveTimem:nowDate.getMonth()+1,//获取当前月份(0-11,0代表1月)\n\t\t\t\tliveTimed:nowDate.getDate(),// 获取当前日(1-31)\n\t\t\t\tliveTimeh:nowDate.getHours(),    // 获取当前小时数(0-23)\n\t\t\t\tliveTimei:nowDate.getMinutes(),// 获取当前分钟数(0-59)\n\t\t\t\tliveTimes:nowDate.getSeconds()// 获取当前秒数(0-59)\n\t\t\t};\n\t\t\tfor(var k in obj){\n\t\t\t\tif(obj[k]<10){\n\t\t\t\t\tobj[k]='0'+Math.floor(obj[k]);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tobj[k]=Math.floor(obj[k]).toString();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.replaceTime(str,obj);\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取一个随机字符\n\t\t\tlen：随机字符长度\n\t\t*/\n\t\trandomString: function(len) {\n\t\t\tlen = len || 16;\n\t\t\tvar chars = 'abcdefghijklmnopqrstuvwxyz';\n\t\t\tvar maxPos = chars.length;\n\t\t\tvar val = '';\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tval += chars.charAt(Math.floor(Math.random() * maxPos));\n\t\t\t}\n\t\t\treturn 'ch' + val;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取字符串长度,中文算两,英文数字算1\n\t\t*/\n\t\tgetStringLen: function(str) {\n\t\t\tif(this.isUndefined(str)){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tvar len = 0;\n\t\t\tfor (var i = 0; i < str.length; i++) {\n\t\t\t\tif (str.charCodeAt(i) > 127 || str.charCodeAt(i) == 94) {\n\t\t\t\t\tlen += 2;\n\t\t\t\t} else {\n\t\t\t\t\tlen++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn len;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t用来为ajax提供支持\n\t\t*/\n\t\tcreateXHR: function() {\n\t\t\tif (window.XMLHttpRequest) {\n\t\t\t\t//IE7+、Firefox、Opera、Chrome 和Safari\n\t\t\t\treturn new XMLHttpRequest();\n\t\t\t} else if (window.ActiveXObject) {\n\t\t\t\t//IE6 及以下\n\t\t\t\ttry {\n\t\t\t\t\treturn new ActiveXObject('Microsoft.XMLHTTP');\n\t\t\t\t} catch(event) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn new ActiveXObject('Msxml2.XMLHTTP');\n\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\tthis.eject(this.errorList[7]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.eject(this.errorList[8]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\tajax调用\n\t\t*/\n\t\tajax: function(cObj) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar callback = null;\n\t\t\tvar obj = {\n\t\t\t\tmethod: 'get',//请求类型\n\t\t\t\tdataType: 'json',//请求的数据类型\n\t\t\t\tcharset: 'utf-8',\n\t\t\t\tasync: false,//true表示异步，false表示同步\n\t\t\t\turl: '',\n\t\t\t\tdata: null,\n\t\t\t\tsuccess: null,\n\t\t\t\terror:null\n\t\t\t};\n\t\t\tif (this.varType(cObj) != 'object') {\n\t\t\t\tthis.eject(this.errorList[9]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tobj = this.standardization(obj, cObj);\n\t\t\tif (obj.dataType === 'json' || obj.dataType === 'text' || obj.dataType === 'html' || obj.dataType === 'xml') {\n\t\t\t\tvar xhr = this.createXHR();\n\t\t\t\tcallback = function() {\n\t\t\t\t\t//判断http的交互是否成功\n\t\t\t\t\tif (xhr.status == 200) {\n\t\t\t\t\t\tif (thisTemp.isUndefined(obj.success)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (obj.dataType === 'json') {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tobj.success(eval('(' + xhr.responseText + ')')); //回调传递参数\n\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\tif(!thisTemp.isUndefined(obj['error'])){\n\t\t\t\t\t\t\t\t\tobj.error(event);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj.success(xhr.responseText); //回调传递参数\n\t\t\t\t\t\t}\n\t\t\t\t\t} \n\t\t\t\t\telse {\n\t\t\t\t\t\tobj.success(null);\n\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[10], 'Ajax.status:' + xhr.status);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tobj.url = obj.url.indexOf('?') == -1 ? obj.url + '?rand=' + this.randomString(6) : obj.url;\n\t\t\t\tobj.data = this.formatParams(obj.data); //通过params()将名值对转换成字符串\n\t\t\t\tif (obj.method === 'get' && !this.isUndefined(obj.data)) {\n\t\t\t\t\tif (obj.data != '') {\n\t\t\t\t\t\tif (obj.url.indexOf('?') == -1) {\n\t\t\t\t\t\t\tobj.url += '?' + obj.data\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj.url += '&' + obj.data;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (obj.async === true) { //true表示异步，false表示同步\n\t\t\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t\t\tif (xhr.readyState == 4 && callback != null) { //判断对象的状态是否交互完成\n\t\t\t\t\t\t\tcallback(); //回调\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\txhr.open(obj.method, obj.url, obj.async);\n\t\t\t\tif (obj.method === 'post') {\n\t\t\t\t\ttry{\n\t\t\t\t\t\txhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\t\t\t\t\t\txhr.setRequestHeader('charset', obj['charset']);\n\t\t\t\t\t\txhr.send(obj.data);\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttry{\n\t\t\t\t\t\txhr.send(null); //get方式则填null\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (obj.async === false) { //同步\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t}\n\t\t\telse if (obj.dataType === 'jsonp') {\n\t\t\t\tvar oHead = document.getElementsByTagName('head')[0];\n\t\t\t\tvar oScript = document.createElement('script');\n\t\t\t\tvar callbackName = 'callback' + new Date().getTime();\n\t\t\t\tvar params = this.formatParams(obj.data) + '&callback=' + callbackName; //按时间戳拼接字符串\n\t\t\t\tcallback = obj.success;\n\t\t\t\t//拼接好src\n\t\t\t\toScript.src = obj.url.split('?') + '?' + params;\n\t\t\t\t//插入script标签\n\t\t\t\toHead.insertBefore(oScript, oHead.firstChild);\n\t\t\t\t//jsonp的回调函数\n\t\t\t\twindow[callbackName] = function(json) {\n\t\t\t\t\tcallback(json);\n\t\t\t\t\toHead.removeChild(oScript);\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t动态加载js\n\t\t*/\n\t\tloadJs: function(path, success) {\n\t\t\tvar oHead = document.getElementsByTagName('HEAD').item(0);\n\t\t\tvar oScript = document.createElement('script');\n\t\t\toScript.type = 'text/javascript';\n\t\t\toScript.src = this.getNewUrl(path);\n\t\t\toHead.appendChild(oScript);\n\t\t\toScript.onload = function() {\n\t\t\t\tsuccess();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t排除IE6-9\n\t\t*/\n\t\tisMsie: function() {\n\t\t\tvar browser = navigator.appName;\n\t\t\tvar b_version = navigator.appVersion;\n\t\t\tvar version = b_version.split(';');\n\t\t\tvar trim_Version = '';\n\t\t\tif (version.length > 1) {\n\t\t\t\ttrim_Version = version[1].replace(/[ ]/g, '');\n\t\t\t}\n\t\t\tif (browser == 'Microsoft Internet Explorer' && (trim_Version == 'MSIE6.0' || trim_Version == 'MSIE7.0' || trim_Version == 'MSIE8.0' || trim_Version == 'MSIE9.0' || trim_Version == 'MSIE10.0')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断是否安装了flashplayer\n\t\t*/\n\t\tuploadFlash: function() {\n\t\t\tvar swf;\n\t\t\tif (navigator.userAgent.indexOf('MSIE') > 0) {\n\t\t\t\ttry {\n\t\t\t\t\tvar swf = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n\t\t\t\t\treturn true;\n\t\t\t\t} catch(e) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (navigator.userAgent.indexOf('Firefox') > 0) {\n\t\t\t\tswf = navigator.plugins['Shockwave Flash'];\n\t\t\t\tif (swf) {\n\t\t\t\t\treturn true\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t检测浏览器是否支持HTML5-Video\n\t\t*/\n\t\tsupportVideo: function() {\n\t\t\tif (!this.isMsie()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif ( !! document.createElement('video').canPlayType) {\n\t\t\t\tvar vidTest = document.createElement('video');\n\t\t\t\tvar oggTest;\n\t\t\t\ttry {\n\t\t\t\t\toggTest = vidTest.canPlayType('video/ogg; codecs=\"theora, vorbis\"');\n\t\t\t\t} catch(error) {\n\t\t\t\t\toggTest = false;\n\t\t\t\t}\n\t\t\t\tif (!oggTest) {\n\t\t\t\t\tvar h264Test;\n\t\t\t\t\ttry {\n\t\t\t\t\t\th264Test = vidTest.canPlayType('video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"');\n\t\t\t\t\t} catch(error) {\n\t\t\t\t\t\th264Test = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (!h264Test) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (h264Test == \"probably\") {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (oggTest == \"probably\") {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取属性值\n\t\t*/\n\t\tgetDataset: function(ele, z) {\n\t\t\ttry {\n\t\t\t\treturn ele.dataset[z];\n\t\t\t} catch(error) {\n\t\t\t\ttry {\n\t\t\t\t\treturn ele.getAttribute('data-' + z)\n\t\t\t\t} catch(error) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t返回flashplayer的对象\n\t\t*/\n\t\tgetObjectById: function(id) {\n\t\t\tvar x = null;\n\t\t\tvar y = this.getByElement('#' + id);\n\t\t\tvar r = 'embed';\n\t\t\tif (y && y.nodeName == 'OBJECT') {\n\t\t\t\tif (this.varType(y.SetVariable) != 'undefined') {\n\t\t\t\t\tx = y;\n\t\t\t\t} else {\n\t\t\t\t\tvar z = y.getElementsByTagName(r)[0];\n\t\t\t\t\tif (z) {\n\t\t\t\t\t\tx = z;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn x;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t对象转地址字符串\n\t\t*/\n\t\tformatParams: function(data) {\n\t\t\tvar arr = [];\n\t\t\tfor (var i in data) {\n\t\t\t\tarr.push(encodeURIComponent(i) + '=' + encodeURIComponent(data[i]));\n\t\t\t}\n\t\t\treturn arr.join('&');\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t对地址进行冒泡排序\n\t\t*/\n\t\tarrSort: function(arr) {\n\t\t\tvar temp = [];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tfor (var j = 0; j < arr.length - i; j++) {\n\t\t\t\t\tif (!this.isUndefined(arr[j + 1]) && arr[j][3] < arr[j + 1][3]) {\n\t\t\t\t\t\ttemp = arr[j + 1];\n\t\t\t\t\t\tarr[j + 1] = arr[j];\n\t\t\t\t\t\tarr[j] = temp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取文件名称\n\t\t*/\n\t\tgetFileName: function(filepath) {\n\t\t\tif(!filepath) return '';\n\t\t\treturn filepath.replace(/(.*\\/)*([^.]+).*/ig,'$2');\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t判断文件后缀\n\t\t*/\n\t\tgetFileExt: function(filepath) {\n\t\t\tif (filepath != '' && !this.isUndefined(filepath)) {\n\t\t\t\tif (filepath.indexOf('?') > -1) {\n\t\t\t\t\tfilepath = filepath.split('?')[0];\n\t\t\t\t}\n\t\t\t\tvar pos = '.' + filepath.replace(/.+\\./, '');\n\t\t\t\treturn pos.toLowerCase();\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t判断是否是移动端\n\t\t*/\n\t\tisMobile: function() {\n\t\t\tif (navigator.userAgent.toLowerCase().match(/(iphone|ipad|ipod|android|ios|midp|windows mobile|windows ce|rv:1.2.3.4|ucweb)/i)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t搜索字符串str是否包含key\n\t\t*/\n\t\tisContains: function(str, key) {\n\t\t\treturn str.indexOf(key) > -1;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t给地址添加随机数\n\t\t*/\n\t\tgetNewUrl: function(url) {\n\t\t\tif (this.isContains(url, '?')) {\n\t\t\t\treturn url += '&' + this.randomString(8) + '=' + this.randomString(8);\n\t\t\t} else {\n\t\t\t\treturn url += '?' + this.randomString(8) + '=' + this.randomString(8);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取clientX和clientY\n\t\t*/\n\t\tclient: function(event) {\n\t\t\tvar eve = event || window.event;\n\t\t\tif (this.isUndefined(eve)) {\n\t\t\t\teve = {\n\t\t\t\t\tclientX: 0,\n\t\t\t\t\tclientY: 0\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: eve.clientX + (document.documentElement.scrollLeft || this.body.scrollLeft) - this.pdCoor['x'],\n\t\t\t\ty: eve.clientY + (document.documentElement.scrollTop || this.body.scrollTop) - this.pdCoor['y']\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t获取节点的绝对坐标\n\t\t*/\n\t\tgetCoor: function(obj) {\n\t\t\tvar coor = this.getXY(obj);\n\t\t\treturn {\n\t\t\t\tx: coor['x'] - this.pdCoor['x'],\n\t\t\t\ty: coor['y'] - this.pdCoor['y']\n\t\t\t};\n\t\t},\n\t\tgetXY: function(obj) {\n\t\t\tvar parObj = obj;\n\t\t\tvar left = obj.offsetLeft;\n\t\t\tvar top = obj.offsetTop;\n\t\t\t\n\t\t\twhile (parObj = parObj.offsetParent) {\n\t\t\t\tleft += parObj.offsetLeft;\n\t\t\t\ttop += parObj.offsetTop;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: left,\n\t\t\t\ty: top\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t删除本对象的所有属性\n\t\t*/\n\t\tremoveChild: function() {\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\t//删除计时器\n\t\t\t\tvar i = 0;\n\t\t\t\tvar timerArr = [this.timerError, this.timerFull, this.timerTime, this.timerBuffer, this.timerClick, this.timerCBar, this.timerVCanvas];\n\t\t\t\tfor (i = 0; i < timerArr.length; i++) {\n\t\t\t\t\tif (timerArr[i] != null) {\n\t\t\t\t\t\tif (timerArr[i].runing) {\n\t\t\t\t\t\t\ttimerArr[i].stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttimerArr[i] = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//删除事件监听\n\t\t\t\tvar ltArr = this.listenerJsArr;\n\t\t\t\tfor (i = 0; i < ltArr.length; i++) {\n\t\t\t\t\tthis.removeListener(ltArr[i][0], ltArr[i][1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.playerType == '';\n\t\t\tthis.V = null;\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.deleteChild(this.CB['menu']);\n\t\t\t}\n\t\t\tthis.deleteChild(this.PD);\n\t\t\tthis.CD.innerHTML = '';\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t画封闭的图形\n\t\t*/\n\t\tcanvasFill: function(name, path) {\n\t\t\tname.beginPath();\n\t\t\tfor (var i = 0; i < path.length; i++) {\n\t\t\t\tvar d = path[i];\n\t\t\t\tif (i > 0) {\n\t\t\t\t\tname.lineTo(d[0], d[1]);\n\t\t\t\t} else {\n\t\t\t\t\tname.moveTo(d[0], d[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tname.closePath();\n\t\t\tname.fill();\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t画矩形\n\t\t*/\n\t\tcanvasFillRect: function(name, path) {\n\t\t\tfor (var i = 0; i < path.length; i++) {\n\t\t\t\tvar d = path[i];\n\t\t\t\tname.fillRect(d[0], d[1], d[2], d[3]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t删除容器节点\n\t\t*/\n\t\tdeleteChild: function(f) {\n\t\t\tvar def = this.arrIndexOf(this.elementArr, f.className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\tvar childs = f.childNodes;\n\t\t\tfor (var i = childs.length - 1; i >= 0; i--) {\n\t\t\t\tf.removeChild(childs[i]);\n\t\t\t}\n\n\t\t\tif (f && f != null && f.parentNode) {\n\t\t\t\ttry {\n\t\t\t\t\tif (f.parentNode) {\n\t\t\t\t\t\tf.parentNode.removeChild(f);\n\n\t\t\t\t\t}\n\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t \t根据容器的宽高,内部节点的宽高计算出内部节点的宽高及坐标\n\t\t*/\n\t\tgetProportionCoor: function(stageW, stageH, vw, vh) {\n\t\t\tvar w = 0,\n\t\t\th = 0,\n\t\t\tx = 0,\n\t\t\ty = 0;\n\t\t\tif (stageW / stageH < vw / vh) {\n\t\t\t\tw = stageW;\n\t\t\t\th = w * vh / vw;\n\t\t\t} else {\n\t\t\t\th = stageH;\n\t\t\t\tw = h * vw / vh;\n\t\t\t}\n\t\t\tx = (stageW - w) * 0.5;\n\t\t\ty = (stageH - h) * 0.5;\n\t\t\treturn {\n\t\t\t\twidth: parseInt(w),\n\t\t\t\theight: parseInt(h),\n\t\t\t\tx: parseInt(x),\n\t\t\t\ty: parseInt(y)\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将字幕文件内容转换成数组\n\t\t*/\n\t\tparseSrtSubtitles: function(srt) {\n\t\t\tvar subtitlesArr = [];\n\t\t\tvar textSubtitles = [];\n\t\t\tvar i = 0;\n\t\t\tvar arrs = srt.split('\\n');\n\t\t\tvar arr = [];\n\t\t\tvar delHtmlTag = function(str) {\n\t\t\t\treturn str.replace(/<[^>]+>/g, ''); //去掉所有的html标记\n\t\t\t};\n\t\t\tfor (i = 0; i < arrs.length; i++) {\n\t\t\t\tif (arrs[i].replace(/\\s/g, '').length > 0) {\n\t\t\t\t\tarr.push(arrs[i]);\n\t\t\t\t} else {\n\t\t\t\t\tif (arr.length > 0) {\n\t\t\t\t\t\ttextSubtitles.push(arr);\n\t\t\t\t\t}\n\t\t\t\t\tarr = [];\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (i = 0; i < textSubtitles.length; ++i) {\n\t\t\t\tvar textSubtitle = textSubtitles[i];\n\t\t\t\tif (textSubtitle.length >= 2) {\n\t\t\t\t\tvar sn = textSubtitle[0]; // 字幕的序号\n\t\t\t\t\tvar startTime = this.toSeconds(this.trim(textSubtitle[1].split(' --> ')[0])); // 字幕的开始时间\n\t\t\t\t\tvar endTime = this.toSeconds(this.trim(textSubtitle[1].split(' --> ')[1])); // 字幕的结束时间\n\t\t\t\t\tvar content = [delHtmlTag(textSubtitle[2])]; // 字幕的内容\n\t\t\t\t\tvar cktrackdelay=this.vars['cktrackdelay'];\n\t\t\t\t\tif(cktrackdelay!=0){\n\t\t\t\t\t\tstartTime+=cktrackdelay;\n\t\t\t\t\t\tendTime+=cktrackdelay;\n\t\t\t\t\t}\n\t\t\t\t\t// 字幕可能有多行\n\t\t\t\t\tif (textSubtitle.length > 2) {\n\t\t\t\t\t\tfor (var j = 3; j < textSubtitle.length; j++) {\n\t\t\t\t\t\t\tcontent.push(delHtmlTag(textSubtitle[j]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// 字幕对象\n\t\t\t\t\tvar subtitle = {\n\t\t\t\t\t\tsn: sn,\n\t\t\t\t\t\tstartTime: startTime,\n\t\t\t\t\t\tendTime: endTime,\n\t\t\t\t\t\tcontent: content\n\t\t\t\t\t};\n\t\t\t\t\tsubtitlesArr.push(subtitle);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn subtitlesArr;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t计时器,该函数模拟as3中的timer原理\n\t\t\ttime:计时时间,单位:毫秒\n\t\t\tfun:接受函数\n\t\t\tnumber:运行次数,不设置则无限运行\n\t\t*/\n\t\ttimer: function(time, fun, number) {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.time = 10; //运行间隔\n\t\t\tthis.fun = null; //监听函数\n\t\t\tthis.timeObj = null; //setInterval对象\n\t\t\tthis.number = 0; //已运行次数\n\t\t\tthis.numberTotal = null; //总至需要次数\n\t\t\tthis.runing = false; //当前状态\n\t\t\tthis.startFun = function() {\n\t\t\t\tthisTemp.number++;\n\t\t\t\tthisTemp.fun();\n\t\t\t\tif (thisTemp.numberTotal != null && thisTemp.number >= thisTemp.numberTotal) {\n\t\t\t\t\tthisTemp.stop();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.start = function() {\n\t\t\t\tif (!thisTemp.runing) {\n\t\t\t\t\tthisTemp.runing = true;\n\t\t\t\t\tthisTemp.timeObj = window.setInterval(thisTemp.startFun, time);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.stop = function() {\n\t\t\t\tif (thisTemp.runing) {\n\t\t\t\t\tthisTemp.runing = false;\n\t\t\t\t\twindow.clearInterval(thisTemp.timeObj);\n\t\t\t\t\tthisTemp.timeObj = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (time) {\n\t\t\t\tthis.time = time;\n\t\t\t}\n\t\t\tif (fun) {\n\t\t\t\tthis.fun = fun;\n\t\t\t}\n\t\t\tif (number) {\n\t\t\t\tthis.numberTotal = number;\n\t\t\t}\n\t\t\tthis.start();\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将时分秒转换成秒\n\t\t*/\n\t\ttoSeconds: function(t) {\n\t\t\tvar s = 0.0;\n\t\t\tif (t) {\n\t\t\t\tvar p = t.split(':');\n\t\t\t\tfor (i = 0; i < p.length; i++) {\n\t\t\t\t\ts = s * 60 + parseFloat(p[i].replace(',', '.'));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn s;\n\t\t},\n\t\t/*将字符变成数字形式的数组*/\n\t\tarrayInt: function(str) {\n\t\t\tvar a = str.split(',');\n\t\t\tvar b = [];\n\t\t\tfor (var i = 0; i < a.length; i++) {\n\t\t\t\tif (this.isUndefined(a[i])) {\n\t\t\t\t\ta[i] = 0;\n\t\t\t\t}\n\t\t\t\tif (a[i].substr( - 1) != '%') {\n\t\t\t\t\ta[i] = parseInt(a[i]);\n\t\t\t\t}\n\t\t\t\tb.push(a[i]);\n\t\t\t}\n\t\t\treturn b;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将对象Object标准化\n\t\t*/\n\t\tstandardization: function(o, n) { //n替换进o\n\t\t\tvar h = {};\n\t\t\tvar k;\n\t\t\tfor (k in o) {\n\t\t\t\th[k] = o[k];\n\t\t\t}\n\t\t\tfor (k in n) {\n\t\t\t\tvar type ='';\n\t\t\t\tif(h[k]){\n\t\t\t\t\ttype = this.varType(h[k]);\n\t\t\t\t}\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'number':\n\t\t\t\t\t\th[k] = parseFloat(n[k]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\th[k] = n[k];\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn h;\n\t\t},\n\t\tobjectAssign:function(o,n) {\n\t\t\tif(this.varType(o)!='object' || this.varType(n)!='object'){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar obj1=this.newObj(o),obj2=this.newObj(n);\n\t\t\tfor(var k in obj2){\n\t\t\t\tif(this.varType(obj2[k])=='object'){\n\t\t\t\t\tif(this.varType(obj1[k])!='object'){\n\t\t\t\t\t\tobj1[k]={};\n\t\t\t\t\t}\n\t\t\t\t\tobj1[k]=this.objectAssign(obj1[k],obj2[k]);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tobj1[k]=obj2[k];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn obj1;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t搜索数组\n\t\t */\n\t\tarrIndexOf: function(arr, key) {\n\t\t\tif(this.isUndefined(arr) || this.isUndefined(key)){\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tvar re = new RegExp(key, ['']);\n\t\t\treturn (arr.toString().replace(re, '┢').replace(/[^,┢]/g, '')).indexOf('┢');\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t去掉空格\n\t\t */\n\t\ttrim: function(str) {\n\t\t\tif (str != '') {\n\t\t\t\treturn str.replace(/(^\\s*)|(\\s*$)/g, '');\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t输出内容到控制台\n\t\t*/\n\t\tlog: function(val) {\n\t\t\ttry {\n\t\t\t\tconsole.log(val);\n\t\t\t} catch(e) {}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t弹出提示\n\t\t*/\n\t\teject: function(er, val) {\n\t\t\tif (!this.vars['debug']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar errorVal = er[1];\n\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\terrorVal = errorVal.replace('[error]', val);\n\t\t\t}\n\t\t\tvar value = 'error ' + er[0] + ':' + errorVal;\n\t\t\ttry {\n\t\t\t\tthis.log(value);\n\t\t\t} catch(e) {}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t系统错误\n\t\t*/\n\t\tsysError: function(er, val) {\n\t\t\tvar ele= this.getByElement(this.vars['container']);\n\t\t\tvar errorVal = er[1];\n\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\terrorVal = errorVal.replace('[error]', val);\n\t\t\t}\n\t\t\tvar value = 'error ' + er[0] + ':' + errorVal;\n\t\t\tele.innerHTML=value;\n\t\t\tthis.css(ele,{\n\t\t\t\tbackgroundColor: '#000',\n\t\t\t\tcolor:'#FFF',\n\t\t\t\ttextAlign:'center',\n\t\t\t\tlineHeight:ele.offsetHeight+'px'\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断变量类型\n\t\t*/\n\t\tvarType:function(val){\n\t\t\tif(val===null){\n\t\t\t\treturn 'string';\n\t\t\t}\n\t\t\tvar type = typeof(val);\n\t\t\tswitch(type) {\n\t\t\t\tcase 'string':\n\t\t\t\t\treturn 'string';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'number':\n\t\t\t\t\treturn 'number';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'boolean':\n\t\t\t\t\treturn 'boolean';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'function':\n\t\t\t\t\treturn 'function';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'symbol':\n\t\t\t\t\treturn 'symbol';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'object':\n\t\t\t\t\tif(!this.isUndefined(typeof(val.length))) {\n\t\t\t\t\t\treturn 'array';\n\t\t\t\t\t}\n\t\t\t\t\treturn 'object';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'undefined':\n\t\t\t\t\treturn 'undefined';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn typeof(val);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t获取此js文件所在路径\n\t\t*/\n\t\tgetPath:function(){\n\t\t\tvar scriptList = document.scripts,\n\t\t\tthisPath = scriptList[scriptList.length - 1].src;\n\t\t\tfor(var i=0;i<scriptList.length;i++){\n\t\t\t\tvar scriptName=scriptList[i].getAttribute('name') || scriptList[i].getAttribute('data-name');\n\t\t\t\tvar src=scriptList[i].src.slice(scriptList[i].src.lastIndexOf('/') + 1,scriptList[i].src.lastIndexOf('.'));\n\t\t\t\tif((scriptName && (scriptName=='ckplayer' || scriptName=='ckplayer.min')) || (scriptList[i].src && (src=='ckplayer' || src=='ckplayer.min'))){\n\t\t\t\t\tthisPath = scriptList[i].src;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn thisPath.substring(0, thisPath.lastIndexOf('/') + 1);\n\t\t},\n\t\tgetConfigObject:function(){\n\t\t\treturn this.jsonConfig;\n\t\t},\n\t\tgetStyleObject:function(){\n\t\t\treturn this.jsonStyle;\n\t\t},\n\t\tgetLanguageObject:function(){\n\t\t\treturn this.jsongLanguage;\n\t\t}\n\t};\n\twindow.ckplayer = ckplayer;\n})();\n","site":{"data":{}},"excerpt":"","more":"/*\n\t软件名称：ckplayer\n\t软件版本：X2\n\t软件作者：niandeng\n\t软件网站：http://www.ckplayer.com\n\t--------------------------------------------------------------------------------------------------------------------\n\t开发说明：\n\t使用的主要程序语言：javascript(js)及actionscript3.0(as3.0)(as3.0主要用于flashplayer部分的开发，不在该页面呈现)\n\t功能：播放视频\n\t特点：兼容HTML5-VIDEO(优先)以及FlashPlayer\n\t--------------------------------------------------------------------------------------------------------------------\n\t使用开源代码部分：\n\t1：flashls-http://flashls.org/\n\t=====================================================================================================================\n*/\n\n!(function() {\n\tvar ckplayer = function(obj) {\n\t\t/*\n\t\t\tjavascript部分开发所用的注释说明：\n\t\t\t1：初始化-程序调用时即运行的代码部分\n\t\t\t2：定义样式-定义容器（div,p,canvas等）的样式表，即css\n\t\t\t3：监听动作-监听元素节点（单击-click，鼠标进入-mouseover，鼠标离开-mouseout，鼠标移动-mousemove等）事件\n\t\t\t4：监听事件-监听视频的状态（播放，暂停，全屏，音量调节等）事件\n\t\t\t5：共用函数-这类函数在外部也可以使用\n\t\t\t6：全局变量-定义成全局使用的变量\n\t\t\t7：其它相关注释\n\t\t\t全局变量说明：\n\t\t\t在本软件中所使用到的全局变量（变量（类型）包括Boolean，String，Int，Object（包含元素对象和变量对象），Array，Function等）\n\t\t\t下面列出重要的全局变量：\n\t\t\t\tV:Object：视频对象\n\t\t\t\tVA:Array：视频列表（包括视频地址，类型，清晰度说明）\n\t\t\t\tID:String：视频ID\n\t\t\t\tCB:Object：控制栏各元素的集合对象\n\t\t\t\tPD:Object：内部视频容器对象\n\t\t\t---------------------------------------------------------------------------------------------\n\t\t\t程序开始\n\t\t\t下面为需要初始化配置的全局变量\n\t\t*/\n\t\t//全局变量：播放器默认配置，在外部传递过来相应配置后，则进行相关替换\n\t\tthis.varsDefault = {\n\t\t\tplayerID: '',//播放器ID\n\t\t\tcontainer: '',//视频容器的ID\n\t\t\tvariable: 'ckplayer',//播放函数(变量)名称\n\t\t\tvolume: 0.8,//默认音量，范围0-1\n\t\t\tposter: '',//封面图片地址\n\t\t\tautoplay: false,//是否自动播放\n\t\t\tloop: false,//是否需要循环播放\n\t\t\tlive: false,//是否是直播\n\t\t\tduration: 0,//指定总时间\n\t\t\tforceduration:0,//强制使用该时间为总时间\n\t\t\tseek: 0,//默认需要跳转的秒数\n\t\t\tdrag: '',//拖动时支持的前置参数\n\t\t\tfront: '',//前一集按钮动作\n\t\t\tnext: '',//下一集按钮动作\n\t\t\tloaded: '',//加载播放器后调用的函数\n\t\t\tflashplayer: false,//设置成true则强制使用flashplayer\n\t\t\thtml5m3u8: false,//PC平台上是否使用h5播放器播放m3u8\n\t\t\ttrack: null,//字幕轨道\n\t\t\tcktrack: null,//ck字幕\n\t\t\tcktrackdelay:0,//字幕显示延迟时间\n\t\t\tpreview: null,//预览图片对象\n\t\t\tprompt: null,//提示点功能\n\t\t\tvideo: null,//视频地址\n\t\t\tconfig: '',//调用配置函数名称\n\t\t\ttype: '',//视频格式\n\t\t\tcrossorigin: '',//设置html5视频的crossOrigin属性\n\t\t\tcrossdomain: '',//安全策略文件地址\n\t\t\tunescape: false,//默认flashplayer里需要解码\n\t\t\tmobileCkControls: false,//移动端h5显示控制栏\n\t\t\tmobileAutoFull: true,//移动端是否默认全屏播放\n\t\t\tplaybackrate: 1,//默认倍速\n\t\t\th5container: '',//h5环境中使用自定义容器\n\t\t\tdebug: false,//是否开启调试模式\n\t\t\toverspread:true,//是否让视频铺满播放器\n\t\t\tlanguage:'',//语言文件路径\n\t\t\tstyle:'',//风格文件路径\n\t\t\t//以下为广告相关配置\n\t\t\tadfront: '',\n\t\t\tadfronttime: '',\n\t\t\tadfrontlink: '',\n\t\t\tadpause: '',\n\t\t\tadpausetime: '',\n\t\t\tadpauselink: '',\n\t\t\tadinsert: '',\n\t\t\tadinserttime: '',\n\t\t\tadinsertlink: '',\n\t\t\tinserttime: '',\n\t\t\tadend: '',\n\t\t\tadendtime: '',\n\t\t\tadendlink: '',\n\t\t\tadvertisements: ''\n\t\t};\n\t\t//全局变量:vars\n\t\tthis.vars = {};\n\t\t//全局变量：配置文件函数\n\t\tthis.ckConfig = {};\n\t\tthis.jsonConfig = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：语言配置\n\t\tthis.ckLanguage = {};\n\t\tthis.jsonLanguage = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：语言配置\n\t\tthis.ckStyle = {};\n\t\tthis.jsonStyle = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：右键菜单：[菜单标题,类型(link:链接，default:灰色，function：调用函数，javascript:调用js函数),执行内容(包含链接地址，函数名称),[line(间隔线)]]\n\t\tthis.contextMenu = [['ckplayer', 'link', 'http://www.ckplayer.com', '_blank'], ['version:X2', 'default', 'line']];\n\t\t//全局变量：错误提示列表\n\t\tthis.errorList = [\n\t\t\t['000', 'Object does not exist'], \n\t\t\t['001', 'Variables type is not a object'], \n\t\t\t['002', 'Video object does not exist'],\n\t\t\t['003', 'Video object format error'], \n\t\t\t['004', 'Video object format error'], \n\t\t\t['005', 'Video object format error'], \n\t\t\t['006', '[error] does not exist'], \n\t\t\t['007', 'Ajax error'],\n\t\t\t['008', 'Ajax error'],\n\t\t\t['009', 'Ajax object format error'],\n\t\t\t['010', 'Ajax.status:[error]'],\n\t\t\t['011', '[error] File loading failed or error'],\n\t\t\t['012', '[error]']\n\t\t];\n\t\t//全局变量：HTML5变速播放的值数组/如果不需要可以设置成null\n\t\tthis.playbackRateArr = [[0.5, '0.5X'], [1, '1X'], [1.25, '1.25X'], [1.5, '1.5X'], [2, '2X'], [4, '4X']];\n\t\t//全局变量：保存倍速\n\t\tthis.playbackRateTemp=1;\n\t\t//全局变量：HTML5默认变速播放的值\n\t\tthis.playbackRateDefault = 1;\n\t\t//全局变量：HTML5当前显示的字幕编号\n\t\tthis.subtitlesTemp=-1;\n\t\t//全局变量：定义logo\n\t\tthis.logo = '';\n\t\t//全局变量：是否加载了播放器\n\t\tthis.loaded = false;\n\t\t//全局变量：计时器，监听视频加载出错的状态\n\t\tthis.timerError = null;\n\t\t//全局变量：是否出错\n\t\tthis.error = false;\n\t\t//全局变量：出错地址的数组\n\t\tthis.errorUrl = [];\n\t\t//全局变量：计时器，监听全屏与非全屏状态\n\t\tthis.timerFull = null;\n\t\t//全局变量：是否全屏状态\n\t\tthis.full = false;\n\t\t//全局变量：计时器，监听当前的月/日 时=分=秒\n\t\tthis.timerTime = null;\n\t\t//全局变量：计时器，监听视频加载\n\t\tthis.timerBuffer = null;\n\t\t//全局变量：设置进度按钮及进度条是否跟着时间变化，该属性主要用来在按下进度按钮时暂停进度按钮移动和进度条的长度变化\n\t\tthis.isTimeButtonMove = true;\n\t\t//全局变量：进度栏是否有效，如果是直播，则不需要监听时间让进度按钮和进度条变化\n\t\tthis.isTimeButtonDown = false;\n\t\t//全局变量：计时，用来计算鼠标离开清晰度或字幕或倍速按钮后的计算时间标准\n\t\tthis.timeButtonOver=null;\n\t\t//全局变量：鼠标离开清晰度或字幕或倍速是否需要隐藏\n\t\tthis.buttonHide=false;\n\t\t//全局变量：用来模拟双击功能的判断\n\t\tthis.isClick = false;\n\t\t//全局变量：计时器，用来模拟双击功能的计时器\n\t\tthis.timerClick = null;\n\t\t//全局变量：计时器，监听鼠标在视频上移动显示控制栏\n\t\tthis.timerCBar = null;\n\t\t//全局变量：播放视频时如果该变量的值大于0，则进行跳转后设置该值为0\n\t\tthis.needSeek = 0;\n\t\t//全局变量：当前音量\n\t\tthis.volume = 0;\n\t\t//全局变量：静音时保存临时音量\n\t\tthis.volumeTemp = 0;\n\t\t//全局变量/变量类型：Number/功能：当前播放时间\n\t\tthis.time = 0;\n\t\t//全局变量：定义首次调用\n\t\tthis.isFirst = true;\n\t\t//全局变量：是否使用HTML5-VIDEO播放\n\t\tthis.html5Video = true;\n\t\t//全局变量记录视频容器节点的x;y\n\t\tthis.pdCoor = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\t//全局变量：判断当前使用的播放器类型，html5video或flashplayer\n\t\tthis.playerType = '';\n\t\t//全局变量：加载进度条的长度\n\t\tthis.loadTime = 0;\n\t\t//全局变量：body对象\n\t\tthis.body = document.body || document.documentElement;\n\t\t//全局变量：播放器\n\t\tthis.V = null;\n\t\t//全局变量：保存外部js监听事件数组\n\t\tthis.listenerJsArr = [];\n\t\t//全局变量：保存控制栏显示元素的总宽度\n\t\tthis.buttonLen = 0;\n\t\t//全局变量：保存控制栏显示元素的数组\n\t\tthis.buttonArr = [];\n\t\t//全局变量：保存播放器上新增元件的数组\n\t\tthis.elementArr = [];\n\t\t//全局变量：保存播放器上弹幕的临时数组\n\t\tthis.elementTempArr = [];\n\t\t//全局变量：字幕内容\n\t\tthis.track = [];\n\t\t//全局变量：字幕索引\n\t\tthis.trackIndex = 0;\n\t\t//全局变量：当前显示的字幕内容\n\t\tthis.nowTrackShow = {\n\t\t\tsn: ''\n\t\t};\n\t\t//全局变量：保存字幕元件数组\n\t\tthis.trackElement = [];\n\t\t//全局变量：将视频转换为图片\n\t\tthis.timerVCanvas = null;\n\t\t//全局变量：animate，缓动对象数组\n\t\tthis.animateArray = [];\n\t\t//全局变量：保存animate的元件\n\t\tthis.animateElementArray = [];\n\t\t//全局变量：保存需要在暂停时停止缓动的数组\n\t\tthis.animatePauseArray = [];\n\t\t//全局变量：预览图片加载状态/0=没有加载，1=正在加载，2=加载完成\n\t\tthis.previewStart = 0;\n\t\t//全局变量：预览图片容器\n\t\tthis.previewDiv = null;\n\t\t//全局变量：预览框\n\t\tthis.previewTop = null;\n\t\t//全局变量：预览框的宽\n\t\tthis.previewWidth = 120;\n\t\t//全局变量：预览图片容器缓动函数\n\t\tthis.previewTween = null;\n\t\t//全局变量：是否是m3u8格式，是的话则可以加载hls.js\n\t\tthis.isM3u8 = false;\n\t\t//全局变量：保存提示点数组\n\t\tthis.promptArr = [];\n\t\t//全局变量：显示提示点文件的容器\n\t\tthis.promptElement = null;\n\t\t//全局变量：控制栏是否显示\n\t\tthis.conBarShow = true;\n\t\t//全局变量：是否监听过h5的错误\n\t\tthis.errorAdd = false;\n\t\t//全局变量：是否发送了错误\n\t\tthis.errorSend = false;\n\t\t//全局变量：控制栏是否隐藏\n\t\tthis.controlBarIsShow = true;\n\t\t//全局变量，保存当前缩放比例\n\t\tthis.videoScale = 1;\n\t\t//全局变量：设置字体\n\t\tthis.fontFamily = '\"Microsoft YaHei\"; YaHei; \"\\5FAE\\8F6F\\96C5\\9ED1\"; SimHei; \"\\9ED1\\4F53\";Arial';\n\t\t//全局变量：记录第一次拖动进度按钮时的位置\n\t\tthis.timeSliderLeftTemp = 0;\n\t\t//全局变量：判断是否记录了总时间\n\t\tthis.durationSendJS = false;\n\t\t//全局变量：初始化广告分析是否结束设置\n\t\tthis.adAnalysisEnd = false;\n\t\t//全局变量：广告变量\n\t\tthis.advertisements = {};\n\t\t//全局变量：是否是第一次播放视频\n\t\tthis.isFirstTimePlay = true;\n\t\t//全局变量：当前需要播放的广告类型\n\t\tthis.adType = '';\n\t\t//全局变量：播放广告计数\n\t\tthis.adI = 0;\n\t\t//全局变量：要播放的临时地址\n\t\tthis.videoTemp = {\n\t\t\tsrc: '',\n\t\t\tsource: '',\n\t\t\tcurrentSrc: '',\n\t\t\tloop: false\n\t\t};\n\t\t//全局变量：当前要播放的广告组总时间\n\t\tthis.adTimeAllTotal = 0;\n\t\t//全局变量：肖前要播放的广告时间\n\t\tthis.adTimeTotal = 0;\n\t\t//全局变量：用来做倒计时\n\t\tthis.adCountDownObj = null;\n\t\t//全局变量：前置，中插，结尾广告是否已开始运行\n\t\tthis.adPlayStart = false;\n\t\t//全局变量：目前是否在播放广告\n\t\tthis.adPlayerPlay = false;\n\t\t//全局变量：当前广告是否暂停\n\t\tthis.adIsPause = false;\n\t\t//全局变量：视频广告是否静音\n\t\tthis.adVideoMute = false;\n\t\t//全局变量：是否需要记录当前播放的时间供广告播放结束后进行跳转\n\t\tthis.adIsVideoTime = false;\n\t\t//全局变量：后置广告是否播放\n\t\tthis.endAdPlay = false;\n\t\t//全局变量：暂停广告是否在显示\n\t\tthis.adPauseShow = false;\n\t\t//全局变量：是否需要重置广告以实现重新播放时再播放一次\n\t\tthis.adReset = false;\n\t\t//全局变量：记录鼠标在视频上点击时的坐标\n\t\tthis.videoClickXy={x:0,y:0};\n\t\t//全局变量：是否在播放广告时播放过视频广告\n\t\tthis.adVideoPlay = false;\n\t\t\n\t\t//全局变量：临时存储已加载时间的变量\n\t\tthis.loadTimeTemp=0;\n\t\t//全局变量，临时存储hls形式下首次加载时是否需要暂停或播放的判断\n\t\tthis.hlsAutoPlay=true;\n\t\t//全局变量，loading是否显示\n\t\tthis.loadingShow=false;\n\t\t//全局变量，保存视频地址字符串的\n\t\tthis.videoString='';\n\t\t//全局变量，保存所有自定义元件的数组\n\t\tthis.customeElement=[];\n\t\t//全局变量，保存PD的宽高\n\t\tthis.cdWH={w:0,h:0};\n\t\t//全局变量，保存所有的元素变量\n\t\tthis.CB={};\n\t\t//全局变量，调用当前路径\n\t\tthis.ckplayerPath=this.getPath();\n\t\tif (obj) {\n\t\t\tthis.embed(obj);\n\t\t}\n\t};\n\tckplayer.prototype = {\n\t\t/*\n\t\t\t主要函数部分开始\n\t\t\t主接口函数：\n\t\t\t调用播放器需初始化该函数\n\t\t*/\n\t\tembed: function(c) {\n\t\t\t//c:Object：是调用接口传递的属性对象\n\t\t\tif (window.location.href.substr(0, 7) == 'file://') {//如果是使用的file协议打网页则弹出提示\n\t\t\t\talert('Please use the HTTP protocol to open the page');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(c)) {\n\t\t\t\tthis.eject(this.errorList[0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(c) != 'object') {\n\t\t\t\tthis.eject(this.errorList[1]);\n\t\t\t}\n\t\t\tthis.vars = this.standardization(this.varsDefault, c);\n\t\t\tif (!this.vars['mobileCkControls'] && this.isMobile()) {\n\t\t\t\tthis.vars['flashplayer'] = false;\n\t\t\t\tthis.conBarShow = false;\n\t\t\t}\n\t\t\tvar videoStringTemp = this.vars['video'];\n\t\t\tif (!videoStringTemp) {\n\t\t\t\tthis.eject(this.errorList[2]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(videoStringTemp) == 'string') {\n\t\t\t\tif (videoStringTemp.substr(0, 3) == 'CK:' || videoStringTemp.substr(0, 3) == 'CE:' || videoStringTemp.substr(8, 3) == 'CK:' || videoStringTemp.substr(8, 3) == 'CE:') {\n\t\t\t\t\tthis.vars['flashplayer'] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.varType(videoStringTemp) == 'object') {\n\t\t\t\tif (videoStringTemp.length > 1) {\n\t\t\t\t\tif (videoStringTemp[0][0].substr(0, 3) == 'CK:' || videoStringTemp[0][0].substr(0, 3) == 'CE:' || videoStringTemp[0][0].substr(8, 3) == 'CK:' || videoStringTemp[0][0].substr(8, 3) == 'CE:') {\n\t\t\t\t\t\tthis.vars['flashplayer'] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.videoString=videoStringTemp;\n\t\t\tthis.checkUpConfig();\t\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载config文件\n\t\t*/\n\t\tcheckUpConfig:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar configPath='';\n\t\t\tvar jsTemp=null;\n\t\t\tif (this.vars['config']) {\n\t\t\t\tif (this.vars['config'].substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp= eval(this.vars['config'] + '()');\n\t\t\t\t\tif(!this.isUndefined(jsTemp)){\n\t\t\t\t\t\tthis.ckConfig=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.jsonConfig=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.loadConfig(null);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadConfig(this.ckplayerPath+this.vars['config']);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadConfig(this.ckplayerPath+this.vars['config'].substr(8));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t\t\tvar isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerConfig)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp= ckplayerConfig();\n\t\t\t          \tif(jsTemp){\n\t\t\t          \t\tthis.ckConfig=this.newObj(jsTemp);\n\t\t\t          \t\tthis.jsonConfig=this.newObj(jsTemp);\n\t\t\t          \t\tthis.loadConfig(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthis.loadConfig(this.ckplayerPath+'ckplayer.json');\n\t\t\t\t\t\t}\n\t\t\t        }\n\t\t\t        else {\n\t\t\t           this.loadConfig(this.ckplayerPath+'ckplayer.json');\n\t\t\t        }\n\t\t\t    } catch(e) {\n\t\t\t    \tthisTemp.sysError(thisTemp.errorList[12],e);//系统错误\n\t\t\t    }\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadConfig:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.ckConfig=data;\n\t\t\t\t\t\t\tthisTemp.jsonConfig=thisTemp.newObj(data);\n\t\t\t\t\t\t\tif(!thisTemp.isUndefined(data['flashvars'])){\n\t\t\t\t\t\t\t\tthisTemp.vars=thisTemp.objectAssign(data['flashvars'],thisTemp.vars);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.checkUpLanguage();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'Config');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.checkUpLanguage();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载语言文件\n\t\t*/\n\t\tcheckUpLanguage:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar languagePath='';\n\t\t\tvar jsTemp=null;\n\t\t\tif (this.vars['language']) {\n\t\t\t\tlanguagePath=this.vars['language'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif (this.ckConfig['languagePath']) {\n\t\t\t\t\tlanguagePath=this.ckConfig['languagePath'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (languagePath) {\n\t\t\t\tif (languagePath.substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp = eval(languagePath + '()');\n\t\t\t\t\tif(jsTemp){\n\t\t\t\t\t\tthis.ckLanguage=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.jsonLanguage=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.loadLanguage(null);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadLanguage(this.ckplayerPath+languagePath);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadLanguage(this.ckplayerPath+languagePath.substr(8));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t\t\tvar isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerLanguage)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp = ckplayerLanguage();\n\t\t\t          \tif(jsTemp){\n\t\t\t          \t\tthis.ckLanguage=this.newObj(jsTemp);\n\t\t\t          \t\tthis.jsonLanguage=this.newObj(jsTemp);\n\t\t\t          \t\tthis.loadLanguage(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t this.loadLanguage(this.ckplayerPath+'language.json');\n\t\t\t\t\t\t}\n\t\t\t        }\n\t\t\t        else {\n\t\t\t           this.loadLanguage(this.ckplayerPath+'language.json');\n\t\t\t        }\n\t\t\t    } catch(e) {\n\t\t\t    \tthisTemp.sysError(thisTemp.errorList[12],e);//系统错误\n\t\t\t    }\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadLanguage:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.ckLanguage=data;\n\t\t\t\t\t\t\tthisTemp.jsonLanguage=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.checkUpStyle();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'language.json');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.checkUpStyle();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载皮肤文件\n\t\t*/\n\t\tcheckUpStyle:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar stylePath='';\n\t\t\tvar jsTemp=null;\n\t\t\tvar configJs=this.newObj(this.ckConfig);\n\t\t\tif (this.vars['style']) {\n\t\t\t\tstylePath=this.vars['style'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif (this.ckConfig['stylePath']) {\n\t\t\t\t\tstylePath=''+this.ckConfig['stylePath'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (stylePath) {\n\t\t\t\tif (stylePath.substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp = eval(stylePath + '()');\n\t\t\t\t\tif(!this.isUndefined(jsTemp)){\n\t\t\t          \tthis.jsonStyle=this.newObj(jsTemp);\n\t\t\t          \tthis.ckStyle=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.ckStyle['advertisement']=this.objectAssign(configJs['style']['advertisement'],this.ckStyle['advertisement']);\n\t\t\t\t\t\tthis.ckStyle=this.objectAssign(configJs['style'],this.ckStyle);\n\t\t\t\t\t\tthis.loadStyle(null);\n\t\t\t        }\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadStyle(this.ckplayerPath+stylePath);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadStyle(this.ckplayerPath+stylePath.substr(8));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t       var isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerStyle)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){isFun=false;}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp= ckplayerStyle();\n\t\t\t          \tif(!this.isUndefined(jsTemp)){\n\t\t\t          \t\tthis.jsonStyle=this.newObj(jsTemp);\n\t\t\t          \t\tthis.ckStyle=this.newObj(jsTemp);\n\t\t\t\t\t\t\tthis.ckStyle['advertisement']=this.objectAssign(configJs['style']['advertisement'],this.ckStyle['advertisement']);\n\t\t\t\t\t\t\tthis.ckStyle=this.objectAssign(configJs['style'],this.ckStyle);\n\t\t\t\t\t\t\tthis.loadStyle(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthis.loadStyle(this.ckplayerPath+'style.json');\n\t\t\t\t\t\t}\n\t\t\t\t    }\n\t\t\t        else {\n\t\t\t           this.loadStyle(this.ckplayerPath+'style.json');\n\t\t\t        }\n\t\t\t    } catch(e) {}\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadStyle:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tvar configJs=this.newObj(this.ckConfig);\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.jsonStyle=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.ckStyle=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.ckStyle['advertisement']=thisTemp.objectAssign(configJs['style']['advertisement'],thisTemp.ckStyle['advertisement']);\n\t\t\t\t\t\t\tthisTemp.ckStyle=thisTemp.objectAssign(configJs['style'],thisTemp.ckStyle);\n\t\t\t\t\t\t\tthisTemp.loadConfigHandler();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'Style');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.loadConfigHandler();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t当config,language,style三个文件或函数处理完成后执行的动作\n\t\t*/\n\t\tloadConfigHandler:function(){\n\t\t\tif ((!this.supportVideo() && this.vars['flashplayer'] != '') || (this.vars['flashplayer'] && this.uploadFlash()) || !this.isMsie()) {\n\t\t\t\tthis.html5Video = false;\n\t\t\t\tthis.getVideo();\n\t\t\t} \n\t\t\telse if (this.videoString) {\n\t\t\t\t//判断视频数据类型\n\t\t\t\tthis.analysedVideoUrl(this.videoString);\n\t\t\t} \n\t\t\telse {\n\t\t\t\tthis.eject(this.errorList[2]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据外部传递过来的video开始分析视频地址\n\t\t*/\n\t\tanalysedVideoUrl: function(video) {\n\t\t\tvar i = 0,\n\t\t\ty = 0;\n\t\t\tvar thisTemp = this;\n\t\t\tthis.VA = [];//定义全局变量VA：视频列表（包括视频地址，类型，清晰度说明）\n\t\t\tif (this.varType(video) == 'string') { //如果是字符形式的则判断后缀进行填充\n\t\t\t\tif (video.substr(0, 8) != 'website:') {\n\t\t\t\t\tthis.VA = [[video, '', '', 0]];\n\t\t\t\t\tvar fileExt = this.getFileExt(video);\n\t\t\t\t\tswitch (fileExt) {\n\t\t\t\t\tcase '.mp4':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/mp4';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '.ogg':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/ogg';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '.webm':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/webm';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tthis.getVideo();\n\t\t\t\t} else {\n\t\t\t\t\tif (this.html5Video) {\n\t\t\t\t\t\tvar ajaxObj = {\n\t\t\t\t\t\t\turl: video.substr(8),\n\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\t\t\tthisTemp.analysedUrl(data);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[5]);\n\t\t\t\t\t\t\t\t\tthis.VA = video;\n\t\t\t\t\t\t\t\t\tthisTemp.getVideo();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror:function(data){\n\t\t\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.VA = video;\n\t\t\t\t\t\tthis.getVideo();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t} \n\t\t\telse if(this.varType(video)=='array'){//如果视频地址是数组\n\t\t\t\tif (this.varType(video[0])=='array') { //如果视频地址是二维数组\n\t\t\t\t\tthis.VA = video;\n\t\t\t\t}\n\t\t\t\tthis.getVideo();\n\t\t\t}\n\t\t\telse if(this.varType(video)=='object'){\n\t\t\t\t/*\n\t\t\t\t\t如果video格式是对象形式，则分二种\n\t\t\t\t\t如果video对象里包含type，则直接播放\n\t\t\t\t*/\n\t\t\t\tif (!this.isUndefined(video['type'])) {\n\t\t\t\t\tthis.VA.push([video['file'], video['type'], '', 0]);\n\t\t\t\t\tthis.getVideo();\n\t\t\t\t} else {\n\t\t\t\t\tthis.eject(this.errorList[5]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.eject(this.errorList[4]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t对请求到的视频地址进行重新分析\n\t\t*/\n\t\tanalysedUrl: function(data) {\n\t\t\tthis.vars = this.standardization(this.vars, data);\n\t\t\tif (!this.isUndefined(data['video'])) {\n\t\t\t\tthis.vars['video'] = data['video'];\n\t\t\t}\n\t\t\tthis.analysedVideoUrl(this.vars['video']);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t检查浏览器支持的视频格式，如果是则将支持的视频格式重新分组给播放列表\n\t\t*/\n\t\tgetHtml5Video: function() {\n\t\t\tvar va = this.VA;\n\t\t\tvar nva = [];\n\t\t\tvar mobile = this.isMobile();\n\t\t\tvar video = document.createElement('video');\n\t\t\tvar codecs = function(type) {\n\t\t\t\tvar cod = '';\n\t\t\t\tswitch (type) {\n\t\t\t\tcase 'video/mp4':\n\t\t\t\t\tcod = 'avc1.4D401E, mp4a.40.2';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video/ogg':\n\t\t\t\t\tcod = 'theora, vorbis';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video/webm':\n\t\t\t\t\tcod = 'vp8.0, vorbis';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn cod;\n\t\t\t};\n\t\t\tvar supportType = function(vidType, codType) {\n\t\t\t\tif (!video.canPlayType) {\n\t\t\t\t\tthis.html5Video = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar isSupp = video.canPlayType(vidType + ';codecs=\"' + codType + '\"');\n\t\t\t\tif (isSupp == '') {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tif (this.vars['flashplayer'] || !this.isMsie()) {\n\t\t\t\tthis.html5Video = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (var i = 0; i < va.length; i++) {\n\t\t\t\tvar v = va[i];\n\t\t\t\tif (v) {\n\t\t\t\t\tif (v[1] != '' && !mobile && supportType(v[1], codecs(v[1])) && v[0].substr(0, 4) != 'rtmp') {\n\t\t\t\t\t\tnva.push(v);\n\t\t\t\t\t}\n\t\t\t\t\tif ((this.getFileExt(v[0]) == '.m3u8' || this.vars['type'] == 'video/m3u8' || this.vars['type'] == 'm3u8' || v[1] == 'video/m3u8' || v[1] == 'm3u8') && this.vars['html5m3u8'] && !mobile) {\n\t\t\t\t\t\tthis.isM3u8 = true;\n\t\t\t\t\t\tnva.push(v);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (nva.length > 0) {\n\t\t\t\tthis.VA = nva;\n\t\t\t} else {\n\t\t\t\tif (!mobile) {\n\t\t\t\t\tthis.html5Video = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据视频地址开始构建播放器\n\t\t*/\n\t\tgetVideo: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar v = this.vars;\n\t\t\t//如果存在广告字段则开始分析广告\n\t\t\tif (!this.adAnalysisEnd && (v['adfront'] != '' || v['adpause'] != '' || v['adinsert'] != '' || v['adend'] != '' || v['advertisements'] != '')) {\n\t\t\t\tthis.adAnalysisEnd = true;\n\t\t\t\tthis.adAnalysis();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//如果存在字幕则加载\n\t\t\tif (this.V) { //如果播放器已存在，则认为是从newVideo函数发送过来的请求\n\t\t\t\tthis.changeVideo();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.vars['cktrack']) {\n\t\t\t\tthis.loadTrack();\n\t\t\t}\n\t\t\tif (this.supportVideo() && !this.vars['flashplayer']) {\n\t\t\t\tthis.getHtml5Video(); //判断浏览器支持的视频格式\n\t\t\t}\n\t\t\tvar src = '',\n\t\t\tsource = '',\n\t\t\tposter = '',\n\t\t\tloop = '',\n\t\t\tautoplay = '',\n\t\t\ttrack = '',\n\t\t\tcrossorigin='';\n\t\t\tvar video = v['video'];\n\t\t\tvar i = 0;\n\t\t\tvar vBg=this.ckStyle['background']['backgroundColor'].replace('0x','#');\n\t\t\tthis.CD = this.getByElement(v['container']);\n\t\t\tvolume = v['volume'];\n\t\t\tif (this.isUndefined(this.CD)) {\n\t\t\t\tthis.eject(this.errorList[6], v['container']);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\t//开始构建播放器容器\n\t\t\tthis.V = undefined;\n\t\t\tvar thisPd = null;\n\t\t\tif (v['h5container'] != '') {\n\t\t\t\tthisPd = this.getByElement(v['h5container']);\n\t\t\t\tif (this.isUndefined(thisPd)) {\n\t\t\t\t\tthisPd = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar isVideoH5 = null; //isUndefined  thisPd\n\t\t\tif (v['playerID'] != '') {\n\t\t\t\tisVideoH5 = this.getByElement('#' + v['playerID']);\n\t\t\t\tif (this.isUndefined(isVideoH5)) {\n\t\t\t\t\tisVideoH5 = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (thisPd != null && isVideoH5 != null) {\n\t\t\t\tthis.PD = thisPd; //PD:定义播放器容器对象全局变量\n\t\t\t} else {\n\t\t\t\tvar playerID = 'ckplayer-' + this.randomString();\n\t\t\t\tvar playerDiv = document.createElement('div');\n\t\t\t\tplayerDiv.className = playerID;\n\t\t\t\tthis.CD.innerHTML = '';\n\t\t\t\tthis.CD.appendChild(playerDiv);\n\t\t\t\tthis.PD = playerDiv; //PD:定义播放器容器对象全局变量\n\t\t\t}\n\t\t\tthis.css(this.CD, {\n\t\t\t\tbackgroundColor: vBg,\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tposition: 'relative'\n\t\t\t});\n\t\t\tthis.css(this.PD, {\n\t\t\t\tbackgroundColor: vBg,\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '100%',\n\t\t\t\tfontFamily: this.fontFamily\n\t\t\t});\n\t\t\tif (this.html5Video) { //如果支持HTML5-VIDEO则默认使用HTML5-VIDEO播放器\n\t\t\t\t\n\t\t\t\t//禁止播放器容器上鼠标选择文本\n\t\t\t\tthis.PD.onselectstart = this.PD.ondrag = function() {\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t\t//播放器容器构建完成并且设置好样式\n\t\t\t\t//构建播放器\n\t\t\t\tif (this.VA.length == 1) {\n\t\t\t\t\tthis.videoTemp['src'] = decodeURIComponent(this.VA[0][0]);\n\t\t\t\t\tsrc = ' src=\"' + this.videoTemp['src'] + '\"';\n\n\t\t\t\t} else {\n\t\t\t\t\tvar videoArr = this.VA.slice(0);\n\t\t\t\t\tvideoArr = this.arrSort(videoArr);\n\t\t\t\t\tfor (i = 0; i < videoArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = videoArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t\tif (type == ' type=\"video/m3u8\"' || type == ' type=\"m3u8\"') {\n\t\t\t\t\t\t\t\ttype = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + decodeURIComponent(va[0]) + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.videoTemp['source'] = source;\n\t\t\t\t}\n\t\t\t\t//分析视频地址结束\n\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\tautoplay = ' autoplay=\"autoplay\"';\n\t\t\t\t}\n\t\t\t\tif (v['poster']) {\n\t\t\t\t\tposter = ' poster=\"' + v['poster'] + '\"';\n\t\t\t\t}\n\t\t\t\tif (v['loop']) {\n\t\t\t\t\tloop = ' loop=\"loop\"';\n\t\t\t\t}\n\t\t\t\tif (v['seek'] > 0) {\n\t\t\t\t\tthis.needSeek = v['seek'];\n\t\t\t\t}\n\t\t\t\tif (v['track'] != null && v['cktrack'] == null) {\n\t\t\t\t\tvar trackArr = v['track'];\n\t\t\t\t\tvar trackDefault = '';\n\t\t\t\t\tvar defaultHave = false;\n\t\t\t\t\tfor (i = 0; i < trackArr.length; i++) {\n\t\t\t\t\t\tvar trackObj = trackArr[i];\n\t\t\t\t\t\tif (trackObj['default'] && !defaultHave) {\n\t\t\t\t\t\t\ttrackDefault = ' default';\n\t\t\t\t\t\t\tdefaultHave = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttrackDefault = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttrack += '<track kind=\"' + trackObj['kind'] + '\" src=\"' + trackObj['src'] + '\" srclang=\"' + trackObj['srclang'] + '\" label=\"' + trackObj['label'] + '\"' + trackDefault + '>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(v['crossorigin']){\n\t\t\t\t\tcrossorigin=' crossorigin=\"'+v['crossorigin']+'\"';\n\t\t\t\t}\n\t\t\t\tvar autoLoad = this.ckConfig['config']['autoLoad'];\n\t\t\t\tvar preload = '';\n\t\t\t\tif (!autoLoad) {\n\t\t\t\t\tpreload = ' preload=\"meta\"';\n\t\t\t\t}\n\t\t\t\tvar vid = this.randomString();\n\t\t\t\tvar controls = '';\n\t\t\t\tvar mobileAutoFull = v['mobileAutoFull'];\n\t\t\t\tvar mobileautofull = '';\n\t\t\t\tif (!mobileAutoFull) {\n\t\t\t\t\tmobileautofull = ' x-webkit-airplay=\"true\" playsinline  webkit-playsinline=\"true\"  x5-video-player-type=\"h5\"';\n\t\t\t\t}\n\t\t\t\tif(this.isMobile()){\n\t\t\t\t\tcontrols = ' controls=\"controls\"';\n\t\t\t\t}\n\t\t\t\tif (isVideoH5 != null && thisPd != null) {\n\t\t\t\t\tthis.V = isVideoH5;\n\t\t\t\t\tif (v['poster']) {\n\t\t\t\t\t\tthis.V.poster = v['poster'];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar html = '';\n\t\t\t\t\tif (!this.isM3u8) {\n\t\t\t\t\t\thtml = '<video id=\"' + vid + '\"' + src + ' controlslist=\"nodownload\" width=\"100%\" height=\"100%\"' + autoplay + poster + loop + preload + controls + mobileautofull + track + crossorigin+'>' + source + '</video>';\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml = '<video id=\"' + vid + '\" controlslist=\"nodownload\" width=\"100%\" height=\"100%\"' + poster + loop + preload + controls + mobileautofull + track + crossorigin+'></video>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.PD.innerHTML = html;\n\t\t\t\t\tthis.V = this.getByElement('#' + vid); //V：定义播放器对象全局变量\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.volume = volume; //定义音量\n\t\t\t\t\tif (this.playbackRateArr && this.vars['playbackrate'] > -1) {\n\t\t\t\t\t\tif (this.vars['playbackrate'] < this.playbackRateArr.length) {\n\t\t\t\t\t\t\tthis.playbackRateDefault = this.vars['playbackrate'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.V.playbackRate = this.playbackRateArr[this.playbackRateDefault][0]; //定义倍速\n\t\t\t\t\t}\n\t\t\t\t} catch(error) {}\n\t\t\t\tthis.css(this.V, {\n\t\t\t\t\tbackgroundColor: vBg,\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100%'\n\t\t\t\t});\n\t\t\t\tif (this.isM3u8) {\n\t\t\t\t\tvar loadJsHandler = function() {\n\t\t\t\t\t\tthisTemp.embedHls(thisTemp.VA[0][0], v['autoplay']);\n\t\t\t\t\t};\n\t\t\t\t\tthis.loadJs(this.ckplayerPath + 'hls/hls.min.js', loadJsHandler);\n\t\t\t\t}\n\t\t\t\tthis.css(this.V, 'backgroundColor', vBg);\n\t\t\t\t//创建一个画布容器\n\t\t\t\tif (this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\t\tvar canvasDiv = document.createElement('div');\n\t\t\t\t\tthis.PD.appendChild(canvasDiv);\n\t\t\t\t\tthis.MD = canvasDiv; //定义画布存储容器\n\t\t\t\t\tthis.css(this.MD, {\n\t\t\t\t\t\tbackgroundColor: vBg,\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\ttop: '0px',\n\t\t\t\t\t\tzIndex: '10'\n\t\t\t\t\t});\n\t\t\t\t\tvar cvid = 'ccanvas' + this.randomString();\n\t\t\t\t\tthis.MD.innerHTML = this.newCanvas(cvid, this.MD.offsetWidth, this.MD.offsetHeight);\n\t\t\t\t\tthis.MDC = this.getByElement(cvid + '-canvas');\n\t\t\t\t\tthis.MDCX = this.MDC.getContext('2d');\n\t\t\t\t}\n\t\t\t\tthis.playerType = 'html5video';\n\t\t\t\t//播放器构建完成并且设置好样式\n\t\t\t\t//建立播放器的监听函数，包含操作监听及事件监听\n\t\t\t\tthis.addVEvent();\n\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t//根据清晰度的值构建清晰度切换按钮\n\t\t\t\t\tthis.definition();\n\t\t\t\t\tif (!this.vars['live'] && this.playbackRateArr && this.vars['playbackrate'] > -1) {\n\t\t\t\t\t\tthis.playbackRate();\n\t\t\t\t\t}\n\t\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\t\tthis.loadingStart(true);\n\t\t\t\t\t}\n\t\t\t\t\tthis.subtitleSwitch();\n\t\t\t\t}\n\t\t\t\tthis.playerLoad();\n\t\t\t} else { //如果不支持HTML5-VIDEO则调用flashplayer\n\t\t\t\tthis.embedSWF();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t分析广告数据\n\t\t*/\n\t\tadAnalysis: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar v = this.vars;\n\t\t\tvar isAdvShow = [];\n\t\t\tvar i = 0;\n\t\t\tif (v['advertisements'] != '' && v['advertisements'].substr(0, 8) == 'website:') {\n\t\t\t\tvar ajaxObj = {\n\t\t\t\t\turl: v['advertisements'].substr(8),\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\tvar newData = {};\n\t\t\t\t\t\t\tvar val = null;\n\t\t\t\t\t\t\t//对广告进行分析\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(data['front']) || !thisTemp.isUndefined(data['pause']) || !thisTemp.isUndefined(data['end']) || !thisTemp.isUndefined(data['insert']) || !thisTemp.isUndefined(data['other'])) {\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['front']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['front'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['pause']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['pause'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['insert']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['insert'] = val;\n\t\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(data['inserttime'])) {\n\t\t\t\t\t\t\t\t\t\t\tnewData['inserttime'] = thisTemp.arrayInt(data['inserttime']);\n\t\t\t\t\t\t\t\t\t\t\tisAdvShow = [];\n\t\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < newData['inserttime'].length; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\tisAdvShow.push(false);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tnewData['insertPlay'] = isAdvShow;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['end']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['end'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['other']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['other'] = val;\n\t\t\t\t\t\t\t\t\t\tisAdvShow = [];\n\t\t\t\t\t\t\t\t\t\tvar arrTemp = [];\n\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < val.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\tisAdvShow.push(false);\n\t\t\t\t\t\t\t\t\t\t\tarrTemp.push(parseInt('0' + val[i]['startTime']));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnewData['othertime'] = arrTemp;\n\t\t\t\t\t\t\t\t\t\tnewData['otherPlay'] = isAdvShow;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\tthisTemp.log(event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.advertisements = newData;\n\t\t\t\t\t\t\t//对广告进行分析结束\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisTemp.getVideo();\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){}\n\t\t\t\t};\n\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t} else {\n\t\t\t\t//根据广告分析\n\t\t\t\tthis.adAnalysisOne('front', 'adfront', 'adfronttime', 'adfrontlink', 'adfronttype');\n\t\t\t\tthis.adAnalysisOne('pause', 'adpause', 'adpausetime', 'adpauselink', 'adpausetype');\n\t\t\t\tthis.adAnalysisOne('insert', 'adinsert', 'adinserttime', 'adinsertlink', 'adinserttype');\n\t\t\t\tthis.adAnalysisOne('end', 'adend', 'adendtime', 'adendlink', 'adendtype');\n\t\t\t\tif (!this.isUndefined(this.advertisements['insert'])) {\n\t\t\t\t\tif (!this.isUndefined(v['inserttime'])) {\n\t\t\t\t\t\tthisTemp.advertisements['inserttime'] = v['inserttime'];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!this.isUndefined(thisTemp.advertisements['inserttime'])) {\n\t\t\t\t\tthisTemp.advertisements['inserttime'] = thisTemp.arrayInt(thisTemp.advertisements['inserttime']);\n\t\t\t\t\tisInsert = [];\n\t\t\t\t\tfor (i = 0; i < thisTemp.advertisements['inserttime'].length; i++) {\n\t\t\t\t\t\tisInsert.push(false);\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.advertisements['insertPlay'] = isInsert;\n\t\t\t\t}\n\t\t\t\tthisTemp.getVideo();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t将广告数组数据里不是视频和图片的去除\n\t\t*/\n\t\tarrayDel: function(arr) {\n\t\t\tif(this.isUndefined(arr)){\n\t\t\t\treturn arr;\n\t\t\t}\n\t\t\tif (arr.length == 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar newArr = [];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar type = arr[i]['type'];\n\t\t\t\tif (type == 'mp4' || type == 'mov' || this.isStrImage(type)) {\n\t\t\t\t\tnewArr.push(arr[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (newArr.length > 0) {\n\t\t\t\treturn newArr;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\t/*分析单个类型的广告*/\n\t\tadAnalysisOne: function(adType, adName, adTime, adLink, adStype) {\n\t\t\tvar v = this.vars;\n\t\t\tif (this.isUndefined(v[adName])) {\n\t\t\t\tv[adName] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adTime])) {\n\t\t\t\tv[adTime] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adLink])) {\n\t\t\t\tv[adLink] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adStype])) {\n\t\t\t\tv[adStype] = '';\n\t\t\t}\n\t\t\tif (v[adName] != '') {\n\t\t\t\tvar adList = [];\n\t\t\t\tvar ad = v[adName].split(',');\n\t\t\t\tvar adtime = v[adTime].split(',');\n\t\t\t\tvar adlink = v[adLink].split(',');\n\t\t\t\tvar adstype = v[adStype].split(',');\n\t\t\t\tvar i = 0;\n\t\t\t\tif (ad.length > 0) {\n\t\t\t\t\tvar adLinkLen = adlink.length,\n\t\t\t\t\tadTimeLen = adtime.length;\n\t\t\t\t\tif (v[adLink] == '') {\n\t\t\t\t\t\tadLinkLen = 0;\n\t\t\t\t\t\tadlink = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (v[adTime] == '') {\n\t\t\t\t\t\tadTimeLen = 0;\n\t\t\t\t\t\tadtime = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (adLinkLen < ad.length) {\n\t\t\t\t\t\tfor (i = adLinkLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadlink.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (adTimeLen < ad.length) {\n\t\t\t\t\t\tfor (i = adTimeLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadtime.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar adstypeLen = adstype.length;\n\t\t\t\t\tif (v[adStype] == '') {\n\t\t\t\t\t\tadstypeLen = 0;\n\t\t\t\t\t\tadstype = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (adstypeLen < ad.length) {\n\t\t\t\t\t\tfor (i = adstypeLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadstype.push(this.getFileExt(ad[i]).replace('.', ''));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (i = 0; i < ad.length; i++) {\n\t\t\t\t\t\tvar type = adstype[i];\n\t\t\t\t\t\tif (type == 'mp4' || type == 'mov' || this.isStrImage(type)) {\n\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\tfile: ad[i],\n\t\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t\t\ttime: parseInt(adtime[i]) > 0 ? parseInt(adtime[i]) : this.ckStyle['advertisement']['time'],\n\t\t\t\t\t\t\t\tlink: adlink[i]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tadList.push(obj);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (this.isUndefined(this.advertisements)) {\n\t\t\t\t\t\tthis.advertisements = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (adList.length > 0) {\n\t\t\t\t\t\tthis.advertisements[adType] = adList;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t发送播放器加载成功的消息\n\t\t*/\n\t\tplayerLoad: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.isFirst) {\n\t\t\t\tthis.isFirst = false;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthisTemp.loadedHandler();\n\t\t\t\t},1);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t建立播放器的监听函数，包含操作监听及事件监听\n\t\t*/\n\t\taddVEvent: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar duration=0;\n\t\t\t//监听视频单击事件\n\t\t\tvar eventVideoClick = function(event) {\n\t\t\t\tthisTemp.videoClickXy={x:event.clientX,y:event.clientY};\n\t\t\t\tthisTemp.videoClick();\n\t\t\t};\n\t\t\tthis.addListenerInside('click', eventVideoClick);\n\t\t\tthis.addListenerInside('click', eventVideoClick, this.MDC);\n\t\t\t//延迟计算加载失败事件\n\t\t\tthis.timerErrorFun();\n\t\t\t//监听视频加载到元数据事件\n\t\t\tvar eventJudgeIsLive = function(event) {\n\t\t\t\tthisTemp.sendJS('loadedmetadata');\n\t\t\t\tif (thisTemp.varType(thisTemp.V.duration) == 'number' && thisTemp.V.duration > 1) {\n\t\t\t\t\tduration = thisTemp.V.duration;\n\t\t\t\t\tif(!duration){\n\t\t\t\t\t\tif(thisTemp.vars['duration']>0){\n\t\t\t\t\t\t\tduration=thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.sendJS('duration', duration);\n\t\t\t\t\tthisTemp.formatInserttime(duration);\n\t\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\t\tthisTemp.advertisementsTime(duration + 1);\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.durationSendJS = true;\n\t\t\t\t}\n\t\t\t\tif (thisTemp.conBarShow) {\n\t\t\t\t\tthisTemp.V.controls=null;\n\t\t\t\t\tthisTemp.videoCss();\n\t\t\t\t}\n\t\t\t\tthisTemp.judgeIsLive();\n\t\t\t};\n\t\t\t//监听视频播放事件\n\t\t\tvar eventPlaying = function(event) {\n\t\t\t\tthisTemp.playingHandler();\n\t\t\t\tthisTemp.sendJS('play');\n\t\t\t\tthisTemp.sendJS('paused', false);\n\t\t\t\tif (!thisTemp.durationSendJS && thisTemp.varType(thisTemp.V.duration) == 'number' && thisTemp.V.duration > 0) {\n\t\t\t\t\tduration = thisTemp.V.duration;\n\t\t\t\t\tif(!duration){\n\t\t\t\t\t\tif(thisTemp.vars['duration']>0){\n\t\t\t\t\t\t\tduration=thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.durationSendJS = true;\n\t\t\t\t\tthisTemp.sendJS('duration', duration);\n\t\t\t\t\tthisTemp.formatInserttime(duration);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('playing', eventPlaying);\n\t\t\t//监听视频暂停事件\n\t\t\tvar eventPause = function(event) {\n\t\t\t\tthisTemp.pauseHandler();\n\t\t\t\tthisTemp.sendJS('pause');\n\t\t\t\tthisTemp.sendJS('paused', true);\n\t\t\t};\n\t\t\tthis.addListenerInside('pause', eventPause);\n\t\t\t//监听视频播放结束事件\n\t\t\tvar eventEnded = function(event) {\n\t\t\t\tthisTemp.endedHandler();\n\t\t\t};\n\t\t\tthis.addListenerInside('ended', eventEnded);\n\t\t\t//监听视频播放时间事件\n\t\t\tvar eventTimeupdate = function(event) {\n\t\t\t\tif (thisTemp.loadingShow) {\n\t\t\t\t\tthisTemp.loadingStart(false);\n\t\t\t\t}\n\t\t\t\tif (thisTemp.time) {\n\t\t\t\t\tif (!thisTemp.adPlayerPlay) {\n\t\t\t\t\t\tthisTemp.sendJS('time', thisTemp.time);\n\t\t\t\t\t\t//监听中间插入广告是否需要播放\n\t\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['insert'])) {\n\t\t\t\t\t\t\tthisTemp.checkAdInsert(thisTemp.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//监听其它广告\n\t\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['other'])) {\n\t\t\t\t\t\t\tthisTemp.checkAdOther(thisTemp.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (thisTemp.time < 3 && thisTemp.adReset) {\n\t\t\t\t\t\t\tthisTemp.adReset = false;\n\t\t\t\t\t\t\tthisTemp.endedAdReset();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { //如果是广告则进行广告倒计时\n\t\t\t\t\t\tthisTemp.adPlayerTimeHandler(thisTemp.time);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('timeupdate', eventTimeupdate);\n\t\t\t//监听视频缓冲事件\n\t\t\tvar eventWaiting = function(event) {\n\t\t\t\tthisTemp.loadingStart(true);\n\t\t\t};\n\t\t\tthis.addListenerInside('waiting', eventWaiting);\n\t\t\t//监听视频seek开始事件\n\t\t\tvar eventSeeking = function(event) {\n\t\t\t\tthisTemp.sendJS('seek', 'start');\n\t\t\t};\n\t\t\tthis.addListenerInside('seeking', eventSeeking);\n\t\t\t//监听视频seek结束事件\n\t\t\tvar eventSeeked = function(event) {\n\t\t\t\tthisTemp.seekedHandler();\n\t\t\t\tthisTemp.sendJS('seek', 'ended');\n\t\t\t};\n\t\t\tthis.addListenerInside('seeked', eventSeeked);\n\t\t\t//监听视频音量\n\t\t\tvar eventVolumeChange = function(event) {\n\t\t\t\ttry {\n\t\t\t\t\tthisTemp.volumechangeHandler();\n\t\t\t\t\tthisTemp.sendJS('volume', thisTemp.volume || thisTemp.V.volume);\n\t\t\t\t} catch(event) {}\n\t\t\t};\n\t\t\tthis.addListenerInside('volumechange', eventVolumeChange);\n\t\t\t//监听全屏事件\n\t\t\tvar eventFullChange = function(event) {\n\t\t\t\tvar fullState = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen;\n\t\t\t\tthisTemp.sendJS('full', fullState);\n\t\t\t};\n\t\t\tthis.addListenerInside('fullscreenchange', eventFullChange);\n\t\t\tthis.addListenerInside('webkitfullscreenchange', eventFullChange);\n\t\t\tthis.addListenerInside('mozfullscreenchange', eventFullChange);\n\t\t\t//建立界面\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.interFace();\n\t\t\t}\n\t\t\tthis.addListenerInside('loadedmetadata', eventJudgeIsLive);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重置界面元素\n\t\t*/\n\t\tresetPlayer: function() {\n\t\t\tthis.timeTextHandler();\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.timeProgress(0, 1); //改变时间进度条宽\n\t\t\t\tthis.changeLoad(0);\n\t\t\t\tthis.initPlayPause(); //判断显示播放或暂停按钮\n\t\t\t\tthis.definition(); //构建清晰度按钮\n\t\t\t\tthis.deletePrompt(); //删除提示点\n\t\t\t\tthis.deletePreview(); //删除预览图\n\t\t\t\tthis.trackHide(); //重置字幕\n\t\t\t\tthis.resetTrack();\n\t\t\t\tthis.trackElement = [];\n\t\t\t\tthis.track = [];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建界面元素\n\t\t */\n\t\tinterFace: function() {\n\t\t\tthis.conBarShow = true;\n\t\t\tvar thisTemp = this;\n\t\t\tvar html = ''; //控制栏内容\n\t\t\tvar i = 0;\n\t\t\tvar thisStyle=this.ckStyle;\n\t\t\tvar styleC=thisStyle['controlBar'];\n\t\t\tvar styleCB=styleC['button'];\n\t\t\tvar styleAS=thisStyle['advertisement'];\n\t\t\tvar styleDF=styleC['definition'];\n\t\t\tvar bWidth = 38;//按钮的宽\n\t\t\tvar timeInto = this.formatTime(0,this.vars['duration'],this.ckLanguage['vod']); //时间显示框默认显示内容\t\t\t\n\t\t\t/*\n\t\t\t\t构建一些PD（播放器容器）里使用的元素\n\t\t\t*/\n\t\t\t/*\n\t\t\t \t构建播放器内的元素\n\t\t\t*/\n\t\t\tthis.CB={menu:null};\n\t\t\tvar divEle={\n\t\t\t\tcontrolBarBg:null,\n\t\t\t\tcontrolBar:null,\n\t\t\t\tpauseCenter:null,\n\t\t\t\terrorText:null,\n\t\t\t\tpromptBg:null,\n\t\t\t\tprompt:null,\n\t\t\t\tpromptTriangle:null,\n\t\t\t\tdefinitionP:null,\n\t\t\t\tplaybackrateP:null,\n\t\t\t\tsubtitlesP:null,\n\t\t\t\tloading:null,\n\t\t\t\tlogo:null,\n\t\t\t\tadBackground:null,\n\t\t\t\tadElement:null,\n\t\t\t\tadLink:null,\n\t\t\t\tadPauseClose:null,\n\t\t\t\tadTime:null,\n\t\t\t\tadTimeText:null,\n\t\t\t\tadMute:null,\n\t\t\t\tadEscMute:null,\n\t\t\t\tadSkip:null,\n\t\t\t\tadSkipText:null,\n\t\t\t\tadSkipButton:null\n\t\t\t};\n\t\t\tvar k='';\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.PD.appendChild(this.CB[k]);\n\t\t\t}\n\t\t\t/*\n\t\t\t\t构建鼠标右键容器\n\t\t\t*/\n\t\t\tthis.CB['menu']=document.createElement('div');\n\t\t\tthis.body.appendChild(this.CB['menu']);\n\t\t\tif (this.vars['live']) { //如果是直播，时间显示文本框里显示当前系统时间\n\t\t\t\ttimeInto = this.formatTime(0,0,this.ckLanguage['live']); //时间显示框默认显示内容\n\t\t\t}\n\t\t\t/*\n\t\t\t\t构建控制栏的按钮\n\t\t\t*/\n\t\t\tdivEle={\n\t\t\t\tplay:null,\n\t\t\t\tpause:null,\n\t\t\t\tmute:null,\n\t\t\t\tescMute:null,\n\t\t\t\tfull:null,\n\t\t\t\tescFull:null,\n\t\t\t\tdefinition:null,\n\t\t\t\tplaybackrate:null,\n\t\t\t\tsubtitles:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\tthis.CB[k].dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\tthis.CB['controlBar'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tdivEle={\n\t\t\t\ttimeProgressBg:null,\n\t\t\t\ttimeBoBg:null,\n\t\t\t\tvolume:null,\n\t\t\t\ttimeText:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['controlBar'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['timeText'].innerHTML=timeInto;//初始化时间\n\t\t\tdivEle={\n\t\t\t\tloadProgress:null,\n\t\t\t\ttimeProgress:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['timeProgressBg'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['timeButton']=document.createElement('div');\n\t\t\tthis.CB['timeBoBg'].appendChild(this.CB['timeButton']);\n\t\t\tdivEle={\n\t\t\t\tvolumeBg:null,\n\t\t\t\tvolumeBO:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['volume'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['volumeUp']=document.createElement('div');\n\t\t\tthis.CB['volumeBg'].appendChild(this.CB['volumeUp']);\n\t\t\t//构建loading图标\n\t\t\tvar imgTemp=null;\n\t\t\tvar imgFile='';\n\t\t\tvar imgFile=thisStyle['loading']['file'];\n\t\t\tif(!this.isUndefined(thisStyle['loading']['fileH5'])){\n\t\t\t\timgFile=thisStyle['loading']['fileH5'];\n\t\t\t}\n\t\t\tif(imgFile){\n\t\t\t\timgTemp=document.createElement('img');\n\t\t\t\timgTemp.src=imgFile;\n\t\t\t\timgTemp.border=0;\n\t\t\t\tthis.CB['loading'].appendChild(imgTemp);\n\t\t\t}\n\t\t\t//构建logo图标\n\t\t\timgFile=thisStyle['logo']['file'];\n\t\t\tif(!this.isUndefined(thisStyle['logo']['fileH5'])){\n\t\t\t\timgFile=thisStyle['logo']['fileH5'];\n\t\t\t}\n\t\t\tif(imgFile){\n\t\t\t\timgTemp=document.createElement('img');\n\t\t\t\timgTemp.src=imgFile;\n\t\t\t\timgTemp.border=0;\n\t\t\t\tthis.CB['logo'].appendChild(imgTemp);\n\t\t\t}\t\t\t\n\t\t\t//定义界面元素的样式\n\t\t\tif(this.ckConfig['config']['buttonMode']['player']){\n\t\t\t\tthis.css(this.PD, {cursor: 'pointer'});\n\t\t\t}\n\t\t\t//控制栏背景\n\t\t\tthis.controlBar(); //改变控制栏\n\t\t\tvar cssTemp=null;\n\t\t\t//定义提示语的样式\n\t\t\tvar promptCss=thisStyle['prompt'];\n\t\t\tcssTemp=this.getEleCss(promptCss,{overflow: 'hidden',zIndex: 900,display:'none'});\n\t\t\tthis.css(this.CB['promptBg'],cssTemp);\n\t\t\tthis.css(this.CB['promptBg'],'padding','0px');\n\t\t\tcssTemp['backgroundColor']='';\n\t\t\tcssTemp['border']='';\n\t\t\tcssTemp['borderRadius']='';\n\t\t\tcssTemp['whiteSpace']='nowrap';\n\t\t\tthis.css(this.CB['prompt'],cssTemp);\n\t\t\t//定义提示语下方的三解形的样式\n\t\t\tcssTemp={\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t\tborderLeft: promptCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\tborderRight: promptCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\tborderTop: promptCss['triangleHeight']+'px solid '+promptCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\toverflow: 'hidden',\n\t\t\t\topacity:promptCss['triangleAlpha'],\n\t\t\t\tfilter:'alpha(opacity:'+promptCss['triangleAlpha']+')',\n\t\t\t\tposition:'absolute',\n\t\t\t\tleft:'0px',\n\t\t\t\ttop:'0px',\n\t\t\t\tzIndex: 900,\n\t\t\t\tdisplay:'none'\n\t\t\t};\n\t\t\tthis.css(this.CB['promptTriangle'],cssTemp);\n\t\t\tthis.elementCoordinate();//中间播放按钮，出错文本框，logo，loading\n\t\t\tthis.css([this.CB['pauseCenter'],this.CB['loading'],this.CB['errorText']],'display','none');\n\t\t\tthis.carbarButton();//控制栏按钮\n\t\t\tthis.playerCustom();//播放器界面自定义元件\n\t\t\tthis.carbarCustom();//控制栏自定义元件\n\t\t\tthis.timeProgressDefault();//进度条默认样式\n\t\t\tthis.videoCss();//计算video的宽高和位置\n\t\t\t//初始化判断播放/暂停按钮隐藏项\n\t\t\tthis.initPlayPause();\n\t\t\tif (this.vars['volume'] > 0) {\n\t\t\t\tthis.css(this.CB['escMute'], 'display', 'none');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['mute'], 'display', 'none');\n\t\t\t}\n\t\t\tif (!this.ckConfig['config']['mobileVolumeBarShow'] && this.isMobile()) {\n\t\t\t\tthis.css([this.CB['mute'], this.CB['escMute'], this.CB['volume']], {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.css(this.CB['escFull'],'display', 'none');\n\t\t\t//设置广告背景层样式\n\t\t\tvar cssObj={\n\t\t\t\talign: 'top',\n\t\t\t\tvAlign:'left',\n\t\t\t\twidth:'100%',\n\t\t\t\theight:'100%',\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\tzIndex: 910,\n\t\t\t\tdisplay: 'none'\n\t\t\t};\n\t\t\tcssTemp=this.getEleCss(styleAS['background'],cssObj);\n\t\t\tthis.css(this.CB['adBackground'],cssTemp);\n\t\t\tthis.css(this.CB['adElement'], {\n\t\t\t\tposition: 'absolute',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\ttop: '0px',\n\t\t\t\tzIndex: 911,\n\t\t\t\tfloat: 'center',\n\t\t\t\tdisplay: 'none'\n\t\t\t});\n\t\t\t//广告控制各元素样式，用一个函数单独定义，这样在播放器尺寸变化时可以重新设置样式\n\t\t\tthis.advertisementStyle();\n\t\t\t//初始化广告控制各元素-隐藏\n\t\t\tthis.css([this.CB['adTime'],this.CB['adTimeText'],this.CB['adMute'],this.CB['adEscMute'],this.CB['adSkip'],this.CB['adSkipText'],this.CB['adSkipButton'],this.CB['adLink'],this.CB['adPauseClose']],'display','none');\n\t\t\t//定义鼠标经过控制栏只显示完整的进度条，鼠标离开进度条则显示简单的进度条\n\t\t\tvar timeProgressOut = function(event) {\n\t\t\t\tthisTemp.timeProgressMouseOut();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', timeProgressOut, this.CB['timeBoBg']);\n\t\t\tvar timeProgressOver = function(event) {\n\t\t\t\tthisTemp.timeProgressDefault();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', timeProgressOver, this.CB['controlBar']);\n\t\t\t//定义各按钮鼠标经过时的切换样式\n\t\t\tthis.buttonEventFun(this.CB['play'],styleCB['play']);//播放按钮\n\t\t\tthis.buttonEventFun(this.CB['pause'],styleCB['pause']);//暂停按钮\n\t\t\tthis.buttonEventFun(this.CB['mute'],styleCB['mute']);//静音按钮\n\t\t\tthis.buttonEventFun(this.CB['escMute'],styleCB['escMute']);//恢复音量按钮\n\t\t\tthis.buttonEventFun(this.CB['full'],styleCB['full']);//全屏按钮\n\t\t\tthis.buttonEventFun(this.CB['escFull'],styleCB['escFull']);//退出全屏按钮\n\t\t\tthis.buttonEventFun(this.CB['adMute'],styleAS['muteButton']);//广告静音按钮\n\t\t\tthis.buttonEventFun(this.CB['adEscMute'],styleAS['escMuteButton']);//恢复广告音量按钮\n\t\t\tthis.buttonEventFun(this.CB['adSkipButton'],styleAS['skipAdButton']);//跳过广告按钮\n\t\t\tthis.buttonEventFun(this.CB['adLink'],styleAS['adLinkButton']);//广告查看详情按钮\n\t\t\tthis.buttonEventFun(this.CB['adPauseClose'],styleAS['closeButton']);//播放暂停时的广告的关闭按钮\n\t\t\tthis.buttonEventFun(this.CB['pauseCenter'],thisStyle['centerPlay']);//播放器中间暂停时的播放按钮\n\t\t\tthis.buttonEventFun(this.CB['volumeBO'],styleC['volumeSchedule']['button']);//音量调节框按钮样式\n\t\t\tthis.buttonEventFun(this.CB['timeButton'],styleC['timeSchedule']['button']);//时间进度调节框按钮样式\n\n\t\t\tthis.addButtonEvent(); //注册按钮及音量调节，进度操作事件\n\t\t\tthis.controlBarHide(); //单独注册控制栏隐藏事件\n\t\t\tthis.newMenu(); //设置右键的样式和事件\n\t\t\tthis.keypress(); //注册键盘事件\n\t\t\t//初始化音量调节框\n\t\t\tthis.changeVolume(this.vars['volume']);\n\t\t\tsetTimeout(function() {\n\t\t\t\tthisTemp.elementCoordinate(); //调整中间暂停按钮/loading的位置/error的位置\n\t\t\t},\n\t\t\t100);\n\t\t\tthis.checkBarWidth();\n\t\t\tvar resize = function() {\n\t\t\t\tthisTemp.log('window.resize');\n\t\t\t\tthisTemp.playerResize();\n\t\t\t};\n\t\t\tvar MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n\t\t\tvar observer = new MutationObserver(function(){\n\t\t\t\tthisTemp.log('video.resize');\n\t\t\t\tvar cdW=parseInt(thisTemp.css(thisTemp.CD,'width')),cdH=parseInt(thisTemp.css(thisTemp.CD,'height'));\n\t\t\t\tif(cdW!=thisTemp.cdWH['w'] || cdH!=thisTemp.cdWH['h']){\n\t\t\t\t\tthisTemp.cdWH={\n\t\t\t\t\t\tw:cdW,\n\t\t\t\t\t\th:cdH\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.changeSize(cdW,cdH);\n\t\t\t\t}\n\t\t\t});\n\t\t\tobserver.observe(this.CD, {attributes: true, attributeFilter: ['style'], attributeOldValue: true });\n\t\t\tthis.addListenerInside('resize', resize, window);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t进间进度条默认样式\n\t\t*/\n\t\ttimeProgressDefault:function(){\n\t\t\tvar styleCT=this.ckStyle['controlBar']['timeSchedule'];\n\t\t\tvar cssObj=this.newObj(styleCT['default']);\n\t\t\tvar loadBackImg=cssObj['loadProgressImg'],playBackImg=cssObj['playProgressImg'];\n\t\t\tvar cssTemp=null;\n\t\t\tthis.css(this.CB['timeBoBg'],'display','block');\n\t\t\t//时间进度条背景容器\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow: 'hidden',zIndex: 2},this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['timeProgressBg'], cssTemp);\n\t\t\t//加载进度\n\t\t\tcssObj={\n\t\t\t\talign:'left',\n\t\t\t\tvAlign:'top',\n\t\t\t\twidth:1,\n\t\t\t\theight:cssObj['height'],\n\t\t\t\tbackgroundImg:loadBackImg\n\t\t\t};\n\t\t\t//加载进度和时间进度\n\t\t\tif(this.CB['loadProgress'].offsetWidth>1){\n\t\t\t\tcssObj['width']=this.CB['loadProgress'].offsetWidth;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow:'hidden',zIndex:1},this.CB['timeProgressBg']);\n\t\t\tthis.css(this.CB['loadProgress'],cssTemp);\n\t\t\tcssObj['width']=0;\n\t\t\tif(this.CB['timeProgress'].offsetWidth>1 && parseInt(this.css(this.CB['timeButton'],'left'))>0){\n\t\t\t\tcssObj['width']=this.CB['timeProgress'].offsetWidth;\n\t\t\t\t\n\t\t\t}\n\t\t\tcssObj['backgroundImg']=playBackImg;\n\t\t\tcssTemp=this.getEleCss(cssObj,{overflow:'hidden',zIndex:2});\n\t\t\tthis.css(this.CB['timeProgress'],cssTemp);\n\t\t\t//时间进度按钮容器\n\t\t\tcssTemp=this.getEleCss(styleCT['buttonContainer'],{position: 'absolute',overflow: 'hidden',zIndex: 3},this.CB['controlBar']);\n\t\t\tif(this.ckConfig['config']['buttonMode']['timeSchedule']){\n\t\t\t\tcssTemp['cursor']='pointer';\n\t\t\t}\n\t\t\tthis.css(this.CB['timeBoBg'],cssTemp);\n\t\t\t//时间进度按钮\n\t\t\tcssTemp=this.getEleCss(styleCT['button'],{cursor: 'pointer',overflow: 'hidden',zIndex: 4},this.CB['timeBoBg']);\n\t\t\tthis.css(this.CB['timeButton'], cssTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t进间进度条鼠标离开样式\n\t\t*/\n\t\ttimeProgressMouseOut:function(){\n\t\t\tvar styleCT=this.ckStyle['controlBar']['timeSchedule'];\n\t\t\tvar cssObj=this.newObj(styleCT['mouseOut']);\n\t\t\tvar loadBackImg=cssObj['loadProgressImg'],playBackImg=cssObj['playProgressImg'];\n\t\t\tvar cssTemp=null;\n\t\t\tthis.css(this.CB['timeBoBg'],'display','block');\n\t\t\t//时间进度条背景容器\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow: 'hidden',zIndex: 2},this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['timeProgressBg'], cssTemp);\n\t\t\t//加载进度\n\t\t\tcssObj={\n\t\t\t\talign:'left',\n\t\t\t\tvAlign:'top',\n\t\t\t\twidth:1,\n\t\t\t\theight:cssObj['height'],\n\t\t\t\tbackgroundImg:loadBackImg\n\t\t\t};\n\t\t\t//加载进度和时间进度\n\t\t\tif(this.CB['loadProgress'].offsetWidth>1){\n\t\t\t\tcssObj['width']=this.CB['loadProgress'].offsetWidth;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow:'hidden',zIndex:1},this.CB['timeProgressBg']);\n\t\t\tthis.css(this.CB['loadProgress'],cssTemp);\n\t\t\tcssObj['width']=1;\n\t\t\tif(this.CB['timeProgress'].offsetWidth>1 && parseInt(this.css(this.CB['timeButton'],'left'))>0){\n\t\t\t\tcssObj['width']=this.CB['timeProgress'].offsetWidth;\n\t\t\t\tcssObj['backgroundImg']=playBackImg;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(cssObj,{overflow:'hidden',zIndex:2});\n\t\t\tthis.css(this.CB['timeProgress'],cssTemp);\t\t\t\n\t\t\tthis.css(this.CB['timeBoBg'],'display','none');\t\t\t\n\t\t},\n\t\t/*\n\t\t\t统一注册按钮鼠标经过和离开时的切换动作\n\t\t*/\n\t\tbuttonEventFun:function(ele,cssEle){\n\t\t\tvar thisTemp=this;\n\t\t\tvar overFun = function(event) {\n\t\t\t\tthisTemp.css(ele,{\n\t\t\t\t\tbackgroundImage:'url('+cssEle['mouseOver']+')'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptShow(ele);\n\t\t\t};\n\t\t\tvar outFun = function(event) {\n\t\t\t\tthisTemp.css(ele,{\n\t\t\t\t\tbackgroundImage:'url('+cssEle['mouseOut']+')'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t};\n\t\t\toutFun();\n\t\t\tthis.addListenerInside('mouseover', overFun, ele);\n\t\t\tthis.addListenerInside('mouseout', outFun, ele);\n\t\t\tif(!this.isUndefined(cssEle['clickEvent'])){\n\t\t\t\tvar clickFun=function(event){\n\t\t\t\t\tthisTemp.runFunction(cssEle['clickEvent']);\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', clickFun, ele);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化样式用的数字\n\t\t*/\n\t\tformatNumPx:function(str,z){\n\t\t\tif(!str){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(str.toString().indexOf('%')>-1){//说明是根据百分比来计算\n\t\t\t\tif(!this.isUndefined(z)){//如果有值\n\t\t\t\t\treturn parseInt(str)*z*0.01+'px';\n\t\t\t\t}\n\t\t\t\treturn str;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn str+'px';\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化样式用的数字，返回类型必需是数字或百分比\n\t\t*/\n\t\tformatZToNum:function(str,z){\n\t\t\tif(!str){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(str.toString().indexOf('%')>-1){//说明是根据百分比来计算\n\t\t\t\tif(!this.isUndefined(z)){//如果有值\n\t\t\t\t\treturn parseInt(str)*z*0.01;\n\t\t\t\t}\n\t\t\t\treturn str;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn str;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t对对象进行深度复制\n\t\t*/\n\t\tnewObj:function(obj) {\n\t\t\tif(this.isUndefined(obj)){\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t  \tvar str, newobj ={};//constructor 属性返回对创建此对象的数组函数的引用。创建相同类型的空数据\n\t\t  \tif (this.varType(obj) != 'object') {\n\t\t    \treturn obj;\n\t\t  \t}\n\t\t  \telse {\n\t\t    \tfor (var k in obj) {\n\t\t    \t\tif(this.isUndefined(obj[k])){\n\t\t    \t\t\tnewobj[k] = obj[k];\n\t\t    \t\t}\n\t\t    \t\telse{\n\t\t\t      \t\tif(this.varType(obj[k]) == 'object') { //判断对象的这条属性是否为对象\n\t\t\t        \t\tnewobj[k] = this.newObj(obj[k]);//若是对象进行嵌套调用\n\t\t\t      \t\t}\n\t\t\t      \t\telse{\n\t\t\t        \t\tnewobj[k] = obj[k];\n\t\t\t      \t\t}\n\t\t\t      \t}\n\t\t    \t}\n\t\t  \t}\n\t\t  \treturn newobj;//返回深度克隆后的对象\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t统一的显示图片\n\t\t*/\n\t\tloadImgBg:function(eleid,obj){\n\t\t\tthis.css(this.getByElement(eleid),{\n\t\t\t\tbackgroundImage:'url('+obj+')'\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化css\n\t\t\teleObj=样式,\n\t\t\tsupplement=补充样式,\n\t\t\trrEle=参考对象，\n\t\t\t该函数强制使用position定位的元素\n\t\t*/\n\t\tgetEleCss:function(eleObj,supplement,rrEle){\n\t\t\tvar eleName=null;\n\t\t\tvar pdW=this.PD.offsetWidth,pdH=this.PD.offsetHeight;\n\t\t\tif(rrEle){\n\t\t\t\tpdW=rrEle.offsetWidth;\n\t\t\t\tpdH=rrEle.offsetHeight;\n\t\t\t}\n\t\t\tif(this.isUndefined(eleObj)){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\teleName=this.newObj(eleObj);\n\t\t\tvar cssObject={};\n\t\t\tif(!this.isUndefined(eleName['width'])){\n\t\t\t\tcssObject['width']=this.formatZToNum(eleName['width'],pdW)+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['height'])){\n\t\t\t\tcssObject['height']=this.formatZToNum(eleName['height'],pdH)+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['background'])){\n\t\t\t\tvar bg=eleName['background'];\n\t\t\t\tif(!this.isUndefined(bg['backgroundColor'])){\n\t\t\t\t\tcssObject['backgroundColor']=bg['backgroundColor'].replace('0x','#');\n\t\t\t\t}\n\t\t\t\tif(!this.isUndefined(bg['backgroundImg'])){\n\t\t\t\t\tcssObject['backgroundImage']='url('+bg['backgroundImg']+')';\n\t\t\t\t}\n\t\t\t\tif(!this.isUndefined(bg['alpha'])){\n\t\t\t\t\tcssObject['filter']='alpha(opacity:'+bg['alpha']+')';\n\t\t\t\t\tcssObject['opacity']=bg['alpha'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['backgroundColor'])){\n\t\t\t\tcssObject['backgroundColor']=eleName['backgroundColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['backgroundImg'])){\n\t\t\t\tcssObject['backgroundImage']='url('+eleName['backgroundImg']+')';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['color'])){\n\t\t\t\tcssObject['color']=eleName['color'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['font'])){\n\t\t\t\tcssObject['fontFamily']=eleName['font'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['size'])){\n\t\t\t\tcssObject['fontSize']=eleName['size']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['alpha'])){\n\t\t\t\tcssObject['filter']='alpha(opacity:'+eleName['alpha']+')';\n\t\t\t\tcssObject['opacity']=eleName['alpha'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['lineHeight'])){\n\t\t\t\tcssObject['lineHeight']=eleName['lineHeight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['textAlign'])){\n\t\t\t\tcssObject['textAlign']=eleName['textAlign'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderRadius'])){\n\t\t\t\tcssObject['borderRadius']=eleName['borderRadius']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['radius'])){\n\t\t\t\tcssObject['borderRadius']=eleName['radius']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['padding'])){\n\t\t\t\tcssObject['padding']=eleName['padding']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingLeft'])){\n\t\t\t\tcssObject['paddingLeft']=eleName['paddingLeft']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingRight'])){\n\t\t\t\tcssObject['paddingRight']=eleName['paddingRight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingTop'])){\n\t\t\t\tcssObject['paddingTop']=eleName['paddingTop']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingBottom'])){\n\t\t\t\tcssObject['paddingBottom']=eleName['paddingBottom']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['margin'])){\n\t\t\t\tcssObject['margin']=eleName['margin']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginLeft'])){\n\t\t\t\tcssObject['marginLeft']=eleName['marginLeft']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginRight'])){\n\t\t\t\tcssObject['marginRight']=eleName['marginRight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginTop'])){\n\t\t\t\tcssObject['marginTop']=eleName['marginTop']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginBottom'])){\n\t\t\t\tcssObject['marginBottom']=eleName['marginBottom']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['border']) && !this.isUndefined(eleName['borderColor'])){\n\t\t\t\tcssObject['border']=eleName['border']+'px solid '+eleName['borderColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderLeft']) && !this.isUndefined(eleName['borderLeftColor'])){\n\t\t\t\tcssObject['borderLeft']=eleName['borderLeft']+'px solid '+eleName['borderLeftColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderRight']) && !this.isUndefined(eleName['borderRightColor'])){\n\t\t\t\tcssObject['borderRight']=eleName['borderRight']+'px solid '+eleName['borderRightColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderTop']) && !this.isUndefined(eleName['borderTopColor'])){\n\t\t\t\tcssObject['borderTop']=eleName['borderTop']+'px solid '+eleName['borderTopColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderBottom']) && !this.isUndefined(eleName['borderBottomColor'])){\n\t\t\t\tcssObject['borderBottom']=eleName['borderBottom']+'px solid '+eleName['borderBottomColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(supplement)){\n\t\t\t\tfor(var k in supplement){\n\t\t\t\t\tcssObject[k]=supplement[k];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcssObject['position']='absolute';\n\t\t\tvar left=-10000,top=-10000,right=-10000,bottom=-10000;\n\t\t\tvar offsetX=0,offsetY=0;\n\t\t\tif(!this.isUndefined(eleName['offsetX'])){\n\t\t\t\toffsetX=eleName['offsetX'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginX'])){\n\t\t\t\toffsetX=eleName['marginX'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['offsetY'])){\n\t\t\t\toffsetY=eleName['offsetY'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginY'])){\n\t\t\t\toffsetY=eleName['marginY'];\n\t\t\t}\n\t\t\toffsetX=this.formatZToNum(offsetX,pdW);\n\t\t\toffsetY=this.formatZToNum(offsetY,pdH);\n\t\t\tif(!this.isUndefined(eleName['align'])){\n\t\t\t\tleft=0;\n\t\t\t\tswitch (eleName['align']) {\n\t\t\t\t\tcase 'left':\n\t\t\t\t\t\tleft = offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'center':\n\t\t\t\t\t\tleft = pdW * 0.5 + offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\tleft = pdW+offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right2':\n\t\t\t\t\t\tleft = -10000;\n\t\t\t\t\t\tright=offsetX;\n\t\t\t\t\t\tbreak;\t\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['vAlign'])){\n\t\t\t\ttop=0;\n\t\t\t\tswitch (eleName['vAlign']) {\n\t\t\t\t\tcase 'top':\n\t\t\t\t\t\ttop = offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'middle':\n\t\t\t\t\t\ttop=pdH*0.5+offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\ttop =pdH+offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom2':\n\t\t\t\t\t\ttop=-10000;\n\t\t\t\t\t\tbottom =offsetY;\n\t\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(left>-10000){\n\t\t\t\tcssObject['left']=left+'px';\n\t\t\t}\n\t\t\tif(right>-10000){\n\t\t\t\tcssObject['right']=right+'px';\n\t\t\t}\n\t\t\tif(top>-10000){\n\t\t\t\tcssObject['top']=top+'px';\n\t\t\t}\n\t\t\tif(bottom>-10000){\n\t\t\t\tcssObject['bottom']=bottom+'px';\n\t\t\t}\n\t\t\treturn cssObject;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t创建按钮，使用canvas画布\n\t\t*/\n\t\tnewCanvas: function(id, width, height) {\n\t\t\treturn '<canvas class=\"' + id + '-canvas\" width=\"' + width + '\" height=\"' + height + '\"></canvas>';\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册按钮，音量调节框，进度操作框事件\n\t\t*/\n\t\taddButtonEvent: function() {\n\t\t\tvar thisTemp = this;\n\t\t\t//定义按钮的单击事件\n\t\t\t\n\t\t\t//定义各个按钮的鼠标经过/离开事件\n\t\t\tvar promptHide = function(event) {\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t};\n\t\t\tvar definitionOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['definition']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', definitionOver, this.CB['definition']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['definition']);\n\t\t\tvar playbackrateOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['playbackrate']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', playbackrateOver, this.CB['playbackrate']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['playbackrate']);\n\t\t\tvar subtitlesOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['subtitles']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', subtitlesOver, this.CB['subtitles']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['subtitles']);\n\t\t\t//定义音量和进度按钮的滑块事件\n\t\t\tvar volumePrompt = function(vol) {\n\t\t\t\tvar volumeBOXY = thisTemp.getCoor(thisTemp.CB['volumeBO']);\n\t\t\t\tvar promptObj = {\n\t\t\t\t\ttitle:thisTemp.ckLanguage['volumeSliderOver'].replace('[$volume]',vol),\n\t\t\t\t\tx: volumeBOXY['x'] + thisTemp.CB['volumeBO'].offsetWidth * 0.5,\n\t\t\t\t\ty: volumeBOXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, promptObj);\n\t\t\t};\n\t\t\tvar volumeObj = {\n\t\t\t\tslider: this.CB['volumeBO'],\n\t\t\t\tfollow: this.CB['volumeUp'],\n\t\t\t\trefer: this.CB['volumeBg'],\n\t\t\t\tgrossValue: 'volume',\n\t\t\t\tpd: true,\n\t\t\t\tstartFun: function(vol) {},\n\t\t\t\tmonitorFun: function(vol) {\n\t\t\t\t\tthisTemp.changeVolume(vol * 0.01, false, false);\n\t\t\t\t\tvolumePrompt(vol);\n\t\t\t\t},\n\t\t\t\tendFun: function(vol) {},\n\t\t\t\toverFun: function(vol) {\n\t\t\t\t\tvolumePrompt(vol);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.slider(volumeObj);\n\t\t\tvar volumeClickObj = {\n\t\t\t\trefer: this.CB['volumeBg'],\n\t\t\t\tgrossValue: 'volume',\n\t\t\t\tfun: function(vol) {\n\t\t\t\t\tthisTemp.changeVolume(vol * 0.01, true, true);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.progressClick(volumeClickObj);\n\t\t\tthis.timeButtonMouseDown(); //用单击的函数来判断是否需要建立控制栏监听\n\t\t\t//鼠标经过/离开音量调节框时的\n\t\t\tvar volumeBgMove = function(event) {\n\t\t\t\tvar volumeBgXY = thisTemp.getCoor(thisTemp.CB['volumeBg']);\n\t\t\t\tvar eventX = thisTemp.client(event)['x'];\n\t\t\t\tvar eventVolume = parseInt((eventX - volumeBgXY['x']) * 100 / thisTemp.CB['volumeBg'].offsetWidth);\n\t\t\t\tvar buttonPromptObj = {\n\t\t\t\t\ttitle:thisTemp.ckLanguage['volumeSliderOver'].replace('[$volume]',eventVolume),\n\t\t\t\t\tx: eventX,\n\t\t\t\t\ty: volumeBgXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, buttonPromptObj);\n\t\t\t};\n\t\t\tthis.addListenerInside('mousemove', volumeBgMove, this.CB['volumeBg']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['volumeBg']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['volumeBO']);\n\t\t\t//注册清晰度相关事件\n\t\t\tthis.addDefListener();\n\t\t\t//注册倍速相关事件\n\t\t\tthis.addPlaybackrate();\n\t\t\t//注册多字幕事件\n\t\t\tthis.addSubtitles();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册单击视频动作\n\t\t*/\n\t\tvideoClick: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar clearTimerClick = function() {\n\t\t\t\tif (thisTemp.timerClick != null) {\n\t\t\t\t\tif (thisTemp.timerClick.runing) {\n\t\t\t\t\t\tthisTemp.timerClick.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerClick = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timerClickFun = function() {\n\t\t\t\tclearTimerClick();\n\t\t\t\tthisTemp.isClick = false;\n\t\t\t\tthisTemp.sendJS('videoClick',thisTemp.videoClickXy);\n\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\tvar ad = thisTemp.getNowAdvertisements();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (ad['link'] != '') {\n\t\t\t\t\t\t\twindow.open(ad['link']);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.ckConfig['config']['click']) {\n\t\t\t\t\t\tthisTemp.playOrPause();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t};\n\t\t\tclearTimerClick();\n\t\t\tif (this.isClick) {\n\t\t\t\tthis.isClick = false;\n\t\t\t\tthisTemp.sendJS('videoDoubleClick',thisTemp.videoClickXy);\n\t\t\t\tif (thisTemp.ckConfig['config']['doubleClick']) {\n\t\t\t\t\tif (!this.full) {\n\t\t\t\t\t\tthisTemp.fullScreen();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthisTemp.quitFullScreen();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tthis.isClick = true;\n\t\t\t\tthis.timerClick = new this.timer(300, timerClickFun, 1)\n\t\t\t\t//this.timerClick.start();\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册鼠标经过进度滑块的事件\n\t\t*/\n\t\ttimeButtonMouseDown: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar timePrompt = function(time) {\n\t\t\t\tif (isNaN(time)) {\n\t\t\t\t\ttime = 0;\n\t\t\t\t}\n\t\t\t\tvar timeButtonXY = thisTemp.getCoor(thisTemp.CB['timeButton']);\n\t\t\t\tvar promptObj = {\n\t\t\t\t\ttitle: thisTemp.formatTime(time,0,thisTemp.ckLanguage['timeSliderOver']),\n\t\t\t\t\tx: timeButtonXY['x'] - thisTemp.pdCoor['x'] + thisTemp.CB['timeButton'].offsetWidth * 0.5,\n\t\t\t\t\ty: timeButtonXY['y'] - thisTemp.pdCoor['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, promptObj);\n\t\t\t};\n\t\t\tvar timeObj = {\n\t\t\t\tslider: this.CB['timeButton'],\n\t\t\t\tfollow: this.CB['timeProgress'],\n\t\t\t\trefer: this.CB['timeBoBg'],\n\t\t\t\tgrossValue: 'time',\n\t\t\t\tpd: false,\n\t\t\t\tstartFun: function(time) {\n\t\t\t\t\tthisTemp.isTimeButtonMove = false;\n\t\t\t\t},\n\t\t\t\tmonitorFun: function(time) {},\n\t\t\t\tendFun: function(time) {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tif (thisTemp.V.duration > 0) {\n\t\t\t\t\t\t\tthisTemp.needSeek = 0;\n\t\t\t\t\t\t\tthisTemp.videoSeek(parseInt(time));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\toverFun: function(time) {\n\t\t\t\t\ttimePrompt(time);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timeClickObj = {\n\t\t\t\trefer: this.CB['timeBoBg'],\n\t\t\t\tgrossValue: 'time',\n\t\t\t\tfun: function(time) {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tif (thisTemp.V.duration > 0) {\n\t\t\t\t\t\t\tthisTemp.needSeek = 0;\n\t\t\t\t\t\t\tthisTemp.videoSeek(parseInt(time));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timeBoBgmousemove = function(event) {\n\t\t\t\tvar timeBoBgXY = thisTemp.getCoor(thisTemp.CB['timeBoBg']);\n\t\t\t\tvar eventX = thisTemp.client(event)['x'];\n\t\t\t\tvar duration=thisTemp.V.duration;\n\t\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\t\tduration = thisTemp.vars['duration'];\n\t\t\t\t}\n\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t}\n\t\t\t\tvar eventTime = parseInt((eventX - timeBoBgXY['x']) * duration / thisTemp.CB['timeBoBg'].offsetWidth);\n\t\t\t\tvar buttonPromptObj = {\n\t\t\t\t\ttitle: thisTemp.formatTime(eventTime,0,thisTemp.ckLanguage['timeSliderOver']),\n\t\t\t\t\tx: eventX,\n\t\t\t\t\ty: timeBoBgXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, buttonPromptObj);\n\t\t\t\tvar def = false;\n\t\t\t\tif (!thisTemp.isUndefined(thisTemp.CB['definitionP'])) {\n\t\t\t\t\tif (thisTemp.css(thisTemp.CB['definitionP'], 'display') != 'block') {\n\t\t\t\t\t\tdef = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (thisTemp.vars['preview'] != null && def) {\n\t\t\t\t\tbuttonPromptObj['time'] = eventTime;\n\t\t\t\t\tthisTemp.preview(buttonPromptObj);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar promptHide = function(event) {\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\tif (thisTemp.previewDiv != null) {\n\t\t\t\t\tthisTemp.css([thisTemp.previewDiv, thisTemp.previewTop], 'display', 'none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (!this.vars['live']) { //如果不是直播\n\t\t\t\tthis.isTimeButtonDown = true;\n\t\t\t\tthis.addListenerInside('mousemove', timeBoBgmousemove, this.CB['timeBoBg']);\n\t\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['timeBoBg']);\n\t\t\t} else {\n\t\t\t\tthis.isTimeButtonDown = false;\n\t\t\t\ttimeObj['removeListenerInside'] = true;\n\t\t\t\ttimeClickObj['removeListenerInside'] = true;\n\t\t\t}\n\t\t\tthis.slider(timeObj);\n\t\t\tthis.progressClick(timeClickObj);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册调节框上单击事件，包含音量调节框和播放时度调节框\n\t\t*/\n\t\tprogressClick: function(obj) {\n\t\t\t/*\n\t\t\t\trefer:参考对象\n\t\t\t\tfun:返回函数\n\t\t\t\trefer:参考元素，即背景\n\t\t\t\tgrossValue:调用的参考值类型\n\t\t\t\tpd:\n\t\t\t*/\n\t\t\t//建立参考元素的mouseClick事件，用来做为鼠标在其上按下时触发的状态\n\t\t\tvar thisTemp = this;\n\t\t\tvar referMouseClick = function(event) {\n\t\t\t\tvar referX = thisTemp.client(event)['x'] - thisTemp.getCoor(obj['refer'])['x'];\n\t\t\t\tvar rWidth = obj['refer'].offsetWidth;\n\t\t\t\tvar grossValue = 0;\n\t\t\t\tif (obj['grossValue'] == 'volume') {\n\t\t\t\t\tgrossValue = 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tgrossValue = thisTemp.V.duration;\n\t\t\t\t\t\tif (isNaN(grossValue) || parseInt(grossValue) < 0.2) {\n\t\t\t\t\t\t\tgrossValue = thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\t\tgrossValue=thisTemp.vars['forceduration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar nowZ = parseInt(referX * grossValue / rWidth);\n\t\t\t\tif (obj['fun']) {\n\t\t\t\t\tif (obj['grossValue'] === 'time') {\n\t\t\t\t\t\tvar sliderXY = thisTemp.getCoor(thisTemp.CB['timeButton']);\n\t\t\t\t\t\tsliderLeft = sliderXY['x'];\n\t\t\t\t\t\tif (!thisTemp.checkSlideLeft(referX, sliderLeft, rWidth)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar bimeButtonWB = thisTemp.CB['timeButton'].offsetWidth * 0.5;\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['timeButton'], 'left', (referX - bimeButtonWB) + 'px');\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['timeProgress'], 'width', (referX) + 'px');\n\t\t\t\t\t}\n\t\t\t\t\tobj['fun'](nowZ);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (this.isUndefined(obj['removeListenerInside'])) {\n\t\t\t\tthis.addListenerInside('click', referMouseClick, obj['refer']);\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('click', referMouseClick, obj['refer']);\n\t\t\t}\n\n\t\t},\n\n\t\t/*\n\t\t\t内部函数\n\t\t\t共用的注册滑块事件\n\t\t*/\n\t\tslider: function(obj) {\n\t\t\t/*\n\t\t\t\tobj={\n\t\t\t\t\tslider:滑块元素\n\t\t\t\t\tfollow:跟随滑块的元素\n\t\t\t\t\trefer:参考元素，即背景\n\t\t\t\t\tgrossValue:调用的参考值类型\n\t\t\t\t\tstartFun:开始调用的元素\n\t\t\t\t\tmonitorFun:监听函数\n\t\t\t\t\tendFun:结束调用的函数\n\t\t\t\t\toverFun:鼠标放上去后调用的函数\n\t\t\t\t\tpd:是否需要修正\n\t\t\t\t}\n\t\t\t*/\n\t\t\tvar thisTemp = this;\n\t\t\tvar clientX = 0,\n\t\t\tcriterionWidth = 0,\n\t\t\tsliderLeft = 0,\n\t\t\treferLeft = 0;\n\t\t\tvar value = 0;\n\t\t\tvar calculation = function() { //根据滑块的left计算百分比\n\t\t\t\tvar sLeft = parseInt(thisTemp.css(obj['slider'], 'left'));\n\t\t\t\tvar rWidth = obj['refer'].offsetWidth - obj['slider'].offsetWidth;\n\t\t\t\tvar grossValue = 0;\n\t\t\t\tif (thisTemp.isUndefined(sLeft) || isNaN(sLeft)) {\n\t\t\t\t\tsLeft = 0;\n\t\t\t\t}\n\t\t\t\tif (obj['grossValue'] == 'volume') {\n\t\t\t\t\tgrossValue = 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tgrossValue = thisTemp.V.duration;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn parseInt(sLeft * grossValue / rWidth);\n\t\t\t};\n\t\t\tvar mDown = function(event) {\n\t\t\t\tthisTemp.addListenerInside('mousemove', mMove, document);\n\t\t\t\tthisTemp.addListenerInside('mouseup', mUp, document);\n\t\t\t\tvar referXY = thisTemp.getCoor(obj['refer']);\n\t\t\t\tvar sliderXY = thisTemp.getCoor(obj['slider']);\n\t\t\t\tclientX = thisTemp.client(event)['x'];\n\t\t\t\treferLeft = referXY['x'];\n\t\t\t\tsliderLeft = sliderXY['x'];\n\t\t\t\tcriterionWidth = clientX - sliderLeft;\n\t\t\t\tif (obj['startFun']) {\n\t\t\t\t\tobj['startFun'](calculation());\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mMove = function(event) {\n\t\t\t\tclientX = thisTemp.client(event)['x'];\n\t\t\t\tvar newX = clientX - criterionWidth - referLeft;\n\t\t\t\tif (newX < 0) {\n\t\t\t\t\tnewX = 0;\n\t\t\t\t}\n\t\t\t\tif (newX > obj['refer'].offsetWidth - obj['slider'].offsetWidth) {\n\t\t\t\t\tnewX = obj['refer'].offsetWidth - obj['slider'].offsetWidth;\n\t\t\t\t}\n\t\t\t\tif (obj['slider'] === thisTemp.CB['timeButton']) {\n\t\t\t\t\tif (!thisTemp.checkSlideLeft(newX, sliderLeft, obj['refer'].offsetWidth)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisTemp.css(obj['slider'], 'left', newX + 'px');\n\t\t\t\tthisTemp.css(obj['follow'], 'width', (newX + obj['slider'].offsetWidth * 0.5) + 'px');\n\t\t\t\tvar nowZ = calculation();\n\t\t\t\tif (obj['monitorFun']) {\n\t\t\t\t\tobj['monitorFun'](nowZ);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mUp = function(event) {\n\t\t\t\tthisTemp.removeListenerInside('mousemove', mMove, document);\n\t\t\t\tthisTemp.removeListenerInside('mouseup', mUp, document);\n\t\t\t\tif (obj['endFun']) {\n\t\t\t\t\tobj['endFun'](calculation());\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mOver = function(event) {\n\t\t\t\tif (obj['overFun']) {\n\t\t\t\t\tobj['overFun'](calculation());\n\t\t\t\t}\n\n\t\t\t};\n\t\t\tif (this.isUndefined(obj['removeListenerInside'])) {\n\t\t\t\tthis.addListenerInside('mousedown', mDown, obj['slider']);\n\t\t\t\tthis.addListenerInside('mouseover', mOver, obj['slider']);\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('mousedown', mDown, obj['slider']);\n\t\t\t\tthis.removeListenerInside('mouseover', mOver, obj['slider']);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否可以拖动进度按钮或点击进度栏\n\t\t*/\n\t\tcheckSlideLeft: function(newX, sliderLeft, refer) {\n\t\t\tvar timeSA = this.ckConfig['config']['timeScheduleAdjust'];\n\t\t\tswitch (timeSA) {\n\t\t\tcase 0:\n\t\t\t\treturn false;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tif (newX < sliderLeft) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tif (newX > sliderLeft) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tif (!this.timeSliderLeftTemp) {\n\t\t\t\t\tthis.timeSliderLeftTemp = sliderLeft / refer;\n\t\t\t\t}\n\t\t\t\tif (newX < this.timeSliderLeftTemp * refer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tif (!this.timeSliderLeftTemp) {\n\t\t\t\t\tthis.timeSliderLeftTemp = sliderLeft / refer;\n\t\t\t\t} else {\n\t\t\t\t\tvar timeSliderMax = sliderLeft / refer;\n\t\t\t\t\tif (timeSliderMax > this.timeSliderLeftTemp) {\n\t\t\t\t\t\tthis.timeSliderLeftTemp = timeSliderMax;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (newX > this.timeSliderLeftTemp * refer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示loading\n\t\t*/\n\t\tloadingStart: function(rot) {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.isUndefined(rot)) {\n\t\t\t\trot = true;\n\t\t\t}\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.css(thisTemp.CB['loading'], 'display', 'none');\n\t\t\t\tthis.loadingShow=false;\n\t\t\t}\n\t\t\tvar buffer = 0;\n\t\t\tif (rot) {\n\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\tthis.css(thisTemp.CB['loading'], 'display', 'block');\n\t\t\t\t\tthis.loadingShow=true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthisTemp.sendJS('buffer', 100);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示提示语\n\t\t*/\n\t\tpromptShow: function(ele, data) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar obj = {};\n\t\t\tvar eleTitle='';\n\t\t\tif(!this.isUndefined(ele)){\n\t\t\t\teleTitle=this.getDataset(ele, 'title');\n\t\t\t\tif(this.isUndefined(eleTitle)){\n\t\t\t\t\tele=null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ele || data) {\n\t\t\t\tif (!this.isUndefined(data)) {\n\t\t\t\t\tobj = data;\n\t\t\t\t} else {\n\t\t\t\t\tvar offsetCoor = this.getCoor(ele);\n\t\t\t\t\tobj = {\n\t\t\t\t\t\ttitle: eleTitle,\n\t\t\t\t\t\tx: offsetCoor['x'] + ele.offsetWidth * 0.5,\n\t\t\t\t\t\ty: offsetCoor['y']\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthis.CB['prompt'].innerHTML = obj['title'];\n\t\t\t\tthis.css(this.CB['prompt'], 'display', 'block');\n\t\t\t\tvar promptStye=this.ckStyle['prompt'];\n\t\t\t\tvar promoptWidth=this.CB['prompt'].offsetWidth,promoptHeight=this.CB['prompt'].offsetHeight;\n\t\t\t\tthis.css(this.CB['promptBg'], {width:promoptWidth + 'px',height:promoptHeight+'px'});\n\t\t\t\tvar x = obj['x'] - (promoptWidth * 0.5);\n\t\t\t\tvar y = obj['y'] - this.CB['prompt'].offsetHeight-promptStye['marginBottom']-promptStye['triangleHeight'];\n\t\t\t\tif (x < 0) {\n\t\t\t\t\tx = 0;\n\t\t\t\t}\n\t\t\t\tif (x > this.PD.offsetWidth - promoptWidth) {\n\t\t\t\t\tx = this.PD.offsetWidth - promoptWidth;\n\t\t\t\t}\n\t\t\t\tthis.css([this.CB['promptBg'], this.CB['prompt']], {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\ttop: y + 'px'\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['promptTriangle'], {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tleft: x+(promoptWidth-promptStye['triangleWidth'])*0.5+parseInt(promptStye['triangleDeviationX']) + 'px',\n\t\t\t\t\ttop: y +promoptHeight+ 'px'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.css([this.CB['promptBg'], this.CB['prompt'],this.CB['promptTriangle']], {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听错误\n\t\t*/\n\t\ttimerErrorFun: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.errorSend = false;\n\t\t\tvar clearIntervalError = function(event) {\n\t\t\t\tif (thisTemp.timerError != null) {\n\t\t\t\t\tif (thisTemp.timerError.runing) {\n\t\t\t\t\t\tthisTemp.timerError.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerError = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar errorFun = function(event) {\n\t\t\t\tclearIntervalError();\n\t\t\t\tthisTemp.error = true;\n\t\t\t\t//提取错误播放地址\n\t\t\t\tthisTemp.errorUrl = thisTemp.getVideoUrl();\n\t\t\t\t//提取错误播放地址结束\n\t\t\t\tif (!thisTemp.errorSend) {\n\t\t\t\t\tthisTemp.errorSend = true;\n\t\t\t\t\tthisTemp.sendJS('error');\n\t\t\t\t}\n\t\t\t\tif (thisTemp.conBarShow) {\n\t\t\t\t\tthisTemp.CB['errorText'].innerHTML=thisTemp.ckLanguage['error']['streamNotFound'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['errorText'], 'display', 'block');\n\t\t\t\t\tthisTemp.css([thisTemp.CB['pauseCenter'],thisTemp.CB['loading']], 'display', 'none');\n\t\t\t\t}\n\t\t\t\tthisTemp.V.removeAttribute('poster');\n\t\t\t\tthisTemp.resetPlayer();\n\t\t\t};\n\t\t\tvar errorListenerFun = function(event) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif (isNaN(thisTemp.V.duration)) {\n\t\t\t\t\t\terrorFun(event);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tif (!this.errorAdd) {\n\t\t\t\tthis.errorAdd = true;\n\t\t\t\tthis.addListenerInside('error', errorListenerFun);\n\t\t\t}\n\t\t\tclearIntervalError();\n\t\t\tvar timerErrorFun = function() {\n\t\t\t\tif (thisTemp.V && parseInt(thisTemp.V.networkState) == 3) {\n\t\t\t\t\terrorFun();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerError = new this.timer(this.ckConfig['config']['errorTime'], timerErrorFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建判断全屏还是非全屏的判断\n\t\t*/\n\t\tjudgeFullScreen: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.timerFull != null) {\n\t\t\t\tif (this.timerFull.runing) {\n\t\t\t\t\tthis.timerFull.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerFull = null;\n\t\t\t}\n\t\t\tvar fullFun = function() {\n\t\t\t\tthisTemp.isFullScreen();\n\t\t\t};\n\t\t\tthis.timerFull = new this.timer(20, fullFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否是全屏\n\t\t*/\n\t\tisFullScreen: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fullState = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement;\n\t\t\tif (fullState && !this.full) {\n\t\t\t\tthis.full = true;\n\t\t\t\tthis.sendJS('full', true);\n\t\t\t\tthis.elementCoordinate();\n\t\t\t\tthis.carbarButton();\n\t\t\t\tthis.customCoor();//控制栏自定义元件\n\t\t\t\tthis.css(this.CB['full'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['escFull'], 'display', 'block');\n\t\t\t\tif (this.vars['live'] == 0) {\n\t\t\t\t\tthis.timeUpdateHandler();\n\t\t\t\t}\n\t\t\t\tthis.PD.appendChild(this.CB['menu']);\n\t\t\t}\n\t\t\tif (!fullState && this.full) {\n\t\t\t\tthis.full = false;\n\t\t\t\tthis.sendJS('full', false);\n\t\t\t\tthis.elementCoordinate();\n\t\t\t\tthis.carbarButton();\n\t\t\t\tthis.customCoor();//控制栏自定义元件\n\t\t\t\tthis.css(this.CB['full'], 'display', 'block');\n\t\t\t\tthis.css(this.CB['escFull'], 'display', 'none');\n\t\t\t\tif (this.timerFull != null) {\n\t\t\t\t\tif (this.timerFull.runing) {\n\t\t\t\t\t\tthis.timerFull.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthis.timerFull = null;\n\t\t\t\t}\n\t\t\t\tif (this.vars['live'] == 0) {\n\t\t\t\t\tthis.timeUpdateHandler();\n\t\t\t\t}\n\t\t\t\tthis.body.appendChild(this.CB['menu']);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建右键内容及注册相关动作事件\n\t\t*/\n\t\tnewMenu: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar i = 0;\n\t\t\tthis.css(this.CB['menu'], {\n\t\t\t\tbackgroundColor: '#FFFFFF',\n\t\t\t\tpadding: '5px',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tleft: '10px',\n\t\t\t\ttop: '20px',\n\t\t\t\tdisplay: 'none',\n\t\t\t\tzIndex: '999',\n\t\t\t\tcolor: '#A1A9BE',\n\t\t\t\tboxShadow: '2px 2px 3px #AAAAAA'\n\t\t\t});\n\t\t\tvar mArr = this.contextMenu;\n\t\t\tvar cMenu = this.ckConfig['menu'];\n\t\t\tif (cMenu['name']) {\n\t\t\t\tif (cMenu['link']) {\n\t\t\t\t\tmArr[0] = [cMenu['name'], 'link', cMenu['link']];\n\t\t\t\t} else {\n\t\t\t\t\tmArr[0] = [cMenu['name'], 'default'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (cMenu['version']) {\n\t\t\t\tmArr[1] = [cMenu['version'], 'default', 'line'];\n\t\t\t}\n\t\t\tif (cMenu['more']) {\n\t\t\t\tif (this.varType(cMenu['more']) == 'array') {\n\t\t\t\t\tif (cMenu['more'].length > 0) {\n\t\t\t\t\t\tvar moreArr = cMenu['more'];\n\t\t\t\t\t\tfor (i = 0; i < moreArr.length; i++) {\n\t\t\t\t\t\t\tvar mTemp = moreArr[i];\n\t\t\t\t\t\t\tvar arrTemp = [];\n\t\t\t\t\t\t\tif (mTemp['name']) {\n\t\t\t\t\t\t\t\tarrTemp.push(mTemp['name']);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (mTemp['clickEvent'] && mTemp['clickEvent'] != 'none') {\n\t\t\t\t\t\t\t\tvar eveObj = this.clickEvent(mTemp['clickEvent']);\n\t\t\t\t\t\t\t\tarrTemp.push(eveObj['type']);\n\t\t\t\t\t\t\t\tif (eveObj['fun']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(eveObj['fun']);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (eveObj['link']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(eveObj['link']);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (eveObj['target']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(' target=\"' + eveObj['target'] + '\"');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (mTemp['separatorBefore']) {\n\t\t\t\t\t\t\t\tarrTemp.push('line');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmArr.push(arrTemp);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar html = '';\n\t\t\tfor (i = 0; i < mArr.length; i++) {\n\t\t\t\tvar me = mArr[i];\n\t\t\t\tswitch (me[1]) {\n\t\t\t\tcase 'default':\n\t\t\t\t\thtml += '<p>' + me[0] + '</p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'link':\n\t\t\t\t\tif (me[3]) {\n\t\t\t\t\t\tme[3] = 'target=\"' + me[3] + '\"';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '<p><a href=\"' + me[2] + '\"' + me[3] + '>' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javaScript':\n\t\t\t\t\thtml += '<p><a href=\"javascript:' + me[2] + '\">' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'actionScript':\n\t\t\t\t\thtml += '<p><a href=\"javascript:' + this.vars['variable'] + me[2].replace('thisTemp', '') + '\">' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.CB['menu'].innerHTML = html;\n\t\t\tvar pArr = this.CB['menu'].childNodes;\n\t\t\tfor (i = 0; i < pArr.length; i++) {\n\t\t\t\tthis.css(pArr[i], {\n\t\t\t\t\theight: '30px',\n\t\t\t\t\tlineHeight: '30px',\n\t\t\t\t\tmargin: '0px',\n\t\t\t\t\tfontFamily: this.fontFamily,\n\t\t\t\t\tfontSize: '12px',\n\t\t\t\t\tpaddingLeft: '10px',\n\t\t\t\t\tpaddingRight: '30px'\n\t\t\t\t});\n\t\t\t\tif (mArr[i][mArr[i].length - 1] == 'line') {\n\t\t\t\t\tthis.css(pArr[i], 'borderBottom', '1px solid #e9e9e9');\n\t\t\t\t}\n\t\t\t\tvar aArr = pArr[i].childNodes;\n\t\t\t\tfor (var n = 0; n < aArr.length; n++) {\n\t\t\t\t\tif (aArr[n].localName == 'a') {\n\t\t\t\t\t\tthis.css(aArr[n], {\n\t\t\t\t\t\t\tcolor: '#000000',\n\t\t\t\t\t\t\ttextDecoration: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.PD.oncontextmenu = function(event) {\n\t\t\t\tvar eve = event || window.event;\n\t\t\t\tvar client = thisTemp.client(event);\n\t\t\t\tif (eve.button == 2) {\n\t\t\t\t\teve.returnvalue = false;\n\t\t\t\t\tvar x = client['x'] + thisTemp.pdCoor['x'] - 2;\n\t\t\t\t\tvar y = client['y'] + thisTemp.pdCoor['y'] - 2;\n\t\t\t\t\tthisTemp.css(thisTemp.CB['menu'], {\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\t\ttop: y + 'px'\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tvar setTimeOutPClose = function() {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar mouseOut = function(event) {\n\t\t\t\tsetTimeOutPClose();\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['menu'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', mouseOut, thisTemp.CB['menu']);\n\t\t\tvar mouseOver = function(event) {\n\t\t\t\tsetTimeOutPClose();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', mouseOver, thisTemp.CB['menu']);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建控制栏隐藏事件\n\t\t*/\n\t\tcontrolBarHide: function(hide) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar client = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t},\n\t\t\toldClient = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t\tvar cShow = true,\n\t\t\tforce = false;\n\t\t\tvar oldCoor = [0, 0];\n\t\t\tvar controlBarShow = function(show) {\n\t\t\t\tif (show && !cShow && thisTemp.controlBarIsShow) {\n\t\t\t\t\tcShow = true;\n\t\t\t\t\tthisTemp.sendJS('controlBar', true);\n\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBarBg'], 'display', 'block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBar'], 'display', 'block');\n\t\t\t\t\tthisTemp.timeProgressDefault();\n\t\t\t\t\t//thisTemp.css(thisTemp.CB['timeProgressBg'], 'display', 'block');\n\t\t\t\t\t//thisTemp.css(thisTemp.CB['timeBoBg'], 'display', 'block');\n\t\t\t\t\tthisTemp.changeVolume(thisTemp.volume);\n\t\t\t\t\tthisTemp.changeLoad();\n\t\t\t\t\tif (!thisTemp.timerBuffer) {\n\t\t\t\t\t\tthisTemp.bufferEdHandler();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (cShow) {\n\t\t\t\t\t\tcShow = false;\n\t\t\t\t\t\tvar paused = thisTemp.getMetaDate()['paused'];\n\t\t\t\t\t\tif (force) {\n\t\t\t\t\t\t\tpaused = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!paused) {\n\t\t\t\t\t\t\tthisTemp.sendJS('controlBar', false);\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBarBg'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBar'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.promptShow(false);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisTemp.videoCss();//计算video的宽高和位置\n\t\t\t};\n\t\t\tvar cbarFun = function(event) {\n\t\t\t\tif (client['x'] == oldClient['x'] && client['y'] == oldClient['y']) {\n\t\t\t\t\tvar cdH = parseInt(thisTemp.CD.offsetHeight);\n\t\t\t\t\tif ((client['y'] < cdH - 50 || client['y'] > cdH - 2) && cShow && !thisTemp.getMetaDate()['paused']) {\n\t\t\t\t\t\tcontrolBarShow(false);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!cShow) {\n\t\t\t\t\t\tcontrolBarShow(true);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\toldClient = {\n\t\t\t\t\tx: client['x'],\n\t\t\t\t\ty: client['y']\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerCBar = new this.timer(2000, cbarFun);\n\t\t\tvar cdMove = function(event) {\n\t\t\t\tvar getClient = thisTemp.client(event);\n\t\t\t\tclient['x'] = getClient['x'];\n\t\t\t\tclient['y'] = getClient['y'];\n\t\t\t\tif (!cShow) {\n\t\t\t\t\tcontrolBarShow(true);\n\t\t\t\t}\n\t\t\t\tthisTemp.sendJS('mouse',client);\n\t\t\t};\n\t\t\tthis.addListenerInside('mousemove', cdMove, thisTemp.CD);\n\t\t\tthis.addListenerInside('ended', cdMove);\n\t\t\tthis.addListenerInside('resize', cdMove, window);\n\t\t\tif (hide === true) {\n\t\t\t\tcShow = true;\n\t\t\t\tforce = true;\n\t\t\t\tcontrolBarShow(false);\n\t\t\t}\n\t\t\tif (hide === false) {\n\t\t\t\tcShow = false;\n\t\t\t\tforce = true;\n\t\t\t\tcontrolBarShow(true);\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册键盘按键事件\n\t\t*/\n\t\tkeypress: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar keyDown = function(eve) {\n\t\t\t\tvar keycode = eve.keyCode || eve.which;\n\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tswitch (keycode) {\n\t\t\t\t\tcase 32:\n\t\t\t\t\t\tthisTemp.playOrPause();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 37:\n\t\t\t\t\t\tthisTemp.fastBack();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 39:\n\t\t\t\t\t\tthisTemp.fastNext();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 38:\n\t\t\t\t\t\tnow = thisTemp.volume + thisTemp.ckConfig['config']['volumeJump'];\n\t\t\t\t\t\tthisTemp.changeVolume(now > 1 ? 1 : now);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 40:\n\t\t\t\t\t\tnow = thisTemp.volume - thisTemp.ckConfig['config']['volumeJump'];\n\t\t\t\t\t\tthisTemp.changeVolume(now < 0 ? 0 : now);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('keydown', keyDown, window || document);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册倍速相关\n\t\t*/\n\t\tplaybackRate: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['playbackRate']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['playbackrate'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar thisTemp = this;\n\t\t\tvar dArr = this.playbackRateArr;\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的倍速\n\t\t\tvar i = 0,nowI=0;\n\t\t\tnowD = dArr[this.playbackRateDefault][1];\n\t\t\tnowI=this.playbackRateDefault;\n\t\t\tthis.removeChildAll(this.CB['playbackrateP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['playbackratePB']=document.createElement('div'),this.CB['playbackratePC']=document.createElement('div');\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackratePB']);\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackratePC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['playbackratePC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['playbackrateP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['playbackratePB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i][1];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['playbackrateP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['playbackrateP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['playbackratePC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['playbackratePC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar subClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newPlaybackrate(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', subClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['playbackrateTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackrateTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['playbackrateTriangle'],cssTemp);\n\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = nowD;\n\t\t\t} else {\n\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = this.ckLanguage['playbackrate'];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册切换倍速播放相关事件\n\t\t*/\n\t\taddPlaybackrate: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['playbackrateP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['playbackratePC'])){\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'],'display','block');\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['playbackrate']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackratePB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['playbackratePC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['playbackratePC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['playbackratePC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['playbackratePC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['playbackratePB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['playbackrate']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['playbackrateP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['playbackrateP']);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t切换倍速后发生的动作\n\t\t*/\n\t\tnewPlaybackrate: function(title) {\n\t\t\tvar vArr = this.playbackRateArr;\n\t\t\tvar nVArr = [];\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[1] == title) {\n\t\t\t\t\tthis.playbackRateDefault = i;\n\t\t\t\t\tthis.V.playbackRate = v[0];\n\t\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = v[1];\n\t\t\t\t\t\tthis.playbackRate();\n\t\t\t\t\t}\n\t\t\t\t\tthis.sendJS('playbackRate', v);\n\t\t\t\t\tthis.playbackRateTemp=v[0];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册多字幕切换相关\n\t\t*/\n\t\tsubtitleSwitch: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['subtitle']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar dArr = this.vars['cktrack'];//字幕数组\n\t\t\tif(this.varType(dArr)!='array'){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(dArr[0][1]==''){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['subtitle'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的字幕\n\t\t\tvar i = 0,nowI=0;\n\t\t\t\n\t\t\tif(this.subtitlesTemp==-1 && dArr.length>0){\n\t\t\t\tthis.subtitlesTemp=dArr.length-1;\n\t\t\t}\n\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\tif(this.subtitlesTemp==i){\n\t\t\t\t\tnowD=dArr[i][1];\n\t\t\t\t\tnowI=i;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!nowD) {\n\t\t\t\tnowD = dArr[0][1];\n\t\t\t}\n\t\t\tthis.removeChildAll(this.CB['subtitlesP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['subtitlesPB']=document.createElement('div'),this.CB['subtitlesPC']=document.createElement('div');\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesPB']);\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesPC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['subtitlesPC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['subtitlesP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['subtitlesPB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i][1];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['subtitlesP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['subtitlesP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['subtitlesPC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['subtitlesPC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar subClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newSubtitles(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', subClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['subtitlesTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['subtitlesTriangle'],cssTemp);\n\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = nowD;\n\t\t\t} else {\n\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = this.ckLanguage['subtitle'];\n\t\t\t}\n\t\t\t\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册多字幕切换事件\n\t\t*/\n\t\taddSubtitles:function(){\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['subtitlesP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['subtitlesPC'])){\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['subtitle']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'],'display','block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesPB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['subtitlesPC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['subtitlesPC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['subtitlesPC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['subtitlesPC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['subtitlesPB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['subtitles']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['subtitlesP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['subtitlesP']);\n\t\t},\n\t\t/*\n\t\t\t接口函数:修改字幕，按数组编号来\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeSubtitles: function(n) {\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar vArr = this.vars['cktrack'];//字幕数组\n\t\t\tif(this.varType(vArr)!='array'){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeSubtitles(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (vArr.length > n) {\n\t\t\t\tvar arr = vArr[n];\n\t\t\t\tif (arr.length > 2) {\n\t\t\t\t\tvar title = arr[1];\n\t\t\t\t\tif (title) {\n\t\t\t\t\t\tthis.newSubtitles(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数：修改字幕大小\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeSubtitlesSize:function(n,m){\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeSubtitlesSize(n,m);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.ckStyle['cktrack']['size']=n;\n\t\t\tif(!this.isUndefined(m)){\n\t\t\t\tthis.ckStyle['cktrack']['leading']=m;\n\t\t\t}\n\t\t\tthis.trackShowAgain();\n\t\t},\n\t\t/*\n\t\t\t当切换字幕时的动作 \n\t\t*/\n\t\tnewSubtitles:function(title){\n\t\t\tvar vArr = this.vars['cktrack'];//字幕数组\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[1] == title) {\n\t\t\t\t\tthis.subtitlesTemp=i;\n\t\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = v[1];\n\t\t\t\t\t\tthis.subtitleSwitch();\n\t\t\t\t\t\tthis.loadTrack(i);\n\t\t\t\t\t}\n\t\t\t\t\tthis.sendJS('subtitles', v);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建清晰度按钮及切换事件(Click事件)\n\t\t*/\n\t\tdefinition: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['definition']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['definition'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar thisTemp = this;\n\t\t\tvar vArr = this.VA;\n\t\t\tvar dArr = [];\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的清晰度\n\t\t\tvar i = 0,nowI=0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar d = vArr[i][2];\n\t\t\t\tif (dArr.indexOf(d) == -1) {\n\t\t\t\t\tdArr.push(d);\n\t\t\t\t}\n\t\t\t\tif (this.V) {\n\t\t\t\t\tif (vArr[i][0] == this.V.currentSrc) {\n\t\t\t\t\t\tnowD = d;\n\t\t\t\t\t\tnowI = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!nowD) {\n\t\t\t\tnowD = dArr[0];\n\t\t\t}\n\t\t\tthis.removeChildAll(this.CB['definitionP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['definitionPB']=document.createElement('div'),this.CB['definitionPC']=document.createElement('div');\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionPB']);\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionPC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['definitionPC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['definitionP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['definitionPB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['definitionP'],dArr[i],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['definitionP'],dArr[i],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['definitionPC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['definitionPC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar defClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newDefinition(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', defClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['definitionTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['definitionTriangle'],cssTemp);\n\t\t\t\tthis.CB['defaultButtonText'].innerHTML = nowD;\n\t\t\t\tthis.css(this.CB['definition'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.CB['defaultButtonText'].innerHTML = this.ckLanguage['definition'];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除节点内容\n\t\t*/\n\t\tremoveChildAll:function(ele){\n\t\t\tfor(var i=ele.childNodes.length-1;i>=0;i--){\n\t\t\t\tvar childNode=ele.childNodes[i];\n\t\t\t\tele.removeChild(childNode);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册清晰度相关事件\n\t\t*/\n\t\taddDefListener: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['definitionP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['definitionPC'])){\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'],'display','block');\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['definition']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionPB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['definitionPC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['definitionPC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['definitionPC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['definitionPC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['definitionPB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['definition']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['definitionP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['definitionP']);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeDefinition: function(n) {\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeDefinition(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.VA.length > n) {\n\t\t\t\tvar arr = this.VA[n];\n\t\t\t\tif (arr.length > 3) {\n\t\t\t\t\tvar title = arr[2];\n\t\t\t\t\tif (title) {\n\t\t\t\t\t\tthis.newDefinition(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t切换清晰度后发生的动作\n\t\t*/\n\t\tnewDefinition: function(title) {\n\t\t\tvar vArr = this.VA;\n\t\t\tvar nVArr = [];\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[2] == title) {\n\t\t\t\t\tnVArr.push(v);\n\t\t\t\t\tthis.sendJS('definitionChange', i + '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (nVArr.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V != null && this.needSeek == 0) {\n\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t}\n\t\t\tif (this.getFileExt(nVArr[0][0]) != '.m3u8') {\n\t\t\t\tthis.isM3u8 = false;\n\t\t\t}\n\t\t\tif (!this.isM3u8) {\n\t\t\t\tif (nVArr.length == 1) {\n\t\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\t\tthis.V.src = nVArr[0][0];\n\t\t\t\t\tthis.V.currentSrc = nVArr[0][0];\n\t\t\t\t} else {\n\t\t\t\t\tvar source = '';\n\t\t\t\t\tnVArr = this.arrSort(nVArr);\n\t\t\t\t\tfor (i = 0; i < nVArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = nVArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + va[0] + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\tthis.V.innerHTML = source;\n\t\t\t\t\tthis.V.currentSrc = nVArr[0][0];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.embedHls(vArr[0][0], this.vars['autoplay']);\n\t\t\t}\n\t\t\tthis.V.autoplay = 'autoplay';\n\t\t\tthis.V.load();\n\t\t\tif (this.playbackRateTemp!=1) {\n\t\t\t\tthis.V.playbackRate = this.playbackRateTemp; //定义倍速\n\t\t\t}\n\t\t\tthis.timerErrorFun();\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t播放hls\n\t\t*/\n\t\tembedHls: function(url, autoplay) {\n\t\t\tvar thisTemp = this;\n\t\t\tthisTemp.hlsAutoPlay=autoplay;\n\t\t\tif (Hls.isSupported()) {\n\t\t\t\tvar hls = new Hls();\n\t\t\t\thls.loadSource(url);\n\t\t\t\thls.attachMedia(this.V);\n\t\t\t\thls.on(Hls.Events.MANIFEST_PARSED,\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.playerLoad();\n\t\t\t\t\tif (autoplay) {\n\t\t\t\t\t\tthisTemp.videoPlay();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建提示点\n\t\t*/\n\t\tprompt: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar prompt = this.vars['promptSpot'];\n\t\t\tif (prompt == null || this.promptArr.length > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar showPrompt = function(event) {\n\t\t\t\tif (thisTemp.promptElement == null) {\n\t\t\t\t\tvar random2 = 'prompte-' + thisTemp.randomString(5);\n\t\t\t\t\tvar ele2 = document.createElement('div');\n\t\t\t\t\tele2.className = random2;\n\t\t\t\t\tthisTemp.PD.appendChild(ele2);\n\t\t\t\t\tthisTemp.promptElement = thisTemp.getByElement(random2);\n\t\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\t\toverflowX: 'hidden',\n\t\t\t\t\t\tlineHeight: thisTemp.ckStyle['previewPrompt']['lineHeight']+'px',\n\t\t\t\t\t\tfontFamily: thisTemp.ckStyle['previewPrompt']['font'],\n\t\t\t\t\t\tfontSize: thisTemp.ckStyle['previewPrompt']['size']+'px',\n\t\t\t\t\t\tcolor: thisTemp.ckStyle['previewPrompt']['color'].replace('0x','#'),\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\tzIndex: '90'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tvar pcon = thisTemp.getPromptTest();\n\t\t\t\tvar pW = pcon['pW'],\n\t\t\t\tpT = pcon['pT'],\n\t\t\t\tpL = parseInt(thisTemp.css(this, 'left')) - parseInt(pW * 0.5);\n\t\t\t\tif (pcon['pL'] > 10) {\n\t\t\t\t\tpL = pcon['pL'];\n\t\t\t\t}\n\t\t\t\tif (pL < 0) {\n\t\t\t\t\tpL = 0;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\twidth: pW + 'px',\n\t\t\t\t\tleft: ( - pW - 10) + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptElement.innerHTML = thisTemp.getDataset(this, 'words');\n\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\tleft: pL + 'px',\n\t\t\t\t\ttop: (pT - thisTemp.promptElement.offsetHeight-thisTemp.ckStyle['previewPrompt']['marginBottom']) + 'px'\n\t\t\t\t});\n\t\t\t};\n\t\t\tvar hidePrompt = function(event) {\n\t\t\t\tif (thisTemp.promptElement != null) {\n\t\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\t\tdisplay: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < prompt.length; i++) {\n\t\t\t\tvar pr = prompt[i];\n\t\t\t\tvar words = pr['words'];\n\t\t\t\tvar time = pr['time'];\n\t\t\t\tvar random = 'prompttitle-' + this.randomString(5);\n\t\t\t\tvar ele = document.createElement('div');\n\t\t\t\tele.className = random;\n\t\t\t\tthis.CB['timeBoBg'].appendChild(ele);\n\t\t\t\tvar div = this.getByElement(random);\n\t\t\t\ttry{\n\t\t\t\t\tdiv.setAttribute('data-time', time);\n\t\t\t\t\tif(this.ckConfig['config']['promptSpotTime']){\n\t\t\t\t\t\twords=this.formatTime(time,0,this.ckLanguage['timeSliderOver'])+' '+words;\n\t\t\t\t\t}\n\t\t\t\t\tdiv.setAttribute('data-words', words);\n\t\t\t\t}\n\t\t\t\tcatch(event){}\n\t\t\t\tvar pCss=this.getEleCss(this.ckStyle['promptSpotH5'],{marginY:-10000,zIndex: 1});\n\t\t\t\ttry{\n\t\t\t\t\tthis.css(div, pCss);\n\t\t\t\t}\n\t\t\t\tcatch(event){}\n\t\t\t\tthis.addListenerInside('mouseover', showPrompt, div);\n\t\t\t\tthis.addListenerInside('mouseout', hidePrompt, div);\n\t\t\t\tthis.promptArr.push(div);\n\t\t\t}\n\t\t\tthis.changePrompt();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t计算提示文本的位置\n\t\t*/\n\t\tgetPromptTest: function() {\n\t\t\tvar pW = this.previewWidth,\n\t\t\tpT = this.getCoor(this.CB['timeProgressBg'])['y'],\n\t\t\tpL = 0;\n\t\t\tif (this.previewTop != null) {\n\t\t\t\tpT = parseInt(this.css(this.previewTop, 'top'));\n\t\t\t\tpL = parseInt(this.css(this.previewTop, 'left'));\n\t\t\t} else {\n\t\t\t\tpT -= 35;\n\t\t\t}\n\t\t\tpL += 2;\n\t\t\tif (pL < 0) {\n\t\t\t\tpL = 0;\n\t\t\t}\n\t\t\tif (pL > this.PD.offsetWidth - pW) {\n\t\t\t\tpL = this.PD.offsetWidth - pW;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tpW: pW,\n\t\t\t\tpT: pT,\n\t\t\t\tpL: pL\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除提示点\n\t\t*/\n\t\tdeletePrompt: function() {\n\t\t\tvar arr = this.promptArr;\n\t\t\tif (arr.length > 0) {\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i]) {\n\t\t\t\t\t\tthis.deleteChild(arr[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.promptArr = [];\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t计算提示点坐标\n\t\t*/\n\t\tchangePrompt: function() {\n\t\t\tif (this.promptArr.length == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = this.promptArr;\n\t\t\tvar duration = this.getMetaDate()['duration'];\n\t\t\tvar bw = this.CB['timeBoBg'].offsetWidth;\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar time = parseInt(this.getDataset(arr[i], 'time'));\n\t\t\t\tvar left = parseInt(time * bw / duration) - parseInt(arr[i].offsetWidth * 0.5);\n\t\t\t\tif (left < 0) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\t\t\t\tif (left > bw - parseInt(arr[i].offsetWidth * 0.5)) {\n\t\t\t\t\tleft = bw - parseInt(arr[i].offsetWidth * 0.5);\n\t\t\t\t}\n\t\t\t\tthis.css(arr[i], {\n\t\t\t\t\tleft: left + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建预览图片效果\n\t\t*/\n\t\tpreview: function(obj) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar preview = {\n\t\t\t\tfile: null,\n\t\t\t\tscale: 0\n\t\t\t};\n\t\t\tpreview = this.standardization(preview, this.vars['preview']);\n\t\t\tif (preview['file'] == null || preview['scale'] <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar srcArr = preview['file'];\n\t\t\tif (this.previewStart == 0) { //如果还没有构建，则先进行构建\n\t\t\t\tthis.previewStart = 1;\n\t\t\t\tif (srcArr.length > 0) {\n\t\t\t\t\tvar i = 0;\n\t\t\t\t\tvar imgW = 0,\n\t\t\t\t\timgH = 0;\n\t\t\t\t\tvar random = 'preview-'+thisTemp.randomString(10);\n\t\t\t\t\tvar loadNum = 0;\n\t\t\t\t\tvar loadImg = function(i) {\n\t\t\t\t\t\tsrcArr[i] = thisTemp.getNewUrl(srcArr[i]);\n\t\t\t\t\t\tvar n = 0;\n\t\t\t\t\t\tvar img = new Image();\n\t\t\t\t\t\timg.src = srcArr[i];\n\t\t\t\t\t\timg.className = random + i;\n\t\t\t\t\t\timg.onload = function(event) {\n\t\t\t\t\t\t\tloadNum++;\n\t\t\t\t\t\t\tif (thisTemp.previewDiv == null) { //如果没有建立DIV，则建\n\t\t\t\t\t\t\t\timgW = img.width;\n\t\t\t\t\t\t\t\timgH = img.height;\n\t\t\t\t\t\t\t\tthisTemp.previewWidth = parseInt(imgW * 0.1);\n\t\t\t\t\t\t\t\tvar ele = document.createElement('div');\n\t\t\t\t\t\t\t\tele.className = random;\n\t\t\t\t\t\t\t\tthisTemp.PD.appendChild(ele);\n\t\t\t\t\t\t\t\tthisTemp.previewDiv = thisTemp.getByElement(random);\n\t\t\t\t\t\t\t\tvar eleTop = 0;\n\t\t\t\t\t\t\t\teleTop=thisTemp.PD.offsetHeight -thisTemp.ckStyle['preview']['bottom'];\n\t\t\t\t\t\t\t\tthisTemp.css(thisTemp.previewDiv, {\n\t\t\t\t\t\t\t\t\twidth: srcArr.length * imgW * 10 + 'px',\n\t\t\t\t\t\t\t\t\theight: parseInt(imgH * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\tbackgroundColor: '#000000',\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\t\t\ttop: eleTop + 'px',\n\t\t\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t\t\tzIndex: '80'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tele.setAttribute('data-x', '0');\n\t\t\t\t\t\t\t\tele.setAttribute('data-y', eleTop);\n\t\t\t\t\t\t\t\tvar ele2 = document.createElement('div');\n\t\t\t\t\t\t\t\tele2.className = random + 'd2';\n\t\t\t\t\t\t\t\tthisTemp.PD.appendChild(ele2);\n\t\t\t\t\t\t\t\tthisTemp.previewTop = thisTemp.getByElement(ele2.className);\n\t\t\t\t\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\t\t\t\t\twidth: parseInt(imgW * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\theight: parseInt(imgH * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\tborder: thisTemp.ckStyle['preview']['border']+'px solid ' + thisTemp.ckStyle['preview']['borderColor'].replace('0x','#'),\n\t\t\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\t\t\ttop: eleTop + 'px',\n\t\t\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t\t\tzIndex: '81'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tvar html = '';\n\t\t\t\t\t\t\t\tfor (n = 0; n < srcArr.length; n++) {\n\t\t\t\t\t\t\t\t\thtml += thisTemp.newCanvas(random + n, imgW * 10, parseInt(imgH * 0.1))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisTemp.previewDiv.innerHTML = html;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.previewDiv.appendChild(img);\n\t\t\t\t\t\t\tvar cimg = thisTemp.getByElement(img.className);\n\t\t\t\t\t\t\tvar canvas = thisTemp.getByElement(img.className + '-canvas');\n\t\t\t\t\t\t\tvar context = canvas.getContext('2d');\n\t\t\t\t\t\t\tvar sx = 0,\n\t\t\t\t\t\t\tsy = 0,\n\t\t\t\t\t\t\tx = 0,\n\t\t\t\t\t\t\th = parseInt(imgH * 0.1);\n\t\t\t\t\t\t\tfor (n = 0; n < 100; n++) {\n\t\t\t\t\t\t\t\tx = parseInt(n * imgW * 0.1);\n\t\t\t\t\t\t\t\tcontext.drawImage(cimg, sx, sy, parseInt(imgW * 0.1), h, x, 0, parseInt(imgW * 0.1), h);\n\t\t\t\t\t\t\t\tsx += parseInt(imgW * 0.1);\n\t\t\t\t\t\t\t\tif (sx >= imgW) {\n\t\t\t\t\t\t\t\t\tsx = 0;\n\t\t\t\t\t\t\t\t\tsy += h;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisTemp.css(cimg, 'display', 'none');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (loadNum == srcArr.length) {\n\t\t\t\t\t\t\t\tthisTemp.previewStart = 2;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t\t\tloadImg(i);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tloadImg(i);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.previewStart == 2) {\n\t\t\t\tvar isTween = true;\n\t\t\t\tvar nowNum = parseInt(obj['time'] / this.vars['preview']['scale']);\n\t\t\t\tvar numTotal = parseInt(thisTemp.getMetaDate()['duration'] / this.vars['preview']['scale']);\n\t\t\t\tif (thisTemp.css(thisTemp.previewDiv, 'display') == 'none') {\n\t\t\t\t\tisTween = false;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'display', 'block');\n\t\t\t\tvar imgWidth = thisTemp.previewDiv.offsetWidth * 0.01 / srcArr.length;\n\t\t\t\tvar left = (imgWidth * nowNum) - obj['x'] + parseInt(imgWidth * 0.5),\n\t\t\t\ttop=thisTemp.PD.offsetHeight- thisTemp.previewDiv.offsetHeight -thisTemp.ckStyle['preview']['bottom'];\n\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'top', top + 2 + 'px');\n\t\t\t\tvar topLeft = obj['x'] - parseInt(imgWidth * 0.5);\n\t\t\t\tvar timepieces = 0;\n\t\t\t\tif (topLeft < 0) {\n\t\t\t\t\ttopLeft = 0;\n\t\t\t\t\ttimepieces = obj['x'] - topLeft - imgWidth * 0.5;\n\t\t\t\t}\n\t\t\t\tif (topLeft > thisTemp.PD.offsetWidth - imgWidth) {\n\t\t\t\t\ttopLeft = thisTemp.PD.offsetWidth - imgWidth;\n\t\t\t\t\ttimepieces = obj['x'] - topLeft - imgWidth * 0.5;\n\t\t\t\t}\n\t\t\t\tif (left < 0) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\t\t\t\tif (left > numTotal * imgWidth - thisTemp.PD.offsetWidth) {\n\t\t\t\t\tleft = numTotal * imgWidth - thisTemp.PD.offsetWidth;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\tleft: topLeft + 'px',\n\t\t\t\t\ttop: top + 2 + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t\tif (thisTemp.previewTop.offsetHeight > thisTemp.previewDiv.offsetHeight) {\n\t\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\t\theight: thisTemp.previewDiv.offsetHeight - (thisTemp.previewTop.offsetHeight - thisTemp.previewDiv.offsetHeight) + 'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (this.previewTween != null) {\n\t\t\t\t\tthis.animatePause(this.previewTween);\n\t\t\t\t\tthis.previewTween = null\n\t\t\t\t}\n\t\t\t\tvar nowLeft = parseInt(thisTemp.css(thisTemp.previewDiv, 'left'));\n\t\t\t\tvar leftC = nowLeft + left;\n\t\t\t\tif (nowLeft == -(left + timepieces)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (isTween) {\n\t\t\t\t\tvar obj = {\n\t\t\t\t\t\telement: thisTemp.previewDiv,\n\t\t\t\t\t\tstart: null,\n\t\t\t\t\t\tend: -(left + timepieces),\n\t\t\t\t\t\tspeed: 0.3\n\t\t\t\t\t};\n\t\t\t\t\tthis.previewTween = this.animate(obj);\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'left', -(left + timepieces) + 'px')\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除预览图节点\n\t\t*/\n\t\tdeletePreview: function() {\n\t\t\tif (this.previewDiv != null) {\n\t\t\t\tthis.deleteChild(this.previewDiv);\n\t\t\t\tthis.previewDiv = null;\n\t\t\t\tthis.previewStart = 0;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t修改视频地址，属性\n\t\t*/\n\t\tchangeVideo: function() {\n\t\t\tif (!this.html5Video) {\n\t\t\t\tthis.getVarsObject();\n\t\t\t\tthis.V.newVideo(this.vars);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar vArr = this.VA;\n\t\t\tvar v = this.vars;\n\t\t\tvar i = 0;\n\t\t\tif (vArr.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V != null && this.needSeek == 0) {\n\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t}\n\t\t\tif (v['poster']) {\n\t\t\t\tthis.V.poster = v['poster'];\n\t\t\t} else {\n\t\t\t\tthis.V.removeAttribute('poster');\n\t\t\t}\n\t\t\tif (v['loop']) {\n\t\t\t\tthis.V.loop = 'loop';\n\t\t\t} else {\n\t\t\t\tthis.V.removeAttribute('loop');\n\t\t\t}\n\t\t\tif (v['seek'] > 0) {\n\t\t\t\tthis.needSeek = v['seek'];\n\t\t\t} else {\n\t\t\t\tthis.needSeek = 0;\n\t\t\t}\n\t\t\tif (this.getFileExt(vArr[0][0]) != '.m3u8') {\n\t\t\t\tthis.isM3u8 = false;\n\t\t\t}\n\t\t\tif (!this.isM3u8) {\n\t\t\t\tif (vArr.length == 1) {\n\t\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\t\tthis.V.src = vArr[0][0];\n\t\t\t\t} else {\n\t\t\t\t\tvar source = '';\n\t\t\t\t\tvArr = this.arrSort(vArr);\n\t\t\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = vArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + va[0] + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\tthis.V.innerHTML = source;\n\t\t\t\t}\n\t\t\t\t//分析视频地址结束\n\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\tthis.V.autoplay = 'autoplay';\n\t\t\t\t} else {\n\t\t\t\t\tthis.V.removeAttribute('autoplay');\n\t\t\t\t}\n\t\t\t\tthis.V.load();\n\t\t\t} else {\n\t\t\t\tthis.embedHls(vArr[0][0], v['autoplay']);\n\t\t\t}\n\t\t\tif (!this.isUndefined(v['volume'])) {\n\t\t\t\tthis.changeVolume(v['volume']);\n\t\t\t}\n\t\t\tthis.resetPlayer(); //重置界面元素\n\t\t\tthis.timerErrorFun();\n\t\t\t//如果存在字幕则加载\n\t\t\tif (this.vars['cktrack']) {\n\t\t\t\tthis.loadTrack();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t调整中间暂停按钮,缓冲loading，错误提示文本框的位置\n\t\t*/\n\t\telementCoordinate: function() {\n\t\t\tthis.pdCoor = this.getXY(this.PD);\n\t\t\tvar cssTemp=null;\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['centerPlay'],{cursor:'pointer'});\n\t\t\t\tthis.css(this.CB['pauseCenter'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['loading']);\n\t\t\t\tthis.css(this.CB['loading'],cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['error']);\n\t\t\t\tthis.css(this.CB['errorText'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['logo']);\n\t\t\t\tthis.css(this.CB['logo'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\tthis.checkBarWidth();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t控制栏内各按钮的位置\n\t\t*/\n\t\tcarbarButton:function(){\n\t\t\tvar styleC=this.ckStyle['controlBar'];\n\t\t\tvar styleCB=styleC['button'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\tvar cssSup2={overflow: 'hidden',cursor: 'default',zIndex: 1};\n\t\t\tvar cssSup4={overflow: 'hidden',cursor: 'pointer',display: 'none',zIndex: 995};\n\t\t\t//播放/暂停按钮\n\t\t\tcssTemp=this.getEleCss(styleCB['play'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['play'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['pause'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['pause'],cssTemp);\n\t\t\t//设置静音/取消静音的按钮样式\n\t\t\tcssTemp=this.getEleCss(styleCB['mute'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['mute'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['escMute'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['escMute'],cssTemp);\n\t\t\t//设置全屏/退出全屏按钮样式\n\t\t\tcssTemp=this.getEleCss(styleCB['full'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['full'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['escFull'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['escFull'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleC['timeText']['vod'],cssSup2,this.CB['controlBarBg']);\n \t\t\tthis.css(this.CB['timeText'], cssTemp);\n \t\t\t//音量调节框\n \t\t\tvar volumeSchedule=this.newObj(styleC['volumeSchedule']);\n \t\t\tvolumeSchedule['backgroundImg']='';\n\t\t\tcssTemp=this.getEleCss(volumeSchedule,cssSup2,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['volume'],cssTemp);\n\t\t\tcssTemp= {\n\t\t\t\twidth: cssTemp['width'],\n\t\t\t\theight: styleC['volumeSchedule']['backgroundHeight']+'px',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tbackgroundRepeat:'no-repeat',\n\t\t\t\tbackgroundPosition:'left center'\n\t\t\t};\n\t\t\tif(this.ckConfig['config']['buttonMode']['volumeSchedule']){\n\t\t\t\tcssTemp['cursor']='pointer';\n\t\t\t}\n\t\t\tthis.css(this.CB['volumeBg'],cssTemp);\n\t\t\tthis.css(this.CB['volumeBg'], {\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t\tcssTemp['width']=(this.CB['volumeBO'].offsetWidth*0.5+parseInt(this.css(this.CB['volumeBO'],'left')))+'px';\n\t\t\tthis.css(this.CB['volumeUp'],cssTemp);\n\t\t\tthis.css(this.CB['volumeBg'], 'backgroundImage', 'url('+styleC['volumeSchedule']['backgroundImg']+')');\n\t\t\tthis.css(this.CB['volumeUp'], 'backgroundImage', 'url('+styleC['volumeSchedule']['maskImg']+')');\n\t\t\t//音量调节按钮\n\t\t\tcssTemp=this.getEleCss(styleC['volumeSchedule']['button'],{overflow: 'hidden',cursor: 'pointer',backgroundRepeat:'no-repeat',backgroundPosition:'left center'});\n\t\t\tthis.css(this.CB['volumeBO'],cssTemp);\n\t\t\t//倍速容器\n\t\t\tif(this.ckConfig['config']['playbackRate']){\n\t\t\t\tif(!this.CB['playbackrateButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['playbackrate'],styleC['playbackrate']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['playbackrate']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['playbackrate'],'playbackrateButtonText');\n\t\t\t\t}\n\t\t\t\tcssTemp=this.getEleCss(styleC['playbackrate']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['playbackrate'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['playbackrateP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['playbackrate']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['playbackrateP'], cssTemp);\n\t\t\t}\n\t\t\t//初始化清晰度按钮\n\t\t\tif(this.ckConfig['config']['definition']){\n\t\t\t\tif(!this.CB['defaultButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['definition'],styleC['definition']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['definition']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['definition'],'defaultButtonText');\n\t\t\t\t}\n\t\t\t\tcssTemp=this.getEleCss(styleC['definition']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['definition'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['definitionP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['definition']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['definitionP'], cssTemp);\n\t\t\t}\n\t\t\t//初始化字幕切换按钮\n\t\t\tif(this.ckConfig['config']['subtitle']){\n\t\t\t\tif(!this.CB['subtitleButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['subtitles'],styleC['subtitle']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['subtitle']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['subtitle'],'subtitleButtonText');\n\t\t\t\t}\n\t\t\t\t//字幕按钮列表容器样式\n\t\t\t\tcssTemp=this.getEleCss(styleC['subtitle']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['subtitles'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['subtitlesP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['subtitle']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['subtitlesP'], cssTemp);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t构造一个文字按钮\n\t\t \tele:当前按钮\n\t\t \tcss:样式\n\t\t \tcssSup:补充样式\n\t\t \tupEle：上一级容器对象\n\t\t \ttext:显示的文本\n\t\t \tnewName:文本框名称\n\t\t*/\n\t\ttextButton:function(ele,css,cssSup,upEle,text,newName){\n\t\t\tvar thisTemp=this;\n\t\t\tvar bgCss={\n\t\t\t\twidth:css['width'],\n\t\t\t\theight:css['height']\n\t\t\t};\n\t\t\tif(cssSup){\n\t\t\t\tbgCss={\n\t\t\t\t\twidth:css['width'],\n\t\t\t\t\theight:css['height'],\n\t\t\t\t\talign:cssSup['align'],\n\t\t\t\t\tvAlign:cssSup['vAlign'],\n\t\t\t\t\tmarginX: cssSup['marginX'],\n\t\t\t\t\tmarginY: cssSup['marginY'],\n\t\t\t\t\toffsetX: cssSup['offsetX'],\n\t\t\t\t\toffsetY: cssSup['offsetY'],\n\t\t\t\t\tzIndex:2\n\t\t\t\t};\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(bgCss,null,upEle);\n\t\t\tthisTemp.css(ele, cssTemp);\n\t\t\tvar outCss=this.newObj(css);\n\t\t\tvar overCss=this.newObj(css);\n\t\t\tvar textOutCss=this.newObj(css);\n\t\t\tvar textOverCss=this.newObj(css);\n\t\t\tvar cssTemp=null;\n\t\t\toutCss['alpha']=css['backgroundAlpha'];\n\t\t\toverCss['backgroundColor']=css['overBackgroundColor'];\n\t\t\toverCss['alpha']=css['backgroundAlpha'];\n\t\t\ttextOutCss['color']=css['textColor'];\n\t\t\ttextOverCss['color']=css['overTextColor'];\n\t\t\ttextOutCss['textAlign']=css['align'];\n\t\t\ttextOverCss['textAlign']=css['align'];\n\t\t\t//修正文字\n\t\t\ttextOutCss['backgroundColor']=textOverCss['backgroundColor']='';\n\t\t\tvar bgEle=document.createElement('div');//按钮背景层\n\t\t\tthis.removeChildAll(ele);\n\t\t\tele.appendChild(bgEle);\n\t\t\tif(newName){\n\t\t\t\tthis.CB[newName]=document.createElement('div');//文字层\n\t\t\t\tele.appendChild(this.CB[newName]);\n\t\t\t\tthis.CB[newName].innerHTML=text;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar newEle=document.createElement('div');//文字层\n\t\t\t\tele.appendChild(newEle);\n\t\t\t\tnewEle.innerHTML=text;\n\t\t\t}\n\t\t\tvar outFun=function(){\n\t\t\t\tcssTemp=thisTemp.getEleCss(outCss,{cursor: 'pointer',zIndex:1},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tthisTemp.css(bgEle, cssTemp);\n\t\t\t\tcssTemp=thisTemp.getEleCss(textOutCss,{cursor: 'pointer',zIndex:2},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tif(newName){\n\t\t\t\t\tthisTemp.css(thisTemp.CB[newName], cssTemp,bgEle);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(newEle, cssTemp,bgEle);\n\t\t\t\t}\n\t\t\t\tthisTemp.buttonHide=true;//显示的列表框需要隐藏\n\t\t\t\tif(thisTemp.timeButtonOver){\n\t\t\t\t\twindow.clearTimeout(thisTemp.timeButtonOver);\n\t\t\t\t\tthisTemp.timeButtonOver=null;\n\t\t\t\t}\n\t\t\t\tthisTemp.timeButtonOver=window.setTimeout(function(){thisTemp.buttonListHide()},1000);\n\t\t\t};\n\t\t\tvar overFun=function(){\n\t\t\t\tcssTemp=thisTemp.getEleCss(overCss,{zIndex:1},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tthisTemp.css(bgEle, cssTemp);\n\t\t\t\tcssTemp=thisTemp.getEleCss(textOverCss,{zIndex:2},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tif(newName){\n\t\t\t\t\tthisTemp.css(thisTemp.CB[newName], cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(newEle, cssTemp);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t};\n\t\t\toutFun();\n\t\t\tthis.addListenerInside('mouseout', outFun, ele);\n\t\t\tthis.addListenerInside('mouseover', overFun, ele);\n\t\t},\n\t\t/*\n\t\t\t隐藏所有的列表框 \n\t\t*/\n\t\tbuttonListHide:function(){\n\t\t\tif(this.buttonHide){\n\t\t\t\tthis.css([this.CB['definitionP'],this.CB['subtitlesP'],this.CB['playbackrateP']],'display','none');\n\t\t\t}\n\t\t\tif(this.timeButtonOver){\n\t\t\t\twindow.clearTimeout(this.timeButtonOver);\n\t\t\t\tthis.timeButtonOver=null;\n\t\t\t}\n\t\t\tthis.buttonHide=false;\n\t\t},\n\t\t/*\n\t\t \t计算视频的宽高\n\t\t*/\n\t\tvideoCss:function(){\n\t\t\tvar cssTemp={};\n\t\t\t\n\t\t\tif(this.css(this.CB['controlBar'],'display')=='none'){\n\t\t\t\tcssTemp=this.ckStyle['video']['controlBarHideReserve'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tcssTemp=this.ckStyle['video']['reserve'];\n\t\t\t}\n\t\t\tvar spacingBottom=cssTemp['spacingBottom'];\n\t\t\tif(this.V.controls && this.isMobile()){\n\t\t\t\tspacingBottom-=40;\n\t\t\t}\n\t\t\tvar pW=this.PD.offsetWidth,pH=this.PD.offsetHeight;\n\t\t\tvar vW=pW-cssTemp['spacingLeft']-cssTemp['spacingRight'];\n\t\t\tvar vH=pH-cssTemp['spacingTop']-spacingBottom;\n\t\t\tif(!this.MD){\n\t\t\t\tthis.css(this.V,{\n\t\t\t\t\twidth:vW+'px',\n\t\t\t\t\theight:vH+'px',\n\t\t\t\t\tmarginLeft:cssTemp['spacingLeft']+'px',\n\t\t\t\t\tmarginTop:cssTemp['spacingTop']+'px'\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.css([this.MD,this.MDC],{\n\t\t\t\t\twidth:vW+'px',\n\t\t\t\t\theight:vH+'px',\n\t\t\t\t\tmarginLeft:cssTemp['spacingLeft']+'px',\n\t\t\t\t\tmarginTop:cssTemp['spacingTop']+'px'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t播放器界面自定义元素\n\t\t*/\n\t\tplayerCustom:function(){\n\t\t\tvar custom=this.ckStyle['custom'];\n\t\t\tvar button=custom['button'];\n\t\t\tvar images=custom['images'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup=null;\n\t\t\tvar k='',tempID='';\n\t\t\tvar b={};\n\t\t\tvar tempDiv;\n\t\t\tvar i=0;\n\t\t\tfor(k in button){\n\t\t\t\tb=button[k];\n\t\t\t\tcssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'player-button',name:k});\n\t\t\t\tthis.PD.appendChild(tempDiv);\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\ttempDiv.dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tthis.buttonEventFun(tempDiv,b);\n\t\t\t}\n\t\t\tfor(k in images){\n\t\t\t\tb=images[k];\n\t\t\t\tcssSup={overflow: 'hidden',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'player-images',name:k});\n\t\t\t\tthis.PD.appendChild(tempDiv);\n\t\t\t\tvar img=new Image();\n\t\t\t\timg.src=images[k]['img'];\n\t\t\t\ttempDiv.appendChild(img);\n\t\t\t\ti++\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素\n\t\t*/\n\t\tcarbarCustom:function(){\n\t\t\tvar custom=this.ckStyle['controlBar']['custom'];\n\t\t\tvar button=custom['button'];\n\t\t\tvar images=custom['images'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup=null;\n\t\t\tvar k='',tempID='';\n\t\t\tvar b={};\n\t\t\tvar tempDiv;\n\t\t\tvar i=0;\n\t\t\tfor(k in button){\n\t\t\t\tb=button[k];\n\t\t\t\tcssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup,this.CB['controlBarBg']);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'controlBar-button',name:k});\n\t\t\t\tthis.CB['controlBar'].appendChild(tempDiv);\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\ttempDiv.dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tthis.buttonEventFun(tempDiv,b);\n\t\t\t}\n\t\t\tfor(k in images){\n\t\t\t\tb=images[k];\n\t\t\t\tcssSup={overflow: 'hidden',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup,this.CB['controlBarBg']);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'controlBar-images',name:k});\n\t\t\t\tthis.CB['controlBar'].appendChild(tempDiv);\n\t\t\t\tvar img=new Image();\n\t\t\t\timg.src=images[k]['img'];\n\t\t\t\ttempDiv.appendChild(img);\n\t\t\t\ti++;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素的位置\n\t\t*/\n\t\tcustomCoor:function(){\n\t\t\tvar cssTemp=null;\n\t\t\tif(this.customeElement.length>0){\n\t\t\t\tfor(var i=0;i<this.customeElement.length;i++){\n\t\t\t\t\tif(this.customeElement[i]['type']=='controlBar'){\n\t\t\t\t\t\tcssTemp=this.getEleCss(this.customeElement[i]['css'],this.customeElement[i]['cssSup'],this.CB['controlBarBg']);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tcssTemp=this.getEleCss(this.customeElement[i]['css'],this.customeElement[i]['cssSup']);\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(this.customeElement[i]['ele'],cssTemp);\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素的显示和隐藏，只对播放器界面的有效，作用是当播放视频广告时隐藏，广告播放完成后显示\n\t\t*/\n\t\tcustomShow:function(show){\n\t\t\tif(this.customeElement.length>0){\n\t\t\t\tfor(var i=0;i<this.customeElement.length;i++){\n\t\t\t\t\tif(this.customeElement[i]['type']=='player'){\n\t\t\t\t\t\tthis.css(this.customeElement[i]['ele'],'display',show?'block':'none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t},\n\t\t/*\n\t\t \t广告控制栏样式\n\t\t*/\n\t\tadvertisementStyle:function(){\n\t\t\tvar asArr=['muteButton','escMuteButton','adLinkButton','closeButton','skipAdButton','countDown','countDownText','skipDelay','skipDelayText'];\n\t\t\tvar eleArr=['adMute','adEscMute','adLink','adPauseClose','adSkipButton','adTime','adTimeText','adSkip','adSkipText'];\n\t\t\tfor(var i=0;i<eleArr.length;i++){\n\t\t\t\tvar cssUp={overflow: 'hidden',zIndex: 999};\n\t\t\t\tif(i<5){\n\t\t\t\t\tcssUp['cursor']='pointer';\n\t\t\t\t}\n\t\t\t\tvar cssTemp=this.getEleCss(this.ckStyle['advertisement'][asArr[i]],cssUp);\n\t\t\t\tthis.css(this.CB[eleArr[i]],cssTemp);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t当播放器尺寸变化时，显示和隐藏相关节点\n\t\t*/\n\t\tcheckBarWidth: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t初始化暂停或播放按钮\n\t\t*/\n\t\tinitPlayPause: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.vars['autoplay']) {\n\t\t\t\tthis.css([this.CB['play'], this.CB['pauseCenter']], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'block');\n\t\t\t\tif (this.css(this.CB['errorText'], 'display') == 'none') {\n\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'block');\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'none');\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t\t下面为监听事件\n\t\t\t内部函数\n\t\t\t监听元数据已加载\n\t\t*/\n\t\tloadedHandler: function() {\n\t\t\tthis.loaded = true;\n\t\t\tif (this.vars['loaded'] != '') {\n\t\t\t\ttry {\n\t\t\t\t\teval(this.vars['loaded'] + '(\\''+this.vars['variable']+'\\')');\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放\n\t\t*/\n\t\tplayingHandler: function() {\n\t\t\tthis.playShow(true);\n\t\t\t//如果是第一次播放\n\t\t\tif (this.isFirstTimePlay && !this.isUndefined(this.advertisements['front'])) {\n\t\t\t\tthis.isFirstTimePlay = false;\n\t\t\t\t//调用播放前置广告组件\n\t\t\t\tthis.adI = 0;\n\t\t\t\tthis.adType = 'front';\n\t\t\t\tthis.adMuteInto();\n\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\tthis.adPlayStart = true;\n\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\tthis.videoPause();\n\t\t\t\tthis.advertisementsTime();\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\t//调用播放前置广告组件结束\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//判断第一次播放结束\n\t\t\tif (this.needSeek > 0) {\n\t\t\t\tthis.videoSeek(this.needSeek);\n\t\t\t\tthis.needSeek = 0;\n\t\t\t}\n\t\t\tif (this.animatePauseArray.length > 0) {\n\t\t\t\tthis.animateResume('pause');\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video' && this.V != null && this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\tthis.sendVCanvas();\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['pause']) && !this.adPlayStart) { //如果存在暂停广告\n\t\t\t\tthis.closePauseAd();\n\t\t\t}\n\t\t},\n\t\t/*暂停时播放暂停广告*/\n\t\tadPausePlayer: function() {\n\t\t\tthis.adI = 0;\n\t\t\tthis.adType = 'pause';\n\t\t\tthis.adPauseShow = true;\n\t\t\tthis.loadAdPause();\n\t\t\tthis.sendJS('pauseAd','play');\n\t\t},\n\t\tloadAdPause: function() {\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tvar thisTemp = this;\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tif (this.isStrImage(type) && this.adPauseShow) {\n\t\t\t\tthis.css(this.CB['adElement'], 'display', 'block');\n\t\t\t\tvar imgClass = 'adimg' + this.randomString(10);\n\t\t\t\tvar imgHtml = '<img src=\"' + ad['file'] + '\" class=\"' + imgClass + '\">';\n\t\t\t\tif (ad['link']) {\n\t\t\t\t\timgHtml = '<a href=\"' + ad['link'] + '\" target=\"_blank\">' + imgHtml + '</a>';\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = imgHtml;\n\t\t\t\tthis.addListenerInside('load',\n\t\t\t\tfunction() {\n\t\t\t\t\tvar imgObj = new Image();\n\t\t\t\t\timgObj.src = this.src;\n\t\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\t\tthisTemp.css([thisTemp.getByElement(imgClass), thisTemp.CB['adElement']], {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\tborder: '0px'\n\t\t\t\t\t});\n\t\t\t\t\tif (thisTemp.ckStyle['advertisement']['closeButtonShow'] && thisTemp.adPauseShow) {\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['adPauseClose'], {\n\t\t\t\t\t\t\tdisplay: 'block'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\t\tthisTemp.adPauseCoor();\n\t\t\t\t},\n\t\t\t\tthis.getByElement(imgClass));\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adElement']);\n\t\t\t\tvar newI = this.adI;\n\t\t\t\tif (this.adI < this.advertisements['pause'].length - 1) {\n\t\t\t\t\tnewI++;\n\t\t\t\t} else {\n\t\t\t\t\tnewI = 0;\n\t\t\t\t}\n\t\t\t\tif (ad['time'] > 0) {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tif (thisTemp.adPauseShow) {\n\t\t\t\t\t\t\tthisTemp.adI = newI;\n\t\t\t\t\t\t\tthisTemp.loadAdPause();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tad['time'] * 1000);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*调整暂停广告的位置*/\n\t\tadPauseCoor: function() {\n\t\t\tif (this.css(this.CB['adElement'], 'display') == 'block') {\n\t\t\t\tvar w = this.CB['adElement'].offsetWidth,\n\t\t\t\th = this.CB['adElement'].offsetHeight;\n\t\t\t\tvar pw = this.PD.offsetWidth,\n\t\t\t\tph = this.PD.offsetHeight;\n\t\t\t\tthis.css(this.CB['adElement'], {\n\t\t\t\t\ttop: (ph - h) * 0.5 + 'px',\n\t\t\t\t\tleft: (pw - w) * 0.5 + 'px'\n\t\t\t\t});\n\t\t\t\tif (this.css(this.CB['adPauseClose'], 'display') == 'block') {\n\t\t\t\t\tvar rr=this.ckStyle['advertisement']['closeButton'];\n\t\t\t\t\tvar cxy =  this.getPosition(rr,this.CB['adElement']);\n\t\t\t\t\tthis.css(this.CB['adPauseClose'], {\n\t\t\t\t\t\ttop: cxy['y'] + 'px',\n\t\t\t\t\t\tleft: cxy['x'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t关闭暂停广告\n\t\t*/\n\t\tclosePauseAd: function() {\n\t\t\tthis.CB['adElement'].innerHTML = '';\n\t\t\tthis.css([this.CB['adElement'], this.CB['adPauseClose']], 'display', 'none');\n\t\t\tthis.adPauseShow = false;\n\t\t\tthis.sendJS('pauseAd','ended');\n\t\t},\n\t\t/*计算广告时间*/\n\t\tadvertisementsTime: function(nt) {\n\t\t\tif (this.isUndefined(nt)) {\n\t\t\t\tnt = 0;\n\t\t\t}\n\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\tif (nt > 0) {\n\t\t\t\tad[this.adI]['time'] = Math.ceil(nt);\n\t\t\t}\n\t\t\tthis.adTimeAllTotal = 0;\n\t\t\tfor (var i = this.adI; i < ad.length; i++) {\n\t\t\t\tif (!this.isUndefined(ad[i]['time'])) {\n\t\t\t\t\tthis.adTimeAllTotal += Math.ceil(ad[i]['time']);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.adTimeAllTotal > 0) {\n\t\t\t\tthis.CB['adTimeText'].innerHTML = this.ckLanguage['adCountdown'].replace('[$second]', this.adTimeAllTotal).replace('[$Second]', this.adTimeAllTotal > 9 ? this.adTimeAllTotal: '0' + this.adTimeAllTotal);\n\t\t\t}\n\t\t\tif (this.adPauseShow) {\n\t\t\t\tthis.closePauseAd();\n\t\t\t}\n\t\t\tthis.adOtherCloseAll();\n\t\t\tthis.adTimeTotal = -1;\n\t\t},\n\t\t/*判断是否需要显示跳过广告按钮*/\n\t\tadSkipButtonShow: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar skipConfig = this.ckStyle['advertisement'];\n\t\t\tvar delayTimeTemp = skipConfig[this.adType + 'SkipButtonDelay'];\n\t\t\tvar timeFun = function() {\n\t\t\t\tif (delayTimeTemp >= 0) {\n\t\t\t\t\tthisTemp.CB['adSkipText'].innerHTML = thisTemp.ckLanguage['skipDelay'].replace('[$second]', delayTimeTemp).replace('[$Second]', delayTimeTemp > 9 ? delayTimeTemp: '0' + delayTimeTemp);\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','none');\n\t\t\t\t\tsetTimeout(timeFun, 1000);\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','none');\n\t\t\t\t\tif(thisTemp.css(thisTemp.CB['adTime'],'display')=='block'){\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','block');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tdelayTimeTemp--;\n\t\t\t};\n\t\t\tif (skipConfig['skipButtonShow']) {\n\t\t\t\tif (skipConfig[this.adType + 'SkipButtonDelay'] > 0 && this.isUndefined(this.adSkipButtonTime)) {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']], 'display', 'block');\n\t\t\t\t\ttimeFun();\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','none');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','block');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*播放广告*/\n\t\tadvertisementsPlay: function() {\n\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText'], this.CB['adSkip'], this.CB['adSkipText'],this.CB['adSkipButton'], this.CB['adLink']], 'display', 'none');\n\t\t\tthis.adPlayerPlay = false;\n\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\tif (this.adI == 0 && (this.adType == 'front' || this.adType == 'insert' || this.adType == 'end')) {\n\t\t\t\tthis.sendJS('process', this.adType + ' ad play');\n\t\t\t\tthis.sendJS(this.adType+'Ad','play');\n\t\t\t}\n\t\t\tthis.trackHide();\n\t\t\tif (this.adI < ad.length) {\n\t\t\t\tif (!this.isUndefined(ad[this.adI]['time'])) {\n\t\t\t\t\tthis.adTimeTotal = parseInt(ad[this.adI]['time']);\n\t\t\t\t}\n\t\t\t\tthis.loadAdvertisements();\n\t\t\t} else {\n\t\t\t\tthis.adEnded();\n\t\t\t}\n\t\t},\n\t\t/*清除当前所有广告*/\n\t\teliminateAd: function() {\n\t\t\tif (this.adType) {\n\t\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\t\tthis.adI = ad.length;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t}\n\n\t\t},\n\t\t/*广告播放结束*/\n\t\tadEnded: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.adPlayStart = false;\n\t\t\tif(this.adType=='front'){\n\t\t\t\tthis.time=0;\n\t\t\t}\n\t\t\tthis.adPlayerPlay = false;\n\t\t\tif (this.adVideoPlay) {\n\t\t\t\tif (this.videoTemp['src'] != '') {\n\t\t\t\t\tthis.V.src = this.videoTemp['src'];\n\t\t\t\t} else {\n\t\t\t\t\tif (this.V.src) {\n\t\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['source'] != '') {\n\t\t\t\t\tthis.V.innerHTML = this.videoTemp['source'];\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['currentSrc'] != '') {\n\t\t\t\t\tthis.V.src = this.videoTemp['currentSrc'];\n\t\t\t\t\tthis.V.currentSrc = this.videoTemp['currentSrc'];\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['loop']) {\n\t\t\t\t\tthis.V.loop = true;\n\t\t\t\t\tthis.videoTemp['loop'] = false;\n\t\t\t\t}\n\t\t\t\tif (this.adType == 'end') {\n\t\t\t\t\tthis.endedHandler();\n\t\t\t\t} else {\n\t\t\t\t\tthis.videoPlay();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.videoPlay();\n\t\t\t}\n\t\t\tthis.changeVolume(this.vars['volume']);\n\t\t\tthis.sendJS('process', this.adType + ' ad ended');\n\t\t\tthis.sendJS(this.adType+'Ad','ended');\n\t\t\tthis.changeControlBarShow(true);\n\t\t\tthis.css(this.CB['logo'], 'display','block');\n\t\t\tthis.customShow(true);\n\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText'], this.CB['adSkip'], this.CB['adSkipText'],this.CB['adSkipButton'], this.CB['adLink'],this.CB['adMute'], this.CB['adEscMute']], 'display', 'none');\n\t\t},\n\t\t/*加载广告*/\n\t\tloadAdvertisements: function() {\n\t\t\t//this.videoTemp\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tvar thisTemp = this;\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tthis.changeControlBarShow(false);\n\t\t\tthis.adPlayerPlay = true;\n\t\t\tthis.css(this.CB['logo'], 'display','none');\n\t\t\tthis.customShow(false);\n\t\t\tif (this.isStrImage(type)) {\n\t\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText']], 'display', 'block');\n\t\t\t\tthis.css([this.CB['adMute'], this.CB['adEscMute']], 'display', 'none');\n\t\t\t\tvar imgClass = 'adimg' + this.randomString(10);\n\t\t\t\tvar imgHtml = '<img src=\"' + ad['file'] + '\" class=\"' + imgClass + '\">';\n\t\t\t\tif (ad['link']) {\n\t\t\t\t\timgHtml = '<a href=\"' + ad['link'] + '\" target=\"_blank\">' + imgHtml + '</a>';\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = imgHtml;\n\t\t\t\tthis.addListenerInside('load',\n\t\t\t\tfunction() {\n\t\t\t\t\tvar imgObj = new Image();\n\t\t\t\t\timgObj.src = this.src;\n\t\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\t\tthisTemp.css(thisTemp.getByElement(imgClass), {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\tborder: '0px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adElement'], {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\ttop: (height - imgWH['height']) * 0.5 + 'px',\n\t\t\t\t\t\tleft: (width - imgWH['width']) * 0.5 + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.getByElement(imgClass));\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adElement']);\n\t\t\t\tif (!this.isUndefined(ad['time'])) {\n\t\t\t\t\tthis.adCountDown();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.css([this.CB['adTime'], this.CB['adTimeText']], 'display', 'block');\n\t\t\t\t//判断是否静音\n\t\t\t\tif (this.adVideoMute) {\n\t\t\t\t\tthis.css(this.CB['adEscMute'], 'display', 'block');\n\t\t\t\t\tthis.css(this.CB['adMute'], 'display', 'none');\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.CB['adEscMute'], 'display', 'none');\n\t\t\t\t\tthis.css(this.CB['adMute'], 'display', 'block');\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = '';\n\t\t\t\tif (this.videoTemp['currentSrc'] == '') {\n\t\t\t\t\tthis.videoTemp['currentSrc'] = this.getCurrentSrc();\n\t\t\t\t}\n\t\t\t\tif (this.V.loop) {\n\t\t\t\t\tthis.videoTemp['loop'] = true;\n\t\t\t\t\tthis.V.loop = false;\n\t\t\t\t}\n\t\t\t\tif (this.V != null && this.V.currentTime > 0 && this.adIsVideoTime && this.adType!='front') { //当有视频广告时而又没有记录下已播放的时间则进行记录\n\t\t\t\t\tthis.adIsVideoTime = false;\n\t\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t\t}\n\t\t\t\tthis.V.src = ad['file'];\n\t\t\t\tthis.V.currentSrc = ad['file'];\n\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\tthis.V.play();\n\t\t\t\tthis.adVideoPlay = true;\n\t\t\t\tthis.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\tif (!this.adVideoMute) {\n\t\t\t\t\tthis.escAdMute();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ad['link']) {\n\t\t\t\tthis.css(this.CB['adLink'], 'display', 'block');\n\t\t\t\tvar adLinkClick = function(event) {\n\t\t\t\t\tthisTemp.sendJS('clickEvent', 'javaScript->adLinkClick');\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', adLinkClick, this.CB['adLink']);\n\t\t\t\tthis.adLinkTemp=ad['link'];\n\t\t\t\tvar linkTemp = '<a href=\"' + ad['link'] + '\" target=\"_blank\" class=\"ckadmorelink\"><img src=\"' + this.ckStyle['png-1-1'] + '\" width=\"'+this.ckStyle['advertisement']['adLinkButton']['width']+'\" height=\"'+this.ckStyle['advertisement']['adLinkButton']['height']+'\"></a>';\n\t\t\t\tthis.CB['adLink'].innerHTML = linkTemp;\n\t\t\t\tthis.css(this.getByElement('ckadmorelink'), {\n\t\t\t\t\tcolor: '#FFFFFF',\n\t\t\t\t\ttextDecoration: 'none'\n\t\t\t\t});\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adLink']);\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['adLink'], 'display', 'none');\n\t\t\t}\n\n\t\t},\n\t\t/*普通广告倒计时*/\n\t\tadCountDown: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.adTimeTotal > 0) {\n\t\t\t\tif (!this.adIsPause) {\n\t\t\t\t\tthis.adTimeTotal--;\n\t\t\t\t\tthis.showAdTime();\n\t\t\t\t\tthis.adCountDownObj = null;\n\t\t\t\t\tthis.adCountDownObj = setTimeout(function() {\n\t\t\t\t\t\tthisTemp.adCountDown();\n\t\t\t\t\t},\n\t\t\t\t\t1000);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.adI++;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t}\n\t\t},\n\t\t/*视频广告倒计时*/\n\t\tadPlayerTimeHandler: function(time) {\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tif (this.isStrImage(type)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adTimeTotal != parseInt(time)) {\n\t\t\t\tthis.adTimeTotal = parseInt(time);\n\t\t\t\tthis.showAdTime();\n\t\t\t}\n\t\t},\n\t\t/*格式化广告倒计时显示*/\n\t\tshowAdTime: function() {\n\t\t\tthis.adTimeAllTotal--;\n\t\t\tvar n = this.adTimeAllTotal;\n\t\t\tif (n < 0) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tthis.CB['adTimeText'].innerHTML = this.ckLanguage['adCountdown'].replace('[$second]', n).replace('[$Second]', n < 10 ? '0' + n: n);\n\t\t},\n\t\t/*\n\t\t\t单独监听其它广告\n\t\t*/\n\t\tcheckAdOther: function(t) {\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar adTime = this.advertisements['othertime'];\n\t\t\tvar adPlay = this.advertisements['otherPlay'];\n\t\t\tfor (var i = 0; i < adTime.length; i++) {\n\t\t\t\tif (t >= adTime[i] && !adPlay[i]) { //如果播放时间大于广告时间而该广告还没有播放，则开始播放\n\t\t\t\t\tadPlay[i] = true;\n\t\t\t\t\tthis.newAdOther(i);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t新建其它广告 \n\t\t*/\n\t\tnewAdOther: function(i) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar ad = this.advertisements['other'][i];\n\t\t\tvar randomS = this.randomString(10); //获取一个随机字符串\n\t\t\tvar adDivID = 'adother' + randomS; //广告容器\n\t\t\timgClassName = 'adimgother' + randomS;\n\t\t\tvar adDiv = document.createElement('div');\n\t\t\tadDiv.className = adDivID;\n\t\t\tthis.PD.appendChild(adDiv);\n\t\t\tad['div'] = adDivID;\n\t\t\tad['element'] = imgClassName;\n\t\t\tvar adHtml='<img src=\"' + ad['file'] + '\" class=\"' + imgClassName + '\">';\n\t\t\tif(ad['link']){\n\t\t\t\tadHtml='<a href=\"' + ad['link'] + '\" target=\"blank\">'+adHtml+'</a>';\n\t\t\t}\n\t\t\tthis.getByElement(adDivID).innerHTML =adHtml;\n\t\t\tthis.css(adDivID, {\n\t\t\t\tposition: 'absolute',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tzIndex: '996',\n\t\t\t\ttop: '-600px',\n\t\t\t\tleft: '-600px',\n\t\t\t\tcursor: 'pointer'\n\t\t\t});\n\t\t\tif (this.ckStyle['advertisement']['closeOtherButtonShow']) {\n\t\t\t\tvar closeAdDivID = 'adotherclose-' + randomS; //广告容器\n\t\t\t\tvar closeAdDiv = document.createElement('div');\n\t\t\t\tcloseAdDiv.className = closeAdDivID;\n\t\t\t\tthis.PD.appendChild(closeAdDiv);\n\t\t\t\tad['closeDiv'] = closeAdDivID;\n\t\t\t\tad['close'] = false;\n\t\t\t\tvar closeAdDivCss=this.getEleCss(this.ckStyle['advertisement']['closeOtherButton'],{offsetX:-10000,offsetY:-10000,cursor: 'pointer',zIndex: 997});\t\t\t\t\n\t\t\t\tthis.css(closeAdDivID, closeAdDivCss);\t\t\t\n\t\t\t\tvar adOtherCloseOver = function() {\n\t\t\t\t\tthisTemp.loadImgBg(closeAdDivID,thisTemp.ckStyle['advertisement']['closeOtherButton']['mouseOver']);\n\t\t\t\t};\n\t\t\t\tvar adOtherCloseOut = function() {\n\t\t\t\t\tthisTemp.loadImgBg(closeAdDivID,thisTemp.ckStyle['advertisement']['closeOtherButton']['mouseOut']);\n\t\t\t\t};\n\t\t\t\tadOtherCloseOut();\n\t\t\t\tthis.addListenerInside('mouseover', adOtherCloseOver, this.getByElement(closeAdDivID));\n\t\t\t\tthis.addListenerInside('mouseout', adOtherCloseOut, this.getByElement(closeAdDivID));\n\t\t\t}\n\t\t\tthis.addListenerInside('load',\n\t\t\tfunction() {\n\t\t\t\tvar imgObj = new Image();\n\t\t\t\timgObj.src = this.src;\n\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\tthisTemp.css([thisTemp.getByElement(imgClassName), thisTemp.getByElement(adDivID)], {\n\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\tborder: '0px'\n\t\t\t\t});\n\t\t\t\tthisTemp.advertisements['other'][i] = ad;\n\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\tthisTemp.adOtherCoor();\n\t\t\t},\n\t\t\tthis.getByElement(imgClassName));\n\t\t\tthis.addListenerInside('click',\n\t\t\tfunction() {\n\t\t\t\tthisTemp.adOtherClose(i);\n\t\t\t},\n\t\t\tthis.getByElement(closeAdDivID));\n\t\t\tthis.addListenerInside('click',\n\t\t\tfunction() {\n\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t},\n\t\t\tthis.getByElement(imgClassName));\n\t\t\tif (ad['time'] > 0) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthisTemp.adOtherClose(i);\n\t\t\t\t},\n\t\t\t\tad['time'] * 1000);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t关闭其它广告\n\t\t*/\n\t\tadOtherClose: function(i) {\n\t\t\tvar ad = this.advertisements['other'][i];\n\t\t\tif (!this.isUndefined(ad['close'])) {\n\t\t\t\tif (!ad['close']) {\n\t\t\t\t\tad['close'] = true;\n\t\t\t\t\tthis.PD.removeChild(this.getByElement(ad['div']));\n\t\t\t\t\tthis.PD.removeChild(this.getByElement(ad['closeDiv']));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tadOtherCloseAll: function() {\n\t\t\tif (!this.isUndefined(this.advertisements['other'])) {\n\t\t\t\tvar ad = this.advertisements['other'];\n\t\t\t\tfor (var i = 0; i < ad.length; i++) {\n\t\t\t\t\tthis.adOtherClose(i);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t计算其它广告的坐标\n\t\t*/\n\t\tadOtherCoor: function() {\n\t\t\tif (!this.isUndefined(this.advertisements['other'])) {\n\t\t\t\tvar arr = this.advertisements['other'];\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tvar ad = arr[i];\n\t\t\t\t\tif (!this.isUndefined(ad['close'])) {\n\t\t\t\t\t\tif (!ad['close']) {\n\t\t\t\t\t\t\tvar rr=this.ckStyle['advertisement']['closeOtherButton'];\n\t\t\t\t\t\t\tvar coor = this.getPosition(ad);\n\t\t\t\t\t\t\tvar x = coor['x'],\n\t\t\t\t\t\t\ty = coor['y'];\n\t\t\t\t\t\t\tthis.css(this.getByElement(ad['div']), {\n\t\t\t\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\t\t\t\ttop: y + 'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tvar cxy =  this.getPosition(rr,this.getByElement(ad['div']));\n\t\t\t\t\t\t\tif (!this.isUndefined(ad['closeDiv'])) {\n\t\t\t\t\t\t\t\tthis.css(this.getByElement(ad['closeDiv']), {\n\t\t\t\t\t\t\t\t\tleft: cxy['x'] + 'px',\n\t\t\t\t\t\t\t\t\ttop: cxy['y'] + 'px'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t单独监听中间插入广告\n\t\t*/\n\t\tcheckAdInsert: function(t) {\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar adTime = this.advertisements['inserttime'];\n\t\t\tvar adPlay = this.advertisements['insertPlay'];\n\t\t\tvar duration = this.getMetaDate()['duration'];\n\t\t\tfor (var i = adTime.length - 1; i > -1; i--) {\n\t\t\t\tif (t >= adTime[i] && t < duration - 2 && t > 1 && !adPlay[i]) { //如果播放时间大于广告时间而该广告还没有播放，则开始播放\n\t\t\t\t\tthis.adI = 0;\n\t\t\t\t\tthis.adType = 'insert';\n\t\t\t\t\tthis.adMuteInto();\n\t\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\t\tthis.adPlayStart = true;\n\t\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\t\tthis.videoPause();\n\t\t\t\t\tthis.advertisementsTime();\n\t\t\t\t\tthis.advertisementsPlay();\n\t\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\t\tadPlay[i] = true;\n\t\t\t\t\tfor (var n = 0; n < i + 1; n++) {\n\t\t\t\t\t\tadPlay[n] = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*格式化中间插入广告的播放时间*/\n\t\tformatInserttime: function(duration) {\n\t\t\tif (!this.isUndefined(this.advertisements['inserttime'])) {\n\t\t\t\tvar arr = this.advertisements['inserttime'];\n\t\t\t\tvar newArr = [];\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i].toString().substr( - 1) == '%') {\n\t\t\t\t\t\tnewArr.push(parseInt(duration * parseInt(arr[i]) * 0.01));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewArr.push(parseInt(arr[i]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.advertisements['inserttime'] = newArr;\n\t\t\t}\n\t\t},\n\t\t/*获取当前的广告*/\n\t\tgetNowAdvertisements: function() {\n\t\t\tif (this.adI == -1) {\n\t\t\t\treturn {\n\t\t\t\t\tfile: '',\n\t\t\t\t\ttime: 0,\n\t\t\t\t\tlink: ''\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn this.advertisements[this.adType][this.adI];\n\t\t},\n\t\t/*根据元件尺寸和播放器尺寸调整大小*/\n\t\tadjustmentWH: function(w, h) {\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tvar nw = 0,\n\t\t\tnh = 0;\n\t\t\tif (w >= width || h >= height) {\n\t\t\t\tif (width / w > height / h) {\n\t\t\t\t\tnh = height - 20;\n\t\t\t\t\tnw = w * nh / h;\n\t\t\t\t} else {\n\t\t\t\t\tnw = width - 20;\n\t\t\t\t\tnh = h * nw / w;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnw = w;\n\t\t\t\tnh = h;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\twidth: nw,\n\t\t\t\theight: nh\n\t\t\t}\n\t\t},\n\t\t/*单独请求一次地址，但不处理返回的数据*/\n\t\tajaxSuccessNull: function(url) {\n\t\t\tif (!this.isUndefined(url)) {\n\t\t\t\tvar ajaxObj = {\n\t\t\t\t\turl: url,\n\t\t\t\t\tsuccess: function(data) {}\n\t\t\t\t};\n\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t运行指定函数\n\t\t*/\n\t\trunFunction: function(s) {\n\t\t\ttry {\n\t\t\t\tvar arr = s.split('->');\n\t\t\t\tif(arr.length==2){\n\t\t\t\t\tswitch (arr[0]) {\n\t\t\t\t\t\tcase 'javaScript':\n\t\t\t\t\t\t\tif(arr[1].substr(0,11)!='[flashvars]'){\n\t\t\t\t\t\t\t\teval(arr[1] + '()');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\teval(this.vars[arr[1].substr(11)] + '()');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'actionScript':\n\t\t\t\t\t\t\teval('this.' + arr[1] + '()');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.sendJS('clickEvent', s);\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t使用画布附加视频\n\t\t*/\n\t\tsendVCanvas: function() {\n\t\t\tif (this.timerVCanvas == null) {\n\t\t\t\tthis.css(this.V, 'display', 'none');\n\t\t\t\tthis.css(this.MD, 'display', 'block');\n\t\t\t\tvar thisTemp = this;\n\t\t\t\tvar videoCanvas = function() {\n\t\t\t\t\tif (thisTemp.MDCX.width != thisTemp.MD.offsetWidth) {\n\t\t\t\t\t\tthisTemp.MDC.width = thisTemp.MD.offsetWidth;\n\t\t\t\t\t}\n\t\t\t\t\tif (thisTemp.MDCX.height != thisTemp.MD.offsetHeight) {\n\t\t\t\t\t\tthisTemp.MDC.height = thisTemp.MD.offsetHeight;\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.MDCX.clearRect(0, 0, thisTemp.MDCX.width, thisTemp.MDCX.height);\n\t\t\t\t\tvar coor = thisTemp.getProportionCoor(thisTemp.PD.offsetWidth, thisTemp.PD.offsetHeight, thisTemp.V.videoWidth, thisTemp.V.videoHeight);\n\t\t\t\t\tthisTemp.MDCX.drawImage(thisTemp.V, 0, 0, thisTemp.V.videoWidth, thisTemp.V.videoHeight, coor['x'], coor['y'], coor['width'], coor['height']);\n\t\t\t\t};\n\t\t\t\tthis.timerVCanvas = new this.timer(0, videoCanvas);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听暂停\n\t\t*/\n\t\tpauseHandler: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.playShow(false);\n\t\t\tif (this.animatePauseArray.length > 0) {\n\t\t\t\tthis.animatePause('pause');\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video' && this.V != null && this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\tthis.stopVCanvas();\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['pause']) && !this.adPlayStart && !this.adPauseShow) { //如果存在暂停广告\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['pause']) && !thisTemp.adPlayStart && !thisTemp.adPauseShow && thisTemp.time > 1) { //如果存在暂停广告\n\t\t\t\t\t\tthisTemp.adPausePlayer();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t300);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t停止画布\n\t\t*/\n\t\tstopVCanvas: function() {\n\t\t\tif (this.timerVCanvas != null) {\n\t\t\t\tthis.css(this.V, 'display', 'block');\n\t\t\t\tthis.css(this.MD, 'display', 'none');\n\t\t\t\tif (this.timerVCanvas.runing) {\n\t\t\t\t\tthis.timerVCanvas.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerVCanvas = null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据当前播放还是暂停确认图标显示\n\t\t*/\n\t\tplayShow: function(b) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (b) {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'block');\n\t\t\t\tif (this.css(this.CB['errorText'], 'display') == 'none') {\n\t\t\t\t\tif (!this.adPlayerPlay) {\n\t\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'block');\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'none');\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'none');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听seek结束\n\t\t*/\n\t\tseekedHandler: function() {\n\t\t\tthis.resetTrack();\n\t\t\tthis.isTimeButtonMove = true;\n\t\t\tif (this.V.paused) {\n\t\t\t\tif(this.hlsAutoPlay){\n\t\t\t\t\tthis.videoPlay();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.hlsAutoPlay=true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放结束\n\t\t*/\n\t\tendedHandler: function() {\n\t\t\tthis.sendJS('ended');\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adI++;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.endAdPlay && !this.isUndefined(this.advertisements['end'])) {\n\t\t\t\tthis.endAdPlay = true;\n\t\t\t\tthis.adI = 0;\n\t\t\t\tthis.adType = 'end';\n\t\t\t\tthis.adMuteInto();\n\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\tthis.adPlayStart = true;\n\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\tthis.videoPause();\n\t\t\t\tthis.advertisementsTime();\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\tthis.adReset = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.endedAdReset();\n\t\t\tif (this.vars['loop']) {\n\t\t\t\tthis.videoSeek(0);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t重置结束后相关的设置\n\t\t*/\n\t\tendedAdReset: function() {\n\t\t\tvar arr = [];\n\t\t\tvar i = 0;\n\t\t\tif (!this.isUndefined(this.advertisements['insertPlay'])) {\n\t\t\t\tarr = this.advertisements['insertPlay'];\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tthis.advertisements['insertPlay'][i] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['otherPlay'])) {\n\t\t\t\tarr = this.advertisements['otherPlay'];\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tthis.advertisements['otherPlay'][i] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//this.endAdPlay=false;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听音量改变\n\t\t*/\n\t\tvolumechangeHandler: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ((this.ckConfig['config']['mobileVolumeBarShow'] || !this.isMobile()) && this.css(this.CB['volume'], 'display') != 'none') {\n\t\t\t\ttry {\n\t\t\t\t\tvar volume=this.volume || this.V.volume;\n\t\t\t\t\tif (volume > 0) {\n\t\t\t\t\t\tthis.css(this.CB['mute'], 'display', 'block');\n\t\t\t\t\t\tthis.css(this.CB['escMute'], 'display', 'none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.css(this.CB['mute'], 'display', 'none');\n\t\t\t\t\t\tthis.css(this.CB['escMute'], 'display', 'block');\n\t\t\t\t\t}\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放时间调节进度条\n\t\t*/\n\t\ttimeUpdateHandler: function() {\n\t\t\tvar duration = 0;\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\ttry {\n\t\t\t\t\tduration = this.V.duration;\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tif (duration > 0) {\n\t\t\t\tthis.time = this.V.currentTime;\n\t\t\t\tthis.timeTextHandler();\n\t\t\t\tthis.trackShowHandler();\n\t\t\t\tif (this.isTimeButtonMove) {\n\t\t\t\t\tthis.timeProgress(this.time, duration);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t改变控制栏坐标\n\t\t*/\n\t\tcontrolBar:function(){\n\t\t\t//控制栏背景\n\t\t\tvar cb=this.ckStyle['controlBar'];\n\t\t\tvar cssObjTemp={\n\t\t\t\talign:cb['align'],\n\t\t\t\tvAlign:cb['vAlign'],\n\t\t\t\twidth:cb['width'],\n\t\t\t\theight:cb['height'],\n\t\t\t\toffsetX:cb['offsetX'],\n\t\t\t\toffsetY:cb['offsetY']\n\t\t\t\t\n\t\t\t};\n\t\t\tvar bgCss={\n\t\t\t\tbackgroundColor:cb['background']['backgroundColor'],\n\t\t\t\tbackgroundImg:cb['background']['backgroundImg'],\n\t\t\t\talpha:cb['background']['alpha']\n\t\t\t};\n\t\t\tvar cssTemp=this.getEleCss(this.objectAssign(cssObjTemp,bgCss),{zIndex:888});\n\t\t\tthis.css(this.CB['controlBarBg'], cssTemp);\n\t\t\t//控制栏容器\n\t\t\tcssTemp=this.getEleCss(cssObjTemp,{zIndex:889});\n\t\t\tthis.css(this.CB['controlBar'], cssTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t按时间改变进度条\n\t\t*/\n\t\ttimeProgress: function(time, duration) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar timeProgressBgW = this.CB['timeProgressBg'].offsetWidth;\n\t\t\tvar timeBOW = parseInt((time * timeProgressBgW / duration) - (this.CB['timeButton'].offsetWidth * 0.5));\n\t\t\tif (timeBOW > timeProgressBgW - this.CB['timeButton'].offsetWidth) {\n\t\t\t\ttimeBOW = timeProgressBgW - this.CB['timeButton'].offsetWidth;\n\t\t\t}\n\t\t\tif (timeBOW < 0) {\n\t\t\t\ttimeBOW = 0;\n\t\t\t}\n\t\t\tthis.css(this.CB['timeProgress'], 'width', timeBOW + 'px');\n\t\t\tthis.css(this.CB['timeButton'], 'left', parseInt(timeBOW) + 'px');\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放时间改变时间显示文本框\n\t\t*/\n\t\ttimeTextHandler: function() { //显示时间/总时间\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar duration = this.V.duration;\n\t\t\tvar time = this.V.currentTime;\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tthis.CB['timeText'].innerHTML = this.formatTime(time,duration,this.ckLanguage['vod']);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听是否是缓冲状态\n\t\t*/\n\t\tbufferEdHandler: function() {\n\t\t\tif (!this.conBarShow || this.playerType == 'flashplayer') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar clearTimerBuffer = function() {\n\t\t\t\tif (thisTemp.timerBuffer != null) {\n\t\t\t\t\tif (thisTemp.timerBuffer.runing) {\n\t\t\t\t\t\tthisTemp.sendJS('buffer', 100);\n\t\t\t\t\t\tthisTemp.timerBuffer.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerBuffer = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tclearTimerBuffer();\n\t\t\tvar bufferFun = function() {\n\t\t\t\tif (!thisTemp.isUndefined(thisTemp.V) && thisTemp.V.buffered.length > 0) {\n\t\t\t\t\tvar duration = thisTemp.V.duration;\n\t\t\t\t\tvar len = thisTemp.V.buffered.length;\n\t\t\t\t\tvar bufferStart = thisTemp.V.buffered.start(len - 1);\n\t\t\t\t\tvar bufferEnd = thisTemp.V.buffered.end(len - 1);\n\t\t\t\t\tvar loadTime = bufferStart + bufferEnd;\n\t\t\t\t\tvar loadProgressBgW = thisTemp.CB['timeProgressBg'].offsetWidth;\n\t\t\t\t\tvar timeButtonW = thisTemp.CB['timeButton'].offsetWidth;\n\t\t\t\t\tvar loadW = parseInt((loadTime * loadProgressBgW / duration) + timeButtonW);\n\t\t\t\t\tif (loadW >= loadProgressBgW) {\n\t\t\t\t\t\tloadW = loadProgressBgW;\n\t\t\t\t\t\tclearTimerBuffer();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.changeLoad(loadTime);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerBuffer = new this.timer(200, bufferFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t单独计算加载进度\n\t\t*/\n\t\tchangeLoad: function(loadTime) {\n\t\t\tif (this.V == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar loadProgressBgW = this.CB['timeProgressBg'].offsetWidth;\n\t\t\tvar timeButtonW = this.CB['timeButton'].offsetWidth;\n\t\t\tvar duration = this.V.duration;\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tif (this.isUndefined(loadTime)) {\n\t\t\t\tloadTime = this.loadTime;\n\t\t\t} else {\n\t\t\t\tthis.loadTime = loadTime;\n\t\t\t}\n\t\t\tvar loadW = parseInt((loadTime * loadProgressBgW / duration) + timeButtonW);\n\t\t\tthis.css(this.CB['loadProgress'], 'width', loadW + 'px');\n\t\t\tthis.sendJS('loadTime',loadTime);\n\t\t\tthis.loadTimeTemp=loadTime;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否是直播\n\t\t*/\n\t\tjudgeIsLive: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.timerError != null) {\n\t\t\t\tif (this.timerError.runing) {\n\t\t\t\t\tthis.timerError.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerError = null;\n\t\t\t}\n\t\t\tthis.error = false;\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.css(this.CB['errorText'], 'display', 'none');\n\t\t\t}\n\t\t\tvar timeupdate = function(event) {\n\t\t\t\tthisTemp.timeUpdateHandler();\n\t\t\t};\n\t\t\tif (!this.vars['live']) {\n\t\t\t\tif (this.V != null && this.playerType == 'html5video') {\n\t\t\t\t\tthis.addListenerInside('timeupdate', timeupdate);\n\t\t\t\t\tthisTemp.timeTextHandler();\n\t\t\t\t\tthisTemp.prompt(); //添加提示点\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tthisTemp.bufferEdHandler();\n\t\t\t\t\t},\n\t\t\t\t\t200);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('timeupdate', timeupdate);\n\t\t\t\tif (this.timerTime != null) {\n\t\t\t\t\twindow.clearInterval(this.timerTime);\n\t\t\t\t\ttimerTime = null;\n\t\t\t\t}\n\t\t\t\tif (this.timerTime != null) {\n\t\t\t\t\tif (this.timerTime.runing) {\n\t\t\t\t\t\tthis.timerTime.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthis.timerTime = null;\n\t\t\t\t}\n\t\t\t\tvar timeFun = function() {\n\t\t\t\t\tif (thisTemp.V != null && !thisTemp.V.paused && thisTemp.conBarShow) {\n\t\t\t\t\t\tthisTemp.CB['timeText'].innerHTML = thisTemp.formatTime(0,0,thisTemp.ckLanguage['live']); //时间显示框默认显示内容\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.timerTime = new this.timer(1000, timeFun);\n\t\t\t\t//timerTime.start();\n\t\t\t}\n\t\t\tthis.definition();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载字幕\n\t\t*/\n\t\tloadTrack: function(def) {\n\t\t\tif (this.playerType == 'flashplayer' || this.vars['flashplayer'] == true) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(def)){\n\t\t\t\tdef=-1;\n\t\t\t}\n\t\t\tvar track = this.vars['cktrack'];\n\t\t\tvar loadTrackUrl='';\n\t\t\tvar type=this.varType(track);\n\t\t\tvar thisTemp = this;\n\t\t\tif(type=='array'){\n\t\t\t\tif(def==-1){\n\t\t\t\t\tvar index=0;\n\t\t\t\t\tvar indexN=0;\n\t\t\t\t\tfor(var i=0;i<track.length;i++){\n\t\t\t\t\t\tvar li=track[i];\n\t\t\t\t\t\tif(li.length==3 && li[2]>indexN){\n\t\t\t\t\t\t\tindexN=li[2];\n\t\t\t\t\t\t\tindex=i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tindex=def;\n\t\t\t\t}\n\t\t\t\tloadTrackUrl=track[index][0];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tloadTrackUrl=track;\n\t\t\t}\n\t\t\tvar obj = {\n\t\t\t\tmethod: 'get',\n\t\t\t\tdataType: 'text',\n\t\t\t\turl: loadTrackUrl,\n\t\t\t\tcharset: 'utf-8',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tif(data){\n\t\t\t\t\t\tthisTemp.track = thisTemp.parseSrtSubtitles(data);\n\t\t\t\t\t\tthisTemp.trackIndex = 0;\n\t\t\t\t\t\tthisTemp.nowTrackShow = {\n\t\t\t\t\t\t\tsn: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.ajax(obj);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重置字幕\n\t\t*/\n\t\tresetTrack: function() {\n\t\t\tthis.trackIndex = 0;\n\t\t\tthis.nowTrackShow = {\n\t\t\t\tsn: ''\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据时间改变读取显示字幕\n\t\t*/\n\t\ttrackShowHandler: function() {\n\t\t\tif (!this.conBarShow || this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.track.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.trackIndex >= this.track.length) {\n\t\t\t\tthis.trackIndex = 0;\n\t\t\t}\n\t\t\tvar nowTrack = this.track[this.trackIndex]; //当前编号对应的字幕内容\n\t\t\t/*\n\t\t\t\tthis.nowTrackShow=当前显示在界面上的内容\n\t\t\t\t如果当前时间正好在nowTrack时间内，则需要判断\n\t\t\t*/\n\t\t\tif (this.time >= nowTrack['startTime'] && this.time <= nowTrack['endTime']) {\n\t\t\t\t/*\n\t\t\t\t \t如果当前显示的内容不等于当前需要显示的内容时，则需要显示正确的内容\n\t\t\t\t*/\n\t\t\t\tvar nowShow = this.nowTrackShow;\n\t\t\t\tif (nowShow['sn'] != nowTrack['sn']) {\n\t\t\t\t\tthis.trackHide();\n\t\t\t\t\tthis.trackShow(nowTrack);\n\t\t\t\t\tthis.nowTrackTemp=nowTrack;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/*\n\t\t\t\t  如果当前播放时间不在当前编号字幕内，则需要先清空当前的字幕内容，再显示新的字幕内容\n\t\t\t\t*/\n\t\t\t\tthis.trackHide();\n\t\t\t\tthis.checkTrack();\n\t\t\t}\n\t\t},\n\t\ttrackShowAgain:function(){\n\t\t\tthis.trackHide();\n\t\t\tthis.trackShow(this.nowTrackTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示字幕内容\n\t\t*/\n\t\ttrackShow: function(track) {\n\t\t\tthis.nowTrackShow = track;\n\t\t\tvar arr = track['content'];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar obj = {\n\t\t\t\t\tlist: [{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\ttext: arr[i],\n\t\t\t\t\t\tcolor: this.ckStyle['cktrack']['color'],\n\t\t\t\t\t\tsize: this.ckStyle['cktrack']['size'],\n\t\t\t\t\t\tfontFamily: this.ckStyle['cktrack']['font'],\n\t\t\t\t\t\tlineHeight: this.ckStyle['cktrack']['leading']+'px'\n\t\t\t\t\t}],\n\t\t\t\t\tposition: [1, 2, null, -(arr.length - i) * this.ckStyle['cktrack']['leading'] - this.ckStyle['cktrack']['marginBottom']]\n\t\t\t\t};\n\t\t\t\tvar ele = this.addElement(obj);\n\t\t\t\tthis.trackElement.push(ele);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t隐藏字幕内容\n\t\t*/\n\t\ttrackHide: function() {\n\t\t\tfor (var i = 0; i < this.trackElement.length; i++) {\n\t\t\t\tthis.deleteElement(this.trackElement[i]);\n\t\t\t}\n\t\t\tthis.trackElement = [];\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重新计算字幕的编号\n\t\t*/\n\t\tcheckTrack: function() {\n\t\t\tvar num = this.trackIndex;\n\t\t\tvar arr = this.track;\n\t\t\tvar i = 0;\n\t\t\tfor (i = num; i < arr.length; i++) {\n\t\t\t\tif (this.time >= arr[i]['startTime'] && this.time <= arr[i]['endTime']) {\n\t\t\t\t\tthis.trackIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t-----------------------------------------------------------------------------接口函数开始\n\t\t\t接口函数\n\t\t\t在播放和暂停之间切换\n\t\t*/\n\t\tplayOrPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.playOrPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V.paused) {\n\t\t\t\tthis.videoPlay();\n\t\t\t} else {\n\t\t\t\tthis.videoPause();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t播放动作\n\t\t*/\n\t\tvideoPlay: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.eliminateAd(); //清除广告\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (this.V.currentSrc) {\n\t\t\t\t\tthis.V.play();\n\t\t\t\t}\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t暂停动作\n\t\t*/\n\t\tvideoPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.V.pause();\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t跳转时间动作\n\t\t*/\n\t\tvideoSeek: function(time) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoSeek(time);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar duration = this.V.duration>0.2?this.V.duration:this.getMetaDate()['duration'];\n\t\t\tif (duration > 0 && time > duration) {\n\t\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\t\ttime=0;\n\t\t\t\t\tthis.sendJS('ended');\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ttime = duration-0.1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (time >= 0) {\n\t\t\t\tthis.V.currentTime = time;\n\t\t\t\tthis.sendJS('seekTime', time);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t调节音量/获取音量\n\t\t*/\n\t\tchangeVolume: function(vol, bg, button) {\t\t\t\n\t\t\tif (this.loaded) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tthis.V.changeVolume(vol);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isNaN(vol) || this.isUndefined(vol)) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (!this.loaded) {\n\t\t\t\tthis.vars['volume'] = vol;\n\t\t\t}\n\t\t\tif (!this.html5Video) {\n\t\t\t\tthis.V.changeVolume(vol);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (this.isUndefined(bg)) {\n\t\t\t\t\tbg = true;\n\t\t\t\t}\n\t\t\t} catch(e) {}\n\t\t\ttry {\n\t\t\t\tif (this.isUndefined(button)) {\n\t\t\t\t\tbutton = true;\n\t\t\t\t}\n\t\t\t} catch(e) {}\n\t\t\tif (!vol) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (vol < 0) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (vol > 1) {\n\t\t\t\tvol = 1;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.V.volume = vol;\n\t\t\t} catch(error) {}\n\t\t\tthis.volume = vol;\n\t\t\tif (bg && this.conBarShow) {\n\t\t\t\tvar bgW = vol * this.CB['volumeBg'].offsetWidth;\n\t\t\t\tif (bgW < 0) {\n\t\t\t\t\tbgW = 0;\n\t\t\t\t}\n\t\t\t\tif (bgW > this.CB['volumeBg'].offsetWidth) {\n\t\t\t\t\tbgW = this.CB['volumeBg'].offsetWidth;\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['volumeUp'], 'width', bgW + 'px');\n\t\t\t}\n\n\t\t\tif (button && this.conBarShow) {\n\t\t\t\tvar buLeft = parseInt(this.CB['volumeUp'].offsetWidth - (this.CB['volumeBO'].offsetWidth * 0.5));\n\t\t\t\tif (buLeft > this.CB['volumeBg'].offsetWidth - this.CB['volumeBO'].offsetWidth) {\n\t\t\t\t\tbuLeft = this.CB['volumeBg'].offsetWidth - this.CB['volumeBO'].offsetWidth\n\t\t\t\t}\n\t\t\t\tif (buLeft < 0) {\n\t\t\t\t\tbuLeft = 0;\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['volumeBO'], 'left', buLeft + 'px');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t静音\n\t\t*/\n\t\tvideoMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoMute();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.volumeTemp = this.V ? (this.V.volume > 0 ? this.V.volume: this.vars['volume']) : this.vars['volume'];\n\t\t\tthis.changeVolume(0);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t取消静音\n\t\t*/\n\t\tvideoEscMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoEscMute();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.changeVolume(this.volumeTemp > 0 ? this.volumeTemp: this.vars['volume']);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t视频广告静音\n\t\t*/\n\t\tadMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.changeVolume(0);\n\t\t\tthis.adVideoMute = true;\n\t\t\tthis.css(this.CB['adEscMute'], 'display', 'block');\n\t\t\tthis.css(this.CB['adMute'], 'display', 'none');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t视频广告取消静音\n\t\t*/\n\t\tescAdMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar v = this.ckStyle['advertisement']['videoVolume'];\n\t\t\tthis.changeVolume(v);\n\t\t\tthis.adMuteInto();\n\t\t},\n\t\t/*\n\t\t \t初始化广告的音量按钮\n\t\t*/\n\t\tadMuteInto: function() {\n\t\t\tthis.adVideoMute = false;\n\t\t\tthis.css(this.CB['adEscMute'], 'display', 'none');\n\t\t\tthis.css(this.CB['adMute'], 'display', 'block');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t快退\n\t\t*/\n\t\tfastBack: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.fastBack();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = this.time - this.ckConfig['config']['timeJump'];\n\t\t\tif (time < 0) {\n\t\t\t\ttime = 0;\n\t\t\t}\n\t\t\tthis.videoSeek(time);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t快进\n\t\t*/\n\t\tfastNext: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.fastNext();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = this.time + this.ckConfig['config']['timeJump'];\n\t\t\tif (time > this.V.duration) {\n\t\t\t\ttime = this.V.duration;\n\t\t\t}\n\t\t\tthis.videoSeek(time);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t获取当前播放的地址\n\t\t*/\n\t\tgetCurrentSrc: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getCurrentSrc();\n\t\t\t}\n\t\t\treturn this.V.currentSrc;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t全屏/退出全屏动作，该动作只能是用户操作才可以触发，比如用户点击按钮触发该事件\n\t\t*/\n\t\tswitchFull: function() {\n\t\t\tif (this.full) {\n\t\t\t\tthis.quitFullScreen();\n\t\t\t} else {\n\t\t\t\tthis.fullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t全屏动作，该动作只能是用户操作才可以触发，比如用户点击按钮触发该事件\n\t\t*/\n\t\tfullScreen: function() {\n\t\t\tif (this.html5Video && this.playerType == 'html5video') {\n\t\t\t\tvar element = this.PD;\n\t\t\t\tif (element.requestFullscreen) {\n\t\t\t\t\telement.requestFullscreen();\n\t\t\t\t} else if (element.mozRequestFullScreen) {\n\t\t\t\t\telement.mozRequestFullScreen();\n\t\t\t\t} else if (element.webkitRequestFullscreen) {\n\t\t\t\t\telement.webkitRequestFullscreen();\n\t\t\t\t} else if (element.msRequestFullscreen) {\n\t\t\t\t\telement.msRequestFullscreen();\n\t\t\t\t} else if (element.oRequestFullscreen) {\n\t\t\t\t\telement.oRequestFullscreen();\n\t\t\t\t}\n\t\t\t\tthis.judgeFullScreen();\n\t\t\t} else {\n\t\t\t\t//this.V.fullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t退出全屏动作\n\t\t*/\n\t\tquitFullScreen: function() {\n\t\t\tif (this.html5Video && this.playerType == 'html5video') {\n\t\t\t\tif (document.exitFullscreen) {\n\t\t\t\t\tdocument.exitFullscreen();\n\t\t\t\t} else if (document.msExitFullscreen) {\n\t\t\t\t\tdocument.msExitFullscreen();\n\t\t\t\t} else if (document.mozCancelFullScreen) {\n\t\t\t\t\tdocument.mozCancelFullScreen();\n\t\t\t\t} else if (document.oRequestFullscreen) {\n\t\t\t\t\tdocument.oCancelFullScreen();\n\t\t\t\t} else if (document.requestFullscreen) {\n\t\t\t\t\tdocument.requestFullscreen();\n\t\t\t\t} else if (document.webkitExitFullscreen) {\n\t\t\t\t\tdocument.webkitExitFullscreen();\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(document.documentElement, 'cssText', '');\n\t\t\t\t\tthis.css(document.document.body, 'cssText', '');\n\t\t\t\t\tthis.css(this.PD, 'cssText', '');\n\t\t\t\t}\n\t\t\t\tthis.judgeFullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t 下面列出只有flashplayer里支持的 \n\t\t */\n\t\tvideoRotation: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoRotation(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(n)) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tvar tf = this.css(this.V, 'transform');\n\t\t\tif (this.isUndefined(tf) && !tf) {\n\t\t\t\ttf = 'rotate(0deg)';\n\t\t\t}\n\t\t\tvar reg = tf.match(/rotate\\([^)]+\\)/);\n\t\t\treg = reg ? reg[0].replace('rotate(', '').replace('deg)', '') : '';\n\t\t\tif (reg == '') {\n\t\t\t\treg = 0;\n\t\t\t} else {\n\t\t\t\treg = parseInt(reg);\n\t\t\t}\n\t\t\tif (n == -1) {\n\t\t\t\treg -= 90;\n\t\t\t} else if (n == 1) {\n\t\t\t\treg += 90;\n\t\t\t} else {\n\t\t\t\tif (n != 90 && n != 180 && n != 270 && n != -90 && n != -180 && n != -270) {\n\t\t\t\t\treg = 0;\n\t\t\t\t} else {\n\t\t\t\t\treg = n;\n\t\t\t\t}\n\t\t\t}\n\t\t\tn = reg;\n\t\t\tvar y90 = n % 90,\n\t\t\ty180 = n % 180,\n\t\t\ty270 = n % 270;\n\t\t\tvar ys = false;\n\t\t\tif (y90 == 0 && y180 == 90 && y270 == 90) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == 0 && y180 == 90 && y270 == 0) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == -0 && y180 == -90 && y270 == -90) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == -0 && y180 == -90 && y270 == -0) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\ttf = tf.replace(/rotate\\([^)]+\\)/, '').replace(/scale\\([^)]+\\)/, '') + ' rotate(' + n + 'deg)';\n\t\t\tvar cdW = this.CD.offsetWidth,\n\t\t\tcdH = this.CD.offsetHeight,\n\t\t\tvW = this.V.videoWidth,\n\t\t\tvH = this.V.videoHeight;\n\t\t\tif (vW > 0 && vH > 0) {\n\t\t\t\tif (ys) {\n\t\t\t\t\tif (cdW / cdH > vH / vW) {\n\t\t\t\t\t\tnH = cdH;\n\t\t\t\t\t\tnW = vH * nH / vW;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnW = cdW;\n\t\t\t\t\t\tnH = vW * nW / vH;\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(this.V, 'transform', 'rotate(0deg)');\n\t\t\t\t\tthis.css(this.V, 'transform', 'scale(' + nH / cdW + ',' + nW / cdH + ')' + tf);\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\t}\n\t\t\treturn;\n\t\t},\n\t\tvideoBrightness: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoBrightness(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoContrast: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoContrast(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoSaturation: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoSaturation(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoHue: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoHue(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoZoom: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoZoom(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(n)) {\n\t\t\t\tn = 1;\n\t\t\t}\n\t\t\tif (n < 0) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tif (n > 2) {\n\t\t\t\tn = 2;\n\t\t\t}\n\t\t\tvar tf = this.css(this.V, 'transform');\n\t\t\ttf = tf.replace(/scale\\([^)]+\\)/, '') + ' scale(' + n + ')';\n\t\t\tthis.videoScale = n;\n\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\treturn;\n\t\t},\n\t\tvideoProportion: function(w, h) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoProportion(w, h);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tadPlay: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.adPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adIsPause = false;\n\t\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\t\tvar type = ad['type'];\n\t\t\t\tif (this.isStrImage(type)) {\n\t\t\t\t\tthis.adCountDown();\n\t\t\t\t} else {\n\t\t\t\t\tthis.V.play();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tadPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.adPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adIsPause = true;\n\t\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\t\tvar type = ad['type'];\n\t\t\t\tif (type != 'jpg' && type != 'jpeg' && type != 'png' && type != 'svg' && type != 'gif') {\n\t\t\t\t\tthis.videoPause();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tvideoError: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoError(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tchangeConfig: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\tswitch(args.length){\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tthis.V.changeConfig(args[0]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 7:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar obj = this.ckConfig;\n\t\t\tvar arg = arguments;\n\t\t\tfor (var i = 0; i < arg.length - 1; i++) {\n\t\t\t\tif (obj.hasOwnProperty(arg[i])) {\n\t\t\t\t\tobj = obj[arg[i]];\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar val = arg[arg.length - 1];\n\t\t\tswitch (arg.length) {\n\t\t\t\tcase 2:\n\t\t\t\t\tthis.ckConfig[arg[0]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 7:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 9:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]][arg[7]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 10:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]][arg[7]][arg[8]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.sendJS('configChange', this.ckConfig);\n\t\t},\n\t\tcustom: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.custom(arguments);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(arguments)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar type='',name='',display='';\n\t\t\tif(arguments.length==4){//控制栏\n\t\t\t\ttype='controlBar-'+arguments[1];\n\t\t\t\tname=arguments[2];\n\t\t\t\tdisplay=arguments[3]?'block':'none';\n\t\t\t}\n\t\t\telse if(arguments.length==3){//播放器\n\t\t\t\ttype='player-'+arguments[0];\n\t\t\t\tname=arguments[1];\n\t\t\t\tdisplay=arguments[2]?'block':'none';\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor(var k in this.customeElement){\n\t\t\t\tvar obj=this.customeElement[k];\n\t\t\t\tif(obj['type']==type && obj['name']==name){\n\t\t\t\t\tthis.css(obj['ele'],'display',display);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetConfig: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getConfig(arguments);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar temp=this.ckConfig;\n\t\t\t\tfor(var index in arguments) {  \n\t\t\t        try{\n\t\t\t        \ttemp=temp[arguments[index]];\n\t\t\t        }\n\t\t\t        catch(error){\n\t\t\t        \ttemp=null;\n\t\t\t        }\n\t\t\t    }; \n\t\t\t\treturn temp;\n\t\t\t}\n\t\t},\n\t\topenUrl: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.openUrl(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t清除视频\n\t\t*/\n\t\tvideoClear: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoClear();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.V.innerHTML='';\n\t\t\tthis.V.src='';\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t向播放器传递新的视频地址\n\t\t*/\n\t\tnewVideo: function(c) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.newVideo(c);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.embed(c);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t截图\n\t\t*/\n\t\tscreenshot: function(obj, save, name) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.screenshot(obj, save, name);\n\t\t\t\t} catch(error) {\n\t\t\t\t\tthis.log(error);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (obj == 'video') {\n\t\t\t\tvar newCanvas = document.createElement('canvas');\n\t\t\t\tnewCanvas.width = this.V.videoWidth;\n\t\t\t\tnewCanvas.height = this.V.videoHeight;\n\t\t\t\tnewCanvas.getContext('2d').drawImage(this.V, 0, 0, this.V.videoWidth, this.V.videoHeight);\n\t\t\t\ttry {\n\t\t\t\t\tvar base64 = newCanvas.toDataURL('image/jpeg');\n\t\t\t\t\tthis.sendJS('screenshot', {\n\t\t\t\t\t\tobject: obj,\n\t\t\t\t\t\tsave: save,\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tbase64: base64\n\t\t\t\t\t});\n\t\t\t\t} catch(error) {\n\t\t\t\t\tthis.log(error);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t改变播放器尺寸\n\t\t*/\n\t\tchangeSize: function(w, h) {\n\t\t\tif (this.isUndefined(w)) {\n\t\t\t\tw = 0;\n\t\t\t}\n\t\t\tif (this.isUndefined(h)) {\n\t\t\t\th = 0;\n\t\t\t}\n\t\t\tif (w > 0) {\n\t\t\t\tthis.css(this.CD, 'width', w + 'px');\n\t\t\t}\n\t\t\tif (h > 0) {\n\t\t\t\tthis.css(this.CD, 'height', h + 'px');\n\t\t\t}\n\t\t\tif (this.html5Video) {\n\t\t\t\tthis.playerResize();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t重置播放器界面\n\t\t*/\n\t\tplayerResize:function(){\n\t\t\tthis.controlBar();//控制栏按钮\n\t\t\tthis.elementCoordinate();\n\t\t\tthis.carbarButton();\n\t\t\tthis.customCoor();//自定义元件的位置重置\n\t\t\tthis.timeProgressDefault();//进度条默认样式\n\t\t\tthis.videoCss();//计算video的宽高和位置\n\t\t\tthis.timeUpdateHandler();//修改进度条样式\n\t\t\tthis.changeElementCoor(); //修改新加元件的坐标\n\t\t\tthis.changePrompt();//重置提示点\n\t\t\tthis.advertisementStyle();//广告控制样式\n\t\t\tthis.adPauseCoor();\n\t\t\tthis.adOtherCoor();\n\t\t\tthis.changeLoad();\n\t\t\tthis.sendJS('resize');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t改变视频播放速度\n\t\t*/\n\t\tchangePlaybackRate: function(n) {\n\t\t\tif (this.html5Video) {\n\t\t\t\tvar arr = this.playbackRateArr;\n\t\t\t\tn = parseInt(n);\n\t\t\t\tif (n < arr.length) {\n\t\t\t\t\tthis.newPlaybackrate(arr[n][1]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册控制控制栏显示与隐藏函数\n\t\t*/\n\t\tchangeControlBarShow: function(show) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeControlBarShow(show);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (show) {\n\t\t\t\tthis.controlBarIsShow = true;\n\t\t\t\tthis.controlBarHide(false);\n\t\t\t} else {\n\t\t\t\tthis.controlBarIsShow = false;\n\t\t\t\tthis.controlBarHide(true);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t-----------------------------------------------------------------------\n\t\t\t调用flashplayer\n\t\t*/\n\t\tembedSWF: function() {\n\t\t\tvar vid = 'ckplayer-'+this.randomString();\n\t\t\tvar flashvars = this.getFlashVars();\n\t\t\tvar param = this.getFlashplayerParam();\n\t\t\tvar flashplayerUrl = 'http://www.macromedia.com/go/getflashplayer';\n\t\t\tvar html = '',\n\t\t\tsrc = this.ckplayerPath + 'ckplayer.swf';\n\t\t\tid = 'id=\"' + vid + '\" name=\"' + vid + '\" ';\n\t\t\thtml += '<object pluginspage=\"' + flashplayerUrl + '\" classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=11,3,0,0\" width=\"100%\" height=\"100%\" ' + id + ' align=\"middle\" wmode=\"transparent\">';\n\t\t\thtml += param['v'];\n\t\t\thtml += '<param name=\"movie\" value=\"' + src + '\">';\n\t\t\thtml += '<param name=\"flashvars\" value=\"' + flashvars + '\">';\n\t\t\thtml += '<param name=\"wmode\" value=\"transparent\">';\n\t\t\thtml += '<embed wmode=\"transparent\" ' + param['w'] + ' src=\"' + src + '\" flashvars=\"' + flashvars + '\" width=\"100%\" height=\"100%\" ' + id + ' align=\"middle\" type=\"application/x-shockwave-flash\" pluginspage=\"' + flashplayerUrl + '\" />';\n\t\t\thtml += '</object>';\n\t\t\tthis.PD.innerHTML = html;\n\t\t\tthis.V = this.getObjectById(vid); //V：定义播放器对象全局变量\n\t\t\tthis.playerType = 'flashplayer';\n\t\t},\n\t\t/*\n\t\t\t判断浏览器是否支持flashplayer \n\t\t*/\n\t\tcheckShockwaveFlash:function(){\n\t\t\tif(window.ActiveXObject) {\n\t\t\t\ttry {\n\t\t\t\t\tvar s = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n\t\t\t\t\tif(s) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {}\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tvar s = navigator.plugins['Shockwave Flash'];\n\t\t\t\t\tif(s) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将vars对象转换成字符\n\t\t*/\n\t\tgetFlashVars: function() {\n\t\t\tthis.getVarsObject();\n\t\t\tvar v = this.vars;\n\t\t\tvar z = '';\n\t\t\tfor (k in v) {\n\t\t\t\tif (k != 'flashplayer' && k != 'container' && v[k] != '') {\n\t\t\t\t\tif (z != '') {\n\t\t\t\t\t\tz += '&';\n\t\t\t\t\t}\n\t\t\t\t\tvar vk = v[k];\n\t\t\t\t\tif (vk == true) {\n\t\t\t\t\t\tvk = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (vk == false) {\n\t\t\t\t\t\tvk = 0;\n\t\t\t\t\t}\n\t\t\t\t\tz += k + '=' + vk;\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (!v.hasOwnProperty('volume') || !v['volume']) {\n\t\t\t\tif (z != '') {\n\t\t\t\t\tz += '&';\n\t\t\t\t}\n\t\t\t\tz += 'volume=0';\n\t\t\t}\n\t\t\treturn z;\n\t\t},\n\t\t/*判断字符串是否是图片*/\n\t\tisStrImage: function(s) {\n\t\t\tif (s == 'jpg' || s == 'jpeg' || s == 'png' || s == 'svg' || s == 'gif') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将vars格式化成flash能接受的对象。再由getFlashVars函数转化成字符串或由newVideo直接使用\n\t\t*/\n\t\tgetVarsObject: function() {\n\t\t\tvar v = this.vars;\n\t\t\tvar f = '',\n\t\t\td = '',\n\t\t\tw = ''; //f=视频地址，d=清晰度地址,w=权重，z=最终地址\n\t\t\tvar arr = this.VA;\n\t\t\tvar prompt = v['promptSpot'];\n\t\t\tvar i = 0;\n\t\t\tvar video = this.vars['video'];\n\t\t\tif (this.varType(video) == 'array') { //对象或数组\n\t\t\t\tvar arr = video;\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tvar arr2 = arr[i];\n\t\t\t\t\tif (arr2) {\n\t\t\t\t\t\tif (f != '') {\n\t\t\t\t\t\t\tf += this.ckConfig['config']['split'];\n\t\t\t\t\t\t\td += ',';\n\t\t\t\t\t\t\tw += ',';\n\t\t\t\t\t\t\tv['type'] += this.ckConfig['config']['split'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tf += encodeURIComponent(decodeURIComponent(arr2[0]));\n\t\t\t\t\t\td += arr2[2];\n\t\t\t\t\t\tw += arr2[3];\n\t\t\t\t\t\tv['type'] += arr2[1].replace('video/', '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (this.varType(video) == 'object') { //对象或数组\n\t\t\t\tf = encodeURIComponent(decodeURIComponent(video['file']));\n\t\t\t\tif (!this.isUndefined(video['type'])) {\n\t\t\t\t\tv['type'] = video['type'];\n\t\t\t\t}\n\t\t\t\td = '';\n\t\t\t\tw = '';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tf = encodeURIComponent(decodeURIComponent(video));\n\t\t\t}\n\t\t\tif (v['preview'] != null) {\n\t\t\t\tv['previewscale'] = v['preview']['scale'];\n\t\t\t\tv['preview'] = v['preview']['file'].join(',');\n\n\t\t\t}\n\t\t\tif (prompt != null) {\n\t\t\t\tv['promptspot'] = '';\n\t\t\t\tv['promptspottime'] = '';\n\t\t\t\tfor (i = 0; i < prompt.length; i++) {\n\t\t\t\t\tif (v['promptspot'] != '') {\n\t\t\t\t\t\tv['promptspot'] += ',';\n\t\t\t\t\t\tv['promptspottime'] += ',';\n\t\t\t\t\t}\n\t\t\t\t\tv['promptspot'] += prompt[i]['words'];\n\t\t\t\t\tv['promptspottime'] += prompt[i]['time'];\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (f != '') {\n\t\t\t\tv['video'] = f;\n\t\t\t\tv['definition'] = d;\n\t\t\t\tv['weight'] = w;\n\t\t\t}\n\t\t\tif (!v['volume']) {\n\t\t\t\tv['volume'] = 0;\n\t\t\t}\n\t\t\tvar newV = {};\n\n\t\t\tfor (var k in v) {\n\t\t\t\tif (v[k] != null) {\n\t\t\t\t\tnewV[k] = v[k];\n\t\t\t\t}\n\t\t\t\tif (k == 'type') {\n\t\t\t\t\tnewV[k] = v[k].replace('video/m3u8', 'm3u8');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.vars = newV;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将embedSWF里的param的对象进行转换\n\t\t*/\n\t\tgetFlashplayerParam: function() {\n\t\t\tvar w = '',\n\t\t\tv = '',\n\t\t\to = {\n\t\t\t\tallowScriptAccess: 'always',\n\t\t\t\tallowFullScreen: true,\n\t\t\t\tquality: 'high',\n\t\t\t\tbgcolor: '#000'\n\t\t\t};\n\t\t\tfor (var e in o) {\n\t\t\t\tw += e + '=\"' + o[e] + '\" ';\n\t\t\t\tv += '<param name=\"' + e + '\" value=\"' + o[e] + '\" />';\n\t\t\t}\n\t\t\tw = w.replace('movie=', 'src=');\n\t\t\treturn {\n\t\t\t\tw: w,\n\t\t\t\tv: v\n\t\t\t};\n\t\t},\n\n\t\t/*\n\t\t\t操作动作结束\n\t\t\t-----------------------------------------------------------------------\n\t\t\t\n\t\t\t接口函数\n\t\t\t获取元数据部分\n\t\t*/\n\t\tgetMetaDate: function() {\n\t\t\tif (!this.loaded || this.V == null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\tvar duration = 0;\n\t\t\t\ttry {\n\t\t\t\t\tduration = !isNaN(this.V.duration) ? this.V.duration: 0;\n\t\t\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\t\t\tif(this.vars['duration']>0){\n\t\t\t\t\t\t\tduration=this.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t\tvar data = {\n\t\t\t\t\tduration: duration,\n\t\t\t\t\tvolume: this.V.volume,\n\t\t\t\t\tplaybackRate: this.V.playbackRate,\n\t\t\t\t\twidth: this.PD.offsetWidth || this.V.offsetWidth || this.V.width,\n\t\t\t\t\theight: this.PD.offsetHeight || this.V.offsetHeight || this.V.height,\n\t\t\t\t\tstreamWidth: this.V.videoWidth,\n\t\t\t\t\tstreamHeight: this.V.videoHeight,\n\t\t\t\t\tvideoWidth: this.V.offsetWidth,\n\t\t\t\t\tvideoHeight: this.V.offsetHeight,\n\t\t\t\t\tpaused: this.V.paused,\n\t\t\t\t\tloadTime:this.loadTimeTemp\n\t\t\t\t};\n\t\t\t\treturn data;\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\treturn this.V.getMetaDate();\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t取当前提供给播放器播放的视频列表\n\t\t*/\n\t\tgetVideoUrl: function() {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getVideoUrl();\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (this.V.src) {\n\t\t\t\tarr.push(this.V.src);\n\t\t\t} else {\n\t\t\t\tvar uArr = this.V.childNodes;\n\t\t\t\tfor (var i = 0; i < uArr.length; i++) {\n\t\t\t\t\tarr.push(uArr[i].src);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t格式化函数\n\t\t*/\n\t\tclickEvent: function(call) {\n\t\t\tif (call == 'none' || call == '' || call == null) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'none'\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar callArr = call.split('->');\n\t\t\tvar type = '',\n\t\t\tfun = '',\n\t\t\tlink = '',\n\t\t\ttarget = '';\n\t\t\tif (callArr.length == 2) {\n\t\t\t\tvar callM = callArr[0];\n\t\t\t\tvar callE = callArr[1];\n\t\t\t\tif (!callE) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'none'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tvar val = '';\n\t\t\t\tvar eArr = [];\n\t\t\t\ttype = callM;\n\t\t\t\tswitch (callM) {\n\t\t\t\tcase 'actionScript':\n\t\t\t\t\t//trace(THIS.hasOwnProperty(callE));\n\t\t\t\t\tif (callE.indexOf('(') > -1) {\n\t\t\t\t\t\teArr = callE.split('(');\n\t\t\t\t\t\tcallE = eArr[0];\n\t\t\t\t\t\tval = eArr[1].replace(')', '');\n\t\t\t\t\t}\n\t\t\t\t\tif (val == '') {\n\t\t\t\t\t\tfun = 'thisTemp.' + callE + '()';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfun = 'thisTemp.' + callE + '(' + val + ')';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javaScript':\n\t\t\t\t\tif (callE.substr(0, 11) == '[flashvars]') {\n\t\t\t\t\t\tcallE = callE.substr(11);\n\t\t\t\t\t\tif (this.vars.hasOwnProperty(callE)) {\n\t\t\t\t\t\t\tcallE = this.vars[callE];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (callE.indexOf('(') > -1) {\n\t\t\t\t\t\teArr = callE.split('(');\n\t\t\t\t\t\tcallE = eArr[0];\n\t\t\t\t\t\tval = eArr[1].replace(')', '');\n\t\t\t\t\t}\n\t\t\t\t\tif (val == '') {\n\t\t\t\t\t\tfun = callE + '()';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfun = callE + '(' + val + ')';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"link\":\n\t\t\t\t\tvar callLink = (callE + ',').split(',');\n\t\t\t\t\tif (callLink[0].substr(0, 11) == '[flashvars]') {\n\t\t\t\t\t\tvar fl = callLink[0].replace('[flashvars]', '');\n\t\t\t\t\t\tif (this.vars.hasOwnProperty(fl)) {\n\t\t\t\t\t\t\tcallLink[0] = this.vars[fl];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!callLink[1]) {\n\t\t\t\t\t\tcallLink[1] = '_blank';\n\t\t\t\t\t}\n\t\t\t\t\tlink = callLink[0];\n\t\t\t\t\ttarget = callLink[1];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttype: type,\n\t\t\t\tfun: fun,\n\t\t\t\tlink: link,\n\t\t\t\ttarget: target\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据指定的align,valign,offsetX,offsetY计算坐标\n\t\t*/\n\t\tgetPosition: function(obj,rEle) {\n\t\t\t/*\n\t\t\t{\n\t            \"align\": \"right\",\n\t            \"vAlign\": \"right\",\n\t            \"offsetX\": -60,\n\t            \"offsetY\": -60\n\t        } \n\t\t\t*/\n\t\t\tvar pw = this.PD.offsetWidth,\n\t\t\tph = this.PD.offsetHeight;\n\t\t\tvar x = 0,\n\t\t\ty = 0;\n\t\t\tvar left=0,top=0,rw=0,rh=0;\n\t\t\tif(!this.isUndefined(rEle)){\n\t\t\t\tleft=parseInt(this.css(rEle,'left')),top=parseInt(this.css(rEle,'top')),rw=rEle.offsetWidth,rh=rEle.offsetHeight;\n\t\t\t}\n\t\t\tswitch (obj['align']) {\n\t\t\t\tcase 'left':\n\t\t\t\t\tx = obj['offsetX']+left;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'center':\n\t\t\t\t\tx = pw * 0.5 + obj['offsetX'];\n\t\t\t\t\tif(left){\n\t\t\t\t\t\tx-=(pw*0.5-rw*0.5-left);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tx = pw + obj['offsetX'];\n\t\t\t\t\tif(left){\n\t\t\t\t\t\tx-=(pw-left-rw);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tswitch (obj['vAlign']) {\n\t\t\t\tcase 'top':\n\t\t\t\t\ty = obj['offsetY']+top;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'middle':\n\t\t\t\t\ty = ph * 0.5 + obj['offsetY']-top-(rh*0.5);\n\t\t\t\t\tif(top){\n\t\t\t\t\t\tx-=(ph*0.5-rh*0.5-top);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'bottom':\n\t\t\t\t\ty = ph + obj['offsetY'];\n\t\t\t\t\tif(top){\n\t\t\t\t\t\ty-=(ph-top-rh);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t向播放器界面添加一个文本\n\t\t*/\n\t\taddElement: function(attribute) {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.addElement(attribute);\n\t\t\t}\n\t\t\tvar i = 0;\n\t\t\tvar obj = {\n\t\t\t\tlist: null,\n\t\t\t\tx: '100%',\n\t\t\t\ty: \"50%\",\n\t\t\t\tposition: null,\n\t\t\t\talpha: 1,\n\t\t\t\tbackgroundColor: '',\n\t\t\t\tbackAlpha: 1,\n\t\t\t\tbackRadius: 0,\n\t\t\t\tclickEvent: ''\n\t\t\t};\n\t\t\tobj = this.standardization(obj, attribute);\n\t\t\tvar list = obj['list'];\n\t\t\tif (list == null) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tvar id = 'element-' + this.randomString(10);\n\t\t\tvar ele = document.createElement('div');\n\t\t\tele.className = id;\n\t\t\tif (obj['x']) {\n\t\t\t\tele.setAttribute('data-x', obj['x']);\n\t\t\t}\n\t\t\tif (obj['y']) {\n\t\t\t\tele.setAttribute('data-y', obj['y']);\n\t\t\t}\n\t\t\tif (obj['position'] != null) {\n\t\t\t\tele.setAttribute('data-position', obj['position'].join(','));\n\t\t\t}\n\n\t\t\tthis.PD.appendChild(ele);\n\t\t\tthis.css(ele, {\n\t\t\t\tposition: 'absolute',\n\t\t\t\tfilter: 'alpha(opacity:' + obj['alpha'] + ')',\n\t\t\t\topacity: obj['alpha'].toString(),\n\t\t\t\twidth: '800px',\n\t\t\t\tzIndex: '20'\n\t\t\t});\n\t\t\tvar bgid = 'elementbg' + this.randomString(10);\n\t\t\tvar bgAlpha = obj['alpha'].toString();\n\t\t\tvar bgColor = obj['backgroundColor'].replace('0x', '#');\n\t\t\tvar html = '';\n\t\t\tvar idArr = [];\n\t\t\tvar clickArr = [];\n\t\t\tif (!this.isUndefined(list) && list.length > 0) {\n\t\t\t\tvar textObj, returnObj, clickEvent;\n\t\t\t\tfor (i = 0; i < list.length; i++) {\n\t\t\t\t\tvar newEleid = 'elementnew' + this.randomString(10);\n\t\t\t\t\tswitch (list[i]['type']) {\n\t\t\t\t\tcase 'image':\n\t\t\t\t\tcase 'png':\n\t\t\t\t\tcase 'jpg':\n\t\t\t\t\tcase 'jpeg':\n\t\t\t\t\tcase 'gif':\n\t\t\t\t\t\ttextObj = {\n\t\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\t\tfile: '',\n\t\t\t\t\t\t\tradius: 0,//圆角弧度\n\t\t\t\t\t\t\twidth: 30,//定义宽，必需要定义\n\t\t\t\t\t\t\theight: 30,//定义高，必需要定义\n\t\t\t\t\t\t\talpha: 1,//透明度\n\t\t\t\t\t\t\tpaddingLeft: 0,//左边距离\n\t\t\t\t\t\t\tpaddingRight: 0,//右边距离\n\t\t\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\t\t\tmarginLeft: 0,\n\t\t\t\t\t\t\tmarginRight: 0,\n\t\t\t\t\t\t\tmarginTop: 0,\n\t\t\t\t\t\t\tmarginBottom: 0,\n\t\t\t\t\t\t\tbackgroundColor: '',\n\t\t\t\t\t\t\tclickEvent: ''\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tlist[i] = this.standardization(textObj, list[i]);\n\t\t\t\t\t\tclickEvent = this.clickEvent(list[i]['clickEvent']);\n\t\t\t\t\t\tclickArr.push(clickEvent);\n\t\t\t\t\t\tif (clickEvent['type'] == 'link') {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><a href=\"' + clickEvent['link'] + '\" target=\"' + clickEvent['target'] + '\"><img class=\"' + newEleid + '_image\" src=\"' + list[i]['file'] + '\" style=\"border:0;\"></a></div>';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><img class=\"' + newEleid + '_image\" src=\"' + list[i]['file'] + '\" style=\"border:0;\"></div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'text':\n\t\t\t\t\t\ttextObj = {\n\t\t\t\t\t\t\ttype: 'text',//说明是文本\n\t\t\t\t\t\t\ttext: '',//文本内容\n\t\t\t\t\t\t\tcolor: '0xFFFFFF',\n\t\t\t\t\t\t\tsize: 14,\n\t\t\t\t\t\t\tfontFamily: this.fontFamily,\n\t\t\t\t\t\t\tleading: 0,\n\t\t\t\t\t\t\talpha: 1,//透明度\n\t\t\t\t\t\t\tpaddingLeft: 0,//左边距离\n\t\t\t\t\t\t\tpaddingRight: 0,//右边距离\n\t\t\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\t\t\tmarginLeft: 0,\n\t\t\t\t\t\t\tmarginRight: 0,\n\t\t\t\t\t\t\tmarginTop: 0,\n\t\t\t\t\t\t\tmarginBottom: 0,\n\t\t\t\t\t\t\tbackgroundColor: '',\n\t\t\t\t\t\t\tbackAlpha: 1,\n\t\t\t\t\t\t\tbackRadius: 0,//背景圆角弧度，支持数字统一设置，也支持分开设置[30,20,20,50]，对应上左，上右，下右，下左\n\t\t\t\t\t\t\tclickEvent: ''\n\t\t\t\t\t\t};\n\t\t\t\t\t\tlist[i] = this.standardization(textObj, list[i]);\n\t\t\t\t\t\tclickEvent = this.clickEvent(list[i]['clickEvent']);\n\t\t\t\t\t\tclickArr.push(clickEvent);\n\t\t\t\t\t\tif (clickEvent['type'] == 'link') {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><div class=\"' + newEleid + '_bg\"></div><div class=\"' + newEleid + '_text\"><a href=\"' + clickEvent['link'] + '\" target=\"' + clickEvent['target'] + '\">' + list[i]['text'] + '</a></div></div>';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thtml += '<div  class=\"' + newEleid + '\" data-i=\"' + i + '\"><div class=\"' + newEleid + '_bg\"></div><div class=\"' + newEleid + '_text\">' + list[i]['text'] + '</div></div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tidArr.push(newEleid);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar objClickEvent = this.clickEvent(obj['clickEvent']);\n\t\t\tele.innerHTML = '<div class=\"' + bgid + '\"></div><div class=\"' + bgid + '_c\">' + html + '</div>';\n\t\t\tif (objClickEvent['type'] == 'javaScript' || objClickEvent['type'] == 'actionScript') {\n\t\t\t\tvar objClickHandler = function() {\n\t\t\t\t\teval(objClickEvent['fun']);\n\t\t\t\t\tthisTemp.sendJS('clickEvent', clk['type'] + '->' + clk['fun'].replace('thisTemp.', '').replace('()', ''));\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', objClickHandler, this.getByElement(bgid + '_c'))\n\t\t\t}\n\t\t\tthis.css(bgid + '_c', {\n\t\t\t\tposition: 'absolute',\n\t\t\t\tzIndex: '2'\n\t\t\t});\n\t\t\tfor (i = 0; i < idArr.length; i++) {\n\t\t\t\tvar clk = clickArr[i];\n\t\t\t\tif (clk['type'] == 'javaScript' || clk['type'] == 'actionScript') {\n\t\t\t\t\tvar clickHandler = function() {\n\t\t\t\t\t\t//clk = clickArr[this.getAttribute('data-i')];\n\t\t\t\t\t\tclk = clickArr[thisTemp.getDataset(this,'i')];\n\t\t\t\t\t\teval(clk['fun']);\n\t\t\t\t\t\tthisTemp.sendJS('clickEvent', clk['type'] + '->' + clk['fun'].replace('thisTemp.', '').replace('()', ''));\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', clickHandler, this.getByElement(idArr[i]))\n\t\t\t\t}\n\t\t\t\tswitch (list[i]['type']) {\n\t\t\t\tcase 'image':\n\t\t\t\tcase 'png':\n\t\t\t\tcase 'jpg':\n\t\t\t\tcase 'jpeg':\n\t\t\t\tcase 'gif':\n\t\t\t\t\tthis.css(idArr[i], {\n\t\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t\twidth: list[i]['width'] + 'px',\n\t\t\t\t\t\theight: list[i]['height'] + 'px',\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['alpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['alpha'].toString(),\n\t\t\t\t\t\tmarginLeft: list[i]['marginLeft'] + 'px',\n\t\t\t\t\t\tmarginRight: list[i]['marginRight'] + 'px',\n\t\t\t\t\t\tmarginTop: list[i]['marginTop'] + 'px',\n\t\t\t\t\t\tmarginBottom: list[i]['marginBottom'] + 'px',\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px',\n\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i] + '_image', {\n\t\t\t\t\t\twidth: list[i]['width'] + 'px',\n\t\t\t\t\t\theight: list[i]['height'] + 'px',\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'text':\n\t\t\t\t\tthis.css(idArr[i] + '_text', {\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['alpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['alpha'].toString(),\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px',\n\t\t\t\t\t\tfontFamily: list[i]['font'],\n\t\t\t\t\t\tfontSize: list[i]['size'] + 'px',\n\t\t\t\t\t\tcolor: list[i]['color'].replace('0x', '#'),\n\t\t\t\t\t\tlineHeight: list[i]['leading'] > 0 ? list[i]['leading'] + 'px': '',\n\t\t\t\t\t\tpaddingLeft: list[i]['paddingLeft'] + 'px',\n\t\t\t\t\t\tpaddingRight: list[i]['paddingRight'] + 'px',\n\t\t\t\t\t\tpaddingTop: list[i]['paddingTop'] + 'px',\n\t\t\t\t\t\tpaddingBottom: list[i]['paddingBottom'] + 'px',\n\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tzIndex: '3',\n\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i], {\n\t\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t\twidth: this.getByElement(idArr[i] + '_text').offsetWidth + 'px',\n\t\t\t\t\t\theight: this.getByElement(idArr[i] + '_text').offsetHeight + 'px',\n\t\t\t\t\t\tmarginLeft: list[i]['marginLeft'] + 'px',\n\t\t\t\t\t\tmarginRight: list[i]['marginRight'] + 'px',\n\t\t\t\t\t\tmarginTop: list[i]['marginTop'] + 'px',\n\t\t\t\t\t\tmarginBottom: list[i]['marginBottom'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i] + '_bg', {\n\t\t\t\t\t\twidth: this.getByElement(idArr[i] + '_text').offsetWidth + 'px',\n\t\t\t\t\t\theight: this.getByElement(idArr[i] + '_text').offsetHeight + 'px',\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['backAlpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['backAlpha'].toString(),\n\t\t\t\t\t\tborderRadius: list[i]['backRadius'] + 'px',\n\t\t\t\t\t\tbackgroundColor: list[i]['backgroundColor'].replace('0x', '#'),\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tzIndex: '2'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.css(bgid, {\n\t\t\t\twidth: this.getByElement(bgid + '_c').offsetWidth + 'px',\n\t\t\t\theight: this.getByElement(bgid + '_c').offsetHeight + 'px',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tfilter: 'alpha(opacity:' + bgAlpha + ')',\n\t\t\t\topacity: bgAlpha,\n\t\t\t\tbackgroundColor: bgColor.replace('0x', '#'),\n\t\t\t\tborderRadius: obj['backRadius'] + 'px',\n\t\t\t\tzIndex: '1'\n\t\t\t});\n\t\t\tthis.css(ele, {\n\t\t\t\twidth: this.getByElement(bgid).offsetWidth + 'px',\n\t\t\t\theight: this.getByElement(bgid).offsetHeight + 'px'\n\t\t\t});\n\t\t\tvar eidCoor = this.calculationCoor(ele);\n\t\t\tthis.css(ele, {\n\t\t\t\tleft: eidCoor['x'] + 'px',\n\t\t\t\ttop: eidCoor['y'] + 'px'\n\t\t\t});\n\n\t\t\tthis.elementArr.push(ele.className);\n\t\t\treturn ele;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t获取元件的属性，包括x,y,width,height,alpha\n\t\t*/\n\t\tgetElement: function(element) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getElement(element);\n\t\t\t}\n\t\t\tvar ele = element;\n\t\t\tif (this.varType(element) == 'string') {\n\t\t\t\tele = this.getByElement(element);\n\t\t\t}\n\t\t\tvar coor = this.getCoor(ele);\n\t\t\treturn {\n\t\t\t\tx: coor['x'],\n\t\t\t\ty: coor['y'],\n\t\t\t\twidth: ele.offsetWidth,\n\t\t\t\theight: ele.offsetHeight,\n\t\t\t\talpha: !this.isUndefined(this.css(ele, 'opacity')) ? parseFloat(this.css(ele, 'opacity')) : 1,\n\t\t\t\tshow: this.css(ele, 'display') == 'none' ? false: true\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t控制元件显示和隐藏\n\t\t*/\n\t\telementShow: function(element, show) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.elementShow(element, show);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(element) == 'string') {\n\t\t\t\tif (element) {\n\t\t\t\t\tthis.css(ele, 'display', show == true ? 'block': 'none');\n\t\t\t\t} else {\n\t\t\t\t\tvar arr = this.elementTempArr;\n\t\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\t\tthis.css(arr[i], 'display', show == true ? 'block': 'none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据节点的x,y计算在播放器里的坐标\n\t\t*/\n\t\tcalculationCoor: function(ele) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.calculationCoor(ele);\n\t\t\t}\n\t\t\tif(this.isUndefined(ele)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (ele == []) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar x, y, position = [];\n\t\t\tvar w = this.PD.offsetWidth,\n\t\t\th = this.PD.offsetHeight;\n\t\t\tvar ew = ele.offsetWidth,\n\t\t\teh = ele.offsetHeight;\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'x'))) {\n\t\t\t\tx = this.getDataset(ele, 'x');\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'y'))) {\n\t\t\t\ty = this.getDataset(ele, 'y');\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'position'))) {\n\t\t\t\ttry {\n\t\t\t\t\tposition = this.getDataset(ele, 'position').toString().split(',');\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t\tif (position.length > 0) {\n\t\t\t\tposition.push(null, null, null, null);\n\t\t\t\tvar i = 0;\n\t\t\t\tfor (i = 0; i < position.length; i++) {\n\t\t\t\t\tif (this.isUndefined(position[i]) || position[i] == null || position[i] == 'null' || position[i] == '') {\n\t\t\t\t\t\tposition[i] = null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition[i] = parseFloat(position[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (position[2] == null) {\n\t\t\t\t\tswitch (position[0]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tx = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tx = parseInt((w - ew) * 0.5);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tx = w - ew;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (position[0]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tx = position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tx = parseInt(w * 0.5) + position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tx = w + position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (position[3] == null) {\n\t\t\t\t\tswitch (position[1]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\ty = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ty = parseInt((h - eh) * 0.5);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ty = h - eh;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (position[1]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\ty = position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ty = parseInt(h * 0.5) + position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ty = h + position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (x.substring(x.length - 1, x.length) == '%') {\n\t\t\t\t\tx = Math.floor(parseInt(x.substring(0, x.length - 1)) * w * 0.01);\n\t\t\t\t}\n\t\t\t\tif (y.substring(y.length - 1, y.length) == '%') {\n\t\t\t\t\ty = Math.floor(parseInt(y.substring(0, y.length - 1)) * h * 0.01);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t修改新增元件的坐标\n\t\t*/\n\t\tchangeElementCoor: function() {\n\t\t\tfor (var i = 0; i < this.elementArr.length; i++) {\n\t\t\t\tif(!this.isUndefined(this.getByElement(this.elementArr[i]))){\n\t\t\t\t\tif (this.getByElement(this.elementArr[i]) != []) {\n\t\t\t\t\t\tvar c = this.calculationCoor(this.getByElement(this.elementArr[i]));\n\t\t\t\t\t\tif (c['x'] && c['y']) {\n\t\t\t\t\t\t\tthis.css(this.elementArr[i], {\n\t\t\t\t\t\t\t\ttop: c['y'] + 'px',\n\t\t\t\t\t\t\t\tleft: c['x'] + 'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t缓动效果集\n\t\t*/\n\t\ttween: function() {\n\t\t\tvar Tween = {\n\t\t\t\tNone: { //均速运动\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuadratic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * (t /= d) * (t - 2) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t + b;\n\t\t\t\t\t\treturn - c / 2 * ((--t) * (t - 2) - 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tCubic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * t + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * t + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuartic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * ((t = t / d - 1) * t * t * t - 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;\n\t\t\t\t\t\treturn - c / 2 * ((t -= 2) * t * t * t - 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuintic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tSine: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * Math.sin(t / d * (Math.PI / 2)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tExponential: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn (t == 0) ? b: c * Math.pow(2, 10 * (t / d - 1)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn (t == d) ? b + c: c * ( - Math.pow(2, -10 * t / d) + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif (t == d) return b + c;\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n\t\t\t\t\t\treturn c / 2 * ( - Math.pow(2, -10 * --t) + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tCircular: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return - c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n\t\t\t\t\t\treturn c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tElastic: {\n\t\t\t\t\teaseIn: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\t\t\tif (!p) p = d * .3;\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\treturn - (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\t\t\tif (!p) p = d * .3;\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\treturn (a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b);\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d / 2) == 2) return b + c;\n\t\t\t\t\t\tif (!p) p = d * (.3 * 1.5);\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\tif (t < 1) return - .5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tBack: {\n\t\t\t\t\teaseIn: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\treturn c * (t /= d) * t * ((s + 1) * t - s) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tBounce: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c - Tween.Bounce.easeOut(d - t, 0, c, d) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d) < (1 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * t * t) + b;\n\t\t\t\t\t\t} else if (t < (2 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (1.5 / 2.75)) * t + .75) + b;\n\t\t\t\t\t\t} else if (t < (2.5 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (2.25 / 2.75)) * t + .9375) + b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (2.625 / 2.75)) * t + .984375) + b;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif (t < d / 2) return Tween.Bounce.easeIn(t * 2, 0, c, d) * .5 + b;\n\t\t\t\t\t\telse return Tween.Bounce.easeOut(t * 2 - d, 0, c, d) * .5 + c * .5 + b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn Tween;\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t缓动效果\n\t\t\tele:Object=需要缓动的对象,\n\t\t\tparameter:String=需要改变的属性：x,y,width,height,alpha,\n\t\t\teffect:String=效果名称,\n\t\t\tstart:Int=起始值,\n\t\t\tend:Int=结束值,\n\t\t\tspeed:Number=运动的总秒数，支持小数\n\t\t*/\n\t\tanimate: function(attribute) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.animate(attribute);\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar animateId = 'animate_' + this.randomString();\n\t\t\tvar obj = {\n\t\t\t\telement: null,\n\t\t\t\tparameter: 'x',\n\t\t\t\tstatic: false,\n\t\t\t\teffect: 'None.easeIn',\n\t\t\t\tstart: null,\n\t\t\t\tend: null,\n\t\t\t\tspeed: 0,\n\t\t\t\toverStop: false,\n\t\t\t\tpauseStop: false,\n\t\t\t\t//暂停播放时缓动是否暂停\n\t\t\t\tcallBack: null\n\t\t\t};\n\t\t\tobj = this.standardization(obj, attribute);\n\t\t\tif (obj['element'] == null || obj['speed'] == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar w = this.PD.offsetWidth,\n\t\t\th = this.PD.offsetHeight;\n\t\t\tvar effArr = (obj['effect'] + '.').split('.');\n\t\t\tvar tweenFun = this.tween()[effArr[0]][effArr[1]];\n\t\t\tvar eleCoor = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t\tif (this.isUndefined(tweenFun)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t//先将该元件从元件数组里删除，让其不再跟随播放器的尺寸改变而改变位置\n\t\t\tvar def = this.arrIndexOf(this.elementArr, obj['element'].className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementTempArr.push(obj['element'].className);\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\t//var run = true;\n\t\t\tvar css = {};\n\t\t\t//对传递的参数进行转化，x和y转化成left,top\n\t\t\tvar pm = this.getElement(obj['element']); //包含x,y,width,height,alpha属性\n\t\t\tvar t = 0; //当前时间\n\t\t\tvar b = 0; //初始值\n\t\t\tvar c = 0; //变化量\n\t\t\tvar d = obj['speed'] * 1000; //持续时间\n\t\t\tvar timerTween = null;\n\t\t\tvar tweenObj = null;\n\t\t\tvar start = obj['start'] == null ? '': obj['start'].toString();\n\t\t\tvar end = obj['end'] == null ? '': obj['end'].toString();\n\t\t\tswitch (obj['parameter']) {\n\t\t\tcase 'x':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['x'];\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(start) * w * 0.01;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(start);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['x'] - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) * w * 0.01 - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(end);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'y':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['y'];\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(start) * h * 0.01;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(start);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['y'] - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) * h * 0.01 - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(end);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'alpha':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['alpha'] * 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(obj['start']);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(obj['start'] * 100);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['alpha'] * 100 - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) * 100 - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) * 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(obj['end']) * 100 - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar callBack = function() {\n\t\t\t\tvar index = thisTemp.arrIndexOf(thisTemp.animateElementArray, animateId);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthisTemp.animateArray.splice(index, 1);\n\t\t\t\t\tthisTemp.animateElementArray.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tindex = thisTemp.arrIndexOf(thisTemp.animatePauseArray, animateId);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthisTemp.animatePauseArray.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tif (obj['callBack'] != null && obj['element'] && obj['callBack'] != 'callBack' && obj['callBack'] != 'tweenX' && obj['tweenY'] != 'callBack' && obj['callBack'] != 'tweenAlpha') {\n\t\t\t\t\tvar cb = eval(obj['callBack']);\n\t\t\t\t\tcb(obj['element']);\n\t\t\t\t\tobj['callBack'] = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar stopTween = function() {\n\t\t\t\tif (timerTween != null) {\n\t\t\t\t\tif (timerTween.runing) {\n\t\t\t\t\t\ttimerTween.stop();\n\t\t\t\t\t}\n\t\t\t\t\ttimerTween = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenX = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\tleft: Math.ceil(tweenFun(t, b, c, d)) + 'px'\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['top'] = eleCoor['y'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defX = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defX > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defX, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenY = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\ttop: Math.ceil(tweenFun(t, b, c, d)) + 'px'\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['left'] = eleCoor['x'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defY = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defY > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defY, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenAlpha = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\tvar ap = Math.ceil(tweenFun(t, b, c, d)) * 0.01;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + ap + ')',\n\t\t\t\t\t\topacity: ap.toString()\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['top'] = eleCoor['y'] + 'px';\n\t\t\t\t\t\tcss['left'] = eleCoor['x'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defA = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defA > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defA, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tswitch (obj['parameter']) {\n\t\t\t\tcase 'x':\n\t\t\t\t\ttweenObj = tweenX;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'y':\n\t\t\t\t\ttweenObj = tweenY;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'alpha':\n\t\t\t\t\ttweenObj = tweenAlpha;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\ttimerTween = new thisTemp.timer(10, tweenObj);\n\t\t\ttimerTween.callBackFunction = callBack;\n\t\t\tif (obj['overStop']) {\n\t\t\t\tvar mouseOver = function() {\n\t\t\t\t\tif (timerTween != null && timerTween.runing) {\n\t\t\t\t\t\ttimerTween.stop();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('mouseover', mouseOver, obj['element']);\n\t\t\t\tvar mouseOut = function() {\n\t\t\t\t\tvar start = true;\n\t\t\t\t\tif (obj['pauseStop'] && thisTemp.getMetaDate()['paused']) {\n\t\t\t\t\t\tstart = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (timerTween != null && !timerTween.runing && start) {\n\t\t\t\t\t\ttimerTween.start();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('mouseout', mouseOut, obj['element']);\n\t\t\t}\n\n\t\t\tthis.animateArray.push(timerTween);\n\t\t\tthis.animateElementArray.push(animateId);\n\t\t\tif (obj['pauseStop']) {\n\t\t\t\tthis.animatePauseArray.push(animateId);\n\t\t\t}\n\t\t\treturn animateId;\n\t\t},\n\t\t/*\n\t\t\t接口函数函数\n\t\t\t继续运行animate\n\t\t*/\n\t\tanimateResume: function(id) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.animateResume(this.isUndefined(id) ? '': id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (id != '' && !this.isUndefined(id) && id != 'pause') {\n\t\t\t\tarr.push(id);\n\t\t\t} else {\n\t\t\t\tif (id === 'pause') {\n\t\t\t\t\tarr = this.animatePauseArray;\n\t\t\t\t} else {\n\t\t\t\t\tarr = this.animateElementArray;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar index = this.arrIndexOf(this.animateElementArray, arr[i]);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.animateArray[index].start();\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t暂停运行animate\n\t\t*/\n\t\tanimatePause: function(id) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.animatePause(this.isUndefined(id) ? '': id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (id != '' && !this.isUndefined(id) && id != 'pause') {\n\t\t\t\tarr.push(id);\n\t\t\t} else {\n\t\t\t\tif (id === 'pause') {\n\t\t\t\t\tarr = this.animatePauseArray;\n\t\t\t\t} else {\n\t\t\t\t\tarr = this.animateElementArray;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar index = this.arrIndexOf(this.animateElementArray, arr[i]);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.animateArray[index].stop();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据ID删除数组里对应的内容\n\t\t*/\n\t\tdeleteAnimate: function(id) {\n\t\t\tif (this.playerType == 'flashplayer' && this.V) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.deleteAnimate(id);\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar index = this.arrIndexOf(this.animateElementArray, id);\n\t\t\tif (index > -1) {\n\t\t\t\tthis.animateArray[index].callBackFunction();\n\t\t\t\tthis.animateArray.splice(index, 1);\n\t\t\t\tthis.animateElementArray.splice(index, 1);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t删除外部新建的元件\n\t\t*/\n\t\tdeleteElement: function(ele) {\n\t\t\tif (this.playerType == 'flashplayer' && this.V) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.deleteElement(ele);\n\t\t\t\t} catch(event) {}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//先将该元件从元件数组里删除，让其不再跟随播放器的尺寸改变而改变位置\n\t\t\tvar def = this.arrIndexOf(this.elementArr, ele.className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdef = this.arrIndexOf(this.elementTempArr, ele.className);\n\t\t\t\tif (def > -1) {\n\t\t\t\t\tthis.elementTempArr.splice(def, 1);\n\t\t\t\t}\n\t\t\t} catch(event) {}\n\t\t\tthis.deleteAnimate(ele.className);\n\t\t\tthis.deleteChild(ele);\n\t\t},\n\t\t/*\n\t\t\t--------------------------------------------------------------\n\t\t\t共用函数部分\n\t\t\t以下函数并非只能在本程序中使用，也可以在页面其它项目中使用\n\t\t\t根据ID或className获取元素对象\n\t\t*/\n\t\tgetByElement: function(obj, parent) {\n\t\t\tif (this.isUndefined(parent)) {\n\t\t\t\tparent = document;\n\t\t\t}\n\t\t\tvar num = obj.substr(0, 1);\n\t\t\tvar res = [];\n\t\t\tif (num != '#') {\n\t\t\t\tif (num == '.') {\n\t\t\t\t\tobj = obj.substr(1, obj.length);\n\t\t\t\t}\n\t\t\t\tif (parent.getElementsByClassName) {\n\t\t\t\t\tres = parent.getElementsByClassName(obj);\n\t\t\t\t\tif(!res.length){\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar reg = new RegExp(' ' + obj + ' ', 'i');\n\t\t\t\t\tvar ele = parent.getElementsByTagName('*');\n\t\t\t\t\tfor (var i = 0; i < ele.length; i++) {\n\t\t\t\t\t\tif (reg.test(' ' + ele[i].className + ' ')) {\n\t\t\t\t\t\t\tres.push(ele[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (res.length > 0) {\n\t\t\t\t\tres=res[0];\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tres=null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (num == '#') {\n\t\t\t\t\tobj = obj.substr(1, obj.length);\n\t\t\t\t}\n\t\t\t\ttry{\n\t\t\t\t\tres=document.getElementById(obj);\n\t\t\t\t}\n\t\t\t\tcatch(event){\n\t\t\t\t\tres=null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t/*\n\t\t \t共用函数\n\t\t\t功能：修改样式或获取指定样式的值，\n\t\t\t\telem：ID对象或ID对应的字符，如果多个对象一起设置，则可以使用数组\n\t\t\t\tattribute：样式名称或对象，如果是对象，则省略掉value值\n\t\t\t\tvalue：attribute为样式名称时，定义的样式值\n\t\t\t\t示例一：\n\t\t\t\tthis.css(ID,'width','100px');\n\t\t\t\t示例二：\n\t\t\t\tthis.css('id','width','100px');\n\t\t\t\t示例三：\n\t\t\t\tthis.css([ID1,ID2,ID3],'width','100px');\n\t\t\t\t示例四：\n\t\t\t\tthis.css(ID,{\n\t\t\t\t\twidth:'100px',\n\t\t\t\t\theight:'100px'\n\t\t\t\t});\n\t\t\t\t示例五(获取宽度)：\n\t\t\t\tvar width=this.css(ID,'width');\n\t\t*/\n\t\tcss: function(elem, attribute, value) {\n\t\t\tvar i = 0;\n\t\t\tvar k = '';\n\t\t\tif (this.varType(elem) == 'array') { //数组\n\t\t\t\tfor (i = 0; i < elem.length; i++) {\n\t\t\t\t\t\tvar el;\n\t\t\t\t\t\tif (typeof(elem[i]) == 'string') {\n\t\t\t\t\t\t\tel = this.getByElement(elem[i])\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel = elem[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof(attribute) != 'object') {\n\t\t\t\t\t\t\tif (!this.isUndefined(value)) {\n\t\t\t\t\t\t\t\tel.style[attribute] = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (k in attribute) {\n\t\t\t\t\t\t\t\tif (!this.isUndefined(attribute[k])) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tel.style[k] = attribute[k];\n\t\t\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\t\t\tthis.log(event);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\n\t\t\t}\n\t\t\tif (this.varType(elem) == 'string') {\n\t\t\t\telem = this.getByElement(elem);\n\t\t\t}\n\t\t\tif (this.varType(attribute) != 'object') {\n\t\t\t\tif (!this.isUndefined(value)) {\n\t\t\t\t\telem.style[attribute] = value;\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.isUndefined(this.getStyle(elem, attribute))) {\n\t\t\t\t\t\treturn this.getStyle(elem, attribute);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (k in attribute) {\n\t\t\t\t\tif (!this.isUndefined(attribute[k])) {\n\t\t\t\t\t\telem.style[k] = attribute[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t兼容型获取style\n\t\t*/\n\t\tgetStyle: function(obj, attr) {\n\t\t\tif (!this.isUndefined(obj.style[attr])) {\n\t\t\t\treturn obj.style[attr];\n\t\t\t} else {\n\t\t\t\tif (obj.currentStyle) {\n\t\t\t\t\treturn obj.currentStyle[attr];\n\t\t\t\t} else {\n\t\t\t\t\treturn getComputedStyle(obj, false)[attr];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断变量是否存在或值是否为undefined\n\t\t*/\n\t\tisUndefined: function(value) {\n\t\t\ttry {\n\t\t\t\tif (value === 'undefined' || value === undefined || value === null || value === 'NaN' || value === NaN) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} catch(event) {\n\t\t\t\tthis.log(event);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t \t共用函数\n\t\t\t外部监听函数\n\t\t*/\n\t\taddListener: function(name, funName) {\n\t\t\tif (name && funName) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tvar ff = ''; //定义用来向flashplayer传递的函数字符\n\t\t\t\t\tif (this.varType(funName) == 'function') {\n\t\t\t\t\t\tff = this.getParameterNames(funName);\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.addListener(name, ff);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar have = false;\n\t\t\t\tfor (var i = 0; i < this.listenerJsArr.length; i++) {\n\t\t\t\t\tvar arr = this.listenerJsArr[i];\n\t\t\t\t\tif (arr[0] == name && arr[1] == funName) {\n\t\t\t\t\t\thave = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!have) {\n\t\t\t\t\tthis.listenerJsArr.push([name, funName]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t外部删除监听函数\n\t\t*/\n\t\tremoveListener: function(name, funName) {\n\t\t\tif (name && funName) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tvar ff = ''; //定义用来向flashplayer传递的函数字符\n\t\t\t\t\tif (this.varType(funName) == 'function') {\n\t\t\t\t\t\tff = this.getParameterNames(funName);\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeListener(name, ff);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfor (var i = 0; i < this.listenerJsArr.length; i++) {\n\t\t\t\t\tvar arr = this.listenerJsArr[i];\n\t\t\t\t\tif (arr[0] == name && arr[1] == funName) {\n\t\t\t\t\t\tthis.listenerJsArr.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部监听函数，调用方式：\n\t\t\tthis.addListenerInside('click',function(event){},[ID]);\n\t\t\td值为空时，则表示监听当前的视频播放器\n\t\t*/\n\t\taddListenerInside: function(e, f, d, t) {\n\t\t\tif (this.isUndefined(t)) {\n\t\t\t\tt = false;\n\t\t\t}\n\t\t\tvar o = this.V;\n\t\t\tif (!this.isUndefined(d)) {\n\t\t\t\to = d;\n\t\t\t}\n\t\t\tif (o.addEventListener) {\n\t\t\t\ttry {\n\t\t\t\t\to.addEventListener(e, f, t);\n\t\t\t\t} catch(event) {this.log(event)}\n\t\t\t} else if (o.attachEvent) {\n\t\t\t\ttry {\n\t\t\t\t\to.attachEvent('on' + e, f);\n\t\t\t\t} catch(event) {this.log(event)}\n\t\t\t} else {\n\t\t\t\to['on' + e] = f;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t删除内部监听函数，调用方式：\n\t\t\tthis.removeListenerInside('click',function(event){}[,ID]);\n\t\t\td值为空时，则表示监听当前的视频播放器\n\t\t*/\n\t\tremoveListenerInside: function(e, f, d, t) {\n\t\t\t/*if(this.playerType=='flashplayer' && this.getParameterNames(f) && this.isUndefined(d)) {\n\t\t\t\treturn;\n\t\t\t}*/\n\t\t\tif (this.isUndefined(t)) {\n\t\t\t\tt = false;\n\t\t\t}\n\t\t\tvar o = this.V;\n\t\t\tif (!this.isUndefined(d)) {\n\t\t\t\to = d;\n\t\t\t}\n\t\t\tif (o.removeEventListener) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.addNum--;\n\t\t\t\t\to.removeEventListener(e, f, t);\n\t\t\t\t} catch(e) {}\n\t\t\t} else if (o.detachEvent) {\n\t\t\t\ttry {\n\t\t\t\t\to.detachEvent('on' + e, f);\n\t\t\t\t} catch(e) {}\n\t\t\t} else {\n\t\t\t\to['on' + e] = null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t统一分配监听，以达到跟as3同样效果\n\t\t*/\n\t\tsendJS: function(name, val) {\n\t\t\tif (this.adPlayerPlay && name.substr( - 2) != 'Ad') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(name)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar list = this.listenerJsArr;\n\t\t\tvar obj = this.vars['variable'];\n\t\t\tif(this.vars['debug']){\n\t\t\t\tthis.log(name+':'+val);\n\t\t\t}\n\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\tvar arr = list[i];\t\t\t\t\n\t\t\t\tif (arr[0] == name) {\n\t\t\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\t\t\tswitch (arr[1].length) {\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\tarr[1](val);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tarr[1](val, obj);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tarr[1]();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarr[1](obj);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取函数名称，如 function ckplayer(){} var fun=ckplayer，则getParameterNames(fun)=ckplayer\n\t\t*/\n\t\tgetParameterNames: function(fn) {\n\t\t\tif (this.varType(fn) !== 'function') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\n\t\t\tvar code = fn.toString().replace(COMMENTS, '');\n\t\t\tvar result = code.slice(code.indexOf(' ') + 1, code.indexOf('('));\n\t\t\treturn result === null ? false: result;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t时间替换\n\t\t*/\n\t\treplaceTime:function(str,obj){\n\t\t\t//var timeStrArr = ['[$timeh]', '[$timei]', '[$timeI]', '[$times]', '[$timeS]', '[$durationh]', '[$durationi]', '[$durationI]', '[$durations]', '[$durationS]','[$liveTimey]', '[$liveTimeY]', '[$liveTimem]', '[$liveTimed]', '[$liveTimeh]', '[$liveTimei]', '[$liveTimes]', '[$liveLanguage]'];\n\t\t\tfor(var k in obj){\n\t\t\t\tstr=str.replace('[$'+k+']',obj[k])\n\t\t\t}\n\t\t\treturn str;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t格式化时分秒\n\t\t\tt:Int：秒数,dt:总时间的秒数\n\t\t*/\n\t\tformatTime: function(t,dt,str) {\n\t\t\tif (this.isUndefined(t) || isNaN(t)) {\n\t\t\t\tseconds = 0;\n\t\t\t}\n\t\t\tif (this.isUndefined(dt) || isNaN(dt)) {\n\t\t\t\tdt = 0;\n\t\t\t}\n\t\t\tvar minuteS=Math.floor(t/60);//将秒数直接转化成分钟取整，这个可以得到如80分钟\n\t\t\tvar minute=minuteS;//获取准确的分钟\n\t\t\tvar hourS=Math.floor(t/3600);//将秒数直接转化成小时取整，这个可以得到100小时\n\t\t\tvar second=t %60;\n\t\t\tif(minuteS>=60){\n\t\t\t\tminute=Math.floor(minuteS%60);\n\t\t\t}\n\t\t\t//总时间\n\t\t\tvar hminuteS=Math.floor(dt/60);//将秒数直接转化成分钟取整，这个可以得到如80分钟\n\t\t\tvar hminute=hminuteS;//获取准确的分钟\n\t\t\tvar hhourS=Math.floor(dt/3600);//将秒数直接转化成小时取整，这个可以得到100小时\n\t\t\tvar hsecond=dt %60;\n\t\t\tif(hminuteS>=60){\n\t\t\t\thminute=Math.floor(hminuteS%60);\n\t\t\t}\n\t\t\t//当前时间\n\t\t\tvar nowDate = new Date();\n\t\t\tvar obj={\n\t\t\t\ttimeh:hourS,//时\n\t\t\t\ttimei:minute,//分\n\t\t\t\ttimeI:minuteS,//只有分\n\t\t\t\ttimes:second,//秒\n\t\t\t\ttimeS:t,//只有秒\n\t\t\t\tdurationh:hhourS,//时\n\t\t\t\tdurationi:hminute,//分\n\t\t\t\tdurationI:hminuteS,//只有分\n\t\t\t\tdurations:hsecond,//秒\n\t\t\t\tdurationS:dt,//只有秒\n\t\t\t\tliveTimey:nowDate.getYear(),//获取当前年份(2位)\n\t\t\t\tliveTimeY:nowDate.getFullYear(),//获取完整的年份(4位,1970-????)\n\t\t\t\tliveTimem:nowDate.getMonth()+1,//获取当前月份(0-11,0代表1月)\n\t\t\t\tliveTimed:nowDate.getDate(),// 获取当前日(1-31)\n\t\t\t\tliveTimeh:nowDate.getHours(),    // 获取当前小时数(0-23)\n\t\t\t\tliveTimei:nowDate.getMinutes(),// 获取当前分钟数(0-59)\n\t\t\t\tliveTimes:nowDate.getSeconds()// 获取当前秒数(0-59)\n\t\t\t};\n\t\t\tfor(var k in obj){\n\t\t\t\tif(obj[k]<10){\n\t\t\t\t\tobj[k]='0'+Math.floor(obj[k]);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tobj[k]=Math.floor(obj[k]).toString();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.replaceTime(str,obj);\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取一个随机字符\n\t\t\tlen：随机字符长度\n\t\t*/\n\t\trandomString: function(len) {\n\t\t\tlen = len || 16;\n\t\t\tvar chars = 'abcdefghijklmnopqrstuvwxyz';\n\t\t\tvar maxPos = chars.length;\n\t\t\tvar val = '';\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tval += chars.charAt(Math.floor(Math.random() * maxPos));\n\t\t\t}\n\t\t\treturn 'ch' + val;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取字符串长度,中文算两,英文数字算1\n\t\t*/\n\t\tgetStringLen: function(str) {\n\t\t\tif(this.isUndefined(str)){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tvar len = 0;\n\t\t\tfor (var i = 0; i < str.length; i++) {\n\t\t\t\tif (str.charCodeAt(i) > 127 || str.charCodeAt(i) == 94) {\n\t\t\t\t\tlen += 2;\n\t\t\t\t} else {\n\t\t\t\t\tlen++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn len;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t用来为ajax提供支持\n\t\t*/\n\t\tcreateXHR: function() {\n\t\t\tif (window.XMLHttpRequest) {\n\t\t\t\t//IE7+、Firefox、Opera、Chrome 和Safari\n\t\t\t\treturn new XMLHttpRequest();\n\t\t\t} else if (window.ActiveXObject) {\n\t\t\t\t//IE6 及以下\n\t\t\t\ttry {\n\t\t\t\t\treturn new ActiveXObject('Microsoft.XMLHTTP');\n\t\t\t\t} catch(event) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn new ActiveXObject('Msxml2.XMLHTTP');\n\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\tthis.eject(this.errorList[7]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.eject(this.errorList[8]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\tajax调用\n\t\t*/\n\t\tajax: function(cObj) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar callback = null;\n\t\t\tvar obj = {\n\t\t\t\tmethod: 'get',//请求类型\n\t\t\t\tdataType: 'json',//请求的数据类型\n\t\t\t\tcharset: 'utf-8',\n\t\t\t\tasync: false,//true表示异步，false表示同步\n\t\t\t\turl: '',\n\t\t\t\tdata: null,\n\t\t\t\tsuccess: null,\n\t\t\t\terror:null\n\t\t\t};\n\t\t\tif (this.varType(cObj) != 'object') {\n\t\t\t\tthis.eject(this.errorList[9]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tobj = this.standardization(obj, cObj);\n\t\t\tif (obj.dataType === 'json' || obj.dataType === 'text' || obj.dataType === 'html' || obj.dataType === 'xml') {\n\t\t\t\tvar xhr = this.createXHR();\n\t\t\t\tcallback = function() {\n\t\t\t\t\t//判断http的交互是否成功\n\t\t\t\t\tif (xhr.status == 200) {\n\t\t\t\t\t\tif (thisTemp.isUndefined(obj.success)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (obj.dataType === 'json') {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tobj.success(eval('(' + xhr.responseText + ')')); //回调传递参数\n\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\tif(!thisTemp.isUndefined(obj['error'])){\n\t\t\t\t\t\t\t\t\tobj.error(event);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj.success(xhr.responseText); //回调传递参数\n\t\t\t\t\t\t}\n\t\t\t\t\t} \n\t\t\t\t\telse {\n\t\t\t\t\t\tobj.success(null);\n\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[10], 'Ajax.status:' + xhr.status);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tobj.url = obj.url.indexOf('?') == -1 ? obj.url + '?rand=' + this.randomString(6) : obj.url;\n\t\t\t\tobj.data = this.formatParams(obj.data); //通过params()将名值对转换成字符串\n\t\t\t\tif (obj.method === 'get' && !this.isUndefined(obj.data)) {\n\t\t\t\t\tif (obj.data != '') {\n\t\t\t\t\t\tif (obj.url.indexOf('?') == -1) {\n\t\t\t\t\t\t\tobj.url += '?' + obj.data\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj.url += '&' + obj.data;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (obj.async === true) { //true表示异步，false表示同步\n\t\t\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t\t\tif (xhr.readyState == 4 && callback != null) { //判断对象的状态是否交互完成\n\t\t\t\t\t\t\tcallback(); //回调\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\txhr.open(obj.method, obj.url, obj.async);\n\t\t\t\tif (obj.method === 'post') {\n\t\t\t\t\ttry{\n\t\t\t\t\t\txhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\t\t\t\t\t\txhr.setRequestHeader('charset', obj['charset']);\n\t\t\t\t\t\txhr.send(obj.data);\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttry{\n\t\t\t\t\t\txhr.send(null); //get方式则填null\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (obj.async === false) { //同步\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t}\n\t\t\telse if (obj.dataType === 'jsonp') {\n\t\t\t\tvar oHead = document.getElementsByTagName('head')[0];\n\t\t\t\tvar oScript = document.createElement('script');\n\t\t\t\tvar callbackName = 'callback' + new Date().getTime();\n\t\t\t\tvar params = this.formatParams(obj.data) + '&callback=' + callbackName; //按时间戳拼接字符串\n\t\t\t\tcallback = obj.success;\n\t\t\t\t//拼接好src\n\t\t\t\toScript.src = obj.url.split('?') + '?' + params;\n\t\t\t\t//插入script标签\n\t\t\t\toHead.insertBefore(oScript, oHead.firstChild);\n\t\t\t\t//jsonp的回调函数\n\t\t\t\twindow[callbackName] = function(json) {\n\t\t\t\t\tcallback(json);\n\t\t\t\t\toHead.removeChild(oScript);\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t动态加载js\n\t\t*/\n\t\tloadJs: function(path, success) {\n\t\t\tvar oHead = document.getElementsByTagName('HEAD').item(0);\n\t\t\tvar oScript = document.createElement('script');\n\t\t\toScript.type = 'text/javascript';\n\t\t\toScript.src = this.getNewUrl(path);\n\t\t\toHead.appendChild(oScript);\n\t\t\toScript.onload = function() {\n\t\t\t\tsuccess();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t排除IE6-9\n\t\t*/\n\t\tisMsie: function() {\n\t\t\tvar browser = navigator.appName;\n\t\t\tvar b_version = navigator.appVersion;\n\t\t\tvar version = b_version.split(';');\n\t\t\tvar trim_Version = '';\n\t\t\tif (version.length > 1) {\n\t\t\t\ttrim_Version = version[1].replace(/[ ]/g, '');\n\t\t\t}\n\t\t\tif (browser == 'Microsoft Internet Explorer' && (trim_Version == 'MSIE6.0' || trim_Version == 'MSIE7.0' || trim_Version == 'MSIE8.0' || trim_Version == 'MSIE9.0' || trim_Version == 'MSIE10.0')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断是否安装了flashplayer\n\t\t*/\n\t\tuploadFlash: function() {\n\t\t\tvar swf;\n\t\t\tif (navigator.userAgent.indexOf('MSIE') > 0) {\n\t\t\t\ttry {\n\t\t\t\t\tvar swf = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n\t\t\t\t\treturn true;\n\t\t\t\t} catch(e) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (navigator.userAgent.indexOf('Firefox') > 0) {\n\t\t\t\tswf = navigator.plugins['Shockwave Flash'];\n\t\t\t\tif (swf) {\n\t\t\t\t\treturn true\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t检测浏览器是否支持HTML5-Video\n\t\t*/\n\t\tsupportVideo: function() {\n\t\t\tif (!this.isMsie()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif ( !! document.createElement('video').canPlayType) {\n\t\t\t\tvar vidTest = document.createElement('video');\n\t\t\t\tvar oggTest;\n\t\t\t\ttry {\n\t\t\t\t\toggTest = vidTest.canPlayType('video/ogg; codecs=\"theora, vorbis\"');\n\t\t\t\t} catch(error) {\n\t\t\t\t\toggTest = false;\n\t\t\t\t}\n\t\t\t\tif (!oggTest) {\n\t\t\t\t\tvar h264Test;\n\t\t\t\t\ttry {\n\t\t\t\t\t\th264Test = vidTest.canPlayType('video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"');\n\t\t\t\t\t} catch(error) {\n\t\t\t\t\t\th264Test = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (!h264Test) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (h264Test == \"probably\") {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (oggTest == \"probably\") {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取属性值\n\t\t*/\n\t\tgetDataset: function(ele, z) {\n\t\t\ttry {\n\t\t\t\treturn ele.dataset[z];\n\t\t\t} catch(error) {\n\t\t\t\ttry {\n\t\t\t\t\treturn ele.getAttribute('data-' + z)\n\t\t\t\t} catch(error) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t返回flashplayer的对象\n\t\t*/\n\t\tgetObjectById: function(id) {\n\t\t\tvar x = null;\n\t\t\tvar y = this.getByElement('#' + id);\n\t\t\tvar r = 'embed';\n\t\t\tif (y && y.nodeName == 'OBJECT') {\n\t\t\t\tif (this.varType(y.SetVariable) != 'undefined') {\n\t\t\t\t\tx = y;\n\t\t\t\t} else {\n\t\t\t\t\tvar z = y.getElementsByTagName(r)[0];\n\t\t\t\t\tif (z) {\n\t\t\t\t\t\tx = z;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn x;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t对象转地址字符串\n\t\t*/\n\t\tformatParams: function(data) {\n\t\t\tvar arr = [];\n\t\t\tfor (var i in data) {\n\t\t\t\tarr.push(encodeURIComponent(i) + '=' + encodeURIComponent(data[i]));\n\t\t\t}\n\t\t\treturn arr.join('&');\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t对地址进行冒泡排序\n\t\t*/\n\t\tarrSort: function(arr) {\n\t\t\tvar temp = [];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tfor (var j = 0; j < arr.length - i; j++) {\n\t\t\t\t\tif (!this.isUndefined(arr[j + 1]) && arr[j][3] < arr[j + 1][3]) {\n\t\t\t\t\t\ttemp = arr[j + 1];\n\t\t\t\t\t\tarr[j + 1] = arr[j];\n\t\t\t\t\t\tarr[j] = temp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取文件名称\n\t\t*/\n\t\tgetFileName: function(filepath) {\n\t\t\tif(!filepath) return '';\n\t\t\treturn filepath.replace(/(.*\\/)*([^.]+).*/ig,'$2');\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t判断文件后缀\n\t\t*/\n\t\tgetFileExt: function(filepath) {\n\t\t\tif (filepath != '' && !this.isUndefined(filepath)) {\n\t\t\t\tif (filepath.indexOf('?') > -1) {\n\t\t\t\t\tfilepath = filepath.split('?')[0];\n\t\t\t\t}\n\t\t\t\tvar pos = '.' + filepath.replace(/.+\\./, '');\n\t\t\t\treturn pos.toLowerCase();\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t判断是否是移动端\n\t\t*/\n\t\tisMobile: function() {\n\t\t\tif (navigator.userAgent.toLowerCase().match(/(iphone|ipad|ipod|android|ios|midp|windows mobile|windows ce|rv:1.2.3.4|ucweb)/i)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t搜索字符串str是否包含key\n\t\t*/\n\t\tisContains: function(str, key) {\n\t\t\treturn str.indexOf(key) > -1;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t给地址添加随机数\n\t\t*/\n\t\tgetNewUrl: function(url) {\n\t\t\tif (this.isContains(url, '?')) {\n\t\t\t\treturn url += '&' + this.randomString(8) + '=' + this.randomString(8);\n\t\t\t} else {\n\t\t\t\treturn url += '?' + this.randomString(8) + '=' + this.randomString(8);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取clientX和clientY\n\t\t*/\n\t\tclient: function(event) {\n\t\t\tvar eve = event || window.event;\n\t\t\tif (this.isUndefined(eve)) {\n\t\t\t\teve = {\n\t\t\t\t\tclientX: 0,\n\t\t\t\t\tclientY: 0\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: eve.clientX + (document.documentElement.scrollLeft || this.body.scrollLeft) - this.pdCoor['x'],\n\t\t\t\ty: eve.clientY + (document.documentElement.scrollTop || this.body.scrollTop) - this.pdCoor['y']\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t获取节点的绝对坐标\n\t\t*/\n\t\tgetCoor: function(obj) {\n\t\t\tvar coor = this.getXY(obj);\n\t\t\treturn {\n\t\t\t\tx: coor['x'] - this.pdCoor['x'],\n\t\t\t\ty: coor['y'] - this.pdCoor['y']\n\t\t\t};\n\t\t},\n\t\tgetXY: function(obj) {\n\t\t\tvar parObj = obj;\n\t\t\tvar left = obj.offsetLeft;\n\t\t\tvar top = obj.offsetTop;\n\t\t\t\n\t\t\twhile (parObj = parObj.offsetParent) {\n\t\t\t\tleft += parObj.offsetLeft;\n\t\t\t\ttop += parObj.offsetTop;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: left,\n\t\t\t\ty: top\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t删除本对象的所有属性\n\t\t*/\n\t\tremoveChild: function() {\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\t//删除计时器\n\t\t\t\tvar i = 0;\n\t\t\t\tvar timerArr = [this.timerError, this.timerFull, this.timerTime, this.timerBuffer, this.timerClick, this.timerCBar, this.timerVCanvas];\n\t\t\t\tfor (i = 0; i < timerArr.length; i++) {\n\t\t\t\t\tif (timerArr[i] != null) {\n\t\t\t\t\t\tif (timerArr[i].runing) {\n\t\t\t\t\t\t\ttimerArr[i].stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttimerArr[i] = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//删除事件监听\n\t\t\t\tvar ltArr = this.listenerJsArr;\n\t\t\t\tfor (i = 0; i < ltArr.length; i++) {\n\t\t\t\t\tthis.removeListener(ltArr[i][0], ltArr[i][1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.playerType == '';\n\t\t\tthis.V = null;\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.deleteChild(this.CB['menu']);\n\t\t\t}\n\t\t\tthis.deleteChild(this.PD);\n\t\t\tthis.CD.innerHTML = '';\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t画封闭的图形\n\t\t*/\n\t\tcanvasFill: function(name, path) {\n\t\t\tname.beginPath();\n\t\t\tfor (var i = 0; i < path.length; i++) {\n\t\t\t\tvar d = path[i];\n\t\t\t\tif (i > 0) {\n\t\t\t\t\tname.lineTo(d[0], d[1]);\n\t\t\t\t} else {\n\t\t\t\t\tname.moveTo(d[0], d[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tname.closePath();\n\t\t\tname.fill();\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t画矩形\n\t\t*/\n\t\tcanvasFillRect: function(name, path) {\n\t\t\tfor (var i = 0; i < path.length; i++) {\n\t\t\t\tvar d = path[i];\n\t\t\t\tname.fillRect(d[0], d[1], d[2], d[3]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t删除容器节点\n\t\t*/\n\t\tdeleteChild: function(f) {\n\t\t\tvar def = this.arrIndexOf(this.elementArr, f.className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\tvar childs = f.childNodes;\n\t\t\tfor (var i = childs.length - 1; i >= 0; i--) {\n\t\t\t\tf.removeChild(childs[i]);\n\t\t\t}\n\n\t\t\tif (f && f != null && f.parentNode) {\n\t\t\t\ttry {\n\t\t\t\t\tif (f.parentNode) {\n\t\t\t\t\t\tf.parentNode.removeChild(f);\n\n\t\t\t\t\t}\n\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t \t根据容器的宽高,内部节点的宽高计算出内部节点的宽高及坐标\n\t\t*/\n\t\tgetProportionCoor: function(stageW, stageH, vw, vh) {\n\t\t\tvar w = 0,\n\t\t\th = 0,\n\t\t\tx = 0,\n\t\t\ty = 0;\n\t\t\tif (stageW / stageH < vw / vh) {\n\t\t\t\tw = stageW;\n\t\t\t\th = w * vh / vw;\n\t\t\t} else {\n\t\t\t\th = stageH;\n\t\t\t\tw = h * vw / vh;\n\t\t\t}\n\t\t\tx = (stageW - w) * 0.5;\n\t\t\ty = (stageH - h) * 0.5;\n\t\t\treturn {\n\t\t\t\twidth: parseInt(w),\n\t\t\t\theight: parseInt(h),\n\t\t\t\tx: parseInt(x),\n\t\t\t\ty: parseInt(y)\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将字幕文件内容转换成数组\n\t\t*/\n\t\tparseSrtSubtitles: function(srt) {\n\t\t\tvar subtitlesArr = [];\n\t\t\tvar textSubtitles = [];\n\t\t\tvar i = 0;\n\t\t\tvar arrs = srt.split('\\n');\n\t\t\tvar arr = [];\n\t\t\tvar delHtmlTag = function(str) {\n\t\t\t\treturn str.replace(/<[^>]+>/g, ''); //去掉所有的html标记\n\t\t\t};\n\t\t\tfor (i = 0; i < arrs.length; i++) {\n\t\t\t\tif (arrs[i].replace(/\\s/g, '').length > 0) {\n\t\t\t\t\tarr.push(arrs[i]);\n\t\t\t\t} else {\n\t\t\t\t\tif (arr.length > 0) {\n\t\t\t\t\t\ttextSubtitles.push(arr);\n\t\t\t\t\t}\n\t\t\t\t\tarr = [];\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (i = 0; i < textSubtitles.length; ++i) {\n\t\t\t\tvar textSubtitle = textSubtitles[i];\n\t\t\t\tif (textSubtitle.length >= 2) {\n\t\t\t\t\tvar sn = textSubtitle[0]; // 字幕的序号\n\t\t\t\t\tvar startTime = this.toSeconds(this.trim(textSubtitle[1].split(' --> ')[0])); // 字幕的开始时间\n\t\t\t\t\tvar endTime = this.toSeconds(this.trim(textSubtitle[1].split(' --> ')[1])); // 字幕的结束时间\n\t\t\t\t\tvar content = [delHtmlTag(textSubtitle[2])]; // 字幕的内容\n\t\t\t\t\tvar cktrackdelay=this.vars['cktrackdelay'];\n\t\t\t\t\tif(cktrackdelay!=0){\n\t\t\t\t\t\tstartTime+=cktrackdelay;\n\t\t\t\t\t\tendTime+=cktrackdelay;\n\t\t\t\t\t}\n\t\t\t\t\t// 字幕可能有多行\n\t\t\t\t\tif (textSubtitle.length > 2) {\n\t\t\t\t\t\tfor (var j = 3; j < textSubtitle.length; j++) {\n\t\t\t\t\t\t\tcontent.push(delHtmlTag(textSubtitle[j]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// 字幕对象\n\t\t\t\t\tvar subtitle = {\n\t\t\t\t\t\tsn: sn,\n\t\t\t\t\t\tstartTime: startTime,\n\t\t\t\t\t\tendTime: endTime,\n\t\t\t\t\t\tcontent: content\n\t\t\t\t\t};\n\t\t\t\t\tsubtitlesArr.push(subtitle);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn subtitlesArr;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t计时器,该函数模拟as3中的timer原理\n\t\t\ttime:计时时间,单位:毫秒\n\t\t\tfun:接受函数\n\t\t\tnumber:运行次数,不设置则无限运行\n\t\t*/\n\t\ttimer: function(time, fun, number) {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.time = 10; //运行间隔\n\t\t\tthis.fun = null; //监听函数\n\t\t\tthis.timeObj = null; //setInterval对象\n\t\t\tthis.number = 0; //已运行次数\n\t\t\tthis.numberTotal = null; //总至需要次数\n\t\t\tthis.runing = false; //当前状态\n\t\t\tthis.startFun = function() {\n\t\t\t\tthisTemp.number++;\n\t\t\t\tthisTemp.fun();\n\t\t\t\tif (thisTemp.numberTotal != null && thisTemp.number >= thisTemp.numberTotal) {\n\t\t\t\t\tthisTemp.stop();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.start = function() {\n\t\t\t\tif (!thisTemp.runing) {\n\t\t\t\t\tthisTemp.runing = true;\n\t\t\t\t\tthisTemp.timeObj = window.setInterval(thisTemp.startFun, time);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.stop = function() {\n\t\t\t\tif (thisTemp.runing) {\n\t\t\t\t\tthisTemp.runing = false;\n\t\t\t\t\twindow.clearInterval(thisTemp.timeObj);\n\t\t\t\t\tthisTemp.timeObj = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (time) {\n\t\t\t\tthis.time = time;\n\t\t\t}\n\t\t\tif (fun) {\n\t\t\t\tthis.fun = fun;\n\t\t\t}\n\t\t\tif (number) {\n\t\t\t\tthis.numberTotal = number;\n\t\t\t}\n\t\t\tthis.start();\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将时分秒转换成秒\n\t\t*/\n\t\ttoSeconds: function(t) {\n\t\t\tvar s = 0.0;\n\t\t\tif (t) {\n\t\t\t\tvar p = t.split(':');\n\t\t\t\tfor (i = 0; i < p.length; i++) {\n\t\t\t\t\ts = s * 60 + parseFloat(p[i].replace(',', '.'));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn s;\n\t\t},\n\t\t/*将字符变成数字形式的数组*/\n\t\tarrayInt: function(str) {\n\t\t\tvar a = str.split(',');\n\t\t\tvar b = [];\n\t\t\tfor (var i = 0; i < a.length; i++) {\n\t\t\t\tif (this.isUndefined(a[i])) {\n\t\t\t\t\ta[i] = 0;\n\t\t\t\t}\n\t\t\t\tif (a[i].substr( - 1) != '%') {\n\t\t\t\t\ta[i] = parseInt(a[i]);\n\t\t\t\t}\n\t\t\t\tb.push(a[i]);\n\t\t\t}\n\t\t\treturn b;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将对象Object标准化\n\t\t*/\n\t\tstandardization: function(o, n) { //n替换进o\n\t\t\tvar h = {};\n\t\t\tvar k;\n\t\t\tfor (k in o) {\n\t\t\t\th[k] = o[k];\n\t\t\t}\n\t\t\tfor (k in n) {\n\t\t\t\tvar type ='';\n\t\t\t\tif(h[k]){\n\t\t\t\t\ttype = this.varType(h[k]);\n\t\t\t\t}\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'number':\n\t\t\t\t\t\th[k] = parseFloat(n[k]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\th[k] = n[k];\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn h;\n\t\t},\n\t\tobjectAssign:function(o,n) {\n\t\t\tif(this.varType(o)!='object' || this.varType(n)!='object'){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar obj1=this.newObj(o),obj2=this.newObj(n);\n\t\t\tfor(var k in obj2){\n\t\t\t\tif(this.varType(obj2[k])=='object'){\n\t\t\t\t\tif(this.varType(obj1[k])!='object'){\n\t\t\t\t\t\tobj1[k]={};\n\t\t\t\t\t}\n\t\t\t\t\tobj1[k]=this.objectAssign(obj1[k],obj2[k]);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tobj1[k]=obj2[k];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn obj1;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t搜索数组\n\t\t */\n\t\tarrIndexOf: function(arr, key) {\n\t\t\tif(this.isUndefined(arr) || this.isUndefined(key)){\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tvar re = new RegExp(key, ['']);\n\t\t\treturn (arr.toString().replace(re, '┢').replace(/[^,┢]/g, '')).indexOf('┢');\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t去掉空格\n\t\t */\n\t\ttrim: function(str) {\n\t\t\tif (str != '') {\n\t\t\t\treturn str.replace(/(^\\s*)|(\\s*$)/g, '');\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t输出内容到控制台\n\t\t*/\n\t\tlog: function(val) {\n\t\t\ttry {\n\t\t\t\tconsole.log(val);\n\t\t\t} catch(e) {}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t弹出提示\n\t\t*/\n\t\teject: function(er, val) {\n\t\t\tif (!this.vars['debug']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar errorVal = er[1];\n\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\terrorVal = errorVal.replace('[error]', val);\n\t\t\t}\n\t\t\tvar value = 'error ' + er[0] + ':' + errorVal;\n\t\t\ttry {\n\t\t\t\tthis.log(value);\n\t\t\t} catch(e) {}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t系统错误\n\t\t*/\n\t\tsysError: function(er, val) {\n\t\t\tvar ele= this.getByElement(this.vars['container']);\n\t\t\tvar errorVal = er[1];\n\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\terrorVal = errorVal.replace('[error]', val);\n\t\t\t}\n\t\t\tvar value = 'error ' + er[0] + ':' + errorVal;\n\t\t\tele.innerHTML=value;\n\t\t\tthis.css(ele,{\n\t\t\t\tbackgroundColor: '#000',\n\t\t\t\tcolor:'#FFF',\n\t\t\t\ttextAlign:'center',\n\t\t\t\tlineHeight:ele.offsetHeight+'px'\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断变量类型\n\t\t*/\n\t\tvarType:function(val){\n\t\t\tif(val===null){\n\t\t\t\treturn 'string';\n\t\t\t}\n\t\t\tvar type = typeof(val);\n\t\t\tswitch(type) {\n\t\t\t\tcase 'string':\n\t\t\t\t\treturn 'string';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'number':\n\t\t\t\t\treturn 'number';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'boolean':\n\t\t\t\t\treturn 'boolean';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'function':\n\t\t\t\t\treturn 'function';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'symbol':\n\t\t\t\t\treturn 'symbol';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'object':\n\t\t\t\t\tif(!this.isUndefined(typeof(val.length))) {\n\t\t\t\t\t\treturn 'array';\n\t\t\t\t\t}\n\t\t\t\t\treturn 'object';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'undefined':\n\t\t\t\t\treturn 'undefined';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn typeof(val);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t获取此js文件所在路径\n\t\t*/\n\t\tgetPath:function(){\n\t\t\tvar scriptList = document.scripts,\n\t\t\tthisPath = scriptList[scriptList.length - 1].src;\n\t\t\tfor(var i=0;i<scriptList.length;i++){\n\t\t\t\tvar scriptName=scriptList[i].getAttribute('name') || scriptList[i].getAttribute('data-name');\n\t\t\t\tvar src=scriptList[i].src.slice(scriptList[i].src.lastIndexOf('/') + 1,scriptList[i].src.lastIndexOf('.'));\n\t\t\t\tif((scriptName && (scriptName=='ckplayer' || scriptName=='ckplayer.min')) || (scriptList[i].src && (src=='ckplayer' || src=='ckplayer.min'))){\n\t\t\t\t\tthisPath = scriptList[i].src;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn thisPath.substring(0, thisPath.lastIndexOf('/') + 1);\n\t\t},\n\t\tgetConfigObject:function(){\n\t\t\treturn this.jsonConfig;\n\t\t},\n\t\tgetStyleObject:function(){\n\t\t\treturn this.jsonStyle;\n\t\t},\n\t\tgetLanguageObject:function(){\n\t\t\treturn this.jsongLanguage;\n\t\t}\n\t};\n\twindow.ckplayer = ckplayer;\n})();\n"},{"_content":"/*\n\t软件名称：ckplayer\n\t软件版本：X2\n\t软件作者：niandeng\n\t软件网站：http://www.ckplayer.com\n\t--------------------------------------------------------------------------------------------------------------------\n\t开发说明：\n\t使用的主要程序语言：javascript(js)及actionscript3.0(as3.0)(as3.0主要用于flashplayer部分的开发，不在该页面呈现)\n\t功能：播放视频\n\t特点：兼容HTML5-VIDEO(优先)以及FlashPlayer\n\t--------------------------------------------------------------------------------------------------------------------\n\t使用开源代码部分：\n\t1：flashls-http://flashls.org/\n\t=====================================================================================================================\n*/\n\n!(function() {\n\tvar ckplayer = function(obj) {\n\t\t/*\n\t\t\tjavascript部分开发所用的注释说明：\n\t\t\t1：初始化-程序调用时即运行的代码部分\n\t\t\t2：定义样式-定义容器（div,p,canvas等）的样式表，即css\n\t\t\t3：监听动作-监听元素节点（单击-click，鼠标进入-mouseover，鼠标离开-mouseout，鼠标移动-mousemove等）事件\n\t\t\t4：监听事件-监听视频的状态（播放，暂停，全屏，音量调节等）事件\n\t\t\t5：共用函数-这类函数在外部也可以使用\n\t\t\t6：全局变量-定义成全局使用的变量\n\t\t\t7：其它相关注释\n\t\t\t全局变量说明：\n\t\t\t在本软件中所使用到的全局变量（变量（类型）包括Boolean，String，Int，Object（包含元素对象和变量对象），Array，Function等）\n\t\t\t下面列出重要的全局变量：\n\t\t\t\tV:Object：视频对象\n\t\t\t\tVA:Array：视频列表（包括视频地址，类型，清晰度说明）\n\t\t\t\tID:String：视频ID\n\t\t\t\tCB:Object：控制栏各元素的集合对象\n\t\t\t\tPD:Object：内部视频容器对象\n\t\t\t---------------------------------------------------------------------------------------------\n\t\t\t程序开始\n\t\t\t下面为需要初始化配置的全局变量\n\t\t*/\n\t\t//全局变量：播放器默认配置，在外部传递过来相应配置后，则进行相关替换\n\t\tthis.varsDefault = {\n\t\t\tplayerID: '',//播放器ID\n\t\t\tcontainer: '',//视频容器的ID\n\t\t\tvariable: 'ckplayer',//播放函数(变量)名称\n\t\t\tvolume: 0.8,//默认音量，范围0-1\n\t\t\tposter: '',//封面图片地址\n\t\t\tautoplay: false,//是否自动播放\n\t\t\tloop: false,//是否需要循环播放\n\t\t\tlive: false,//是否是直播\n\t\t\tduration: 0,//指定总时间\n\t\t\tforceduration:0,//强制使用该时间为总时间\n\t\t\tseek: 0,//默认需要跳转的秒数\n\t\t\tdrag: '',//拖动时支持的前置参数\n\t\t\tfront: '',//前一集按钮动作\n\t\t\tnext: '',//下一集按钮动作\n\t\t\tloaded: '',//加载播放器后调用的函数\n\t\t\tflashplayer: false,//设置成true则强制使用flashplayer\n\t\t\thtml5m3u8: false,//PC平台上是否使用h5播放器播放m3u8\n\t\t\ttrack: null,//字幕轨道\n\t\t\tcktrack: null,//ck字幕\n\t\t\tcktrackdelay:0,//字幕显示延迟时间\n\t\t\tpreview: null,//预览图片对象\n\t\t\tprompt: null,//提示点功能\n\t\t\tvideo: null,//视频地址\n\t\t\tconfig: '',//调用配置函数名称\n\t\t\ttype: '',//视频格式\n\t\t\tcrossorigin: '',//设置html5视频的crossOrigin属性\n\t\t\tcrossdomain: '',//安全策略文件地址\n\t\t\tunescape: false,//默认flashplayer里需要解码\n\t\t\tmobileCkControls: false,//移动端h5显示控制栏\n\t\t\tmobileAutoFull: true,//移动端是否默认全屏播放\n\t\t\tplaybackrate: 1,//默认倍速\n\t\t\th5container: '',//h5环境中使用自定义容器\n\t\t\tdebug: false,//是否开启调试模式\n\t\t\toverspread:true,//是否让视频铺满播放器\n\t\t\tlanguage:'',//语言文件路径\n\t\t\tstyle:'',//风格文件路径\n\t\t\t//以下为广告相关配置\n\t\t\tadfront: '',\n\t\t\tadfronttime: '',\n\t\t\tadfrontlink: '',\n\t\t\tadpause: '',\n\t\t\tadpausetime: '',\n\t\t\tadpauselink: '',\n\t\t\tadinsert: '',\n\t\t\tadinserttime: '',\n\t\t\tadinsertlink: '',\n\t\t\tinserttime: '',\n\t\t\tadend: '',\n\t\t\tadendtime: '',\n\t\t\tadendlink: '',\n\t\t\tadvertisements: ''\n\t\t};\n\t\t//全局变量:vars\n\t\tthis.vars = {};\n\t\t//全局变量：配置文件函数\n\t\tthis.ckConfig = {};\n\t\tthis.jsonConfig = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：语言配置\n\t\tthis.ckLanguage = {};\n\t\tthis.jsonLanguage = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：语言配置\n\t\tthis.ckStyle = {};\n\t\tthis.jsonStyle = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：右键菜单：[菜单标题,类型(link:链接，default:灰色，function：调用函数，javascript:调用js函数),执行内容(包含链接地址，函数名称),[line(间隔线)]]\n\t\tthis.contextMenu = [['ckplayer', 'link', 'http://www.ckplayer.com', '_blank'], ['version:X2', 'default', 'line']];\n\t\t//全局变量：错误提示列表\n\t\tthis.errorList = [\n\t\t\t['000', 'Object does not exist'], \n\t\t\t['001', 'Variables type is not a object'], \n\t\t\t['002', 'Video object does not exist'],\n\t\t\t['003', 'Video object format error'], \n\t\t\t['004', 'Video object format error'], \n\t\t\t['005', 'Video object format error'], \n\t\t\t['006', '[error] does not exist'], \n\t\t\t['007', 'Ajax error'],\n\t\t\t['008', 'Ajax error'],\n\t\t\t['009', 'Ajax object format error'],\n\t\t\t['010', 'Ajax.status:[error]'],\n\t\t\t['011', '[error] File loading failed or error'],\n\t\t\t['012', '[error]']\n\t\t];\n\t\t//全局变量：HTML5变速播放的值数组/如果不需要可以设置成null\n\t\tthis.playbackRateArr = [[0.5, '0.5X'], [1, '1X'], [1.25, '1.25X'], [1.5, '1.5X'], [2, '2X'], [4, '4X']];\n\t\t//全局变量：保存倍速\n\t\tthis.playbackRateTemp=1;\n\t\t//全局变量：HTML5默认变速播放的值\n\t\tthis.playbackRateDefault = 1;\n\t\t//全局变量：HTML5当前显示的字幕编号\n\t\tthis.subtitlesTemp=-1;\n\t\t//全局变量：定义logo\n\t\tthis.logo = '';\n\t\t//全局变量：是否加载了播放器\n\t\tthis.loaded = false;\n\t\t//全局变量：计时器，监听视频加载出错的状态\n\t\tthis.timerError = null;\n\t\t//全局变量：是否出错\n\t\tthis.error = false;\n\t\t//全局变量：出错地址的数组\n\t\tthis.errorUrl = [];\n\t\t//全局变量：计时器，监听全屏与非全屏状态\n\t\tthis.timerFull = null;\n\t\t//全局变量：是否全屏状态\n\t\tthis.full = false;\n\t\t//全局变量：计时器，监听当前的月/日 时=分=秒\n\t\tthis.timerTime = null;\n\t\t//全局变量：计时器，监听视频加载\n\t\tthis.timerBuffer = null;\n\t\t//全局变量：设置进度按钮及进度条是否跟着时间变化，该属性主要用来在按下进度按钮时暂停进度按钮移动和进度条的长度变化\n\t\tthis.isTimeButtonMove = true;\n\t\t//全局变量：进度栏是否有效，如果是直播，则不需要监听时间让进度按钮和进度条变化\n\t\tthis.isTimeButtonDown = false;\n\t\t//全局变量：计时，用来计算鼠标离开清晰度或字幕或倍速按钮后的计算时间标准\n\t\tthis.timeButtonOver=null;\n\t\t//全局变量：鼠标离开清晰度或字幕或倍速是否需要隐藏\n\t\tthis.buttonHide=false;\n\t\t//全局变量：用来模拟双击功能的判断\n\t\tthis.isClick = false;\n\t\t//全局变量：计时器，用来模拟双击功能的计时器\n\t\tthis.timerClick = null;\n\t\t//全局变量：计时器，监听鼠标在视频上移动显示控制栏\n\t\tthis.timerCBar = null;\n\t\t//全局变量：播放视频时如果该变量的值大于0，则进行跳转后设置该值为0\n\t\tthis.needSeek = 0;\n\t\t//全局变量：当前音量\n\t\tthis.volume = 0;\n\t\t//全局变量：静音时保存临时音量\n\t\tthis.volumeTemp = 0;\n\t\t//全局变量/变量类型：Number/功能：当前播放时间\n\t\tthis.time = 0;\n\t\t//全局变量：定义首次调用\n\t\tthis.isFirst = true;\n\t\t//全局变量：是否使用HTML5-VIDEO播放\n\t\tthis.html5Video = true;\n\t\t//全局变量记录视频容器节点的x;y\n\t\tthis.pdCoor = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\t//全局变量：判断当前使用的播放器类型，html5video或flashplayer\n\t\tthis.playerType = '';\n\t\t//全局变量：加载进度条的长度\n\t\tthis.loadTime = 0;\n\t\t//全局变量：body对象\n\t\tthis.body = document.body || document.documentElement;\n\t\t//全局变量：播放器\n\t\tthis.V = null;\n\t\t//全局变量：保存外部js监听事件数组\n\t\tthis.listenerJsArr = [];\n\t\t//全局变量：保存控制栏显示元素的总宽度\n\t\tthis.buttonLen = 0;\n\t\t//全局变量：保存控制栏显示元素的数组\n\t\tthis.buttonArr = [];\n\t\t//全局变量：保存播放器上新增元件的数组\n\t\tthis.elementArr = [];\n\t\t//全局变量：保存播放器上弹幕的临时数组\n\t\tthis.elementTempArr = [];\n\t\t//全局变量：字幕内容\n\t\tthis.track = [];\n\t\t//全局变量：字幕索引\n\t\tthis.trackIndex = 0;\n\t\t//全局变量：当前显示的字幕内容\n\t\tthis.nowTrackShow = {\n\t\t\tsn: ''\n\t\t};\n\t\t//全局变量：保存字幕元件数组\n\t\tthis.trackElement = [];\n\t\t//全局变量：将视频转换为图片\n\t\tthis.timerVCanvas = null;\n\t\t//全局变量：animate，缓动对象数组\n\t\tthis.animateArray = [];\n\t\t//全局变量：保存animate的元件\n\t\tthis.animateElementArray = [];\n\t\t//全局变量：保存需要在暂停时停止缓动的数组\n\t\tthis.animatePauseArray = [];\n\t\t//全局变量：预览图片加载状态/0=没有加载，1=正在加载，2=加载完成\n\t\tthis.previewStart = 0;\n\t\t//全局变量：预览图片容器\n\t\tthis.previewDiv = null;\n\t\t//全局变量：预览框\n\t\tthis.previewTop = null;\n\t\t//全局变量：预览框的宽\n\t\tthis.previewWidth = 120;\n\t\t//全局变量：预览图片容器缓动函数\n\t\tthis.previewTween = null;\n\t\t//全局变量：是否是m3u8格式，是的话则可以加载hls.js\n\t\tthis.isM3u8 = false;\n\t\t//全局变量：保存提示点数组\n\t\tthis.promptArr = [];\n\t\t//全局变量：显示提示点文件的容器\n\t\tthis.promptElement = null;\n\t\t//全局变量：控制栏是否显示\n\t\tthis.conBarShow = true;\n\t\t//全局变量：是否监听过h5的错误\n\t\tthis.errorAdd = false;\n\t\t//全局变量：是否发送了错误\n\t\tthis.errorSend = false;\n\t\t//全局变量：控制栏是否隐藏\n\t\tthis.controlBarIsShow = true;\n\t\t//全局变量，保存当前缩放比例\n\t\tthis.videoScale = 1;\n\t\t//全局变量：设置字体\n\t\tthis.fontFamily = '\"Microsoft YaHei\"; YaHei; \"\\5FAE\\8F6F\\96C5\\9ED1\"; SimHei; \"\\9ED1\\4F53\";Arial';\n\t\t//全局变量：记录第一次拖动进度按钮时的位置\n\t\tthis.timeSliderLeftTemp = 0;\n\t\t//全局变量：判断是否记录了总时间\n\t\tthis.durationSendJS = false;\n\t\t//全局变量：初始化广告分析是否结束设置\n\t\tthis.adAnalysisEnd = false;\n\t\t//全局变量：广告变量\n\t\tthis.advertisements = {};\n\t\t//全局变量：是否是第一次播放视频\n\t\tthis.isFirstTimePlay = true;\n\t\t//全局变量：当前需要播放的广告类型\n\t\tthis.adType = '';\n\t\t//全局变量：播放广告计数\n\t\tthis.adI = 0;\n\t\t//全局变量：要播放的临时地址\n\t\tthis.videoTemp = {\n\t\t\tsrc: '',\n\t\t\tsource: '',\n\t\t\tcurrentSrc: '',\n\t\t\tloop: false\n\t\t};\n\t\t//全局变量：当前要播放的广告组总时间\n\t\tthis.adTimeAllTotal = 0;\n\t\t//全局变量：肖前要播放的广告时间\n\t\tthis.adTimeTotal = 0;\n\t\t//全局变量：用来做倒计时\n\t\tthis.adCountDownObj = null;\n\t\t//全局变量：前置，中插，结尾广告是否已开始运行\n\t\tthis.adPlayStart = false;\n\t\t//全局变量：目前是否在播放广告\n\t\tthis.adPlayerPlay = false;\n\t\t//全局变量：当前广告是否暂停\n\t\tthis.adIsPause = false;\n\t\t//全局变量：视频广告是否静音\n\t\tthis.adVideoMute = false;\n\t\t//全局变量：是否需要记录当前播放的时间供广告播放结束后进行跳转\n\t\tthis.adIsVideoTime = false;\n\t\t//全局变量：后置广告是否播放\n\t\tthis.endAdPlay = false;\n\t\t//全局变量：暂停广告是否在显示\n\t\tthis.adPauseShow = false;\n\t\t//全局变量：是否需要重置广告以实现重新播放时再播放一次\n\t\tthis.adReset = false;\n\t\t//全局变量：记录鼠标在视频上点击时的坐标\n\t\tthis.videoClickXy={x:0,y:0};\n\t\t//全局变量：是否在播放广告时播放过视频广告\n\t\tthis.adVideoPlay = false;\n\t\t\n\t\t//全局变量：临时存储已加载时间的变量\n\t\tthis.loadTimeTemp=0;\n\t\t//全局变量，临时存储hls形式下首次加载时是否需要暂停或播放的判断\n\t\tthis.hlsAutoPlay=true;\n\t\t//全局变量，loading是否显示\n\t\tthis.loadingShow=false;\n\t\t//全局变量，保存视频地址字符串的\n\t\tthis.videoString='';\n\t\t//全局变量，保存所有自定义元件的数组\n\t\tthis.customeElement=[];\n\t\t//全局变量，保存PD的宽高\n\t\tthis.cdWH={w:0,h:0};\n\t\t//全局变量，保存所有的元素变量\n\t\tthis.CB={};\n\t\t//全局变量，调用当前路径\n\t\tthis.ckplayerPath=this.getPath();\n\t\tif (obj) {\n\t\t\tthis.embed(obj);\n\t\t}\n\t};\n\tckplayer.prototype = {\n\t\t/*\n\t\t\t主要函数部分开始\n\t\t\t主接口函数：\n\t\t\t调用播放器需初始化该函数\n\t\t*/\n\t\tembed: function(c) {\n\t\t\t//c:Object：是调用接口传递的属性对象\n\t\t\tif (window.location.href.substr(0, 7) == 'file://') {//如果是使用的file协议打网页则弹出提示\n\t\t\t\talert('Please use the HTTP protocol to open the page');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(c)) {\n\t\t\t\tthis.eject(this.errorList[0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(c) != 'object') {\n\t\t\t\tthis.eject(this.errorList[1]);\n\t\t\t}\n\t\t\tthis.vars = this.standardization(this.varsDefault, c);\n\t\t\tif (!this.vars['mobileCkControls'] && this.isMobile()) {\n\t\t\t\tthis.vars['flashplayer'] = false;\n\t\t\t\tthis.conBarShow = false;\n\t\t\t}\n\t\t\tvar videoStringTemp = this.vars['video'];\n\t\t\tif (!videoStringTemp) {\n\t\t\t\tthis.eject(this.errorList[2]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(videoStringTemp) == 'string') {\n\t\t\t\tif (videoStringTemp.substr(0, 3) == 'CK:' || videoStringTemp.substr(0, 3) == 'CE:' || videoStringTemp.substr(8, 3) == 'CK:' || videoStringTemp.substr(8, 3) == 'CE:') {\n\t\t\t\t\tthis.vars['flashplayer'] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.varType(videoStringTemp) == 'object') {\n\t\t\t\tif (videoStringTemp.length > 1) {\n\t\t\t\t\tif (videoStringTemp[0][0].substr(0, 3) == 'CK:' || videoStringTemp[0][0].substr(0, 3) == 'CE:' || videoStringTemp[0][0].substr(8, 3) == 'CK:' || videoStringTemp[0][0].substr(8, 3) == 'CE:') {\n\t\t\t\t\t\tthis.vars['flashplayer'] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.videoString=videoStringTemp;\n\t\t\tthis.checkUpConfig();\t\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载config文件\n\t\t*/\n\t\tcheckUpConfig:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar configPath='';\n\t\t\tvar jsTemp=null;\n\t\t\tif (this.vars['config']) {\n\t\t\t\tif (this.vars['config'].substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp= eval(this.vars['config'] + '()');\n\t\t\t\t\tif(!this.isUndefined(jsTemp)){\n\t\t\t\t\t\tthis.ckConfig=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.jsonConfig=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.loadConfig(null);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadConfig(this.ckplayerPath+this.vars['config']);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadConfig(this.ckplayerPath+this.vars['config'].substr(8));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t\t\tvar isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerConfig)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp= ckplayerConfig();\n\t\t\t          \tif(jsTemp){\n\t\t\t          \t\tthis.ckConfig=this.newObj(jsTemp);\n\t\t\t          \t\tthis.jsonConfig=this.newObj(jsTemp);\n\t\t\t          \t\tthis.loadConfig(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthis.loadConfig(this.ckplayerPath+'ckplayer.json');\n\t\t\t\t\t\t}\n\t\t\t        }\n\t\t\t        else {\n\t\t\t           this.loadConfig(this.ckplayerPath+'ckplayer.json');\n\t\t\t        }\n\t\t\t    } catch(e) {\n\t\t\t    \tthisTemp.sysError(thisTemp.errorList[12],e);//系统错误\n\t\t\t    }\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadConfig:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.ckConfig=data;\n\t\t\t\t\t\t\tthisTemp.jsonConfig=thisTemp.newObj(data);\n\t\t\t\t\t\t\tif(!thisTemp.isUndefined(data['flashvars'])){\n\t\t\t\t\t\t\t\tthisTemp.vars=thisTemp.objectAssign(data['flashvars'],thisTemp.vars);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.checkUpLanguage();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'Config');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.checkUpLanguage();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载语言文件\n\t\t*/\n\t\tcheckUpLanguage:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar languagePath='';\n\t\t\tvar jsTemp=null;\n\t\t\tif (this.vars['language']) {\n\t\t\t\tlanguagePath=this.vars['language'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif (this.ckConfig['languagePath']) {\n\t\t\t\t\tlanguagePath=this.ckConfig['languagePath'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (languagePath) {\n\t\t\t\tif (languagePath.substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp = eval(languagePath + '()');\n\t\t\t\t\tif(jsTemp){\n\t\t\t\t\t\tthis.ckLanguage=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.jsonLanguage=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.loadLanguage(null);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadLanguage(this.ckplayerPath+languagePath);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadLanguage(this.ckplayerPath+languagePath.substr(8));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t\t\tvar isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerLanguage)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp = ckplayerLanguage();\n\t\t\t          \tif(jsTemp){\n\t\t\t          \t\tthis.ckLanguage=this.newObj(jsTemp);\n\t\t\t          \t\tthis.jsonLanguage=this.newObj(jsTemp);\n\t\t\t          \t\tthis.loadLanguage(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t this.loadLanguage(this.ckplayerPath+'language.json');\n\t\t\t\t\t\t}\n\t\t\t        }\n\t\t\t        else {\n\t\t\t           this.loadLanguage(this.ckplayerPath+'language.json');\n\t\t\t        }\n\t\t\t    } catch(e) {\n\t\t\t    \tthisTemp.sysError(thisTemp.errorList[12],e);//系统错误\n\t\t\t    }\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadLanguage:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.ckLanguage=data;\n\t\t\t\t\t\t\tthisTemp.jsonLanguage=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.checkUpStyle();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'language.json');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.checkUpStyle();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载皮肤文件\n\t\t*/\n\t\tcheckUpStyle:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar stylePath='';\n\t\t\tvar jsTemp=null;\n\t\t\tvar configJs=this.newObj(this.ckConfig);\n\t\t\tif (this.vars['style']) {\n\t\t\t\tstylePath=this.vars['style'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif (this.ckConfig['stylePath']) {\n\t\t\t\t\tstylePath=''+this.ckConfig['stylePath'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (stylePath) {\n\t\t\t\tif (stylePath.substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp = eval(stylePath + '()');\n\t\t\t\t\tif(!this.isUndefined(jsTemp)){\n\t\t\t          \tthis.jsonStyle=this.newObj(jsTemp);\n\t\t\t          \tthis.ckStyle=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.ckStyle['advertisement']=this.objectAssign(configJs['style']['advertisement'],this.ckStyle['advertisement']);\n\t\t\t\t\t\tthis.ckStyle=this.objectAssign(configJs['style'],this.ckStyle);\n\t\t\t\t\t\tthis.loadStyle(null);\n\t\t\t        }\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadStyle(this.ckplayerPath+stylePath);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadStyle(this.ckplayerPath+stylePath.substr(8));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t       var isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerStyle)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){isFun=false;}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp= ckplayerStyle();\n\t\t\t          \tif(!this.isUndefined(jsTemp)){\n\t\t\t          \t\tthis.jsonStyle=this.newObj(jsTemp);\n\t\t\t          \t\tthis.ckStyle=this.newObj(jsTemp);\n\t\t\t\t\t\t\tthis.ckStyle['advertisement']=this.objectAssign(configJs['style']['advertisement'],this.ckStyle['advertisement']);\n\t\t\t\t\t\t\tthis.ckStyle=this.objectAssign(configJs['style'],this.ckStyle);\n\t\t\t\t\t\t\tthis.loadStyle(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthis.loadStyle(this.ckplayerPath+'style.json');\n\t\t\t\t\t\t}\n\t\t\t\t    }\n\t\t\t        else {\n\t\t\t           this.loadStyle(this.ckplayerPath+'style.json');\n\t\t\t        }\n\t\t\t    } catch(e) {}\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadStyle:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tvar configJs=this.newObj(this.ckConfig);\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.jsonStyle=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.ckStyle=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.ckStyle['advertisement']=thisTemp.objectAssign(configJs['style']['advertisement'],thisTemp.ckStyle['advertisement']);\n\t\t\t\t\t\t\tthisTemp.ckStyle=thisTemp.objectAssign(configJs['style'],thisTemp.ckStyle);\n\t\t\t\t\t\t\tthisTemp.loadConfigHandler();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'Style');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.loadConfigHandler();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t当config,language,style三个文件或函数处理完成后执行的动作\n\t\t*/\n\t\tloadConfigHandler:function(){\n\t\t\tif ((!this.supportVideo() && this.vars['flashplayer'] != '') || (this.vars['flashplayer'] && this.uploadFlash()) || !this.isMsie()) {\n\t\t\t\tthis.html5Video = false;\n\t\t\t\tthis.getVideo();\n\t\t\t} \n\t\t\telse if (this.videoString) {\n\t\t\t\t//判断视频数据类型\n\t\t\t\tthis.analysedVideoUrl(this.videoString);\n\t\t\t} \n\t\t\telse {\n\t\t\t\tthis.eject(this.errorList[2]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据外部传递过来的video开始分析视频地址\n\t\t*/\n\t\tanalysedVideoUrl: function(video) {\n\t\t\tvar i = 0,\n\t\t\ty = 0;\n\t\t\tvar thisTemp = this;\n\t\t\tthis.VA = [];//定义全局变量VA：视频列表（包括视频地址，类型，清晰度说明）\n\t\t\tif (this.varType(video) == 'string') { //如果是字符形式的则判断后缀进行填充\n\t\t\t\tif (video.substr(0, 8) != 'website:') {\n\t\t\t\t\tthis.VA = [[video, '', '', 0]];\n\t\t\t\t\tvar fileExt = this.getFileExt(video);\n\t\t\t\t\tswitch (fileExt) {\n\t\t\t\t\tcase '.mp4':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/mp4';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '.ogg':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/ogg';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '.webm':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/webm';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tthis.getVideo();\n\t\t\t\t} else {\n\t\t\t\t\tif (this.html5Video) {\n\t\t\t\t\t\tvar ajaxObj = {\n\t\t\t\t\t\t\turl: video.substr(8),\n\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\t\t\tthisTemp.analysedUrl(data);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[5]);\n\t\t\t\t\t\t\t\t\tthis.VA = video;\n\t\t\t\t\t\t\t\t\tthisTemp.getVideo();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror:function(data){\n\t\t\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.VA = video;\n\t\t\t\t\t\tthis.getVideo();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t} \n\t\t\telse if(this.varType(video)=='array'){//如果视频地址是数组\n\t\t\t\tif (this.varType(video[0])=='array') { //如果视频地址是二维数组\n\t\t\t\t\tthis.VA = video;\n\t\t\t\t}\n\t\t\t\tthis.getVideo();\n\t\t\t}\n\t\t\telse if(this.varType(video)=='object'){\n\t\t\t\t/*\n\t\t\t\t\t如果video格式是对象形式，则分二种\n\t\t\t\t\t如果video对象里包含type，则直接播放\n\t\t\t\t*/\n\t\t\t\tif (!this.isUndefined(video['type'])) {\n\t\t\t\t\tthis.VA.push([video['file'], video['type'], '', 0]);\n\t\t\t\t\tthis.getVideo();\n\t\t\t\t} else {\n\t\t\t\t\tthis.eject(this.errorList[5]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.eject(this.errorList[4]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t对请求到的视频地址进行重新分析\n\t\t*/\n\t\tanalysedUrl: function(data) {\n\t\t\tthis.vars = this.standardization(this.vars, data);\n\t\t\tif (!this.isUndefined(data['video'])) {\n\t\t\t\tthis.vars['video'] = data['video'];\n\t\t\t}\n\t\t\tthis.analysedVideoUrl(this.vars['video']);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t检查浏览器支持的视频格式，如果是则将支持的视频格式重新分组给播放列表\n\t\t*/\n\t\tgetHtml5Video: function() {\n\t\t\tvar va = this.VA;\n\t\t\tvar nva = [];\n\t\t\tvar mobile = this.isMobile();\n\t\t\tvar video = document.createElement('video');\n\t\t\tvar codecs = function(type) {\n\t\t\t\tvar cod = '';\n\t\t\t\tswitch (type) {\n\t\t\t\tcase 'video/mp4':\n\t\t\t\t\tcod = 'avc1.4D401E, mp4a.40.2';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video/ogg':\n\t\t\t\t\tcod = 'theora, vorbis';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video/webm':\n\t\t\t\t\tcod = 'vp8.0, vorbis';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn cod;\n\t\t\t};\n\t\t\tvar supportType = function(vidType, codType) {\n\t\t\t\tif (!video.canPlayType) {\n\t\t\t\t\tthis.html5Video = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar isSupp = video.canPlayType(vidType + ';codecs=\"' + codType + '\"');\n\t\t\t\tif (isSupp == '') {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tif (this.vars['flashplayer'] || !this.isMsie()) {\n\t\t\t\tthis.html5Video = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (var i = 0; i < va.length; i++) {\n\t\t\t\tvar v = va[i];\n\t\t\t\tif (v) {\n\t\t\t\t\tif (v[1] != '' && !mobile && supportType(v[1], codecs(v[1])) && v[0].substr(0, 4) != 'rtmp') {\n\t\t\t\t\t\tnva.push(v);\n\t\t\t\t\t}\n\t\t\t\t\tif ((this.getFileExt(v[0]) == '.m3u8' || this.vars['type'] == 'video/m3u8' || this.vars['type'] == 'm3u8' || v[1] == 'video/m3u8' || v[1] == 'm3u8') && this.vars['html5m3u8'] && !mobile) {\n\t\t\t\t\t\tthis.isM3u8 = true;\n\t\t\t\t\t\tnva.push(v);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (nva.length > 0) {\n\t\t\t\tthis.VA = nva;\n\t\t\t} else {\n\t\t\t\tif (!mobile) {\n\t\t\t\t\tthis.html5Video = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据视频地址开始构建播放器\n\t\t*/\n\t\tgetVideo: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar v = this.vars;\n\t\t\t//如果存在广告字段则开始分析广告\n\t\t\tif (!this.adAnalysisEnd && (v['adfront'] != '' || v['adpause'] != '' || v['adinsert'] != '' || v['adend'] != '' || v['advertisements'] != '')) {\n\t\t\t\tthis.adAnalysisEnd = true;\n\t\t\t\tthis.adAnalysis();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//如果存在字幕则加载\n\t\t\tif (this.V) { //如果播放器已存在，则认为是从newVideo函数发送过来的请求\n\t\t\t\tthis.changeVideo();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.vars['cktrack']) {\n\t\t\t\tthis.loadTrack();\n\t\t\t}\n\t\t\tif (this.supportVideo() && !this.vars['flashplayer']) {\n\t\t\t\tthis.getHtml5Video(); //判断浏览器支持的视频格式\n\t\t\t}\n\t\t\tvar src = '',\n\t\t\tsource = '',\n\t\t\tposter = '',\n\t\t\tloop = '',\n\t\t\tautoplay = '',\n\t\t\ttrack = '',\n\t\t\tcrossorigin='';\n\t\t\tvar video = v['video'];\n\t\t\tvar i = 0;\n\t\t\tvar vBg=this.ckStyle['background']['backgroundColor'].replace('0x','#');\n\t\t\tthis.CD = this.getByElement(v['container']);\n\t\t\tvolume = v['volume'];\n\t\t\tif (this.isUndefined(this.CD)) {\n\t\t\t\tthis.eject(this.errorList[6], v['container']);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\t//开始构建播放器容器\n\t\t\tthis.V = undefined;\n\t\t\tvar thisPd = null;\n\t\t\tif (v['h5container'] != '') {\n\t\t\t\tthisPd = this.getByElement(v['h5container']);\n\t\t\t\tif (this.isUndefined(thisPd)) {\n\t\t\t\t\tthisPd = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar isVideoH5 = null; //isUndefined  thisPd\n\t\t\tif (v['playerID'] != '') {\n\t\t\t\tisVideoH5 = this.getByElement('#' + v['playerID']);\n\t\t\t\tif (this.isUndefined(isVideoH5)) {\n\t\t\t\t\tisVideoH5 = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (thisPd != null && isVideoH5 != null) {\n\t\t\t\tthis.PD = thisPd; //PD:定义播放器容器对象全局变量\n\t\t\t} else {\n\t\t\t\tvar playerID = 'ckplayer-' + this.randomString();\n\t\t\t\tvar playerDiv = document.createElement('div');\n\t\t\t\tplayerDiv.className = playerID;\n\t\t\t\tthis.CD.innerHTML = '';\n\t\t\t\tthis.CD.appendChild(playerDiv);\n\t\t\t\tthis.PD = playerDiv; //PD:定义播放器容器对象全局变量\n\t\t\t}\n\t\t\tthis.css(this.CD, {\n\t\t\t\tbackgroundColor: vBg,\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tposition: 'relative'\n\t\t\t});\n\t\t\tthis.css(this.PD, {\n\t\t\t\tbackgroundColor: vBg,\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '100%',\n\t\t\t\tfontFamily: this.fontFamily\n\t\t\t});\n\t\t\tif (this.html5Video) { //如果支持HTML5-VIDEO则默认使用HTML5-VIDEO播放器\n\t\t\t\t\n\t\t\t\t//禁止播放器容器上鼠标选择文本\n\t\t\t\tthis.PD.onselectstart = this.PD.ondrag = function() {\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t\t//播放器容器构建完成并且设置好样式\n\t\t\t\t//构建播放器\n\t\t\t\tif (this.VA.length == 1) {\n\t\t\t\t\tthis.videoTemp['src'] = decodeURIComponent(this.VA[0][0]);\n\t\t\t\t\tsrc = ' src=\"' + this.videoTemp['src'] + '\"';\n\n\t\t\t\t} else {\n\t\t\t\t\tvar videoArr = this.VA.slice(0);\n\t\t\t\t\tvideoArr = this.arrSort(videoArr);\n\t\t\t\t\tfor (i = 0; i < videoArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = videoArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t\tif (type == ' type=\"video/m3u8\"' || type == ' type=\"m3u8\"') {\n\t\t\t\t\t\t\t\ttype = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + decodeURIComponent(va[0]) + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.videoTemp['source'] = source;\n\t\t\t\t}\n\t\t\t\t//分析视频地址结束\n\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\tautoplay = ' autoplay=\"autoplay\"';\n\t\t\t\t}\n\t\t\t\tif (v['poster']) {\n\t\t\t\t\tposter = ' poster=\"' + v['poster'] + '\"';\n\t\t\t\t}\n\t\t\t\tif (v['loop']) {\n\t\t\t\t\tloop = ' loop=\"loop\"';\n\t\t\t\t}\n\t\t\t\tif (v['seek'] > 0) {\n\t\t\t\t\tthis.needSeek = v['seek'];\n\t\t\t\t}\n\t\t\t\tif (v['track'] != null && v['cktrack'] == null) {\n\t\t\t\t\tvar trackArr = v['track'];\n\t\t\t\t\tvar trackDefault = '';\n\t\t\t\t\tvar defaultHave = false;\n\t\t\t\t\tfor (i = 0; i < trackArr.length; i++) {\n\t\t\t\t\t\tvar trackObj = trackArr[i];\n\t\t\t\t\t\tif (trackObj['default'] && !defaultHave) {\n\t\t\t\t\t\t\ttrackDefault = ' default';\n\t\t\t\t\t\t\tdefaultHave = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttrackDefault = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttrack += '<track kind=\"' + trackObj['kind'] + '\" src=\"' + trackObj['src'] + '\" srclang=\"' + trackObj['srclang'] + '\" label=\"' + trackObj['label'] + '\"' + trackDefault + '>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(v['crossorigin']){\n\t\t\t\t\tcrossorigin=' crossorigin=\"'+v['crossorigin']+'\"';\n\t\t\t\t}\n\t\t\t\tvar autoLoad = this.ckConfig['config']['autoLoad'];\n\t\t\t\tvar preload = '';\n\t\t\t\tif (!autoLoad) {\n\t\t\t\t\tpreload = ' preload=\"meta\"';\n\t\t\t\t}\n\t\t\t\tvar vid = this.randomString();\n\t\t\t\tvar controls = '';\n\t\t\t\tvar mobileAutoFull = v['mobileAutoFull'];\n\t\t\t\tvar mobileautofull = '';\n\t\t\t\tif (!mobileAutoFull) {\n\t\t\t\t\tmobileautofull = ' x-webkit-airplay=\"true\" playsinline  webkit-playsinline=\"true\"  x5-video-player-type=\"h5\"';\n\t\t\t\t}\n\t\t\t\tif(this.isMobile()){\n\t\t\t\t\tcontrols = ' controls=\"controls\"';\n\t\t\t\t}\n\t\t\t\tif (isVideoH5 != null && thisPd != null) {\n\t\t\t\t\tthis.V = isVideoH5;\n\t\t\t\t\tif (v['poster']) {\n\t\t\t\t\t\tthis.V.poster = v['poster'];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar html = '';\n\t\t\t\t\tif (!this.isM3u8) {\n\t\t\t\t\t\thtml = '<video id=\"' + vid + '\"' + src + ' controlslist=\"nodownload\" width=\"100%\" height=\"100%\"' + autoplay + poster + loop + preload + controls + mobileautofull + track + crossorigin+'>' + source + '</video>';\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml = '<video id=\"' + vid + '\" controlslist=\"nodownload\" width=\"100%\" height=\"100%\"' + poster + loop + preload + controls + mobileautofull + track + crossorigin+'></video>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.PD.innerHTML = html;\n\t\t\t\t\tthis.V = this.getByElement('#' + vid); //V：定义播放器对象全局变量\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.volume = volume; //定义音量\n\t\t\t\t\tif (this.playbackRateArr && this.vars['playbackrate'] > -1) {\n\t\t\t\t\t\tif (this.vars['playbackrate'] < this.playbackRateArr.length) {\n\t\t\t\t\t\t\tthis.playbackRateDefault = this.vars['playbackrate'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.V.playbackRate = this.playbackRateArr[this.playbackRateDefault][0]; //定义倍速\n\t\t\t\t\t}\n\t\t\t\t} catch(error) {}\n\t\t\t\tthis.css(this.V, {\n\t\t\t\t\tbackgroundColor: vBg,\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100%'\n\t\t\t\t});\n\t\t\t\tif (this.isM3u8) {\n\t\t\t\t\tvar loadJsHandler = function() {\n\t\t\t\t\t\tthisTemp.embedHls(thisTemp.VA[0][0], v['autoplay']);\n\t\t\t\t\t};\n\t\t\t\t\tthis.loadJs(this.ckplayerPath + 'hls/hls.min.js', loadJsHandler);\n\t\t\t\t}\n\t\t\t\tthis.css(this.V, 'backgroundColor', vBg);\n\t\t\t\t//创建一个画布容器\n\t\t\t\tif (this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\t\tvar canvasDiv = document.createElement('div');\n\t\t\t\t\tthis.PD.appendChild(canvasDiv);\n\t\t\t\t\tthis.MD = canvasDiv; //定义画布存储容器\n\t\t\t\t\tthis.css(this.MD, {\n\t\t\t\t\t\tbackgroundColor: vBg,\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\ttop: '0px',\n\t\t\t\t\t\tzIndex: '10'\n\t\t\t\t\t});\n\t\t\t\t\tvar cvid = 'ccanvas' + this.randomString();\n\t\t\t\t\tthis.MD.innerHTML = this.newCanvas(cvid, this.MD.offsetWidth, this.MD.offsetHeight);\n\t\t\t\t\tthis.MDC = this.getByElement(cvid + '-canvas');\n\t\t\t\t\tthis.MDCX = this.MDC.getContext('2d');\n\t\t\t\t}\n\t\t\t\tthis.playerType = 'html5video';\n\t\t\t\t//播放器构建完成并且设置好样式\n\t\t\t\t//建立播放器的监听函数，包含操作监听及事件监听\n\t\t\t\tthis.addVEvent();\n\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t//根据清晰度的值构建清晰度切换按钮\n\t\t\t\t\tthis.definition();\n\t\t\t\t\tif (!this.vars['live'] && this.playbackRateArr && this.vars['playbackrate'] > -1) {\n\t\t\t\t\t\tthis.playbackRate();\n\t\t\t\t\t}\n\t\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\t\tthis.loadingStart(true);\n\t\t\t\t\t}\n\t\t\t\t\tthis.subtitleSwitch();\n\t\t\t\t}\n\t\t\t\tthis.playerLoad();\n\t\t\t} else { //如果不支持HTML5-VIDEO则调用flashplayer\n\t\t\t\tthis.embedSWF();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t分析广告数据\n\t\t*/\n\t\tadAnalysis: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar v = this.vars;\n\t\t\tvar isAdvShow = [];\n\t\t\tvar i = 0;\n\t\t\tif (v['advertisements'] != '' && v['advertisements'].substr(0, 8) == 'website:') {\n\t\t\t\tvar ajaxObj = {\n\t\t\t\t\turl: v['advertisements'].substr(8),\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\tvar newData = {};\n\t\t\t\t\t\t\tvar val = null;\n\t\t\t\t\t\t\t//对广告进行分析\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(data['front']) || !thisTemp.isUndefined(data['pause']) || !thisTemp.isUndefined(data['end']) || !thisTemp.isUndefined(data['insert']) || !thisTemp.isUndefined(data['other'])) {\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['front']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['front'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['pause']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['pause'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['insert']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['insert'] = val;\n\t\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(data['inserttime'])) {\n\t\t\t\t\t\t\t\t\t\t\tnewData['inserttime'] = thisTemp.arrayInt(data['inserttime']);\n\t\t\t\t\t\t\t\t\t\t\tisAdvShow = [];\n\t\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < newData['inserttime'].length; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\tisAdvShow.push(false);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tnewData['insertPlay'] = isAdvShow;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['end']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['end'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['other']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['other'] = val;\n\t\t\t\t\t\t\t\t\t\tisAdvShow = [];\n\t\t\t\t\t\t\t\t\t\tvar arrTemp = [];\n\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < val.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\tisAdvShow.push(false);\n\t\t\t\t\t\t\t\t\t\t\tarrTemp.push(parseInt('0' + val[i]['startTime']));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnewData['othertime'] = arrTemp;\n\t\t\t\t\t\t\t\t\t\tnewData['otherPlay'] = isAdvShow;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\tthisTemp.log(event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.advertisements = newData;\n\t\t\t\t\t\t\t//对广告进行分析结束\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisTemp.getVideo();\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){}\n\t\t\t\t};\n\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t} else {\n\t\t\t\t//根据广告分析\n\t\t\t\tthis.adAnalysisOne('front', 'adfront', 'adfronttime', 'adfrontlink', 'adfronttype');\n\t\t\t\tthis.adAnalysisOne('pause', 'adpause', 'adpausetime', 'adpauselink', 'adpausetype');\n\t\t\t\tthis.adAnalysisOne('insert', 'adinsert', 'adinserttime', 'adinsertlink', 'adinserttype');\n\t\t\t\tthis.adAnalysisOne('end', 'adend', 'adendtime', 'adendlink', 'adendtype');\n\t\t\t\tif (!this.isUndefined(this.advertisements['insert'])) {\n\t\t\t\t\tif (!this.isUndefined(v['inserttime'])) {\n\t\t\t\t\t\tthisTemp.advertisements['inserttime'] = v['inserttime'];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!this.isUndefined(thisTemp.advertisements['inserttime'])) {\n\t\t\t\t\tthisTemp.advertisements['inserttime'] = thisTemp.arrayInt(thisTemp.advertisements['inserttime']);\n\t\t\t\t\tisInsert = [];\n\t\t\t\t\tfor (i = 0; i < thisTemp.advertisements['inserttime'].length; i++) {\n\t\t\t\t\t\tisInsert.push(false);\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.advertisements['insertPlay'] = isInsert;\n\t\t\t\t}\n\t\t\t\tthisTemp.getVideo();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t将广告数组数据里不是视频和图片的去除\n\t\t*/\n\t\tarrayDel: function(arr) {\n\t\t\tif(this.isUndefined(arr)){\n\t\t\t\treturn arr;\n\t\t\t}\n\t\t\tif (arr.length == 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar newArr = [];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar type = arr[i]['type'];\n\t\t\t\tif (type == 'mp4' || type == 'mov' || this.isStrImage(type)) {\n\t\t\t\t\tnewArr.push(arr[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (newArr.length > 0) {\n\t\t\t\treturn newArr;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\t/*分析单个类型的广告*/\n\t\tadAnalysisOne: function(adType, adName, adTime, adLink, adStype) {\n\t\t\tvar v = this.vars;\n\t\t\tif (this.isUndefined(v[adName])) {\n\t\t\t\tv[adName] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adTime])) {\n\t\t\t\tv[adTime] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adLink])) {\n\t\t\t\tv[adLink] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adStype])) {\n\t\t\t\tv[adStype] = '';\n\t\t\t}\n\t\t\tif (v[adName] != '') {\n\t\t\t\tvar adList = [];\n\t\t\t\tvar ad = v[adName].split(',');\n\t\t\t\tvar adtime = v[adTime].split(',');\n\t\t\t\tvar adlink = v[adLink].split(',');\n\t\t\t\tvar adstype = v[adStype].split(',');\n\t\t\t\tvar i = 0;\n\t\t\t\tif (ad.length > 0) {\n\t\t\t\t\tvar adLinkLen = adlink.length,\n\t\t\t\t\tadTimeLen = adtime.length;\n\t\t\t\t\tif (v[adLink] == '') {\n\t\t\t\t\t\tadLinkLen = 0;\n\t\t\t\t\t\tadlink = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (v[adTime] == '') {\n\t\t\t\t\t\tadTimeLen = 0;\n\t\t\t\t\t\tadtime = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (adLinkLen < ad.length) {\n\t\t\t\t\t\tfor (i = adLinkLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadlink.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (adTimeLen < ad.length) {\n\t\t\t\t\t\tfor (i = adTimeLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadtime.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar adstypeLen = adstype.length;\n\t\t\t\t\tif (v[adStype] == '') {\n\t\t\t\t\t\tadstypeLen = 0;\n\t\t\t\t\t\tadstype = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (adstypeLen < ad.length) {\n\t\t\t\t\t\tfor (i = adstypeLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadstype.push(this.getFileExt(ad[i]).replace('.', ''));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (i = 0; i < ad.length; i++) {\n\t\t\t\t\t\tvar type = adstype[i];\n\t\t\t\t\t\tif (type == 'mp4' || type == 'mov' || this.isStrImage(type)) {\n\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\tfile: ad[i],\n\t\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t\t\ttime: parseInt(adtime[i]) > 0 ? parseInt(adtime[i]) : this.ckStyle['advertisement']['time'],\n\t\t\t\t\t\t\t\tlink: adlink[i]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tadList.push(obj);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (this.isUndefined(this.advertisements)) {\n\t\t\t\t\t\tthis.advertisements = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (adList.length > 0) {\n\t\t\t\t\t\tthis.advertisements[adType] = adList;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t发送播放器加载成功的消息\n\t\t*/\n\t\tplayerLoad: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.isFirst) {\n\t\t\t\tthis.isFirst = false;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthisTemp.loadedHandler();\n\t\t\t\t},1);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t建立播放器的监听函数，包含操作监听及事件监听\n\t\t*/\n\t\taddVEvent: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar duration=0;\n\t\t\t//监听视频单击事件\n\t\t\tvar eventVideoClick = function(event) {\n\t\t\t\tthisTemp.videoClickXy={x:event.clientX,y:event.clientY};\n\t\t\t\tthisTemp.videoClick();\n\t\t\t};\n\t\t\tthis.addListenerInside('click', eventVideoClick);\n\t\t\tthis.addListenerInside('click', eventVideoClick, this.MDC);\n\t\t\t//延迟计算加载失败事件\n\t\t\tthis.timerErrorFun();\n\t\t\t//监听视频加载到元数据事件\n\t\t\tvar eventJudgeIsLive = function(event) {\n\t\t\t\tthisTemp.sendJS('loadedmetadata');\n\t\t\t\tif (thisTemp.varType(thisTemp.V.duration) == 'number' && thisTemp.V.duration > 1) {\n\t\t\t\t\tduration = thisTemp.V.duration;\n\t\t\t\t\tif(!duration){\n\t\t\t\t\t\tif(thisTemp.vars['duration']>0){\n\t\t\t\t\t\t\tduration=thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.sendJS('duration', duration);\n\t\t\t\t\tthisTemp.formatInserttime(duration);\n\t\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\t\tthisTemp.advertisementsTime(duration + 1);\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.durationSendJS = true;\n\t\t\t\t}\n\t\t\t\tif (thisTemp.conBarShow) {\n\t\t\t\t\tthisTemp.V.controls=null;\n\t\t\t\t\tthisTemp.videoCss();\n\t\t\t\t}\n\t\t\t\tthisTemp.judgeIsLive();\n\t\t\t};\n\t\t\t//监听视频播放事件\n\t\t\tvar eventPlaying = function(event) {\n\t\t\t\tthisTemp.playingHandler();\n\t\t\t\tthisTemp.sendJS('play');\n\t\t\t\tthisTemp.sendJS('paused', false);\n\t\t\t\tif (!thisTemp.durationSendJS && thisTemp.varType(thisTemp.V.duration) == 'number' && thisTemp.V.duration > 0) {\n\t\t\t\t\tduration = thisTemp.V.duration;\n\t\t\t\t\tif(!duration){\n\t\t\t\t\t\tif(thisTemp.vars['duration']>0){\n\t\t\t\t\t\t\tduration=thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.durationSendJS = true;\n\t\t\t\t\tthisTemp.sendJS('duration', duration);\n\t\t\t\t\tthisTemp.formatInserttime(duration);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('playing', eventPlaying);\n\t\t\t//监听视频暂停事件\n\t\t\tvar eventPause = function(event) {\n\t\t\t\tthisTemp.pauseHandler();\n\t\t\t\tthisTemp.sendJS('pause');\n\t\t\t\tthisTemp.sendJS('paused', true);\n\t\t\t};\n\t\t\tthis.addListenerInside('pause', eventPause);\n\t\t\t//监听视频播放结束事件\n\t\t\tvar eventEnded = function(event) {\n\t\t\t\tthisTemp.endedHandler();\n\t\t\t};\n\t\t\tthis.addListenerInside('ended', eventEnded);\n\t\t\t//监听视频播放时间事件\n\t\t\tvar eventTimeupdate = function(event) {\n\t\t\t\tif (thisTemp.loadingShow) {\n\t\t\t\t\tthisTemp.loadingStart(false);\n\t\t\t\t}\n\t\t\t\tif (thisTemp.time) {\n\t\t\t\t\tif (!thisTemp.adPlayerPlay) {\n\t\t\t\t\t\tthisTemp.sendJS('time', thisTemp.time);\n\t\t\t\t\t\t//监听中间插入广告是否需要播放\n\t\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['insert'])) {\n\t\t\t\t\t\t\tthisTemp.checkAdInsert(thisTemp.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//监听其它广告\n\t\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['other'])) {\n\t\t\t\t\t\t\tthisTemp.checkAdOther(thisTemp.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (thisTemp.time < 3 && thisTemp.adReset) {\n\t\t\t\t\t\t\tthisTemp.adReset = false;\n\t\t\t\t\t\t\tthisTemp.endedAdReset();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { //如果是广告则进行广告倒计时\n\t\t\t\t\t\tthisTemp.adPlayerTimeHandler(thisTemp.time);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('timeupdate', eventTimeupdate);\n\t\t\t//监听视频缓冲事件\n\t\t\tvar eventWaiting = function(event) {\n\t\t\t\tthisTemp.loadingStart(true);\n\t\t\t};\n\t\t\tthis.addListenerInside('waiting', eventWaiting);\n\t\t\t//监听视频seek开始事件\n\t\t\tvar eventSeeking = function(event) {\n\t\t\t\tthisTemp.sendJS('seek', 'start');\n\t\t\t};\n\t\t\tthis.addListenerInside('seeking', eventSeeking);\n\t\t\t//监听视频seek结束事件\n\t\t\tvar eventSeeked = function(event) {\n\t\t\t\tthisTemp.seekedHandler();\n\t\t\t\tthisTemp.sendJS('seek', 'ended');\n\t\t\t};\n\t\t\tthis.addListenerInside('seeked', eventSeeked);\n\t\t\t//监听视频音量\n\t\t\tvar eventVolumeChange = function(event) {\n\t\t\t\ttry {\n\t\t\t\t\tthisTemp.volumechangeHandler();\n\t\t\t\t\tthisTemp.sendJS('volume', thisTemp.volume || thisTemp.V.volume);\n\t\t\t\t} catch(event) {}\n\t\t\t};\n\t\t\tthis.addListenerInside('volumechange', eventVolumeChange);\n\t\t\t//监听全屏事件\n\t\t\tvar eventFullChange = function(event) {\n\t\t\t\tvar fullState = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen;\n\t\t\t\tthisTemp.sendJS('full', fullState);\n\t\t\t};\n\t\t\tthis.addListenerInside('fullscreenchange', eventFullChange);\n\t\t\tthis.addListenerInside('webkitfullscreenchange', eventFullChange);\n\t\t\tthis.addListenerInside('mozfullscreenchange', eventFullChange);\n\t\t\t//建立界面\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.interFace();\n\t\t\t}\n\t\t\tthis.addListenerInside('loadedmetadata', eventJudgeIsLive);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重置界面元素\n\t\t*/\n\t\tresetPlayer: function() {\n\t\t\tthis.timeTextHandler();\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.timeProgress(0, 1); //改变时间进度条宽\n\t\t\t\tthis.changeLoad(0);\n\t\t\t\tthis.initPlayPause(); //判断显示播放或暂停按钮\n\t\t\t\tthis.definition(); //构建清晰度按钮\n\t\t\t\tthis.deletePrompt(); //删除提示点\n\t\t\t\tthis.deletePreview(); //删除预览图\n\t\t\t\tthis.trackHide(); //重置字幕\n\t\t\t\tthis.resetTrack();\n\t\t\t\tthis.trackElement = [];\n\t\t\t\tthis.track = [];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建界面元素\n\t\t */\n\t\tinterFace: function() {\n\t\t\tthis.conBarShow = true;\n\t\t\tvar thisTemp = this;\n\t\t\tvar html = ''; //控制栏内容\n\t\t\tvar i = 0;\n\t\t\tvar thisStyle=this.ckStyle;\n\t\t\tvar styleC=thisStyle['controlBar'];\n\t\t\tvar styleCB=styleC['button'];\n\t\t\tvar styleAS=thisStyle['advertisement'];\n\t\t\tvar styleDF=styleC['definition'];\n\t\t\tvar bWidth = 38;//按钮的宽\n\t\t\tvar timeInto = this.formatTime(0,this.vars['duration'],this.ckLanguage['vod']); //时间显示框默认显示内容\t\t\t\n\t\t\t/*\n\t\t\t\t构建一些PD（播放器容器）里使用的元素\n\t\t\t*/\n\t\t\t/*\n\t\t\t \t构建播放器内的元素\n\t\t\t*/\n\t\t\tthis.CB={menu:null};\n\t\t\tvar divEle={\n\t\t\t\tcontrolBarBg:null,\n\t\t\t\tcontrolBar:null,\n\t\t\t\tpauseCenter:null,\n\t\t\t\terrorText:null,\n\t\t\t\tpromptBg:null,\n\t\t\t\tprompt:null,\n\t\t\t\tpromptTriangle:null,\n\t\t\t\tdefinitionP:null,\n\t\t\t\tplaybackrateP:null,\n\t\t\t\tsubtitlesP:null,\n\t\t\t\tloading:null,\n\t\t\t\tlogo:null,\n\t\t\t\tadBackground:null,\n\t\t\t\tadElement:null,\n\t\t\t\tadLink:null,\n\t\t\t\tadPauseClose:null,\n\t\t\t\tadTime:null,\n\t\t\t\tadTimeText:null,\n\t\t\t\tadMute:null,\n\t\t\t\tadEscMute:null,\n\t\t\t\tadSkip:null,\n\t\t\t\tadSkipText:null,\n\t\t\t\tadSkipButton:null\n\t\t\t};\n\t\t\tvar k='';\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.PD.appendChild(this.CB[k]);\n\t\t\t}\n\t\t\t/*\n\t\t\t\t构建鼠标右键容器\n\t\t\t*/\n\t\t\tthis.CB['menu']=document.createElement('div');\n\t\t\tthis.body.appendChild(this.CB['menu']);\n\t\t\tif (this.vars['live']) { //如果是直播，时间显示文本框里显示当前系统时间\n\t\t\t\ttimeInto = this.formatTime(0,0,this.ckLanguage['live']); //时间显示框默认显示内容\n\t\t\t}\n\t\t\t/*\n\t\t\t\t构建控制栏的按钮\n\t\t\t*/\n\t\t\tdivEle={\n\t\t\t\tplay:null,\n\t\t\t\tpause:null,\n\t\t\t\tmute:null,\n\t\t\t\tescMute:null,\n\t\t\t\tfull:null,\n\t\t\t\tescFull:null,\n\t\t\t\tdefinition:null,\n\t\t\t\tplaybackrate:null,\n\t\t\t\tsubtitles:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\tthis.CB[k].dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\tthis.CB['controlBar'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tdivEle={\n\t\t\t\ttimeProgressBg:null,\n\t\t\t\ttimeBoBg:null,\n\t\t\t\tvolume:null,\n\t\t\t\ttimeText:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['controlBar'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['timeText'].innerHTML=timeInto;//初始化时间\n\t\t\tdivEle={\n\t\t\t\tloadProgress:null,\n\t\t\t\ttimeProgress:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['timeProgressBg'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['timeButton']=document.createElement('div');\n\t\t\tthis.CB['timeBoBg'].appendChild(this.CB['timeButton']);\n\t\t\tdivEle={\n\t\t\t\tvolumeBg:null,\n\t\t\t\tvolumeBO:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['volume'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['volumeUp']=document.createElement('div');\n\t\t\tthis.CB['volumeBg'].appendChild(this.CB['volumeUp']);\n\t\t\t//构建loading图标\n\t\t\tvar imgTemp=null;\n\t\t\tvar imgFile='';\n\t\t\tvar imgFile=thisStyle['loading']['file'];\n\t\t\tif(!this.isUndefined(thisStyle['loading']['fileH5'])){\n\t\t\t\timgFile=thisStyle['loading']['fileH5'];\n\t\t\t}\n\t\t\tif(imgFile){\n\t\t\t\timgTemp=document.createElement('img');\n\t\t\t\timgTemp.src=imgFile;\n\t\t\t\timgTemp.border=0;\n\t\t\t\tthis.CB['loading'].appendChild(imgTemp);\n\t\t\t}\n\t\t\t//构建logo图标\n\t\t\timgFile=thisStyle['logo']['file'];\n\t\t\tif(!this.isUndefined(thisStyle['logo']['fileH5'])){\n\t\t\t\timgFile=thisStyle['logo']['fileH5'];\n\t\t\t}\n\t\t\tif(imgFile){\n\t\t\t\timgTemp=document.createElement('img');\n\t\t\t\timgTemp.src=imgFile;\n\t\t\t\timgTemp.border=0;\n\t\t\t\tthis.CB['logo'].appendChild(imgTemp);\n\t\t\t}\t\t\t\n\t\t\t//定义界面元素的样式\n\t\t\tif(this.ckConfig['config']['buttonMode']['player']){\n\t\t\t\tthis.css(this.PD, {cursor: 'pointer'});\n\t\t\t}\n\t\t\t//控制栏背景\n\t\t\tthis.controlBar(); //改变控制栏\n\t\t\tvar cssTemp=null;\n\t\t\t//定义提示语的样式\n\t\t\tvar promptCss=thisStyle['prompt'];\n\t\t\tcssTemp=this.getEleCss(promptCss,{overflow: 'hidden',zIndex: 900,display:'none'});\n\t\t\tthis.css(this.CB['promptBg'],cssTemp);\n\t\t\tthis.css(this.CB['promptBg'],'padding','0px');\n\t\t\tcssTemp['backgroundColor']='';\n\t\t\tcssTemp['border']='';\n\t\t\tcssTemp['borderRadius']='';\n\t\t\tcssTemp['whiteSpace']='nowrap';\n\t\t\tthis.css(this.CB['prompt'],cssTemp);\n\t\t\t//定义提示语下方的三解形的样式\n\t\t\tcssTemp={\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t\tborderLeft: promptCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\tborderRight: promptCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\tborderTop: promptCss['triangleHeight']+'px solid '+promptCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\toverflow: 'hidden',\n\t\t\t\topacity:promptCss['triangleAlpha'],\n\t\t\t\tfilter:'alpha(opacity:'+promptCss['triangleAlpha']+')',\n\t\t\t\tposition:'absolute',\n\t\t\t\tleft:'0px',\n\t\t\t\ttop:'0px',\n\t\t\t\tzIndex: 900,\n\t\t\t\tdisplay:'none'\n\t\t\t};\n\t\t\tthis.css(this.CB['promptTriangle'],cssTemp);\n\t\t\tthis.elementCoordinate();//中间播放按钮，出错文本框，logo，loading\n\t\t\tthis.css([this.CB['pauseCenter'],this.CB['loading'],this.CB['errorText']],'display','none');\n\t\t\tthis.carbarButton();//控制栏按钮\n\t\t\tthis.playerCustom();//播放器界面自定义元件\n\t\t\tthis.carbarCustom();//控制栏自定义元件\n\t\t\tthis.timeProgressDefault();//进度条默认样式\n\t\t\tthis.videoCss();//计算video的宽高和位置\n\t\t\t//初始化判断播放/暂停按钮隐藏项\n\t\t\tthis.initPlayPause();\n\t\t\tif (this.vars['volume'] > 0) {\n\t\t\t\tthis.css(this.CB['escMute'], 'display', 'none');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['mute'], 'display', 'none');\n\t\t\t}\n\t\t\tif (!this.ckConfig['config']['mobileVolumeBarShow'] && this.isMobile()) {\n\t\t\t\tthis.css([this.CB['mute'], this.CB['escMute'], this.CB['volume']], {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.css(this.CB['escFull'],'display', 'none');\n\t\t\t//设置广告背景层样式\n\t\t\tvar cssObj={\n\t\t\t\talign: 'top',\n\t\t\t\tvAlign:'left',\n\t\t\t\twidth:'100%',\n\t\t\t\theight:'100%',\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\tzIndex: 910,\n\t\t\t\tdisplay: 'none'\n\t\t\t};\n\t\t\tcssTemp=this.getEleCss(styleAS['background'],cssObj);\n\t\t\tthis.css(this.CB['adBackground'],cssTemp);\n\t\t\tthis.css(this.CB['adElement'], {\n\t\t\t\tposition: 'absolute',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\ttop: '0px',\n\t\t\t\tzIndex: 911,\n\t\t\t\tfloat: 'center',\n\t\t\t\tdisplay: 'none'\n\t\t\t});\n\t\t\t//广告控制各元素样式，用一个函数单独定义，这样在播放器尺寸变化时可以重新设置样式\n\t\t\tthis.advertisementStyle();\n\t\t\t//初始化广告控制各元素-隐藏\n\t\t\tthis.css([this.CB['adTime'],this.CB['adTimeText'],this.CB['adMute'],this.CB['adEscMute'],this.CB['adSkip'],this.CB['adSkipText'],this.CB['adSkipButton'],this.CB['adLink'],this.CB['adPauseClose']],'display','none');\n\t\t\t//定义鼠标经过控制栏只显示完整的进度条，鼠标离开进度条则显示简单的进度条\n\t\t\tvar timeProgressOut = function(event) {\n\t\t\t\tthisTemp.timeProgressMouseOut();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', timeProgressOut, this.CB['timeBoBg']);\n\t\t\tvar timeProgressOver = function(event) {\n\t\t\t\tthisTemp.timeProgressDefault();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', timeProgressOver, this.CB['controlBar']);\n\t\t\t//定义各按钮鼠标经过时的切换样式\n\t\t\tthis.buttonEventFun(this.CB['play'],styleCB['play']);//播放按钮\n\t\t\tthis.buttonEventFun(this.CB['pause'],styleCB['pause']);//暂停按钮\n\t\t\tthis.buttonEventFun(this.CB['mute'],styleCB['mute']);//静音按钮\n\t\t\tthis.buttonEventFun(this.CB['escMute'],styleCB['escMute']);//恢复音量按钮\n\t\t\tthis.buttonEventFun(this.CB['full'],styleCB['full']);//全屏按钮\n\t\t\tthis.buttonEventFun(this.CB['escFull'],styleCB['escFull']);//退出全屏按钮\n\t\t\tthis.buttonEventFun(this.CB['adMute'],styleAS['muteButton']);//广告静音按钮\n\t\t\tthis.buttonEventFun(this.CB['adEscMute'],styleAS['escMuteButton']);//恢复广告音量按钮\n\t\t\tthis.buttonEventFun(this.CB['adSkipButton'],styleAS['skipAdButton']);//跳过广告按钮\n\t\t\tthis.buttonEventFun(this.CB['adLink'],styleAS['adLinkButton']);//广告查看详情按钮\n\t\t\tthis.buttonEventFun(this.CB['adPauseClose'],styleAS['closeButton']);//播放暂停时的广告的关闭按钮\n\t\t\tthis.buttonEventFun(this.CB['pauseCenter'],thisStyle['centerPlay']);//播放器中间暂停时的播放按钮\n\t\t\tthis.buttonEventFun(this.CB['volumeBO'],styleC['volumeSchedule']['button']);//音量调节框按钮样式\n\t\t\tthis.buttonEventFun(this.CB['timeButton'],styleC['timeSchedule']['button']);//时间进度调节框按钮样式\n\n\t\t\tthis.addButtonEvent(); //注册按钮及音量调节，进度操作事件\n\t\t\tthis.controlBarHide(); //单独注册控制栏隐藏事件\n\t\t\tthis.newMenu(); //设置右键的样式和事件\n\t\t\tthis.keypress(); //注册键盘事件\n\t\t\t//初始化音量调节框\n\t\t\tthis.changeVolume(this.vars['volume']);\n\t\t\tsetTimeout(function() {\n\t\t\t\tthisTemp.elementCoordinate(); //调整中间暂停按钮/loading的位置/error的位置\n\t\t\t},\n\t\t\t100);\n\t\t\tthis.checkBarWidth();\n\t\t\tvar resize = function() {\n\t\t\t\tthisTemp.log('window.resize');\n\t\t\t\tthisTemp.playerResize();\n\t\t\t};\n\t\t\tvar MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n\t\t\tvar observer = new MutationObserver(function(){\n\t\t\t\tthisTemp.log('video.resize');\n\t\t\t\tvar cdW=parseInt(thisTemp.css(thisTemp.CD,'width')),cdH=parseInt(thisTemp.css(thisTemp.CD,'height'));\n\t\t\t\tif(cdW!=thisTemp.cdWH['w'] || cdH!=thisTemp.cdWH['h']){\n\t\t\t\t\tthisTemp.cdWH={\n\t\t\t\t\t\tw:cdW,\n\t\t\t\t\t\th:cdH\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.changeSize(cdW,cdH);\n\t\t\t\t}\n\t\t\t});\n\t\t\tobserver.observe(this.CD, {attributes: true, attributeFilter: ['style'], attributeOldValue: true });\n\t\t\tthis.addListenerInside('resize', resize, window);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t进间进度条默认样式\n\t\t*/\n\t\ttimeProgressDefault:function(){\n\t\t\tvar styleCT=this.ckStyle['controlBar']['timeSchedule'];\n\t\t\tvar cssObj=this.newObj(styleCT['default']);\n\t\t\tvar loadBackImg=cssObj['loadProgressImg'],playBackImg=cssObj['playProgressImg'];\n\t\t\tvar cssTemp=null;\n\t\t\tthis.css(this.CB['timeBoBg'],'display','block');\n\t\t\t//时间进度条背景容器\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow: 'hidden',zIndex: 2},this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['timeProgressBg'], cssTemp);\n\t\t\t//加载进度\n\t\t\tcssObj={\n\t\t\t\talign:'left',\n\t\t\t\tvAlign:'top',\n\t\t\t\twidth:1,\n\t\t\t\theight:cssObj['height'],\n\t\t\t\tbackgroundImg:loadBackImg\n\t\t\t};\n\t\t\t//加载进度和时间进度\n\t\t\tif(this.CB['loadProgress'].offsetWidth>1){\n\t\t\t\tcssObj['width']=this.CB['loadProgress'].offsetWidth;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow:'hidden',zIndex:1},this.CB['timeProgressBg']);\n\t\t\tthis.css(this.CB['loadProgress'],cssTemp);\n\t\t\tcssObj['width']=0;\n\t\t\tif(this.CB['timeProgress'].offsetWidth>1 && parseInt(this.css(this.CB['timeButton'],'left'))>0){\n\t\t\t\tcssObj['width']=this.CB['timeProgress'].offsetWidth;\n\t\t\t\t\n\t\t\t}\n\t\t\tcssObj['backgroundImg']=playBackImg;\n\t\t\tcssTemp=this.getEleCss(cssObj,{overflow:'hidden',zIndex:2});\n\t\t\tthis.css(this.CB['timeProgress'],cssTemp);\n\t\t\t//时间进度按钮容器\n\t\t\tcssTemp=this.getEleCss(styleCT['buttonContainer'],{position: 'absolute',overflow: 'hidden',zIndex: 3},this.CB['controlBar']);\n\t\t\tif(this.ckConfig['config']['buttonMode']['timeSchedule']){\n\t\t\t\tcssTemp['cursor']='pointer';\n\t\t\t}\n\t\t\tthis.css(this.CB['timeBoBg'],cssTemp);\n\t\t\t//时间进度按钮\n\t\t\tcssTemp=this.getEleCss(styleCT['button'],{cursor: 'pointer',overflow: 'hidden',zIndex: 4},this.CB['timeBoBg']);\n\t\t\tthis.css(this.CB['timeButton'], cssTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t进间进度条鼠标离开样式\n\t\t*/\n\t\ttimeProgressMouseOut:function(){\n\t\t\tvar styleCT=this.ckStyle['controlBar']['timeSchedule'];\n\t\t\tvar cssObj=this.newObj(styleCT['mouseOut']);\n\t\t\tvar loadBackImg=cssObj['loadProgressImg'],playBackImg=cssObj['playProgressImg'];\n\t\t\tvar cssTemp=null;\n\t\t\tthis.css(this.CB['timeBoBg'],'display','block');\n\t\t\t//时间进度条背景容器\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow: 'hidden',zIndex: 2},this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['timeProgressBg'], cssTemp);\n\t\t\t//加载进度\n\t\t\tcssObj={\n\t\t\t\talign:'left',\n\t\t\t\tvAlign:'top',\n\t\t\t\twidth:1,\n\t\t\t\theight:cssObj['height'],\n\t\t\t\tbackgroundImg:loadBackImg\n\t\t\t};\n\t\t\t//加载进度和时间进度\n\t\t\tif(this.CB['loadProgress'].offsetWidth>1){\n\t\t\t\tcssObj['width']=this.CB['loadProgress'].offsetWidth;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow:'hidden',zIndex:1},this.CB['timeProgressBg']);\n\t\t\tthis.css(this.CB['loadProgress'],cssTemp);\n\t\t\tcssObj['width']=1;\n\t\t\tif(this.CB['timeProgress'].offsetWidth>1 && parseInt(this.css(this.CB['timeButton'],'left'))>0){\n\t\t\t\tcssObj['width']=this.CB['timeProgress'].offsetWidth;\n\t\t\t\tcssObj['backgroundImg']=playBackImg;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(cssObj,{overflow:'hidden',zIndex:2});\n\t\t\tthis.css(this.CB['timeProgress'],cssTemp);\t\t\t\n\t\t\tthis.css(this.CB['timeBoBg'],'display','none');\t\t\t\n\t\t},\n\t\t/*\n\t\t\t统一注册按钮鼠标经过和离开时的切换动作\n\t\t*/\n\t\tbuttonEventFun:function(ele,cssEle){\n\t\t\tvar thisTemp=this;\n\t\t\tvar overFun = function(event) {\n\t\t\t\tthisTemp.css(ele,{\n\t\t\t\t\tbackgroundImage:'url('+cssEle['mouseOver']+')'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptShow(ele);\n\t\t\t};\n\t\t\tvar outFun = function(event) {\n\t\t\t\tthisTemp.css(ele,{\n\t\t\t\t\tbackgroundImage:'url('+cssEle['mouseOut']+')'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t};\n\t\t\toutFun();\n\t\t\tthis.addListenerInside('mouseover', overFun, ele);\n\t\t\tthis.addListenerInside('mouseout', outFun, ele);\n\t\t\tif(!this.isUndefined(cssEle['clickEvent'])){\n\t\t\t\tvar clickFun=function(event){\n\t\t\t\t\tthisTemp.runFunction(cssEle['clickEvent']);\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', clickFun, ele);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化样式用的数字\n\t\t*/\n\t\tformatNumPx:function(str,z){\n\t\t\tif(!str){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(str.toString().indexOf('%')>-1){//说明是根据百分比来计算\n\t\t\t\tif(!this.isUndefined(z)){//如果有值\n\t\t\t\t\treturn parseInt(str)*z*0.01+'px';\n\t\t\t\t}\n\t\t\t\treturn str;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn str+'px';\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化样式用的数字，返回类型必需是数字或百分比\n\t\t*/\n\t\tformatZToNum:function(str,z){\n\t\t\tif(!str){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(str.toString().indexOf('%')>-1){//说明是根据百分比来计算\n\t\t\t\tif(!this.isUndefined(z)){//如果有值\n\t\t\t\t\treturn parseInt(str)*z*0.01;\n\t\t\t\t}\n\t\t\t\treturn str;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn str;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t对对象进行深度复制\n\t\t*/\n\t\tnewObj:function(obj) {\n\t\t\tif(this.isUndefined(obj)){\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t  \tvar str, newobj ={};//constructor 属性返回对创建此对象的数组函数的引用。创建相同类型的空数据\n\t\t  \tif (this.varType(obj) != 'object') {\n\t\t    \treturn obj;\n\t\t  \t}\n\t\t  \telse {\n\t\t    \tfor (var k in obj) {\n\t\t    \t\tif(this.isUndefined(obj[k])){\n\t\t    \t\t\tnewobj[k] = obj[k];\n\t\t    \t\t}\n\t\t    \t\telse{\n\t\t\t      \t\tif(this.varType(obj[k]) == 'object') { //判断对象的这条属性是否为对象\n\t\t\t        \t\tnewobj[k] = this.newObj(obj[k]);//若是对象进行嵌套调用\n\t\t\t      \t\t}\n\t\t\t      \t\telse{\n\t\t\t        \t\tnewobj[k] = obj[k];\n\t\t\t      \t\t}\n\t\t\t      \t}\n\t\t    \t}\n\t\t  \t}\n\t\t  \treturn newobj;//返回深度克隆后的对象\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t统一的显示图片\n\t\t*/\n\t\tloadImgBg:function(eleid,obj){\n\t\t\tthis.css(this.getByElement(eleid),{\n\t\t\t\tbackgroundImage:'url('+obj+')'\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化css\n\t\t\teleObj=样式,\n\t\t\tsupplement=补充样式,\n\t\t\trrEle=参考对象，\n\t\t\t该函数强制使用position定位的元素\n\t\t*/\n\t\tgetEleCss:function(eleObj,supplement,rrEle){\n\t\t\tvar eleName=null;\n\t\t\tvar pdW=this.PD.offsetWidth,pdH=this.PD.offsetHeight;\n\t\t\tif(rrEle){\n\t\t\t\tpdW=rrEle.offsetWidth;\n\t\t\t\tpdH=rrEle.offsetHeight;\n\t\t\t}\n\t\t\tif(this.isUndefined(eleObj)){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\teleName=this.newObj(eleObj);\n\t\t\tvar cssObject={};\n\t\t\tif(!this.isUndefined(eleName['width'])){\n\t\t\t\tcssObject['width']=this.formatZToNum(eleName['width'],pdW)+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['height'])){\n\t\t\t\tcssObject['height']=this.formatZToNum(eleName['height'],pdH)+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['background'])){\n\t\t\t\tvar bg=eleName['background'];\n\t\t\t\tif(!this.isUndefined(bg['backgroundColor'])){\n\t\t\t\t\tcssObject['backgroundColor']=bg['backgroundColor'].replace('0x','#');\n\t\t\t\t}\n\t\t\t\tif(!this.isUndefined(bg['backgroundImg'])){\n\t\t\t\t\tcssObject['backgroundImage']='url('+bg['backgroundImg']+')';\n\t\t\t\t}\n\t\t\t\tif(!this.isUndefined(bg['alpha'])){\n\t\t\t\t\tcssObject['filter']='alpha(opacity:'+bg['alpha']+')';\n\t\t\t\t\tcssObject['opacity']=bg['alpha'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['backgroundColor'])){\n\t\t\t\tcssObject['backgroundColor']=eleName['backgroundColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['backgroundImg'])){\n\t\t\t\tcssObject['backgroundImage']='url('+eleName['backgroundImg']+')';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['color'])){\n\t\t\t\tcssObject['color']=eleName['color'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['font'])){\n\t\t\t\tcssObject['fontFamily']=eleName['font'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['size'])){\n\t\t\t\tcssObject['fontSize']=eleName['size']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['alpha'])){\n\t\t\t\tcssObject['filter']='alpha(opacity:'+eleName['alpha']+')';\n\t\t\t\tcssObject['opacity']=eleName['alpha'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['lineHeight'])){\n\t\t\t\tcssObject['lineHeight']=eleName['lineHeight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['textAlign'])){\n\t\t\t\tcssObject['textAlign']=eleName['textAlign'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderRadius'])){\n\t\t\t\tcssObject['borderRadius']=eleName['borderRadius']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['radius'])){\n\t\t\t\tcssObject['borderRadius']=eleName['radius']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['padding'])){\n\t\t\t\tcssObject['padding']=eleName['padding']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingLeft'])){\n\t\t\t\tcssObject['paddingLeft']=eleName['paddingLeft']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingRight'])){\n\t\t\t\tcssObject['paddingRight']=eleName['paddingRight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingTop'])){\n\t\t\t\tcssObject['paddingTop']=eleName['paddingTop']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingBottom'])){\n\t\t\t\tcssObject['paddingBottom']=eleName['paddingBottom']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['margin'])){\n\t\t\t\tcssObject['margin']=eleName['margin']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginLeft'])){\n\t\t\t\tcssObject['marginLeft']=eleName['marginLeft']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginRight'])){\n\t\t\t\tcssObject['marginRight']=eleName['marginRight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginTop'])){\n\t\t\t\tcssObject['marginTop']=eleName['marginTop']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginBottom'])){\n\t\t\t\tcssObject['marginBottom']=eleName['marginBottom']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['border']) && !this.isUndefined(eleName['borderColor'])){\n\t\t\t\tcssObject['border']=eleName['border']+'px solid '+eleName['borderColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderLeft']) && !this.isUndefined(eleName['borderLeftColor'])){\n\t\t\t\tcssObject['borderLeft']=eleName['borderLeft']+'px solid '+eleName['borderLeftColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderRight']) && !this.isUndefined(eleName['borderRightColor'])){\n\t\t\t\tcssObject['borderRight']=eleName['borderRight']+'px solid '+eleName['borderRightColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderTop']) && !this.isUndefined(eleName['borderTopColor'])){\n\t\t\t\tcssObject['borderTop']=eleName['borderTop']+'px solid '+eleName['borderTopColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderBottom']) && !this.isUndefined(eleName['borderBottomColor'])){\n\t\t\t\tcssObject['borderBottom']=eleName['borderBottom']+'px solid '+eleName['borderBottomColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(supplement)){\n\t\t\t\tfor(var k in supplement){\n\t\t\t\t\tcssObject[k]=supplement[k];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcssObject['position']='absolute';\n\t\t\tvar left=-10000,top=-10000,right=-10000,bottom=-10000;\n\t\t\tvar offsetX=0,offsetY=0;\n\t\t\tif(!this.isUndefined(eleName['offsetX'])){\n\t\t\t\toffsetX=eleName['offsetX'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginX'])){\n\t\t\t\toffsetX=eleName['marginX'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['offsetY'])){\n\t\t\t\toffsetY=eleName['offsetY'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginY'])){\n\t\t\t\toffsetY=eleName['marginY'];\n\t\t\t}\n\t\t\toffsetX=this.formatZToNum(offsetX,pdW);\n\t\t\toffsetY=this.formatZToNum(offsetY,pdH);\n\t\t\tif(!this.isUndefined(eleName['align'])){\n\t\t\t\tleft=0;\n\t\t\t\tswitch (eleName['align']) {\n\t\t\t\t\tcase 'left':\n\t\t\t\t\t\tleft = offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'center':\n\t\t\t\t\t\tleft = pdW * 0.5 + offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\tleft = pdW+offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right2':\n\t\t\t\t\t\tleft = -10000;\n\t\t\t\t\t\tright=offsetX;\n\t\t\t\t\t\tbreak;\t\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['vAlign'])){\n\t\t\t\ttop=0;\n\t\t\t\tswitch (eleName['vAlign']) {\n\t\t\t\t\tcase 'top':\n\t\t\t\t\t\ttop = offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'middle':\n\t\t\t\t\t\ttop=pdH*0.5+offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\ttop =pdH+offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom2':\n\t\t\t\t\t\ttop=-10000;\n\t\t\t\t\t\tbottom =offsetY;\n\t\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(left>-10000){\n\t\t\t\tcssObject['left']=left+'px';\n\t\t\t}\n\t\t\tif(right>-10000){\n\t\t\t\tcssObject['right']=right+'px';\n\t\t\t}\n\t\t\tif(top>-10000){\n\t\t\t\tcssObject['top']=top+'px';\n\t\t\t}\n\t\t\tif(bottom>-10000){\n\t\t\t\tcssObject['bottom']=bottom+'px';\n\t\t\t}\n\t\t\treturn cssObject;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t创建按钮，使用canvas画布\n\t\t*/\n\t\tnewCanvas: function(id, width, height) {\n\t\t\treturn '<canvas class=\"' + id + '-canvas\" width=\"' + width + '\" height=\"' + height + '\"></canvas>';\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册按钮，音量调节框，进度操作框事件\n\t\t*/\n\t\taddButtonEvent: function() {\n\t\t\tvar thisTemp = this;\n\t\t\t//定义按钮的单击事件\n\t\t\t\n\t\t\t//定义各个按钮的鼠标经过/离开事件\n\t\t\tvar promptHide = function(event) {\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t};\n\t\t\tvar definitionOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['definition']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', definitionOver, this.CB['definition']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['definition']);\n\t\t\tvar playbackrateOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['playbackrate']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', playbackrateOver, this.CB['playbackrate']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['playbackrate']);\n\t\t\tvar subtitlesOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['subtitles']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', subtitlesOver, this.CB['subtitles']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['subtitles']);\n\t\t\t//定义音量和进度按钮的滑块事件\n\t\t\tvar volumePrompt = function(vol) {\n\t\t\t\tvar volumeBOXY = thisTemp.getCoor(thisTemp.CB['volumeBO']);\n\t\t\t\tvar promptObj = {\n\t\t\t\t\ttitle:thisTemp.ckLanguage['volumeSliderOver'].replace('[$volume]',vol),\n\t\t\t\t\tx: volumeBOXY['x'] + thisTemp.CB['volumeBO'].offsetWidth * 0.5,\n\t\t\t\t\ty: volumeBOXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, promptObj);\n\t\t\t};\n\t\t\tvar volumeObj = {\n\t\t\t\tslider: this.CB['volumeBO'],\n\t\t\t\tfollow: this.CB['volumeUp'],\n\t\t\t\trefer: this.CB['volumeBg'],\n\t\t\t\tgrossValue: 'volume',\n\t\t\t\tpd: true,\n\t\t\t\tstartFun: function(vol) {},\n\t\t\t\tmonitorFun: function(vol) {\n\t\t\t\t\tthisTemp.changeVolume(vol * 0.01, false, false);\n\t\t\t\t\tvolumePrompt(vol);\n\t\t\t\t},\n\t\t\t\tendFun: function(vol) {},\n\t\t\t\toverFun: function(vol) {\n\t\t\t\t\tvolumePrompt(vol);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.slider(volumeObj);\n\t\t\tvar volumeClickObj = {\n\t\t\t\trefer: this.CB['volumeBg'],\n\t\t\t\tgrossValue: 'volume',\n\t\t\t\tfun: function(vol) {\n\t\t\t\t\tthisTemp.changeVolume(vol * 0.01, true, true);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.progressClick(volumeClickObj);\n\t\t\tthis.timeButtonMouseDown(); //用单击的函数来判断是否需要建立控制栏监听\n\t\t\t//鼠标经过/离开音量调节框时的\n\t\t\tvar volumeBgMove = function(event) {\n\t\t\t\tvar volumeBgXY = thisTemp.getCoor(thisTemp.CB['volumeBg']);\n\t\t\t\tvar eventX = thisTemp.client(event)['x'];\n\t\t\t\tvar eventVolume = parseInt((eventX - volumeBgXY['x']) * 100 / thisTemp.CB['volumeBg'].offsetWidth);\n\t\t\t\tvar buttonPromptObj = {\n\t\t\t\t\ttitle:thisTemp.ckLanguage['volumeSliderOver'].replace('[$volume]',eventVolume),\n\t\t\t\t\tx: eventX,\n\t\t\t\t\ty: volumeBgXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, buttonPromptObj);\n\t\t\t};\n\t\t\tthis.addListenerInside('mousemove', volumeBgMove, this.CB['volumeBg']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['volumeBg']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['volumeBO']);\n\t\t\t//注册清晰度相关事件\n\t\t\tthis.addDefListener();\n\t\t\t//注册倍速相关事件\n\t\t\tthis.addPlaybackrate();\n\t\t\t//注册多字幕事件\n\t\t\tthis.addSubtitles();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册单击视频动作\n\t\t*/\n\t\tvideoClick: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar clearTimerClick = function() {\n\t\t\t\tif (thisTemp.timerClick != null) {\n\t\t\t\t\tif (thisTemp.timerClick.runing) {\n\t\t\t\t\t\tthisTemp.timerClick.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerClick = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timerClickFun = function() {\n\t\t\t\tclearTimerClick();\n\t\t\t\tthisTemp.isClick = false;\n\t\t\t\tthisTemp.sendJS('videoClick',thisTemp.videoClickXy);\n\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\tvar ad = thisTemp.getNowAdvertisements();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (ad['link'] != '') {\n\t\t\t\t\t\t\twindow.open(ad['link']);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.ckConfig['config']['click']) {\n\t\t\t\t\t\tthisTemp.playOrPause();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t};\n\t\t\tclearTimerClick();\n\t\t\tif (this.isClick) {\n\t\t\t\tthis.isClick = false;\n\t\t\t\tthisTemp.sendJS('videoDoubleClick',thisTemp.videoClickXy);\n\t\t\t\tif (thisTemp.ckConfig['config']['doubleClick']) {\n\t\t\t\t\tif (!this.full) {\n\t\t\t\t\t\tthisTemp.fullScreen();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthisTemp.quitFullScreen();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tthis.isClick = true;\n\t\t\t\tthis.timerClick = new this.timer(300, timerClickFun, 1)\n\t\t\t\t//this.timerClick.start();\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册鼠标经过进度滑块的事件\n\t\t*/\n\t\ttimeButtonMouseDown: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar timePrompt = function(time) {\n\t\t\t\tif (isNaN(time)) {\n\t\t\t\t\ttime = 0;\n\t\t\t\t}\n\t\t\t\tvar timeButtonXY = thisTemp.getCoor(thisTemp.CB['timeButton']);\n\t\t\t\tvar promptObj = {\n\t\t\t\t\ttitle: thisTemp.formatTime(time,0,thisTemp.ckLanguage['timeSliderOver']),\n\t\t\t\t\tx: timeButtonXY['x'] - thisTemp.pdCoor['x'] + thisTemp.CB['timeButton'].offsetWidth * 0.5,\n\t\t\t\t\ty: timeButtonXY['y'] - thisTemp.pdCoor['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, promptObj);\n\t\t\t};\n\t\t\tvar timeObj = {\n\t\t\t\tslider: this.CB['timeButton'],\n\t\t\t\tfollow: this.CB['timeProgress'],\n\t\t\t\trefer: this.CB['timeBoBg'],\n\t\t\t\tgrossValue: 'time',\n\t\t\t\tpd: false,\n\t\t\t\tstartFun: function(time) {\n\t\t\t\t\tthisTemp.isTimeButtonMove = false;\n\t\t\t\t},\n\t\t\t\tmonitorFun: function(time) {},\n\t\t\t\tendFun: function(time) {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tif (thisTemp.V.duration > 0) {\n\t\t\t\t\t\t\tthisTemp.needSeek = 0;\n\t\t\t\t\t\t\tthisTemp.videoSeek(parseInt(time));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\toverFun: function(time) {\n\t\t\t\t\ttimePrompt(time);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timeClickObj = {\n\t\t\t\trefer: this.CB['timeBoBg'],\n\t\t\t\tgrossValue: 'time',\n\t\t\t\tfun: function(time) {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tif (thisTemp.V.duration > 0) {\n\t\t\t\t\t\t\tthisTemp.needSeek = 0;\n\t\t\t\t\t\t\tthisTemp.videoSeek(parseInt(time));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timeBoBgmousemove = function(event) {\n\t\t\t\tvar timeBoBgXY = thisTemp.getCoor(thisTemp.CB['timeBoBg']);\n\t\t\t\tvar eventX = thisTemp.client(event)['x'];\n\t\t\t\tvar duration=thisTemp.V.duration;\n\t\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\t\tduration = thisTemp.vars['duration'];\n\t\t\t\t}\n\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t}\n\t\t\t\tvar eventTime = parseInt((eventX - timeBoBgXY['x']) * duration / thisTemp.CB['timeBoBg'].offsetWidth);\n\t\t\t\tvar buttonPromptObj = {\n\t\t\t\t\ttitle: thisTemp.formatTime(eventTime,0,thisTemp.ckLanguage['timeSliderOver']),\n\t\t\t\t\tx: eventX,\n\t\t\t\t\ty: timeBoBgXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, buttonPromptObj);\n\t\t\t\tvar def = false;\n\t\t\t\tif (!thisTemp.isUndefined(thisTemp.CB['definitionP'])) {\n\t\t\t\t\tif (thisTemp.css(thisTemp.CB['definitionP'], 'display') != 'block') {\n\t\t\t\t\t\tdef = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (thisTemp.vars['preview'] != null && def) {\n\t\t\t\t\tbuttonPromptObj['time'] = eventTime;\n\t\t\t\t\tthisTemp.preview(buttonPromptObj);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar promptHide = function(event) {\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\tif (thisTemp.previewDiv != null) {\n\t\t\t\t\tthisTemp.css([thisTemp.previewDiv, thisTemp.previewTop], 'display', 'none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (!this.vars['live']) { //如果不是直播\n\t\t\t\tthis.isTimeButtonDown = true;\n\t\t\t\tthis.addListenerInside('mousemove', timeBoBgmousemove, this.CB['timeBoBg']);\n\t\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['timeBoBg']);\n\t\t\t} else {\n\t\t\t\tthis.isTimeButtonDown = false;\n\t\t\t\ttimeObj['removeListenerInside'] = true;\n\t\t\t\ttimeClickObj['removeListenerInside'] = true;\n\t\t\t}\n\t\t\tthis.slider(timeObj);\n\t\t\tthis.progressClick(timeClickObj);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册调节框上单击事件，包含音量调节框和播放时度调节框\n\t\t*/\n\t\tprogressClick: function(obj) {\n\t\t\t/*\n\t\t\t\trefer:参考对象\n\t\t\t\tfun:返回函数\n\t\t\t\trefer:参考元素，即背景\n\t\t\t\tgrossValue:调用的参考值类型\n\t\t\t\tpd:\n\t\t\t*/\n\t\t\t//建立参考元素的mouseClick事件，用来做为鼠标在其上按下时触发的状态\n\t\t\tvar thisTemp = this;\n\t\t\tvar referMouseClick = function(event) {\n\t\t\t\tvar referX = thisTemp.client(event)['x'] - thisTemp.getCoor(obj['refer'])['x'];\n\t\t\t\tvar rWidth = obj['refer'].offsetWidth;\n\t\t\t\tvar grossValue = 0;\n\t\t\t\tif (obj['grossValue'] == 'volume') {\n\t\t\t\t\tgrossValue = 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tgrossValue = thisTemp.V.duration;\n\t\t\t\t\t\tif (isNaN(grossValue) || parseInt(grossValue) < 0.2) {\n\t\t\t\t\t\t\tgrossValue = thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\t\tgrossValue=thisTemp.vars['forceduration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar nowZ = parseInt(referX * grossValue / rWidth);\n\t\t\t\tif (obj['fun']) {\n\t\t\t\t\tif (obj['grossValue'] === 'time') {\n\t\t\t\t\t\tvar sliderXY = thisTemp.getCoor(thisTemp.CB['timeButton']);\n\t\t\t\t\t\tsliderLeft = sliderXY['x'];\n\t\t\t\t\t\tif (!thisTemp.checkSlideLeft(referX, sliderLeft, rWidth)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar bimeButtonWB = thisTemp.CB['timeButton'].offsetWidth * 0.5;\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['timeButton'], 'left', (referX - bimeButtonWB) + 'px');\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['timeProgress'], 'width', (referX) + 'px');\n\t\t\t\t\t}\n\t\t\t\t\tobj['fun'](nowZ);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (this.isUndefined(obj['removeListenerInside'])) {\n\t\t\t\tthis.addListenerInside('click', referMouseClick, obj['refer']);\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('click', referMouseClick, obj['refer']);\n\t\t\t}\n\n\t\t},\n\n\t\t/*\n\t\t\t内部函数\n\t\t\t共用的注册滑块事件\n\t\t*/\n\t\tslider: function(obj) {\n\t\t\t/*\n\t\t\t\tobj={\n\t\t\t\t\tslider:滑块元素\n\t\t\t\t\tfollow:跟随滑块的元素\n\t\t\t\t\trefer:参考元素，即背景\n\t\t\t\t\tgrossValue:调用的参考值类型\n\t\t\t\t\tstartFun:开始调用的元素\n\t\t\t\t\tmonitorFun:监听函数\n\t\t\t\t\tendFun:结束调用的函数\n\t\t\t\t\toverFun:鼠标放上去后调用的函数\n\t\t\t\t\tpd:是否需要修正\n\t\t\t\t}\n\t\t\t*/\n\t\t\tvar thisTemp = this;\n\t\t\tvar clientX = 0,\n\t\t\tcriterionWidth = 0,\n\t\t\tsliderLeft = 0,\n\t\t\treferLeft = 0;\n\t\t\tvar value = 0;\n\t\t\tvar calculation = function() { //根据滑块的left计算百分比\n\t\t\t\tvar sLeft = parseInt(thisTemp.css(obj['slider'], 'left'));\n\t\t\t\tvar rWidth = obj['refer'].offsetWidth - obj['slider'].offsetWidth;\n\t\t\t\tvar grossValue = 0;\n\t\t\t\tif (thisTemp.isUndefined(sLeft) || isNaN(sLeft)) {\n\t\t\t\t\tsLeft = 0;\n\t\t\t\t}\n\t\t\t\tif (obj['grossValue'] == 'volume') {\n\t\t\t\t\tgrossValue = 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tgrossValue = thisTemp.V.duration;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn parseInt(sLeft * grossValue / rWidth);\n\t\t\t};\n\t\t\tvar mDown = function(event) {\n\t\t\t\tthisTemp.addListenerInside('mousemove', mMove, document);\n\t\t\t\tthisTemp.addListenerInside('mouseup', mUp, document);\n\t\t\t\tvar referXY = thisTemp.getCoor(obj['refer']);\n\t\t\t\tvar sliderXY = thisTemp.getCoor(obj['slider']);\n\t\t\t\tclientX = thisTemp.client(event)['x'];\n\t\t\t\treferLeft = referXY['x'];\n\t\t\t\tsliderLeft = sliderXY['x'];\n\t\t\t\tcriterionWidth = clientX - sliderLeft;\n\t\t\t\tif (obj['startFun']) {\n\t\t\t\t\tobj['startFun'](calculation());\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mMove = function(event) {\n\t\t\t\tclientX = thisTemp.client(event)['x'];\n\t\t\t\tvar newX = clientX - criterionWidth - referLeft;\n\t\t\t\tif (newX < 0) {\n\t\t\t\t\tnewX = 0;\n\t\t\t\t}\n\t\t\t\tif (newX > obj['refer'].offsetWidth - obj['slider'].offsetWidth) {\n\t\t\t\t\tnewX = obj['refer'].offsetWidth - obj['slider'].offsetWidth;\n\t\t\t\t}\n\t\t\t\tif (obj['slider'] === thisTemp.CB['timeButton']) {\n\t\t\t\t\tif (!thisTemp.checkSlideLeft(newX, sliderLeft, obj['refer'].offsetWidth)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisTemp.css(obj['slider'], 'left', newX + 'px');\n\t\t\t\tthisTemp.css(obj['follow'], 'width', (newX + obj['slider'].offsetWidth * 0.5) + 'px');\n\t\t\t\tvar nowZ = calculation();\n\t\t\t\tif (obj['monitorFun']) {\n\t\t\t\t\tobj['monitorFun'](nowZ);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mUp = function(event) {\n\t\t\t\tthisTemp.removeListenerInside('mousemove', mMove, document);\n\t\t\t\tthisTemp.removeListenerInside('mouseup', mUp, document);\n\t\t\t\tif (obj['endFun']) {\n\t\t\t\t\tobj['endFun'](calculation());\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mOver = function(event) {\n\t\t\t\tif (obj['overFun']) {\n\t\t\t\t\tobj['overFun'](calculation());\n\t\t\t\t}\n\n\t\t\t};\n\t\t\tif (this.isUndefined(obj['removeListenerInside'])) {\n\t\t\t\tthis.addListenerInside('mousedown', mDown, obj['slider']);\n\t\t\t\tthis.addListenerInside('mouseover', mOver, obj['slider']);\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('mousedown', mDown, obj['slider']);\n\t\t\t\tthis.removeListenerInside('mouseover', mOver, obj['slider']);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否可以拖动进度按钮或点击进度栏\n\t\t*/\n\t\tcheckSlideLeft: function(newX, sliderLeft, refer) {\n\t\t\tvar timeSA = this.ckConfig['config']['timeScheduleAdjust'];\n\t\t\tswitch (timeSA) {\n\t\t\tcase 0:\n\t\t\t\treturn false;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tif (newX < sliderLeft) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tif (newX > sliderLeft) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tif (!this.timeSliderLeftTemp) {\n\t\t\t\t\tthis.timeSliderLeftTemp = sliderLeft / refer;\n\t\t\t\t}\n\t\t\t\tif (newX < this.timeSliderLeftTemp * refer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tif (!this.timeSliderLeftTemp) {\n\t\t\t\t\tthis.timeSliderLeftTemp = sliderLeft / refer;\n\t\t\t\t} else {\n\t\t\t\t\tvar timeSliderMax = sliderLeft / refer;\n\t\t\t\t\tif (timeSliderMax > this.timeSliderLeftTemp) {\n\t\t\t\t\t\tthis.timeSliderLeftTemp = timeSliderMax;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (newX > this.timeSliderLeftTemp * refer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示loading\n\t\t*/\n\t\tloadingStart: function(rot) {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.isUndefined(rot)) {\n\t\t\t\trot = true;\n\t\t\t}\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.css(thisTemp.CB['loading'], 'display', 'none');\n\t\t\t\tthis.loadingShow=false;\n\t\t\t}\n\t\t\tvar buffer = 0;\n\t\t\tif (rot) {\n\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\tthis.css(thisTemp.CB['loading'], 'display', 'block');\n\t\t\t\t\tthis.loadingShow=true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthisTemp.sendJS('buffer', 100);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示提示语\n\t\t*/\n\t\tpromptShow: function(ele, data) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar obj = {};\n\t\t\tvar eleTitle='';\n\t\t\tif(!this.isUndefined(ele)){\n\t\t\t\teleTitle=this.getDataset(ele, 'title');\n\t\t\t\tif(this.isUndefined(eleTitle)){\n\t\t\t\t\tele=null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ele || data) {\n\t\t\t\tif (!this.isUndefined(data)) {\n\t\t\t\t\tobj = data;\n\t\t\t\t} else {\n\t\t\t\t\tvar offsetCoor = this.getCoor(ele);\n\t\t\t\t\tobj = {\n\t\t\t\t\t\ttitle: eleTitle,\n\t\t\t\t\t\tx: offsetCoor['x'] + ele.offsetWidth * 0.5,\n\t\t\t\t\t\ty: offsetCoor['y']\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthis.CB['prompt'].innerHTML = obj['title'];\n\t\t\t\tthis.css(this.CB['prompt'], 'display', 'block');\n\t\t\t\tvar promptStye=this.ckStyle['prompt'];\n\t\t\t\tvar promoptWidth=this.CB['prompt'].offsetWidth,promoptHeight=this.CB['prompt'].offsetHeight;\n\t\t\t\tthis.css(this.CB['promptBg'], {width:promoptWidth + 'px',height:promoptHeight+'px'});\n\t\t\t\tvar x = obj['x'] - (promoptWidth * 0.5);\n\t\t\t\tvar y = obj['y'] - this.CB['prompt'].offsetHeight-promptStye['marginBottom']-promptStye['triangleHeight'];\n\t\t\t\tif (x < 0) {\n\t\t\t\t\tx = 0;\n\t\t\t\t}\n\t\t\t\tif (x > this.PD.offsetWidth - promoptWidth) {\n\t\t\t\t\tx = this.PD.offsetWidth - promoptWidth;\n\t\t\t\t}\n\t\t\t\tthis.css([this.CB['promptBg'], this.CB['prompt']], {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\ttop: y + 'px'\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['promptTriangle'], {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tleft: x+(promoptWidth-promptStye['triangleWidth'])*0.5+parseInt(promptStye['triangleDeviationX']) + 'px',\n\t\t\t\t\ttop: y +promoptHeight+ 'px'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.css([this.CB['promptBg'], this.CB['prompt'],this.CB['promptTriangle']], {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听错误\n\t\t*/\n\t\ttimerErrorFun: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.errorSend = false;\n\t\t\tvar clearIntervalError = function(event) {\n\t\t\t\tif (thisTemp.timerError != null) {\n\t\t\t\t\tif (thisTemp.timerError.runing) {\n\t\t\t\t\t\tthisTemp.timerError.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerError = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar errorFun = function(event) {\n\t\t\t\tclearIntervalError();\n\t\t\t\tthisTemp.error = true;\n\t\t\t\t//提取错误播放地址\n\t\t\t\tthisTemp.errorUrl = thisTemp.getVideoUrl();\n\t\t\t\t//提取错误播放地址结束\n\t\t\t\tif (!thisTemp.errorSend) {\n\t\t\t\t\tthisTemp.errorSend = true;\n\t\t\t\t\tthisTemp.sendJS('error');\n\t\t\t\t}\n\t\t\t\tif (thisTemp.conBarShow) {\n\t\t\t\t\tthisTemp.CB['errorText'].innerHTML=thisTemp.ckLanguage['error']['streamNotFound'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['errorText'], 'display', 'block');\n\t\t\t\t\tthisTemp.css([thisTemp.CB['pauseCenter'],thisTemp.CB['loading']], 'display', 'none');\n\t\t\t\t}\n\t\t\t\tthisTemp.V.removeAttribute('poster');\n\t\t\t\tthisTemp.resetPlayer();\n\t\t\t};\n\t\t\tvar errorListenerFun = function(event) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif (isNaN(thisTemp.V.duration)) {\n\t\t\t\t\t\terrorFun(event);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tif (!this.errorAdd) {\n\t\t\t\tthis.errorAdd = true;\n\t\t\t\tthis.addListenerInside('error', errorListenerFun);\n\t\t\t}\n\t\t\tclearIntervalError();\n\t\t\tvar timerErrorFun = function() {\n\t\t\t\tif (thisTemp.V && parseInt(thisTemp.V.networkState) == 3) {\n\t\t\t\t\terrorFun();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerError = new this.timer(this.ckConfig['config']['errorTime'], timerErrorFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建判断全屏还是非全屏的判断\n\t\t*/\n\t\tjudgeFullScreen: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.timerFull != null) {\n\t\t\t\tif (this.timerFull.runing) {\n\t\t\t\t\tthis.timerFull.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerFull = null;\n\t\t\t}\n\t\t\tvar fullFun = function() {\n\t\t\t\tthisTemp.isFullScreen();\n\t\t\t};\n\t\t\tthis.timerFull = new this.timer(20, fullFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否是全屏\n\t\t*/\n\t\tisFullScreen: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fullState = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement;\n\t\t\tif (fullState && !this.full) {\n\t\t\t\tthis.full = true;\n\t\t\t\tthis.sendJS('full', true);\n\t\t\t\tthis.elementCoordinate();\n\t\t\t\tthis.carbarButton();\n\t\t\t\tthis.customCoor();//控制栏自定义元件\n\t\t\t\tthis.css(this.CB['full'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['escFull'], 'display', 'block');\n\t\t\t\tif (this.vars['live'] == 0) {\n\t\t\t\t\tthis.timeUpdateHandler();\n\t\t\t\t}\n\t\t\t\tthis.PD.appendChild(this.CB['menu']);\n\t\t\t}\n\t\t\tif (!fullState && this.full) {\n\t\t\t\tthis.full = false;\n\t\t\t\tthis.sendJS('full', false);\n\t\t\t\tthis.elementCoordinate();\n\t\t\t\tthis.carbarButton();\n\t\t\t\tthis.customCoor();//控制栏自定义元件\n\t\t\t\tthis.css(this.CB['full'], 'display', 'block');\n\t\t\t\tthis.css(this.CB['escFull'], 'display', 'none');\n\t\t\t\tif (this.timerFull != null) {\n\t\t\t\t\tif (this.timerFull.runing) {\n\t\t\t\t\t\tthis.timerFull.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthis.timerFull = null;\n\t\t\t\t}\n\t\t\t\tif (this.vars['live'] == 0) {\n\t\t\t\t\tthis.timeUpdateHandler();\n\t\t\t\t}\n\t\t\t\tthis.body.appendChild(this.CB['menu']);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建右键内容及注册相关动作事件\n\t\t*/\n\t\tnewMenu: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar i = 0;\n\t\t\tthis.css(this.CB['menu'], {\n\t\t\t\tbackgroundColor: '#FFFFFF',\n\t\t\t\tpadding: '5px',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tleft: '10px',\n\t\t\t\ttop: '20px',\n\t\t\t\tdisplay: 'none',\n\t\t\t\tzIndex: '999',\n\t\t\t\tcolor: '#A1A9BE',\n\t\t\t\tboxShadow: '2px 2px 3px #AAAAAA'\n\t\t\t});\n\t\t\tvar mArr = this.contextMenu;\n\t\t\tvar cMenu = this.ckConfig['menu'];\n\t\t\tif (cMenu['name']) {\n\t\t\t\tif (cMenu['link']) {\n\t\t\t\t\tmArr[0] = [cMenu['name'], 'link', cMenu['link']];\n\t\t\t\t} else {\n\t\t\t\t\tmArr[0] = [cMenu['name'], 'default'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (cMenu['version']) {\n\t\t\t\tmArr[1] = [cMenu['version'], 'default', 'line'];\n\t\t\t}\n\t\t\tif (cMenu['more']) {\n\t\t\t\tif (this.varType(cMenu['more']) == 'array') {\n\t\t\t\t\tif (cMenu['more'].length > 0) {\n\t\t\t\t\t\tvar moreArr = cMenu['more'];\n\t\t\t\t\t\tfor (i = 0; i < moreArr.length; i++) {\n\t\t\t\t\t\t\tvar mTemp = moreArr[i];\n\t\t\t\t\t\t\tvar arrTemp = [];\n\t\t\t\t\t\t\tif (mTemp['name']) {\n\t\t\t\t\t\t\t\tarrTemp.push(mTemp['name']);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (mTemp['clickEvent'] && mTemp['clickEvent'] != 'none') {\n\t\t\t\t\t\t\t\tvar eveObj = this.clickEvent(mTemp['clickEvent']);\n\t\t\t\t\t\t\t\tarrTemp.push(eveObj['type']);\n\t\t\t\t\t\t\t\tif (eveObj['fun']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(eveObj['fun']);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (eveObj['link']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(eveObj['link']);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (eveObj['target']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(' target=\"' + eveObj['target'] + '\"');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (mTemp['separatorBefore']) {\n\t\t\t\t\t\t\t\tarrTemp.push('line');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmArr.push(arrTemp);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar html = '';\n\t\t\tfor (i = 0; i < mArr.length; i++) {\n\t\t\t\tvar me = mArr[i];\n\t\t\t\tswitch (me[1]) {\n\t\t\t\tcase 'default':\n\t\t\t\t\thtml += '<p>' + me[0] + '</p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'link':\n\t\t\t\t\tif (me[3]) {\n\t\t\t\t\t\tme[3] = 'target=\"' + me[3] + '\"';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '<p><a href=\"' + me[2] + '\"' + me[3] + '>' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javaScript':\n\t\t\t\t\thtml += '<p><a href=\"javascript:' + me[2] + '\">' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'actionScript':\n\t\t\t\t\thtml += '<p><a href=\"javascript:' + this.vars['variable'] + me[2].replace('thisTemp', '') + '\">' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.CB['menu'].innerHTML = html;\n\t\t\tvar pArr = this.CB['menu'].childNodes;\n\t\t\tfor (i = 0; i < pArr.length; i++) {\n\t\t\t\tthis.css(pArr[i], {\n\t\t\t\t\theight: '30px',\n\t\t\t\t\tlineHeight: '30px',\n\t\t\t\t\tmargin: '0px',\n\t\t\t\t\tfontFamily: this.fontFamily,\n\t\t\t\t\tfontSize: '12px',\n\t\t\t\t\tpaddingLeft: '10px',\n\t\t\t\t\tpaddingRight: '30px'\n\t\t\t\t});\n\t\t\t\tif (mArr[i][mArr[i].length - 1] == 'line') {\n\t\t\t\t\tthis.css(pArr[i], 'borderBottom', '1px solid #e9e9e9');\n\t\t\t\t}\n\t\t\t\tvar aArr = pArr[i].childNodes;\n\t\t\t\tfor (var n = 0; n < aArr.length; n++) {\n\t\t\t\t\tif (aArr[n].localName == 'a') {\n\t\t\t\t\t\tthis.css(aArr[n], {\n\t\t\t\t\t\t\tcolor: '#000000',\n\t\t\t\t\t\t\ttextDecoration: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.PD.oncontextmenu = function(event) {\n\t\t\t\tvar eve = event || window.event;\n\t\t\t\tvar client = thisTemp.client(event);\n\t\t\t\tif (eve.button == 2) {\n\t\t\t\t\teve.returnvalue = false;\n\t\t\t\t\tvar x = client['x'] + thisTemp.pdCoor['x'] - 2;\n\t\t\t\t\tvar y = client['y'] + thisTemp.pdCoor['y'] - 2;\n\t\t\t\t\tthisTemp.css(thisTemp.CB['menu'], {\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\t\ttop: y + 'px'\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tvar setTimeOutPClose = function() {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar mouseOut = function(event) {\n\t\t\t\tsetTimeOutPClose();\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['menu'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', mouseOut, thisTemp.CB['menu']);\n\t\t\tvar mouseOver = function(event) {\n\t\t\t\tsetTimeOutPClose();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', mouseOver, thisTemp.CB['menu']);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建控制栏隐藏事件\n\t\t*/\n\t\tcontrolBarHide: function(hide) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar client = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t},\n\t\t\toldClient = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t\tvar cShow = true,\n\t\t\tforce = false;\n\t\t\tvar oldCoor = [0, 0];\n\t\t\tvar controlBarShow = function(show) {\n\t\t\t\tif (show && !cShow && thisTemp.controlBarIsShow) {\n\t\t\t\t\tcShow = true;\n\t\t\t\t\tthisTemp.sendJS('controlBar', true);\n\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBarBg'], 'display', 'block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBar'], 'display', 'block');\n\t\t\t\t\tthisTemp.timeProgressDefault();\n\t\t\t\t\t//thisTemp.css(thisTemp.CB['timeProgressBg'], 'display', 'block');\n\t\t\t\t\t//thisTemp.css(thisTemp.CB['timeBoBg'], 'display', 'block');\n\t\t\t\t\tthisTemp.changeVolume(thisTemp.volume);\n\t\t\t\t\tthisTemp.changeLoad();\n\t\t\t\t\tif (!thisTemp.timerBuffer) {\n\t\t\t\t\t\tthisTemp.bufferEdHandler();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (cShow) {\n\t\t\t\t\t\tcShow = false;\n\t\t\t\t\t\tvar paused = thisTemp.getMetaDate()['paused'];\n\t\t\t\t\t\tif (force) {\n\t\t\t\t\t\t\tpaused = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!paused) {\n\t\t\t\t\t\t\tthisTemp.sendJS('controlBar', false);\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBarBg'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBar'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.promptShow(false);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisTemp.videoCss();//计算video的宽高和位置\n\t\t\t};\n\t\t\tvar cbarFun = function(event) {\n\t\t\t\tif (client['x'] == oldClient['x'] && client['y'] == oldClient['y']) {\n\t\t\t\t\tvar cdH = parseInt(thisTemp.CD.offsetHeight);\n\t\t\t\t\tif ((client['y'] < cdH - 50 || client['y'] > cdH - 2) && cShow && !thisTemp.getMetaDate()['paused']) {\n\t\t\t\t\t\tcontrolBarShow(false);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!cShow) {\n\t\t\t\t\t\tcontrolBarShow(true);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\toldClient = {\n\t\t\t\t\tx: client['x'],\n\t\t\t\t\ty: client['y']\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerCBar = new this.timer(2000, cbarFun);\n\t\t\tvar cdMove = function(event) {\n\t\t\t\tvar getClient = thisTemp.client(event);\n\t\t\t\tclient['x'] = getClient['x'];\n\t\t\t\tclient['y'] = getClient['y'];\n\t\t\t\tif (!cShow) {\n\t\t\t\t\tcontrolBarShow(true);\n\t\t\t\t}\n\t\t\t\tthisTemp.sendJS('mouse',client);\n\t\t\t};\n\t\t\tthis.addListenerInside('mousemove', cdMove, thisTemp.CD);\n\t\t\tthis.addListenerInside('ended', cdMove);\n\t\t\tthis.addListenerInside('resize', cdMove, window);\n\t\t\tif (hide === true) {\n\t\t\t\tcShow = true;\n\t\t\t\tforce = true;\n\t\t\t\tcontrolBarShow(false);\n\t\t\t}\n\t\t\tif (hide === false) {\n\t\t\t\tcShow = false;\n\t\t\t\tforce = true;\n\t\t\t\tcontrolBarShow(true);\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册键盘按键事件\n\t\t*/\n\t\tkeypress: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar keyDown = function(eve) {\n\t\t\t\tvar keycode = eve.keyCode || eve.which;\n\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tswitch (keycode) {\n\t\t\t\t\tcase 32:\n\t\t\t\t\t\tthisTemp.playOrPause();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 37:\n\t\t\t\t\t\tthisTemp.fastBack();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 39:\n\t\t\t\t\t\tthisTemp.fastNext();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 38:\n\t\t\t\t\t\tnow = thisTemp.volume + thisTemp.ckConfig['config']['volumeJump'];\n\t\t\t\t\t\tthisTemp.changeVolume(now > 1 ? 1 : now);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 40:\n\t\t\t\t\t\tnow = thisTemp.volume - thisTemp.ckConfig['config']['volumeJump'];\n\t\t\t\t\t\tthisTemp.changeVolume(now < 0 ? 0 : now);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('keydown', keyDown, window || document);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册倍速相关\n\t\t*/\n\t\tplaybackRate: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['playbackRate']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['playbackrate'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar thisTemp = this;\n\t\t\tvar dArr = this.playbackRateArr;\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的倍速\n\t\t\tvar i = 0,nowI=0;\n\t\t\tnowD = dArr[this.playbackRateDefault][1];\n\t\t\tnowI=this.playbackRateDefault;\n\t\t\tthis.removeChildAll(this.CB['playbackrateP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['playbackratePB']=document.createElement('div'),this.CB['playbackratePC']=document.createElement('div');\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackratePB']);\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackratePC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['playbackratePC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['playbackrateP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['playbackratePB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i][1];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['playbackrateP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['playbackrateP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['playbackratePC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['playbackratePC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar subClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newPlaybackrate(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', subClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['playbackrateTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackrateTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['playbackrateTriangle'],cssTemp);\n\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = nowD;\n\t\t\t} else {\n\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = this.ckLanguage['playbackrate'];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册切换倍速播放相关事件\n\t\t*/\n\t\taddPlaybackrate: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['playbackrateP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['playbackratePC'])){\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'],'display','block');\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['playbackrate']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackratePB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['playbackratePC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['playbackratePC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['playbackratePC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['playbackratePC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['playbackratePB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['playbackrate']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['playbackrateP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['playbackrateP']);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t切换倍速后发生的动作\n\t\t*/\n\t\tnewPlaybackrate: function(title) {\n\t\t\tvar vArr = this.playbackRateArr;\n\t\t\tvar nVArr = [];\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[1] == title) {\n\t\t\t\t\tthis.playbackRateDefault = i;\n\t\t\t\t\tthis.V.playbackRate = v[0];\n\t\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = v[1];\n\t\t\t\t\t\tthis.playbackRate();\n\t\t\t\t\t}\n\t\t\t\t\tthis.sendJS('playbackRate', v);\n\t\t\t\t\tthis.playbackRateTemp=v[0];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册多字幕切换相关\n\t\t*/\n\t\tsubtitleSwitch: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['subtitle']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar dArr = this.vars['cktrack'];//字幕数组\n\t\t\tif(this.varType(dArr)!='array'){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(dArr[0][1]==''){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['subtitle'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的字幕\n\t\t\tvar i = 0,nowI=0;\n\t\t\t\n\t\t\tif(this.subtitlesTemp==-1 && dArr.length>0){\n\t\t\t\tthis.subtitlesTemp=dArr.length-1;\n\t\t\t}\n\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\tif(this.subtitlesTemp==i){\n\t\t\t\t\tnowD=dArr[i][1];\n\t\t\t\t\tnowI=i;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!nowD) {\n\t\t\t\tnowD = dArr[0][1];\n\t\t\t}\n\t\t\tthis.removeChildAll(this.CB['subtitlesP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['subtitlesPB']=document.createElement('div'),this.CB['subtitlesPC']=document.createElement('div');\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesPB']);\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesPC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['subtitlesPC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['subtitlesP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['subtitlesPB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i][1];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['subtitlesP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['subtitlesP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['subtitlesPC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['subtitlesPC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar subClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newSubtitles(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', subClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['subtitlesTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['subtitlesTriangle'],cssTemp);\n\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = nowD;\n\t\t\t} else {\n\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = this.ckLanguage['subtitle'];\n\t\t\t}\n\t\t\t\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册多字幕切换事件\n\t\t*/\n\t\taddSubtitles:function(){\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['subtitlesP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['subtitlesPC'])){\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['subtitle']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'],'display','block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesPB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['subtitlesPC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['subtitlesPC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['subtitlesPC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['subtitlesPC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['subtitlesPB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['subtitles']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['subtitlesP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['subtitlesP']);\n\t\t},\n\t\t/*\n\t\t\t接口函数:修改字幕，按数组编号来\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeSubtitles: function(n) {\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar vArr = this.vars['cktrack'];//字幕数组\n\t\t\tif(this.varType(vArr)!='array'){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeSubtitles(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (vArr.length > n) {\n\t\t\t\tvar arr = vArr[n];\n\t\t\t\tif (arr.length > 2) {\n\t\t\t\t\tvar title = arr[1];\n\t\t\t\t\tif (title) {\n\t\t\t\t\t\tthis.newSubtitles(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数：修改字幕大小\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeSubtitlesSize:function(n,m){\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeSubtitlesSize(n,m);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.ckStyle['cktrack']['size']=n;\n\t\t\tif(!this.isUndefined(m)){\n\t\t\t\tthis.ckStyle['cktrack']['leading']=m;\n\t\t\t}\n\t\t\tthis.trackShowAgain();\n\t\t},\n\t\t/*\n\t\t\t当切换字幕时的动作 \n\t\t*/\n\t\tnewSubtitles:function(title){\n\t\t\tvar vArr = this.vars['cktrack'];//字幕数组\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[1] == title) {\n\t\t\t\t\tthis.subtitlesTemp=i;\n\t\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = v[1];\n\t\t\t\t\t\tthis.subtitleSwitch();\n\t\t\t\t\t\tthis.loadTrack(i);\n\t\t\t\t\t}\n\t\t\t\t\tthis.sendJS('subtitles', v);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建清晰度按钮及切换事件(Click事件)\n\t\t*/\n\t\tdefinition: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['definition']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['definition'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar thisTemp = this;\n\t\t\tvar vArr = this.VA;\n\t\t\tvar dArr = [];\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的清晰度\n\t\t\tvar i = 0,nowI=0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar d = vArr[i][2];\n\t\t\t\tif (dArr.indexOf(d) == -1) {\n\t\t\t\t\tdArr.push(d);\n\t\t\t\t}\n\t\t\t\tif (this.V) {\n\t\t\t\t\tif (vArr[i][0] == this.V.currentSrc) {\n\t\t\t\t\t\tnowD = d;\n\t\t\t\t\t\tnowI = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!nowD) {\n\t\t\t\tnowD = dArr[0];\n\t\t\t}\n\t\t\tthis.removeChildAll(this.CB['definitionP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['definitionPB']=document.createElement('div'),this.CB['definitionPC']=document.createElement('div');\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionPB']);\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionPC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['definitionPC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['definitionP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['definitionPB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['definitionP'],dArr[i],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['definitionP'],dArr[i],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['definitionPC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['definitionPC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar defClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newDefinition(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', defClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['definitionTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['definitionTriangle'],cssTemp);\n\t\t\t\tthis.CB['defaultButtonText'].innerHTML = nowD;\n\t\t\t\tthis.css(this.CB['definition'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.CB['defaultButtonText'].innerHTML = this.ckLanguage['definition'];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除节点内容\n\t\t*/\n\t\tremoveChildAll:function(ele){\n\t\t\tfor(var i=ele.childNodes.length-1;i>=0;i--){\n\t\t\t\tvar childNode=ele.childNodes[i];\n\t\t\t\tele.removeChild(childNode);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册清晰度相关事件\n\t\t*/\n\t\taddDefListener: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['definitionP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['definitionPC'])){\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'],'display','block');\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['definition']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionPB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['definitionPC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['definitionPC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['definitionPC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['definitionPC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['definitionPB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['definition']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['definitionP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['definitionP']);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeDefinition: function(n) {\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeDefinition(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.VA.length > n) {\n\t\t\t\tvar arr = this.VA[n];\n\t\t\t\tif (arr.length > 3) {\n\t\t\t\t\tvar title = arr[2];\n\t\t\t\t\tif (title) {\n\t\t\t\t\t\tthis.newDefinition(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t切换清晰度后发生的动作\n\t\t*/\n\t\tnewDefinition: function(title) {\n\t\t\tvar vArr = this.VA;\n\t\t\tvar nVArr = [];\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[2] == title) {\n\t\t\t\t\tnVArr.push(v);\n\t\t\t\t\tthis.sendJS('definitionChange', i + '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (nVArr.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V != null && this.needSeek == 0) {\n\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t}\n\t\t\tif (this.getFileExt(nVArr[0][0]) != '.m3u8') {\n\t\t\t\tthis.isM3u8 = false;\n\t\t\t}\n\t\t\tif (!this.isM3u8) {\n\t\t\t\tif (nVArr.length == 1) {\n\t\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\t\tthis.V.src = nVArr[0][0];\n\t\t\t\t\tthis.V.currentSrc = nVArr[0][0];\n\t\t\t\t} else {\n\t\t\t\t\tvar source = '';\n\t\t\t\t\tnVArr = this.arrSort(nVArr);\n\t\t\t\t\tfor (i = 0; i < nVArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = nVArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + va[0] + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\tthis.V.innerHTML = source;\n\t\t\t\t\tthis.V.currentSrc = nVArr[0][0];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.embedHls(vArr[0][0], this.vars['autoplay']);\n\t\t\t}\n\t\t\tthis.V.autoplay = 'autoplay';\n\t\t\tthis.V.load();\n\t\t\tif (this.playbackRateTemp!=1) {\n\t\t\t\tthis.V.playbackRate = this.playbackRateTemp; //定义倍速\n\t\t\t}\n\t\t\tthis.timerErrorFun();\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t播放hls\n\t\t*/\n\t\tembedHls: function(url, autoplay) {\n\t\t\tvar thisTemp = this;\n\t\t\tthisTemp.hlsAutoPlay=autoplay;\n\t\t\tif (Hls.isSupported()) {\n\t\t\t\tvar hls = new Hls();\n\t\t\t\thls.loadSource(url);\n\t\t\t\thls.attachMedia(this.V);\n\t\t\t\thls.on(Hls.Events.MANIFEST_PARSED,\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.playerLoad();\n\t\t\t\t\tif (autoplay) {\n\t\t\t\t\t\tthisTemp.videoPlay();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建提示点\n\t\t*/\n\t\tprompt: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar prompt = this.vars['promptSpot'];\n\t\t\tif (prompt == null || this.promptArr.length > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar showPrompt = function(event) {\n\t\t\t\tif (thisTemp.promptElement == null) {\n\t\t\t\t\tvar random2 = 'prompte-' + thisTemp.randomString(5);\n\t\t\t\t\tvar ele2 = document.createElement('div');\n\t\t\t\t\tele2.className = random2;\n\t\t\t\t\tthisTemp.PD.appendChild(ele2);\n\t\t\t\t\tthisTemp.promptElement = thisTemp.getByElement(random2);\n\t\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\t\toverflowX: 'hidden',\n\t\t\t\t\t\tlineHeight: thisTemp.ckStyle['previewPrompt']['lineHeight']+'px',\n\t\t\t\t\t\tfontFamily: thisTemp.ckStyle['previewPrompt']['font'],\n\t\t\t\t\t\tfontSize: thisTemp.ckStyle['previewPrompt']['size']+'px',\n\t\t\t\t\t\tcolor: thisTemp.ckStyle['previewPrompt']['color'].replace('0x','#'),\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\tzIndex: '90'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tvar pcon = thisTemp.getPromptTest();\n\t\t\t\tvar pW = pcon['pW'],\n\t\t\t\tpT = pcon['pT'],\n\t\t\t\tpL = parseInt(thisTemp.css(this, 'left')) - parseInt(pW * 0.5);\n\t\t\t\tif (pcon['pL'] > 10) {\n\t\t\t\t\tpL = pcon['pL'];\n\t\t\t\t}\n\t\t\t\tif (pL < 0) {\n\t\t\t\t\tpL = 0;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\twidth: pW + 'px',\n\t\t\t\t\tleft: ( - pW - 10) + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptElement.innerHTML = thisTemp.getDataset(this, 'words');\n\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\tleft: pL + 'px',\n\t\t\t\t\ttop: (pT - thisTemp.promptElement.offsetHeight-thisTemp.ckStyle['previewPrompt']['marginBottom']) + 'px'\n\t\t\t\t});\n\t\t\t};\n\t\t\tvar hidePrompt = function(event) {\n\t\t\t\tif (thisTemp.promptElement != null) {\n\t\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\t\tdisplay: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < prompt.length; i++) {\n\t\t\t\tvar pr = prompt[i];\n\t\t\t\tvar words = pr['words'];\n\t\t\t\tvar time = pr['time'];\n\t\t\t\tvar random = 'prompttitle-' + this.randomString(5);\n\t\t\t\tvar ele = document.createElement('div');\n\t\t\t\tele.className = random;\n\t\t\t\tthis.CB['timeBoBg'].appendChild(ele);\n\t\t\t\tvar div = this.getByElement(random);\n\t\t\t\ttry{\n\t\t\t\t\tdiv.setAttribute('data-time', time);\n\t\t\t\t\tif(this.ckConfig['config']['promptSpotTime']){\n\t\t\t\t\t\twords=this.formatTime(time,0,this.ckLanguage['timeSliderOver'])+' '+words;\n\t\t\t\t\t}\n\t\t\t\t\tdiv.setAttribute('data-words', words);\n\t\t\t\t}\n\t\t\t\tcatch(event){}\n\t\t\t\tvar pCss=this.getEleCss(this.ckStyle['promptSpotH5'],{marginY:-10000,zIndex: 1});\n\t\t\t\ttry{\n\t\t\t\t\tthis.css(div, pCss);\n\t\t\t\t}\n\t\t\t\tcatch(event){}\n\t\t\t\tthis.addListenerInside('mouseover', showPrompt, div);\n\t\t\t\tthis.addListenerInside('mouseout', hidePrompt, div);\n\t\t\t\tthis.promptArr.push(div);\n\t\t\t}\n\t\t\tthis.changePrompt();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t计算提示文本的位置\n\t\t*/\n\t\tgetPromptTest: function() {\n\t\t\tvar pW = this.previewWidth,\n\t\t\tpT = this.getCoor(this.CB['timeProgressBg'])['y'],\n\t\t\tpL = 0;\n\t\t\tif (this.previewTop != null) {\n\t\t\t\tpT = parseInt(this.css(this.previewTop, 'top'));\n\t\t\t\tpL = parseInt(this.css(this.previewTop, 'left'));\n\t\t\t} else {\n\t\t\t\tpT -= 35;\n\t\t\t}\n\t\t\tpL += 2;\n\t\t\tif (pL < 0) {\n\t\t\t\tpL = 0;\n\t\t\t}\n\t\t\tif (pL > this.PD.offsetWidth - pW) {\n\t\t\t\tpL = this.PD.offsetWidth - pW;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tpW: pW,\n\t\t\t\tpT: pT,\n\t\t\t\tpL: pL\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除提示点\n\t\t*/\n\t\tdeletePrompt: function() {\n\t\t\tvar arr = this.promptArr;\n\t\t\tif (arr.length > 0) {\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i]) {\n\t\t\t\t\t\tthis.deleteChild(arr[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.promptArr = [];\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t计算提示点坐标\n\t\t*/\n\t\tchangePrompt: function() {\n\t\t\tif (this.promptArr.length == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = this.promptArr;\n\t\t\tvar duration = this.getMetaDate()['duration'];\n\t\t\tvar bw = this.CB['timeBoBg'].offsetWidth;\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar time = parseInt(this.getDataset(arr[i], 'time'));\n\t\t\t\tvar left = parseInt(time * bw / duration) - parseInt(arr[i].offsetWidth * 0.5);\n\t\t\t\tif (left < 0) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\t\t\t\tif (left > bw - parseInt(arr[i].offsetWidth * 0.5)) {\n\t\t\t\t\tleft = bw - parseInt(arr[i].offsetWidth * 0.5);\n\t\t\t\t}\n\t\t\t\tthis.css(arr[i], {\n\t\t\t\t\tleft: left + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建预览图片效果\n\t\t*/\n\t\tpreview: function(obj) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar preview = {\n\t\t\t\tfile: null,\n\t\t\t\tscale: 0\n\t\t\t};\n\t\t\tpreview = this.standardization(preview, this.vars['preview']);\n\t\t\tif (preview['file'] == null || preview['scale'] <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar srcArr = preview['file'];\n\t\t\tif (this.previewStart == 0) { //如果还没有构建，则先进行构建\n\t\t\t\tthis.previewStart = 1;\n\t\t\t\tif (srcArr.length > 0) {\n\t\t\t\t\tvar i = 0;\n\t\t\t\t\tvar imgW = 0,\n\t\t\t\t\timgH = 0;\n\t\t\t\t\tvar random = 'preview-'+thisTemp.randomString(10);\n\t\t\t\t\tvar loadNum = 0;\n\t\t\t\t\tvar loadImg = function(i) {\n\t\t\t\t\t\tsrcArr[i] = thisTemp.getNewUrl(srcArr[i]);\n\t\t\t\t\t\tvar n = 0;\n\t\t\t\t\t\tvar img = new Image();\n\t\t\t\t\t\timg.src = srcArr[i];\n\t\t\t\t\t\timg.className = random + i;\n\t\t\t\t\t\timg.onload = function(event) {\n\t\t\t\t\t\t\tloadNum++;\n\t\t\t\t\t\t\tif (thisTemp.previewDiv == null) { //如果没有建立DIV，则建\n\t\t\t\t\t\t\t\timgW = img.width;\n\t\t\t\t\t\t\t\timgH = img.height;\n\t\t\t\t\t\t\t\tthisTemp.previewWidth = parseInt(imgW * 0.1);\n\t\t\t\t\t\t\t\tvar ele = document.createElement('div');\n\t\t\t\t\t\t\t\tele.className = random;\n\t\t\t\t\t\t\t\tthisTemp.PD.appendChild(ele);\n\t\t\t\t\t\t\t\tthisTemp.previewDiv = thisTemp.getByElement(random);\n\t\t\t\t\t\t\t\tvar eleTop = 0;\n\t\t\t\t\t\t\t\teleTop=thisTemp.PD.offsetHeight -thisTemp.ckStyle['preview']['bottom'];\n\t\t\t\t\t\t\t\tthisTemp.css(thisTemp.previewDiv, {\n\t\t\t\t\t\t\t\t\twidth: srcArr.length * imgW * 10 + 'px',\n\t\t\t\t\t\t\t\t\theight: parseInt(imgH * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\tbackgroundColor: '#000000',\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\t\t\ttop: eleTop + 'px',\n\t\t\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t\t\tzIndex: '80'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tele.setAttribute('data-x', '0');\n\t\t\t\t\t\t\t\tele.setAttribute('data-y', eleTop);\n\t\t\t\t\t\t\t\tvar ele2 = document.createElement('div');\n\t\t\t\t\t\t\t\tele2.className = random + 'd2';\n\t\t\t\t\t\t\t\tthisTemp.PD.appendChild(ele2);\n\t\t\t\t\t\t\t\tthisTemp.previewTop = thisTemp.getByElement(ele2.className);\n\t\t\t\t\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\t\t\t\t\twidth: parseInt(imgW * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\theight: parseInt(imgH * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\tborder: thisTemp.ckStyle['preview']['border']+'px solid ' + thisTemp.ckStyle['preview']['borderColor'].replace('0x','#'),\n\t\t\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\t\t\ttop: eleTop + 'px',\n\t\t\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t\t\tzIndex: '81'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tvar html = '';\n\t\t\t\t\t\t\t\tfor (n = 0; n < srcArr.length; n++) {\n\t\t\t\t\t\t\t\t\thtml += thisTemp.newCanvas(random + n, imgW * 10, parseInt(imgH * 0.1))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisTemp.previewDiv.innerHTML = html;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.previewDiv.appendChild(img);\n\t\t\t\t\t\t\tvar cimg = thisTemp.getByElement(img.className);\n\t\t\t\t\t\t\tvar canvas = thisTemp.getByElement(img.className + '-canvas');\n\t\t\t\t\t\t\tvar context = canvas.getContext('2d');\n\t\t\t\t\t\t\tvar sx = 0,\n\t\t\t\t\t\t\tsy = 0,\n\t\t\t\t\t\t\tx = 0,\n\t\t\t\t\t\t\th = parseInt(imgH * 0.1);\n\t\t\t\t\t\t\tfor (n = 0; n < 100; n++) {\n\t\t\t\t\t\t\t\tx = parseInt(n * imgW * 0.1);\n\t\t\t\t\t\t\t\tcontext.drawImage(cimg, sx, sy, parseInt(imgW * 0.1), h, x, 0, parseInt(imgW * 0.1), h);\n\t\t\t\t\t\t\t\tsx += parseInt(imgW * 0.1);\n\t\t\t\t\t\t\t\tif (sx >= imgW) {\n\t\t\t\t\t\t\t\t\tsx = 0;\n\t\t\t\t\t\t\t\t\tsy += h;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisTemp.css(cimg, 'display', 'none');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (loadNum == srcArr.length) {\n\t\t\t\t\t\t\t\tthisTemp.previewStart = 2;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t\t\tloadImg(i);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tloadImg(i);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.previewStart == 2) {\n\t\t\t\tvar isTween = true;\n\t\t\t\tvar nowNum = parseInt(obj['time'] / this.vars['preview']['scale']);\n\t\t\t\tvar numTotal = parseInt(thisTemp.getMetaDate()['duration'] / this.vars['preview']['scale']);\n\t\t\t\tif (thisTemp.css(thisTemp.previewDiv, 'display') == 'none') {\n\t\t\t\t\tisTween = false;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'display', 'block');\n\t\t\t\tvar imgWidth = thisTemp.previewDiv.offsetWidth * 0.01 / srcArr.length;\n\t\t\t\tvar left = (imgWidth * nowNum) - obj['x'] + parseInt(imgWidth * 0.5),\n\t\t\t\ttop=thisTemp.PD.offsetHeight- thisTemp.previewDiv.offsetHeight -thisTemp.ckStyle['preview']['bottom'];\n\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'top', top + 2 + 'px');\n\t\t\t\tvar topLeft = obj['x'] - parseInt(imgWidth * 0.5);\n\t\t\t\tvar timepieces = 0;\n\t\t\t\tif (topLeft < 0) {\n\t\t\t\t\ttopLeft = 0;\n\t\t\t\t\ttimepieces = obj['x'] - topLeft - imgWidth * 0.5;\n\t\t\t\t}\n\t\t\t\tif (topLeft > thisTemp.PD.offsetWidth - imgWidth) {\n\t\t\t\t\ttopLeft = thisTemp.PD.offsetWidth - imgWidth;\n\t\t\t\t\ttimepieces = obj['x'] - topLeft - imgWidth * 0.5;\n\t\t\t\t}\n\t\t\t\tif (left < 0) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\t\t\t\tif (left > numTotal * imgWidth - thisTemp.PD.offsetWidth) {\n\t\t\t\t\tleft = numTotal * imgWidth - thisTemp.PD.offsetWidth;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\tleft: topLeft + 'px',\n\t\t\t\t\ttop: top + 2 + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t\tif (thisTemp.previewTop.offsetHeight > thisTemp.previewDiv.offsetHeight) {\n\t\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\t\theight: thisTemp.previewDiv.offsetHeight - (thisTemp.previewTop.offsetHeight - thisTemp.previewDiv.offsetHeight) + 'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (this.previewTween != null) {\n\t\t\t\t\tthis.animatePause(this.previewTween);\n\t\t\t\t\tthis.previewTween = null\n\t\t\t\t}\n\t\t\t\tvar nowLeft = parseInt(thisTemp.css(thisTemp.previewDiv, 'left'));\n\t\t\t\tvar leftC = nowLeft + left;\n\t\t\t\tif (nowLeft == -(left + timepieces)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (isTween) {\n\t\t\t\t\tvar obj = {\n\t\t\t\t\t\telement: thisTemp.previewDiv,\n\t\t\t\t\t\tstart: null,\n\t\t\t\t\t\tend: -(left + timepieces),\n\t\t\t\t\t\tspeed: 0.3\n\t\t\t\t\t};\n\t\t\t\t\tthis.previewTween = this.animate(obj);\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'left', -(left + timepieces) + 'px')\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除预览图节点\n\t\t*/\n\t\tdeletePreview: function() {\n\t\t\tif (this.previewDiv != null) {\n\t\t\t\tthis.deleteChild(this.previewDiv);\n\t\t\t\tthis.previewDiv = null;\n\t\t\t\tthis.previewStart = 0;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t修改视频地址，属性\n\t\t*/\n\t\tchangeVideo: function() {\n\t\t\tif (!this.html5Video) {\n\t\t\t\tthis.getVarsObject();\n\t\t\t\tthis.V.newVideo(this.vars);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar vArr = this.VA;\n\t\t\tvar v = this.vars;\n\t\t\tvar i = 0;\n\t\t\tif (vArr.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V != null && this.needSeek == 0) {\n\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t}\n\t\t\tif (v['poster']) {\n\t\t\t\tthis.V.poster = v['poster'];\n\t\t\t} else {\n\t\t\t\tthis.V.removeAttribute('poster');\n\t\t\t}\n\t\t\tif (v['loop']) {\n\t\t\t\tthis.V.loop = 'loop';\n\t\t\t} else {\n\t\t\t\tthis.V.removeAttribute('loop');\n\t\t\t}\n\t\t\tif (v['seek'] > 0) {\n\t\t\t\tthis.needSeek = v['seek'];\n\t\t\t} else {\n\t\t\t\tthis.needSeek = 0;\n\t\t\t}\n\t\t\tif (this.getFileExt(vArr[0][0]) != '.m3u8') {\n\t\t\t\tthis.isM3u8 = false;\n\t\t\t}\n\t\t\tif (!this.isM3u8) {\n\t\t\t\tif (vArr.length == 1) {\n\t\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\t\tthis.V.src = vArr[0][0];\n\t\t\t\t} else {\n\t\t\t\t\tvar source = '';\n\t\t\t\t\tvArr = this.arrSort(vArr);\n\t\t\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = vArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + va[0] + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\tthis.V.innerHTML = source;\n\t\t\t\t}\n\t\t\t\t//分析视频地址结束\n\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\tthis.V.autoplay = 'autoplay';\n\t\t\t\t} else {\n\t\t\t\t\tthis.V.removeAttribute('autoplay');\n\t\t\t\t}\n\t\t\t\tthis.V.load();\n\t\t\t} else {\n\t\t\t\tthis.embedHls(vArr[0][0], v['autoplay']);\n\t\t\t}\n\t\t\tif (!this.isUndefined(v['volume'])) {\n\t\t\t\tthis.changeVolume(v['volume']);\n\t\t\t}\n\t\t\tthis.resetPlayer(); //重置界面元素\n\t\t\tthis.timerErrorFun();\n\t\t\t//如果存在字幕则加载\n\t\t\tif (this.vars['cktrack']) {\n\t\t\t\tthis.loadTrack();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t调整中间暂停按钮,缓冲loading，错误提示文本框的位置\n\t\t*/\n\t\telementCoordinate: function() {\n\t\t\tthis.pdCoor = this.getXY(this.PD);\n\t\t\tvar cssTemp=null;\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['centerPlay'],{cursor:'pointer'});\n\t\t\t\tthis.css(this.CB['pauseCenter'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['loading']);\n\t\t\t\tthis.css(this.CB['loading'],cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['error']);\n\t\t\t\tthis.css(this.CB['errorText'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['logo']);\n\t\t\t\tthis.css(this.CB['logo'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\tthis.checkBarWidth();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t控制栏内各按钮的位置\n\t\t*/\n\t\tcarbarButton:function(){\n\t\t\tvar styleC=this.ckStyle['controlBar'];\n\t\t\tvar styleCB=styleC['button'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\tvar cssSup2={overflow: 'hidden',cursor: 'default',zIndex: 1};\n\t\t\tvar cssSup4={overflow: 'hidden',cursor: 'pointer',display: 'none',zIndex: 995};\n\t\t\t//播放/暂停按钮\n\t\t\tcssTemp=this.getEleCss(styleCB['play'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['play'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['pause'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['pause'],cssTemp);\n\t\t\t//设置静音/取消静音的按钮样式\n\t\t\tcssTemp=this.getEleCss(styleCB['mute'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['mute'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['escMute'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['escMute'],cssTemp);\n\t\t\t//设置全屏/退出全屏按钮样式\n\t\t\tcssTemp=this.getEleCss(styleCB['full'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['full'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['escFull'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['escFull'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleC['timeText']['vod'],cssSup2,this.CB['controlBarBg']);\n \t\t\tthis.css(this.CB['timeText'], cssTemp);\n \t\t\t//音量调节框\n \t\t\tvar volumeSchedule=this.newObj(styleC['volumeSchedule']);\n \t\t\tvolumeSchedule['backgroundImg']='';\n\t\t\tcssTemp=this.getEleCss(volumeSchedule,cssSup2,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['volume'],cssTemp);\n\t\t\tcssTemp= {\n\t\t\t\twidth: cssTemp['width'],\n\t\t\t\theight: styleC['volumeSchedule']['backgroundHeight']+'px',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tbackgroundRepeat:'no-repeat',\n\t\t\t\tbackgroundPosition:'left center'\n\t\t\t};\n\t\t\tif(this.ckConfig['config']['buttonMode']['volumeSchedule']){\n\t\t\t\tcssTemp['cursor']='pointer';\n\t\t\t}\n\t\t\tthis.css(this.CB['volumeBg'],cssTemp);\n\t\t\tthis.css(this.CB['volumeBg'], {\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t\tcssTemp['width']=(this.CB['volumeBO'].offsetWidth*0.5+parseInt(this.css(this.CB['volumeBO'],'left')))+'px';\n\t\t\tthis.css(this.CB['volumeUp'],cssTemp);\n\t\t\tthis.css(this.CB['volumeBg'], 'backgroundImage', 'url('+styleC['volumeSchedule']['backgroundImg']+')');\n\t\t\tthis.css(this.CB['volumeUp'], 'backgroundImage', 'url('+styleC['volumeSchedule']['maskImg']+')');\n\t\t\t//音量调节按钮\n\t\t\tcssTemp=this.getEleCss(styleC['volumeSchedule']['button'],{overflow: 'hidden',cursor: 'pointer',backgroundRepeat:'no-repeat',backgroundPosition:'left center'});\n\t\t\tthis.css(this.CB['volumeBO'],cssTemp);\n\t\t\t//倍速容器\n\t\t\tif(this.ckConfig['config']['playbackRate']){\n\t\t\t\tif(!this.CB['playbackrateButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['playbackrate'],styleC['playbackrate']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['playbackrate']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['playbackrate'],'playbackrateButtonText');\n\t\t\t\t}\n\t\t\t\tcssTemp=this.getEleCss(styleC['playbackrate']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['playbackrate'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['playbackrateP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['playbackrate']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['playbackrateP'], cssTemp);\n\t\t\t}\n\t\t\t//初始化清晰度按钮\n\t\t\tif(this.ckConfig['config']['definition']){\n\t\t\t\tif(!this.CB['defaultButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['definition'],styleC['definition']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['definition']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['definition'],'defaultButtonText');\n\t\t\t\t}\n\t\t\t\tcssTemp=this.getEleCss(styleC['definition']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['definition'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['definitionP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['definition']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['definitionP'], cssTemp);\n\t\t\t}\n\t\t\t//初始化字幕切换按钮\n\t\t\tif(this.ckConfig['config']['subtitle']){\n\t\t\t\tif(!this.CB['subtitleButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['subtitles'],styleC['subtitle']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['subtitle']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['subtitle'],'subtitleButtonText');\n\t\t\t\t}\n\t\t\t\t//字幕按钮列表容器样式\n\t\t\t\tcssTemp=this.getEleCss(styleC['subtitle']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['subtitles'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['subtitlesP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['subtitle']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['subtitlesP'], cssTemp);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t构造一个文字按钮\n\t\t \tele:当前按钮\n\t\t \tcss:样式\n\t\t \tcssSup:补充样式\n\t\t \tupEle：上一级容器对象\n\t\t \ttext:显示的文本\n\t\t \tnewName:文本框名称\n\t\t*/\n\t\ttextButton:function(ele,css,cssSup,upEle,text,newName){\n\t\t\tvar thisTemp=this;\n\t\t\tvar bgCss={\n\t\t\t\twidth:css['width'],\n\t\t\t\theight:css['height']\n\t\t\t};\n\t\t\tif(cssSup){\n\t\t\t\tbgCss={\n\t\t\t\t\twidth:css['width'],\n\t\t\t\t\theight:css['height'],\n\t\t\t\t\talign:cssSup['align'],\n\t\t\t\t\tvAlign:cssSup['vAlign'],\n\t\t\t\t\tmarginX: cssSup['marginX'],\n\t\t\t\t\tmarginY: cssSup['marginY'],\n\t\t\t\t\toffsetX: cssSup['offsetX'],\n\t\t\t\t\toffsetY: cssSup['offsetY'],\n\t\t\t\t\tzIndex:2\n\t\t\t\t};\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(bgCss,null,upEle);\n\t\t\tthisTemp.css(ele, cssTemp);\n\t\t\tvar outCss=this.newObj(css);\n\t\t\tvar overCss=this.newObj(css);\n\t\t\tvar textOutCss=this.newObj(css);\n\t\t\tvar textOverCss=this.newObj(css);\n\t\t\tvar cssTemp=null;\n\t\t\toutCss['alpha']=css['backgroundAlpha'];\n\t\t\toverCss['backgroundColor']=css['overBackgroundColor'];\n\t\t\toverCss['alpha']=css['backgroundAlpha'];\n\t\t\ttextOutCss['color']=css['textColor'];\n\t\t\ttextOverCss['color']=css['overTextColor'];\n\t\t\ttextOutCss['textAlign']=css['align'];\n\t\t\ttextOverCss['textAlign']=css['align'];\n\t\t\t//修正文字\n\t\t\ttextOutCss['backgroundColor']=textOverCss['backgroundColor']='';\n\t\t\tvar bgEle=document.createElement('div');//按钮背景层\n\t\t\tthis.removeChildAll(ele);\n\t\t\tele.appendChild(bgEle);\n\t\t\tif(newName){\n\t\t\t\tthis.CB[newName]=document.createElement('div');//文字层\n\t\t\t\tele.appendChild(this.CB[newName]);\n\t\t\t\tthis.CB[newName].innerHTML=text;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar newEle=document.createElement('div');//文字层\n\t\t\t\tele.appendChild(newEle);\n\t\t\t\tnewEle.innerHTML=text;\n\t\t\t}\n\t\t\tvar outFun=function(){\n\t\t\t\tcssTemp=thisTemp.getEleCss(outCss,{cursor: 'pointer',zIndex:1},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tthisTemp.css(bgEle, cssTemp);\n\t\t\t\tcssTemp=thisTemp.getEleCss(textOutCss,{cursor: 'pointer',zIndex:2},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tif(newName){\n\t\t\t\t\tthisTemp.css(thisTemp.CB[newName], cssTemp,bgEle);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(newEle, cssTemp,bgEle);\n\t\t\t\t}\n\t\t\t\tthisTemp.buttonHide=true;//显示的列表框需要隐藏\n\t\t\t\tif(thisTemp.timeButtonOver){\n\t\t\t\t\twindow.clearTimeout(thisTemp.timeButtonOver);\n\t\t\t\t\tthisTemp.timeButtonOver=null;\n\t\t\t\t}\n\t\t\t\tthisTemp.timeButtonOver=window.setTimeout(function(){thisTemp.buttonListHide()},1000);\n\t\t\t};\n\t\t\tvar overFun=function(){\n\t\t\t\tcssTemp=thisTemp.getEleCss(overCss,{zIndex:1},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tthisTemp.css(bgEle, cssTemp);\n\t\t\t\tcssTemp=thisTemp.getEleCss(textOverCss,{zIndex:2},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tif(newName){\n\t\t\t\t\tthisTemp.css(thisTemp.CB[newName], cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(newEle, cssTemp);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t};\n\t\t\toutFun();\n\t\t\tthis.addListenerInside('mouseout', outFun, ele);\n\t\t\tthis.addListenerInside('mouseover', overFun, ele);\n\t\t},\n\t\t/*\n\t\t\t隐藏所有的列表框 \n\t\t*/\n\t\tbuttonListHide:function(){\n\t\t\tif(this.buttonHide){\n\t\t\t\tthis.css([this.CB['definitionP'],this.CB['subtitlesP'],this.CB['playbackrateP']],'display','none');\n\t\t\t}\n\t\t\tif(this.timeButtonOver){\n\t\t\t\twindow.clearTimeout(this.timeButtonOver);\n\t\t\t\tthis.timeButtonOver=null;\n\t\t\t}\n\t\t\tthis.buttonHide=false;\n\t\t},\n\t\t/*\n\t\t \t计算视频的宽高\n\t\t*/\n\t\tvideoCss:function(){\n\t\t\tvar cssTemp={};\n\t\t\t\n\t\t\tif(this.css(this.CB['controlBar'],'display')=='none'){\n\t\t\t\tcssTemp=this.ckStyle['video']['controlBarHideReserve'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tcssTemp=this.ckStyle['video']['reserve'];\n\t\t\t}\n\t\t\tvar spacingBottom=cssTemp['spacingBottom'];\n\t\t\tif(this.V.controls && this.isMobile()){\n\t\t\t\tspacingBottom-=40;\n\t\t\t}\n\t\t\tvar pW=this.PD.offsetWidth,pH=this.PD.offsetHeight;\n\t\t\tvar vW=pW-cssTemp['spacingLeft']-cssTemp['spacingRight'];\n\t\t\tvar vH=pH-cssTemp['spacingTop']-spacingBottom;\n\t\t\tif(!this.MD){\n\t\t\t\tthis.css(this.V,{\n\t\t\t\t\twidth:vW+'px',\n\t\t\t\t\theight:vH+'px',\n\t\t\t\t\tmarginLeft:cssTemp['spacingLeft']+'px',\n\t\t\t\t\tmarginTop:cssTemp['spacingTop']+'px'\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.css([this.MD,this.MDC],{\n\t\t\t\t\twidth:vW+'px',\n\t\t\t\t\theight:vH+'px',\n\t\t\t\t\tmarginLeft:cssTemp['spacingLeft']+'px',\n\t\t\t\t\tmarginTop:cssTemp['spacingTop']+'px'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t播放器界面自定义元素\n\t\t*/\n\t\tplayerCustom:function(){\n\t\t\tvar custom=this.ckStyle['custom'];\n\t\t\tvar button=custom['button'];\n\t\t\tvar images=custom['images'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup=null;\n\t\t\tvar k='',tempID='';\n\t\t\tvar b={};\n\t\t\tvar tempDiv;\n\t\t\tvar i=0;\n\t\t\tfor(k in button){\n\t\t\t\tb=button[k];\n\t\t\t\tcssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'player-button',name:k});\n\t\t\t\tthis.PD.appendChild(tempDiv);\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\ttempDiv.dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tthis.buttonEventFun(tempDiv,b);\n\t\t\t}\n\t\t\tfor(k in images){\n\t\t\t\tb=images[k];\n\t\t\t\tcssSup={overflow: 'hidden',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'player-images',name:k});\n\t\t\t\tthis.PD.appendChild(tempDiv);\n\t\t\t\tvar img=new Image();\n\t\t\t\timg.src=images[k]['img'];\n\t\t\t\ttempDiv.appendChild(img);\n\t\t\t\ti++\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素\n\t\t*/\n\t\tcarbarCustom:function(){\n\t\t\tvar custom=this.ckStyle['controlBar']['custom'];\n\t\t\tvar button=custom['button'];\n\t\t\tvar images=custom['images'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup=null;\n\t\t\tvar k='',tempID='';\n\t\t\tvar b={};\n\t\t\tvar tempDiv;\n\t\t\tvar i=0;\n\t\t\tfor(k in button){\n\t\t\t\tb=button[k];\n\t\t\t\tcssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup,this.CB['controlBarBg']);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'controlBar-button',name:k});\n\t\t\t\tthis.CB['controlBar'].appendChild(tempDiv);\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\ttempDiv.dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tthis.buttonEventFun(tempDiv,b);\n\t\t\t}\n\t\t\tfor(k in images){\n\t\t\t\tb=images[k];\n\t\t\t\tcssSup={overflow: 'hidden',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup,this.CB['controlBarBg']);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'controlBar-images',name:k});\n\t\t\t\tthis.CB['controlBar'].appendChild(tempDiv);\n\t\t\t\tvar img=new Image();\n\t\t\t\timg.src=images[k]['img'];\n\t\t\t\ttempDiv.appendChild(img);\n\t\t\t\ti++;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素的位置\n\t\t*/\n\t\tcustomCoor:function(){\n\t\t\tvar cssTemp=null;\n\t\t\tif(this.customeElement.length>0){\n\t\t\t\tfor(var i=0;i<this.customeElement.length;i++){\n\t\t\t\t\tif(this.customeElement[i]['type']=='controlBar'){\n\t\t\t\t\t\tcssTemp=this.getEleCss(this.customeElement[i]['css'],this.customeElement[i]['cssSup'],this.CB['controlBarBg']);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tcssTemp=this.getEleCss(this.customeElement[i]['css'],this.customeElement[i]['cssSup']);\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(this.customeElement[i]['ele'],cssTemp);\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素的显示和隐藏，只对播放器界面的有效，作用是当播放视频广告时隐藏，广告播放完成后显示\n\t\t*/\n\t\tcustomShow:function(show){\n\t\t\tif(this.customeElement.length>0){\n\t\t\t\tfor(var i=0;i<this.customeElement.length;i++){\n\t\t\t\t\tif(this.customeElement[i]['type']=='player'){\n\t\t\t\t\t\tthis.css(this.customeElement[i]['ele'],'display',show?'block':'none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t},\n\t\t/*\n\t\t \t广告控制栏样式\n\t\t*/\n\t\tadvertisementStyle:function(){\n\t\t\tvar asArr=['muteButton','escMuteButton','adLinkButton','closeButton','skipAdButton','countDown','countDownText','skipDelay','skipDelayText'];\n\t\t\tvar eleArr=['adMute','adEscMute','adLink','adPauseClose','adSkipButton','adTime','adTimeText','adSkip','adSkipText'];\n\t\t\tfor(var i=0;i<eleArr.length;i++){\n\t\t\t\tvar cssUp={overflow: 'hidden',zIndex: 999};\n\t\t\t\tif(i<5){\n\t\t\t\t\tcssUp['cursor']='pointer';\n\t\t\t\t}\n\t\t\t\tvar cssTemp=this.getEleCss(this.ckStyle['advertisement'][asArr[i]],cssUp);\n\t\t\t\tthis.css(this.CB[eleArr[i]],cssTemp);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t当播放器尺寸变化时，显示和隐藏相关节点\n\t\t*/\n\t\tcheckBarWidth: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t初始化暂停或播放按钮\n\t\t*/\n\t\tinitPlayPause: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.vars['autoplay']) {\n\t\t\t\tthis.css([this.CB['play'], this.CB['pauseCenter']], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'block');\n\t\t\t\tif (this.css(this.CB['errorText'], 'display') == 'none') {\n\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'block');\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'none');\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t\t下面为监听事件\n\t\t\t内部函数\n\t\t\t监听元数据已加载\n\t\t*/\n\t\tloadedHandler: function() {\n\t\t\tthis.loaded = true;\n\t\t\tif (this.vars['loaded'] != '') {\n\t\t\t\ttry {\n\t\t\t\t\teval(this.vars['loaded'] + '(\\''+this.vars['variable']+'\\')');\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放\n\t\t*/\n\t\tplayingHandler: function() {\n\t\t\tthis.playShow(true);\n\t\t\t//如果是第一次播放\n\t\t\tif (this.isFirstTimePlay && !this.isUndefined(this.advertisements['front'])) {\n\t\t\t\tthis.isFirstTimePlay = false;\n\t\t\t\t//调用播放前置广告组件\n\t\t\t\tthis.adI = 0;\n\t\t\t\tthis.adType = 'front';\n\t\t\t\tthis.adMuteInto();\n\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\tthis.adPlayStart = true;\n\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\tthis.videoPause();\n\t\t\t\tthis.advertisementsTime();\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\t//调用播放前置广告组件结束\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//判断第一次播放结束\n\t\t\tif (this.needSeek > 0) {\n\t\t\t\tthis.videoSeek(this.needSeek);\n\t\t\t\tthis.needSeek = 0;\n\t\t\t}\n\t\t\tif (this.animatePauseArray.length > 0) {\n\t\t\t\tthis.animateResume('pause');\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video' && this.V != null && this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\tthis.sendVCanvas();\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['pause']) && !this.adPlayStart) { //如果存在暂停广告\n\t\t\t\tthis.closePauseAd();\n\t\t\t}\n\t\t},\n\t\t/*暂停时播放暂停广告*/\n\t\tadPausePlayer: function() {\n\t\t\tthis.adI = 0;\n\t\t\tthis.adType = 'pause';\n\t\t\tthis.adPauseShow = true;\n\t\t\tthis.loadAdPause();\n\t\t\tthis.sendJS('pauseAd','play');\n\t\t},\n\t\tloadAdPause: function() {\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tvar thisTemp = this;\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tif (this.isStrImage(type) && this.adPauseShow) {\n\t\t\t\tthis.css(this.CB['adElement'], 'display', 'block');\n\t\t\t\tvar imgClass = 'adimg' + this.randomString(10);\n\t\t\t\tvar imgHtml = '<img src=\"' + ad['file'] + '\" class=\"' + imgClass + '\">';\n\t\t\t\tif (ad['link']) {\n\t\t\t\t\timgHtml = '<a href=\"' + ad['link'] + '\" target=\"_blank\">' + imgHtml + '</a>';\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = imgHtml;\n\t\t\t\tthis.addListenerInside('load',\n\t\t\t\tfunction() {\n\t\t\t\t\tvar imgObj = new Image();\n\t\t\t\t\timgObj.src = this.src;\n\t\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\t\tthisTemp.css([thisTemp.getByElement(imgClass), thisTemp.CB['adElement']], {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\tborder: '0px'\n\t\t\t\t\t});\n\t\t\t\t\tif (thisTemp.ckStyle['advertisement']['closeButtonShow'] && thisTemp.adPauseShow) {\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['adPauseClose'], {\n\t\t\t\t\t\t\tdisplay: 'block'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\t\tthisTemp.adPauseCoor();\n\t\t\t\t},\n\t\t\t\tthis.getByElement(imgClass));\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adElement']);\n\t\t\t\tvar newI = this.adI;\n\t\t\t\tif (this.adI < this.advertisements['pause'].length - 1) {\n\t\t\t\t\tnewI++;\n\t\t\t\t} else {\n\t\t\t\t\tnewI = 0;\n\t\t\t\t}\n\t\t\t\tif (ad['time'] > 0) {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tif (thisTemp.adPauseShow) {\n\t\t\t\t\t\t\tthisTemp.adI = newI;\n\t\t\t\t\t\t\tthisTemp.loadAdPause();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tad['time'] * 1000);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*调整暂停广告的位置*/\n\t\tadPauseCoor: function() {\n\t\t\tif (this.css(this.CB['adElement'], 'display') == 'block') {\n\t\t\t\tvar w = this.CB['adElement'].offsetWidth,\n\t\t\t\th = this.CB['adElement'].offsetHeight;\n\t\t\t\tvar pw = this.PD.offsetWidth,\n\t\t\t\tph = this.PD.offsetHeight;\n\t\t\t\tthis.css(this.CB['adElement'], {\n\t\t\t\t\ttop: (ph - h) * 0.5 + 'px',\n\t\t\t\t\tleft: (pw - w) * 0.5 + 'px'\n\t\t\t\t});\n\t\t\t\tif (this.css(this.CB['adPauseClose'], 'display') == 'block') {\n\t\t\t\t\tvar rr=this.ckStyle['advertisement']['closeButton'];\n\t\t\t\t\tvar cxy =  this.getPosition(rr,this.CB['adElement']);\n\t\t\t\t\tthis.css(this.CB['adPauseClose'], {\n\t\t\t\t\t\ttop: cxy['y'] + 'px',\n\t\t\t\t\t\tleft: cxy['x'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t关闭暂停广告\n\t\t*/\n\t\tclosePauseAd: function() {\n\t\t\tthis.CB['adElement'].innerHTML = '';\n\t\t\tthis.css([this.CB['adElement'], this.CB['adPauseClose']], 'display', 'none');\n\t\t\tthis.adPauseShow = false;\n\t\t\tthis.sendJS('pauseAd','ended');\n\t\t},\n\t\t/*计算广告时间*/\n\t\tadvertisementsTime: function(nt) {\n\t\t\tif (this.isUndefined(nt)) {\n\t\t\t\tnt = 0;\n\t\t\t}\n\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\tif (nt > 0) {\n\t\t\t\tad[this.adI]['time'] = Math.ceil(nt);\n\t\t\t}\n\t\t\tthis.adTimeAllTotal = 0;\n\t\t\tfor (var i = this.adI; i < ad.length; i++) {\n\t\t\t\tif (!this.isUndefined(ad[i]['time'])) {\n\t\t\t\t\tthis.adTimeAllTotal += Math.ceil(ad[i]['time']);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.adTimeAllTotal > 0) {\n\t\t\t\tthis.CB['adTimeText'].innerHTML = this.ckLanguage['adCountdown'].replace('[$second]', this.adTimeAllTotal).replace('[$Second]', this.adTimeAllTotal > 9 ? this.adTimeAllTotal: '0' + this.adTimeAllTotal);\n\t\t\t}\n\t\t\tif (this.adPauseShow) {\n\t\t\t\tthis.closePauseAd();\n\t\t\t}\n\t\t\tthis.adOtherCloseAll();\n\t\t\tthis.adTimeTotal = -1;\n\t\t},\n\t\t/*判断是否需要显示跳过广告按钮*/\n\t\tadSkipButtonShow: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar skipConfig = this.ckStyle['advertisement'];\n\t\t\tvar delayTimeTemp = skipConfig[this.adType + 'SkipButtonDelay'];\n\t\t\tvar timeFun = function() {\n\t\t\t\tif (delayTimeTemp >= 0) {\n\t\t\t\t\tthisTemp.CB['adSkipText'].innerHTML = thisTemp.ckLanguage['skipDelay'].replace('[$second]', delayTimeTemp).replace('[$Second]', delayTimeTemp > 9 ? delayTimeTemp: '0' + delayTimeTemp);\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','none');\n\t\t\t\t\tsetTimeout(timeFun, 1000);\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','none');\n\t\t\t\t\tif(thisTemp.css(thisTemp.CB['adTime'],'display')=='block'){\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','block');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tdelayTimeTemp--;\n\t\t\t};\n\t\t\tif (skipConfig['skipButtonShow']) {\n\t\t\t\tif (skipConfig[this.adType + 'SkipButtonDelay'] > 0 && this.isUndefined(this.adSkipButtonTime)) {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']], 'display', 'block');\n\t\t\t\t\ttimeFun();\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','none');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','block');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*播放广告*/\n\t\tadvertisementsPlay: function() {\n\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText'], this.CB['adSkip'], this.CB['adSkipText'],this.CB['adSkipButton'], this.CB['adLink']], 'display', 'none');\n\t\t\tthis.adPlayerPlay = false;\n\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\tif (this.adI == 0 && (this.adType == 'front' || this.adType == 'insert' || this.adType == 'end')) {\n\t\t\t\tthis.sendJS('process', this.adType + ' ad play');\n\t\t\t\tthis.sendJS(this.adType+'Ad','play');\n\t\t\t}\n\t\t\tthis.trackHide();\n\t\t\tif (this.adI < ad.length) {\n\t\t\t\tif (!this.isUndefined(ad[this.adI]['time'])) {\n\t\t\t\t\tthis.adTimeTotal = parseInt(ad[this.adI]['time']);\n\t\t\t\t}\n\t\t\t\tthis.loadAdvertisements();\n\t\t\t} else {\n\t\t\t\tthis.adEnded();\n\t\t\t}\n\t\t},\n\t\t/*清除当前所有广告*/\n\t\teliminateAd: function() {\n\t\t\tif (this.adType) {\n\t\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\t\tthis.adI = ad.length;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t}\n\n\t\t},\n\t\t/*广告播放结束*/\n\t\tadEnded: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.adPlayStart = false;\n\t\t\tif(this.adType=='front'){\n\t\t\t\tthis.time=0;\n\t\t\t}\n\t\t\tthis.adPlayerPlay = false;\n\t\t\tif (this.adVideoPlay) {\n\t\t\t\tif (this.videoTemp['src'] != '') {\n\t\t\t\t\tthis.V.src = this.videoTemp['src'];\n\t\t\t\t} else {\n\t\t\t\t\tif (this.V.src) {\n\t\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['source'] != '') {\n\t\t\t\t\tthis.V.innerHTML = this.videoTemp['source'];\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['currentSrc'] != '') {\n\t\t\t\t\tthis.V.src = this.videoTemp['currentSrc'];\n\t\t\t\t\tthis.V.currentSrc = this.videoTemp['currentSrc'];\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['loop']) {\n\t\t\t\t\tthis.V.loop = true;\n\t\t\t\t\tthis.videoTemp['loop'] = false;\n\t\t\t\t}\n\t\t\t\tif (this.adType == 'end') {\n\t\t\t\t\tthis.endedHandler();\n\t\t\t\t} else {\n\t\t\t\t\tthis.videoPlay();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.videoPlay();\n\t\t\t}\n\t\t\tthis.changeVolume(this.vars['volume']);\n\t\t\tthis.sendJS('process', this.adType + ' ad ended');\n\t\t\tthis.sendJS(this.adType+'Ad','ended');\n\t\t\tthis.changeControlBarShow(true);\n\t\t\tthis.css(this.CB['logo'], 'display','block');\n\t\t\tthis.customShow(true);\n\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText'], this.CB['adSkip'], this.CB['adSkipText'],this.CB['adSkipButton'], this.CB['adLink'],this.CB['adMute'], this.CB['adEscMute']], 'display', 'none');\n\t\t},\n\t\t/*加载广告*/\n\t\tloadAdvertisements: function() {\n\t\t\t//this.videoTemp\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tvar thisTemp = this;\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tthis.changeControlBarShow(false);\n\t\t\tthis.adPlayerPlay = true;\n\t\t\tthis.css(this.CB['logo'], 'display','none');\n\t\t\tthis.customShow(false);\n\t\t\tif (this.isStrImage(type)) {\n\t\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText']], 'display', 'block');\n\t\t\t\tthis.css([this.CB['adMute'], this.CB['adEscMute']], 'display', 'none');\n\t\t\t\tvar imgClass = 'adimg' + this.randomString(10);\n\t\t\t\tvar imgHtml = '<img src=\"' + ad['file'] + '\" class=\"' + imgClass + '\">';\n\t\t\t\tif (ad['link']) {\n\t\t\t\t\timgHtml = '<a href=\"' + ad['link'] + '\" target=\"_blank\">' + imgHtml + '</a>';\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = imgHtml;\n\t\t\t\tthis.addListenerInside('load',\n\t\t\t\tfunction() {\n\t\t\t\t\tvar imgObj = new Image();\n\t\t\t\t\timgObj.src = this.src;\n\t\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\t\tthisTemp.css(thisTemp.getByElement(imgClass), {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\tborder: '0px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adElement'], {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\ttop: (height - imgWH['height']) * 0.5 + 'px',\n\t\t\t\t\t\tleft: (width - imgWH['width']) * 0.5 + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.getByElement(imgClass));\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adElement']);\n\t\t\t\tif (!this.isUndefined(ad['time'])) {\n\t\t\t\t\tthis.adCountDown();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.css([this.CB['adTime'], this.CB['adTimeText']], 'display', 'block');\n\t\t\t\t//判断是否静音\n\t\t\t\tif (this.adVideoMute) {\n\t\t\t\t\tthis.css(this.CB['adEscMute'], 'display', 'block');\n\t\t\t\t\tthis.css(this.CB['adMute'], 'display', 'none');\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.CB['adEscMute'], 'display', 'none');\n\t\t\t\t\tthis.css(this.CB['adMute'], 'display', 'block');\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = '';\n\t\t\t\tif (this.videoTemp['currentSrc'] == '') {\n\t\t\t\t\tthis.videoTemp['currentSrc'] = this.getCurrentSrc();\n\t\t\t\t}\n\t\t\t\tif (this.V.loop) {\n\t\t\t\t\tthis.videoTemp['loop'] = true;\n\t\t\t\t\tthis.V.loop = false;\n\t\t\t\t}\n\t\t\t\tif (this.V != null && this.V.currentTime > 0 && this.adIsVideoTime && this.adType!='front') { //当有视频广告时而又没有记录下已播放的时间则进行记录\n\t\t\t\t\tthis.adIsVideoTime = false;\n\t\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t\t}\n\t\t\t\tthis.V.src = ad['file'];\n\t\t\t\tthis.V.currentSrc = ad['file'];\n\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\tthis.V.play();\n\t\t\t\tthis.adVideoPlay = true;\n\t\t\t\tthis.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\tif (!this.adVideoMute) {\n\t\t\t\t\tthis.escAdMute();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ad['link']) {\n\t\t\t\tthis.css(this.CB['adLink'], 'display', 'block');\n\t\t\t\tvar adLinkClick = function(event) {\n\t\t\t\t\tthisTemp.sendJS('clickEvent', 'javaScript->adLinkClick');\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', adLinkClick, this.CB['adLink']);\n\t\t\t\tthis.adLinkTemp=ad['link'];\n\t\t\t\tvar linkTemp = '<a href=\"' + ad['link'] + '\" target=\"_blank\" class=\"ckadmorelink\"><img src=\"' + this.ckStyle['png-1-1'] + '\" width=\"'+this.ckStyle['advertisement']['adLinkButton']['width']+'\" height=\"'+this.ckStyle['advertisement']['adLinkButton']['height']+'\"></a>';\n\t\t\t\tthis.CB['adLink'].innerHTML = linkTemp;\n\t\t\t\tthis.css(this.getByElement('ckadmorelink'), {\n\t\t\t\t\tcolor: '#FFFFFF',\n\t\t\t\t\ttextDecoration: 'none'\n\t\t\t\t});\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adLink']);\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['adLink'], 'display', 'none');\n\t\t\t}\n\n\t\t},\n\t\t/*普通广告倒计时*/\n\t\tadCountDown: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.adTimeTotal > 0) {\n\t\t\t\tif (!this.adIsPause) {\n\t\t\t\t\tthis.adTimeTotal--;\n\t\t\t\t\tthis.showAdTime();\n\t\t\t\t\tthis.adCountDownObj = null;\n\t\t\t\t\tthis.adCountDownObj = setTimeout(function() {\n\t\t\t\t\t\tthisTemp.adCountDown();\n\t\t\t\t\t},\n\t\t\t\t\t1000);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.adI++;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t}\n\t\t},\n\t\t/*视频广告倒计时*/\n\t\tadPlayerTimeHandler: function(time) {\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tif (this.isStrImage(type)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adTimeTotal != parseInt(time)) {\n\t\t\t\tthis.adTimeTotal = parseInt(time);\n\t\t\t\tthis.showAdTime();\n\t\t\t}\n\t\t},\n\t\t/*格式化广告倒计时显示*/\n\t\tshowAdTime: function() {\n\t\t\tthis.adTimeAllTotal--;\n\t\t\tvar n = this.adTimeAllTotal;\n\t\t\tif (n < 0) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tthis.CB['adTimeText'].innerHTML = this.ckLanguage['adCountdown'].replace('[$second]', n).replace('[$Second]', n < 10 ? '0' + n: n);\n\t\t},\n\t\t/*\n\t\t\t单独监听其它广告\n\t\t*/\n\t\tcheckAdOther: function(t) {\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar adTime = this.advertisements['othertime'];\n\t\t\tvar adPlay = this.advertisements['otherPlay'];\n\t\t\tfor (var i = 0; i < adTime.length; i++) {\n\t\t\t\tif (t >= adTime[i] && !adPlay[i]) { //如果播放时间大于广告时间而该广告还没有播放，则开始播放\n\t\t\t\t\tadPlay[i] = true;\n\t\t\t\t\tthis.newAdOther(i);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t新建其它广告 \n\t\t*/\n\t\tnewAdOther: function(i) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar ad = this.advertisements['other'][i];\n\t\t\tvar randomS = this.randomString(10); //获取一个随机字符串\n\t\t\tvar adDivID = 'adother' + randomS; //广告容器\n\t\t\timgClassName = 'adimgother' + randomS;\n\t\t\tvar adDiv = document.createElement('div');\n\t\t\tadDiv.className = adDivID;\n\t\t\tthis.PD.appendChild(adDiv);\n\t\t\tad['div'] = adDivID;\n\t\t\tad['element'] = imgClassName;\n\t\t\tvar adHtml='<img src=\"' + ad['file'] + '\" class=\"' + imgClassName + '\">';\n\t\t\tif(ad['link']){\n\t\t\t\tadHtml='<a href=\"' + ad['link'] + '\" target=\"blank\">'+adHtml+'</a>';\n\t\t\t}\n\t\t\tthis.getByElement(adDivID).innerHTML =adHtml;\n\t\t\tthis.css(adDivID, {\n\t\t\t\tposition: 'absolute',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tzIndex: '996',\n\t\t\t\ttop: '-600px',\n\t\t\t\tleft: '-600px',\n\t\t\t\tcursor: 'pointer'\n\t\t\t});\n\t\t\tif (this.ckStyle['advertisement']['closeOtherButtonShow']) {\n\t\t\t\tvar closeAdDivID = 'adotherclose-' + randomS; //广告容器\n\t\t\t\tvar closeAdDiv = document.createElement('div');\n\t\t\t\tcloseAdDiv.className = closeAdDivID;\n\t\t\t\tthis.PD.appendChild(closeAdDiv);\n\t\t\t\tad['closeDiv'] = closeAdDivID;\n\t\t\t\tad['close'] = false;\n\t\t\t\tvar closeAdDivCss=this.getEleCss(this.ckStyle['advertisement']['closeOtherButton'],{offsetX:-10000,offsetY:-10000,cursor: 'pointer',zIndex: 997});\t\t\t\t\n\t\t\t\tthis.css(closeAdDivID, closeAdDivCss);\t\t\t\n\t\t\t\tvar adOtherCloseOver = function() {\n\t\t\t\t\tthisTemp.loadImgBg(closeAdDivID,thisTemp.ckStyle['advertisement']['closeOtherButton']['mouseOver']);\n\t\t\t\t};\n\t\t\t\tvar adOtherCloseOut = function() {\n\t\t\t\t\tthisTemp.loadImgBg(closeAdDivID,thisTemp.ckStyle['advertisement']['closeOtherButton']['mouseOut']);\n\t\t\t\t};\n\t\t\t\tadOtherCloseOut();\n\t\t\t\tthis.addListenerInside('mouseover', adOtherCloseOver, this.getByElement(closeAdDivID));\n\t\t\t\tthis.addListenerInside('mouseout', adOtherCloseOut, this.getByElement(closeAdDivID));\n\t\t\t}\n\t\t\tthis.addListenerInside('load',\n\t\t\tfunction() {\n\t\t\t\tvar imgObj = new Image();\n\t\t\t\timgObj.src = this.src;\n\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\tthisTemp.css([thisTemp.getByElement(imgClassName), thisTemp.getByElement(adDivID)], {\n\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\tborder: '0px'\n\t\t\t\t});\n\t\t\t\tthisTemp.advertisements['other'][i] = ad;\n\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\tthisTemp.adOtherCoor();\n\t\t\t},\n\t\t\tthis.getByElement(imgClassName));\n\t\t\tthis.addListenerInside('click',\n\t\t\tfunction() {\n\t\t\t\tthisTemp.adOtherClose(i);\n\t\t\t},\n\t\t\tthis.getByElement(closeAdDivID));\n\t\t\tthis.addListenerInside('click',\n\t\t\tfunction() {\n\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t},\n\t\t\tthis.getByElement(imgClassName));\n\t\t\tif (ad['time'] > 0) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthisTemp.adOtherClose(i);\n\t\t\t\t},\n\t\t\t\tad['time'] * 1000);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t关闭其它广告\n\t\t*/\n\t\tadOtherClose: function(i) {\n\t\t\tvar ad = this.advertisements['other'][i];\n\t\t\tif (!this.isUndefined(ad['close'])) {\n\t\t\t\tif (!ad['close']) {\n\t\t\t\t\tad['close'] = true;\n\t\t\t\t\tthis.PD.removeChild(this.getByElement(ad['div']));\n\t\t\t\t\tthis.PD.removeChild(this.getByElement(ad['closeDiv']));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tadOtherCloseAll: function() {\n\t\t\tif (!this.isUndefined(this.advertisements['other'])) {\n\t\t\t\tvar ad = this.advertisements['other'];\n\t\t\t\tfor (var i = 0; i < ad.length; i++) {\n\t\t\t\t\tthis.adOtherClose(i);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t计算其它广告的坐标\n\t\t*/\n\t\tadOtherCoor: function() {\n\t\t\tif (!this.isUndefined(this.advertisements['other'])) {\n\t\t\t\tvar arr = this.advertisements['other'];\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tvar ad = arr[i];\n\t\t\t\t\tif (!this.isUndefined(ad['close'])) {\n\t\t\t\t\t\tif (!ad['close']) {\n\t\t\t\t\t\t\tvar rr=this.ckStyle['advertisement']['closeOtherButton'];\n\t\t\t\t\t\t\tvar coor = this.getPosition(ad);\n\t\t\t\t\t\t\tvar x = coor['x'],\n\t\t\t\t\t\t\ty = coor['y'];\n\t\t\t\t\t\t\tthis.css(this.getByElement(ad['div']), {\n\t\t\t\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\t\t\t\ttop: y + 'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tvar cxy =  this.getPosition(rr,this.getByElement(ad['div']));\n\t\t\t\t\t\t\tif (!this.isUndefined(ad['closeDiv'])) {\n\t\t\t\t\t\t\t\tthis.css(this.getByElement(ad['closeDiv']), {\n\t\t\t\t\t\t\t\t\tleft: cxy['x'] + 'px',\n\t\t\t\t\t\t\t\t\ttop: cxy['y'] + 'px'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t单独监听中间插入广告\n\t\t*/\n\t\tcheckAdInsert: function(t) {\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar adTime = this.advertisements['inserttime'];\n\t\t\tvar adPlay = this.advertisements['insertPlay'];\n\t\t\tvar duration = this.getMetaDate()['duration'];\n\t\t\tfor (var i = adTime.length - 1; i > -1; i--) {\n\t\t\t\tif (t >= adTime[i] && t < duration - 2 && t > 1 && !adPlay[i]) { //如果播放时间大于广告时间而该广告还没有播放，则开始播放\n\t\t\t\t\tthis.adI = 0;\n\t\t\t\t\tthis.adType = 'insert';\n\t\t\t\t\tthis.adMuteInto();\n\t\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\t\tthis.adPlayStart = true;\n\t\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\t\tthis.videoPause();\n\t\t\t\t\tthis.advertisementsTime();\n\t\t\t\t\tthis.advertisementsPlay();\n\t\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\t\tadPlay[i] = true;\n\t\t\t\t\tfor (var n = 0; n < i + 1; n++) {\n\t\t\t\t\t\tadPlay[n] = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*格式化中间插入广告的播放时间*/\n\t\tformatInserttime: function(duration) {\n\t\t\tif (!this.isUndefined(this.advertisements['inserttime'])) {\n\t\t\t\tvar arr = this.advertisements['inserttime'];\n\t\t\t\tvar newArr = [];\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i].toString().substr( - 1) == '%') {\n\t\t\t\t\t\tnewArr.push(parseInt(duration * parseInt(arr[i]) * 0.01));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewArr.push(parseInt(arr[i]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.advertisements['inserttime'] = newArr;\n\t\t\t}\n\t\t},\n\t\t/*获取当前的广告*/\n\t\tgetNowAdvertisements: function() {\n\t\t\tif (this.adI == -1) {\n\t\t\t\treturn {\n\t\t\t\t\tfile: '',\n\t\t\t\t\ttime: 0,\n\t\t\t\t\tlink: ''\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn this.advertisements[this.adType][this.adI];\n\t\t},\n\t\t/*根据元件尺寸和播放器尺寸调整大小*/\n\t\tadjustmentWH: function(w, h) {\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tvar nw = 0,\n\t\t\tnh = 0;\n\t\t\tif (w >= width || h >= height) {\n\t\t\t\tif (width / w > height / h) {\n\t\t\t\t\tnh = height - 20;\n\t\t\t\t\tnw = w * nh / h;\n\t\t\t\t} else {\n\t\t\t\t\tnw = width - 20;\n\t\t\t\t\tnh = h * nw / w;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnw = w;\n\t\t\t\tnh = h;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\twidth: nw,\n\t\t\t\theight: nh\n\t\t\t}\n\t\t},\n\t\t/*单独请求一次地址，但不处理返回的数据*/\n\t\tajaxSuccessNull: function(url) {\n\t\t\tif (!this.isUndefined(url)) {\n\t\t\t\tvar ajaxObj = {\n\t\t\t\t\turl: url,\n\t\t\t\t\tsuccess: function(data) {}\n\t\t\t\t};\n\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t运行指定函数\n\t\t*/\n\t\trunFunction: function(s) {\n\t\t\ttry {\n\t\t\t\tvar arr = s.split('->');\n\t\t\t\tif(arr.length==2){\n\t\t\t\t\tswitch (arr[0]) {\n\t\t\t\t\t\tcase 'javaScript':\n\t\t\t\t\t\t\tif(arr[1].substr(0,11)!='[flashvars]'){\n\t\t\t\t\t\t\t\teval(arr[1] + '()');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\teval(this.vars[arr[1].substr(11)] + '()');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'actionScript':\n\t\t\t\t\t\t\teval('this.' + arr[1] + '()');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.sendJS('clickEvent', s);\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t使用画布附加视频\n\t\t*/\n\t\tsendVCanvas: function() {\n\t\t\tif (this.timerVCanvas == null) {\n\t\t\t\tthis.css(this.V, 'display', 'none');\n\t\t\t\tthis.css(this.MD, 'display', 'block');\n\t\t\t\tvar thisTemp = this;\n\t\t\t\tvar videoCanvas = function() {\n\t\t\t\t\tif (thisTemp.MDCX.width != thisTemp.MD.offsetWidth) {\n\t\t\t\t\t\tthisTemp.MDC.width = thisTemp.MD.offsetWidth;\n\t\t\t\t\t}\n\t\t\t\t\tif (thisTemp.MDCX.height != thisTemp.MD.offsetHeight) {\n\t\t\t\t\t\tthisTemp.MDC.height = thisTemp.MD.offsetHeight;\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.MDCX.clearRect(0, 0, thisTemp.MDCX.width, thisTemp.MDCX.height);\n\t\t\t\t\tvar coor = thisTemp.getProportionCoor(thisTemp.PD.offsetWidth, thisTemp.PD.offsetHeight, thisTemp.V.videoWidth, thisTemp.V.videoHeight);\n\t\t\t\t\tthisTemp.MDCX.drawImage(thisTemp.V, 0, 0, thisTemp.V.videoWidth, thisTemp.V.videoHeight, coor['x'], coor['y'], coor['width'], coor['height']);\n\t\t\t\t};\n\t\t\t\tthis.timerVCanvas = new this.timer(0, videoCanvas);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听暂停\n\t\t*/\n\t\tpauseHandler: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.playShow(false);\n\t\t\tif (this.animatePauseArray.length > 0) {\n\t\t\t\tthis.animatePause('pause');\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video' && this.V != null && this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\tthis.stopVCanvas();\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['pause']) && !this.adPlayStart && !this.adPauseShow) { //如果存在暂停广告\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['pause']) && !thisTemp.adPlayStart && !thisTemp.adPauseShow && thisTemp.time > 1) { //如果存在暂停广告\n\t\t\t\t\t\tthisTemp.adPausePlayer();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t300);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t停止画布\n\t\t*/\n\t\tstopVCanvas: function() {\n\t\t\tif (this.timerVCanvas != null) {\n\t\t\t\tthis.css(this.V, 'display', 'block');\n\t\t\t\tthis.css(this.MD, 'display', 'none');\n\t\t\t\tif (this.timerVCanvas.runing) {\n\t\t\t\t\tthis.timerVCanvas.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerVCanvas = null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据当前播放还是暂停确认图标显示\n\t\t*/\n\t\tplayShow: function(b) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (b) {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'block');\n\t\t\t\tif (this.css(this.CB['errorText'], 'display') == 'none') {\n\t\t\t\t\tif (!this.adPlayerPlay) {\n\t\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'block');\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'none');\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'none');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听seek结束\n\t\t*/\n\t\tseekedHandler: function() {\n\t\t\tthis.resetTrack();\n\t\t\tthis.isTimeButtonMove = true;\n\t\t\tif (this.V.paused) {\n\t\t\t\tif(this.hlsAutoPlay){\n\t\t\t\t\tthis.videoPlay();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.hlsAutoPlay=true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放结束\n\t\t*/\n\t\tendedHandler: function() {\n\t\t\tthis.sendJS('ended');\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adI++;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.endAdPlay && !this.isUndefined(this.advertisements['end'])) {\n\t\t\t\tthis.endAdPlay = true;\n\t\t\t\tthis.adI = 0;\n\t\t\t\tthis.adType = 'end';\n\t\t\t\tthis.adMuteInto();\n\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\tthis.adPlayStart = true;\n\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\tthis.videoPause();\n\t\t\t\tthis.advertisementsTime();\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\tthis.adReset = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.endedAdReset();\n\t\t\tif (this.vars['loop']) {\n\t\t\t\tthis.videoSeek(0);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t重置结束后相关的设置\n\t\t*/\n\t\tendedAdReset: function() {\n\t\t\tvar arr = [];\n\t\t\tvar i = 0;\n\t\t\tif (!this.isUndefined(this.advertisements['insertPlay'])) {\n\t\t\t\tarr = this.advertisements['insertPlay'];\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tthis.advertisements['insertPlay'][i] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['otherPlay'])) {\n\t\t\t\tarr = this.advertisements['otherPlay'];\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tthis.advertisements['otherPlay'][i] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//this.endAdPlay=false;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听音量改变\n\t\t*/\n\t\tvolumechangeHandler: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ((this.ckConfig['config']['mobileVolumeBarShow'] || !this.isMobile()) && this.css(this.CB['volume'], 'display') != 'none') {\n\t\t\t\ttry {\n\t\t\t\t\tvar volume=this.volume || this.V.volume;\n\t\t\t\t\tif (volume > 0) {\n\t\t\t\t\t\tthis.css(this.CB['mute'], 'display', 'block');\n\t\t\t\t\t\tthis.css(this.CB['escMute'], 'display', 'none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.css(this.CB['mute'], 'display', 'none');\n\t\t\t\t\t\tthis.css(this.CB['escMute'], 'display', 'block');\n\t\t\t\t\t}\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放时间调节进度条\n\t\t*/\n\t\ttimeUpdateHandler: function() {\n\t\t\tvar duration = 0;\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\ttry {\n\t\t\t\t\tduration = this.V.duration;\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tif (duration > 0) {\n\t\t\t\tthis.time = this.V.currentTime;\n\t\t\t\tthis.timeTextHandler();\n\t\t\t\tthis.trackShowHandler();\n\t\t\t\tif (this.isTimeButtonMove) {\n\t\t\t\t\tthis.timeProgress(this.time, duration);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t改变控制栏坐标\n\t\t*/\n\t\tcontrolBar:function(){\n\t\t\t//控制栏背景\n\t\t\tvar cb=this.ckStyle['controlBar'];\n\t\t\tvar cssObjTemp={\n\t\t\t\talign:cb['align'],\n\t\t\t\tvAlign:cb['vAlign'],\n\t\t\t\twidth:cb['width'],\n\t\t\t\theight:cb['height'],\n\t\t\t\toffsetX:cb['offsetX'],\n\t\t\t\toffsetY:cb['offsetY']\n\t\t\t\t\n\t\t\t};\n\t\t\tvar bgCss={\n\t\t\t\tbackgroundColor:cb['background']['backgroundColor'],\n\t\t\t\tbackgroundImg:cb['background']['backgroundImg'],\n\t\t\t\talpha:cb['background']['alpha']\n\t\t\t};\n\t\t\tvar cssTemp=this.getEleCss(this.objectAssign(cssObjTemp,bgCss),{zIndex:888});\n\t\t\tthis.css(this.CB['controlBarBg'], cssTemp);\n\t\t\t//控制栏容器\n\t\t\tcssTemp=this.getEleCss(cssObjTemp,{zIndex:889});\n\t\t\tthis.css(this.CB['controlBar'], cssTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t按时间改变进度条\n\t\t*/\n\t\ttimeProgress: function(time, duration) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar timeProgressBgW = this.CB['timeProgressBg'].offsetWidth;\n\t\t\tvar timeBOW = parseInt((time * timeProgressBgW / duration) - (this.CB['timeButton'].offsetWidth * 0.5));\n\t\t\tif (timeBOW > timeProgressBgW - this.CB['timeButton'].offsetWidth) {\n\t\t\t\ttimeBOW = timeProgressBgW - this.CB['timeButton'].offsetWidth;\n\t\t\t}\n\t\t\tif (timeBOW < 0) {\n\t\t\t\ttimeBOW = 0;\n\t\t\t}\n\t\t\tthis.css(this.CB['timeProgress'], 'width', timeBOW + 'px');\n\t\t\tthis.css(this.CB['timeButton'], 'left', parseInt(timeBOW) + 'px');\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放时间改变时间显示文本框\n\t\t*/\n\t\ttimeTextHandler: function() { //显示时间/总时间\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar duration = this.V.duration;\n\t\t\tvar time = this.V.currentTime;\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tthis.CB['timeText'].innerHTML = this.formatTime(time,duration,this.ckLanguage['vod']);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听是否是缓冲状态\n\t\t*/\n\t\tbufferEdHandler: function() {\n\t\t\tif (!this.conBarShow || this.playerType == 'flashplayer') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar clearTimerBuffer = function() {\n\t\t\t\tif (thisTemp.timerBuffer != null) {\n\t\t\t\t\tif (thisTemp.timerBuffer.runing) {\n\t\t\t\t\t\tthisTemp.sendJS('buffer', 100);\n\t\t\t\t\t\tthisTemp.timerBuffer.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerBuffer = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tclearTimerBuffer();\n\t\t\tvar bufferFun = function() {\n\t\t\t\tif (!thisTemp.isUndefined(thisTemp.V) && thisTemp.V.buffered.length > 0) {\n\t\t\t\t\tvar duration = thisTemp.V.duration;\n\t\t\t\t\tvar len = thisTemp.V.buffered.length;\n\t\t\t\t\tvar bufferStart = thisTemp.V.buffered.start(len - 1);\n\t\t\t\t\tvar bufferEnd = thisTemp.V.buffered.end(len - 1);\n\t\t\t\t\tvar loadTime = bufferStart + bufferEnd;\n\t\t\t\t\tvar loadProgressBgW = thisTemp.CB['timeProgressBg'].offsetWidth;\n\t\t\t\t\tvar timeButtonW = thisTemp.CB['timeButton'].offsetWidth;\n\t\t\t\t\tvar loadW = parseInt((loadTime * loadProgressBgW / duration) + timeButtonW);\n\t\t\t\t\tif (loadW >= loadProgressBgW) {\n\t\t\t\t\t\tloadW = loadProgressBgW;\n\t\t\t\t\t\tclearTimerBuffer();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.changeLoad(loadTime);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerBuffer = new this.timer(200, bufferFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t单独计算加载进度\n\t\t*/\n\t\tchangeLoad: function(loadTime) {\n\t\t\tif (this.V == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar loadProgressBgW = this.CB['timeProgressBg'].offsetWidth;\n\t\t\tvar timeButtonW = this.CB['timeButton'].offsetWidth;\n\t\t\tvar duration = this.V.duration;\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tif (this.isUndefined(loadTime)) {\n\t\t\t\tloadTime = this.loadTime;\n\t\t\t} else {\n\t\t\t\tthis.loadTime = loadTime;\n\t\t\t}\n\t\t\tvar loadW = parseInt((loadTime * loadProgressBgW / duration) + timeButtonW);\n\t\t\tthis.css(this.CB['loadProgress'], 'width', loadW + 'px');\n\t\t\tthis.sendJS('loadTime',loadTime);\n\t\t\tthis.loadTimeTemp=loadTime;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否是直播\n\t\t*/\n\t\tjudgeIsLive: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.timerError != null) {\n\t\t\t\tif (this.timerError.runing) {\n\t\t\t\t\tthis.timerError.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerError = null;\n\t\t\t}\n\t\t\tthis.error = false;\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.css(this.CB['errorText'], 'display', 'none');\n\t\t\t}\n\t\t\tvar timeupdate = function(event) {\n\t\t\t\tthisTemp.timeUpdateHandler();\n\t\t\t};\n\t\t\tif (!this.vars['live']) {\n\t\t\t\tif (this.V != null && this.playerType == 'html5video') {\n\t\t\t\t\tthis.addListenerInside('timeupdate', timeupdate);\n\t\t\t\t\tthisTemp.timeTextHandler();\n\t\t\t\t\tthisTemp.prompt(); //添加提示点\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tthisTemp.bufferEdHandler();\n\t\t\t\t\t},\n\t\t\t\t\t200);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('timeupdate', timeupdate);\n\t\t\t\tif (this.timerTime != null) {\n\t\t\t\t\twindow.clearInterval(this.timerTime);\n\t\t\t\t\ttimerTime = null;\n\t\t\t\t}\n\t\t\t\tif (this.timerTime != null) {\n\t\t\t\t\tif (this.timerTime.runing) {\n\t\t\t\t\t\tthis.timerTime.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthis.timerTime = null;\n\t\t\t\t}\n\t\t\t\tvar timeFun = function() {\n\t\t\t\t\tif (thisTemp.V != null && !thisTemp.V.paused && thisTemp.conBarShow) {\n\t\t\t\t\t\tthisTemp.CB['timeText'].innerHTML = thisTemp.formatTime(0,0,thisTemp.ckLanguage['live']); //时间显示框默认显示内容\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.timerTime = new this.timer(1000, timeFun);\n\t\t\t\t//timerTime.start();\n\t\t\t}\n\t\t\tthis.definition();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载字幕\n\t\t*/\n\t\tloadTrack: function(def) {\n\t\t\tif (this.playerType == 'flashplayer' || this.vars['flashplayer'] == true) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(def)){\n\t\t\t\tdef=-1;\n\t\t\t}\n\t\t\tvar track = this.vars['cktrack'];\n\t\t\tvar loadTrackUrl='';\n\t\t\tvar type=this.varType(track);\n\t\t\tvar thisTemp = this;\n\t\t\tif(type=='array'){\n\t\t\t\tif(def==-1){\n\t\t\t\t\tvar index=0;\n\t\t\t\t\tvar indexN=0;\n\t\t\t\t\tfor(var i=0;i<track.length;i++){\n\t\t\t\t\t\tvar li=track[i];\n\t\t\t\t\t\tif(li.length==3 && li[2]>indexN){\n\t\t\t\t\t\t\tindexN=li[2];\n\t\t\t\t\t\t\tindex=i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tindex=def;\n\t\t\t\t}\n\t\t\t\tloadTrackUrl=track[index][0];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tloadTrackUrl=track;\n\t\t\t}\n\t\t\tvar obj = {\n\t\t\t\tmethod: 'get',\n\t\t\t\tdataType: 'text',\n\t\t\t\turl: loadTrackUrl,\n\t\t\t\tcharset: 'utf-8',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tif(data){\n\t\t\t\t\t\tthisTemp.track = thisTemp.parseSrtSubtitles(data);\n\t\t\t\t\t\tthisTemp.trackIndex = 0;\n\t\t\t\t\t\tthisTemp.nowTrackShow = {\n\t\t\t\t\t\t\tsn: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.ajax(obj);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重置字幕\n\t\t*/\n\t\tresetTrack: function() {\n\t\t\tthis.trackIndex = 0;\n\t\t\tthis.nowTrackShow = {\n\t\t\t\tsn: ''\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据时间改变读取显示字幕\n\t\t*/\n\t\ttrackShowHandler: function() {\n\t\t\tif (!this.conBarShow || this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.track.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.trackIndex >= this.track.length) {\n\t\t\t\tthis.trackIndex = 0;\n\t\t\t}\n\t\t\tvar nowTrack = this.track[this.trackIndex]; //当前编号对应的字幕内容\n\t\t\t/*\n\t\t\t\tthis.nowTrackShow=当前显示在界面上的内容\n\t\t\t\t如果当前时间正好在nowTrack时间内，则需要判断\n\t\t\t*/\n\t\t\tif (this.time >= nowTrack['startTime'] && this.time <= nowTrack['endTime']) {\n\t\t\t\t/*\n\t\t\t\t \t如果当前显示的内容不等于当前需要显示的内容时，则需要显示正确的内容\n\t\t\t\t*/\n\t\t\t\tvar nowShow = this.nowTrackShow;\n\t\t\t\tif (nowShow['sn'] != nowTrack['sn']) {\n\t\t\t\t\tthis.trackHide();\n\t\t\t\t\tthis.trackShow(nowTrack);\n\t\t\t\t\tthis.nowTrackTemp=nowTrack;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/*\n\t\t\t\t  如果当前播放时间不在当前编号字幕内，则需要先清空当前的字幕内容，再显示新的字幕内容\n\t\t\t\t*/\n\t\t\t\tthis.trackHide();\n\t\t\t\tthis.checkTrack();\n\t\t\t}\n\t\t},\n\t\ttrackShowAgain:function(){\n\t\t\tthis.trackHide();\n\t\t\tthis.trackShow(this.nowTrackTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示字幕内容\n\t\t*/\n\t\ttrackShow: function(track) {\n\t\t\tthis.nowTrackShow = track;\n\t\t\tvar arr = track['content'];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar obj = {\n\t\t\t\t\tlist: [{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\ttext: arr[i],\n\t\t\t\t\t\tcolor: this.ckStyle['cktrack']['color'],\n\t\t\t\t\t\tsize: this.ckStyle['cktrack']['size'],\n\t\t\t\t\t\tfontFamily: this.ckStyle['cktrack']['font'],\n\t\t\t\t\t\tlineHeight: this.ckStyle['cktrack']['leading']+'px'\n\t\t\t\t\t}],\n\t\t\t\t\tposition: [1, 2, null, -(arr.length - i) * this.ckStyle['cktrack']['leading'] - this.ckStyle['cktrack']['marginBottom']]\n\t\t\t\t};\n\t\t\t\tvar ele = this.addElement(obj);\n\t\t\t\tthis.trackElement.push(ele);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t隐藏字幕内容\n\t\t*/\n\t\ttrackHide: function() {\n\t\t\tfor (var i = 0; i < this.trackElement.length; i++) {\n\t\t\t\tthis.deleteElement(this.trackElement[i]);\n\t\t\t}\n\t\t\tthis.trackElement = [];\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重新计算字幕的编号\n\t\t*/\n\t\tcheckTrack: function() {\n\t\t\tvar num = this.trackIndex;\n\t\t\tvar arr = this.track;\n\t\t\tvar i = 0;\n\t\t\tfor (i = num; i < arr.length; i++) {\n\t\t\t\tif (this.time >= arr[i]['startTime'] && this.time <= arr[i]['endTime']) {\n\t\t\t\t\tthis.trackIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t-----------------------------------------------------------------------------接口函数开始\n\t\t\t接口函数\n\t\t\t在播放和暂停之间切换\n\t\t*/\n\t\tplayOrPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.playOrPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V.paused) {\n\t\t\t\tthis.videoPlay();\n\t\t\t} else {\n\t\t\t\tthis.videoPause();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t播放动作\n\t\t*/\n\t\tvideoPlay: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.eliminateAd(); //清除广告\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (this.V.currentSrc) {\n\t\t\t\t\tthis.V.play();\n\t\t\t\t}\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t暂停动作\n\t\t*/\n\t\tvideoPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.V.pause();\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t跳转时间动作\n\t\t*/\n\t\tvideoSeek: function(time) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoSeek(time);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar duration = this.V.duration>0.2?this.V.duration:this.getMetaDate()['duration'];\n\t\t\tif (duration > 0 && time > duration) {\n\t\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\t\ttime=0;\n\t\t\t\t\tthis.sendJS('ended');\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ttime = duration-0.1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (time >= 0) {\n\t\t\t\tthis.V.currentTime = time;\n\t\t\t\tthis.sendJS('seekTime', time);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t调节音量/获取音量\n\t\t*/\n\t\tchangeVolume: function(vol, bg, button) {\t\t\t\n\t\t\tif (this.loaded) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tthis.V.changeVolume(vol);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isNaN(vol) || this.isUndefined(vol)) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (!this.loaded) {\n\t\t\t\tthis.vars['volume'] = vol;\n\t\t\t}\n\t\t\tif (!this.html5Video) {\n\t\t\t\tthis.V.changeVolume(vol);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (this.isUndefined(bg)) {\n\t\t\t\t\tbg = true;\n\t\t\t\t}\n\t\t\t} catch(e) {}\n\t\t\ttry {\n\t\t\t\tif (this.isUndefined(button)) {\n\t\t\t\t\tbutton = true;\n\t\t\t\t}\n\t\t\t} catch(e) {}\n\t\t\tif (!vol) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (vol < 0) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (vol > 1) {\n\t\t\t\tvol = 1;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.V.volume = vol;\n\t\t\t} catch(error) {}\n\t\t\tthis.volume = vol;\n\t\t\tif (bg && this.conBarShow) {\n\t\t\t\tvar bgW = vol * this.CB['volumeBg'].offsetWidth;\n\t\t\t\tif (bgW < 0) {\n\t\t\t\t\tbgW = 0;\n\t\t\t\t}\n\t\t\t\tif (bgW > this.CB['volumeBg'].offsetWidth) {\n\t\t\t\t\tbgW = this.CB['volumeBg'].offsetWidth;\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['volumeUp'], 'width', bgW + 'px');\n\t\t\t}\n\n\t\t\tif (button && this.conBarShow) {\n\t\t\t\tvar buLeft = parseInt(this.CB['volumeUp'].offsetWidth - (this.CB['volumeBO'].offsetWidth * 0.5));\n\t\t\t\tif (buLeft > this.CB['volumeBg'].offsetWidth - this.CB['volumeBO'].offsetWidth) {\n\t\t\t\t\tbuLeft = this.CB['volumeBg'].offsetWidth - this.CB['volumeBO'].offsetWidth\n\t\t\t\t}\n\t\t\t\tif (buLeft < 0) {\n\t\t\t\t\tbuLeft = 0;\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['volumeBO'], 'left', buLeft + 'px');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t静音\n\t\t*/\n\t\tvideoMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoMute();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.volumeTemp = this.V ? (this.V.volume > 0 ? this.V.volume: this.vars['volume']) : this.vars['volume'];\n\t\t\tthis.changeVolume(0);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t取消静音\n\t\t*/\n\t\tvideoEscMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoEscMute();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.changeVolume(this.volumeTemp > 0 ? this.volumeTemp: this.vars['volume']);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t视频广告静音\n\t\t*/\n\t\tadMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.changeVolume(0);\n\t\t\tthis.adVideoMute = true;\n\t\t\tthis.css(this.CB['adEscMute'], 'display', 'block');\n\t\t\tthis.css(this.CB['adMute'], 'display', 'none');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t视频广告取消静音\n\t\t*/\n\t\tescAdMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar v = this.ckStyle['advertisement']['videoVolume'];\n\t\t\tthis.changeVolume(v);\n\t\t\tthis.adMuteInto();\n\t\t},\n\t\t/*\n\t\t \t初始化广告的音量按钮\n\t\t*/\n\t\tadMuteInto: function() {\n\t\t\tthis.adVideoMute = false;\n\t\t\tthis.css(this.CB['adEscMute'], 'display', 'none');\n\t\t\tthis.css(this.CB['adMute'], 'display', 'block');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t快退\n\t\t*/\n\t\tfastBack: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.fastBack();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = this.time - this.ckConfig['config']['timeJump'];\n\t\t\tif (time < 0) {\n\t\t\t\ttime = 0;\n\t\t\t}\n\t\t\tthis.videoSeek(time);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t快进\n\t\t*/\n\t\tfastNext: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.fastNext();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = this.time + this.ckConfig['config']['timeJump'];\n\t\t\tif (time > this.V.duration) {\n\t\t\t\ttime = this.V.duration;\n\t\t\t}\n\t\t\tthis.videoSeek(time);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t获取当前播放的地址\n\t\t*/\n\t\tgetCurrentSrc: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getCurrentSrc();\n\t\t\t}\n\t\t\treturn this.V.currentSrc;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t全屏/退出全屏动作，该动作只能是用户操作才可以触发，比如用户点击按钮触发该事件\n\t\t*/\n\t\tswitchFull: function() {\n\t\t\tif (this.full) {\n\t\t\t\tthis.quitFullScreen();\n\t\t\t} else {\n\t\t\t\tthis.fullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t全屏动作，该动作只能是用户操作才可以触发，比如用户点击按钮触发该事件\n\t\t*/\n\t\tfullScreen: function() {\n\t\t\tif (this.html5Video && this.playerType == 'html5video') {\n\t\t\t\tvar element = this.PD;\n\t\t\t\tif (element.requestFullscreen) {\n\t\t\t\t\telement.requestFullscreen();\n\t\t\t\t} else if (element.mozRequestFullScreen) {\n\t\t\t\t\telement.mozRequestFullScreen();\n\t\t\t\t} else if (element.webkitRequestFullscreen) {\n\t\t\t\t\telement.webkitRequestFullscreen();\n\t\t\t\t} else if (element.msRequestFullscreen) {\n\t\t\t\t\telement.msRequestFullscreen();\n\t\t\t\t} else if (element.oRequestFullscreen) {\n\t\t\t\t\telement.oRequestFullscreen();\n\t\t\t\t}\n\t\t\t\tthis.judgeFullScreen();\n\t\t\t} else {\n\t\t\t\t//this.V.fullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t退出全屏动作\n\t\t*/\n\t\tquitFullScreen: function() {\n\t\t\tif (this.html5Video && this.playerType == 'html5video') {\n\t\t\t\tif (document.exitFullscreen) {\n\t\t\t\t\tdocument.exitFullscreen();\n\t\t\t\t} else if (document.msExitFullscreen) {\n\t\t\t\t\tdocument.msExitFullscreen();\n\t\t\t\t} else if (document.mozCancelFullScreen) {\n\t\t\t\t\tdocument.mozCancelFullScreen();\n\t\t\t\t} else if (document.oRequestFullscreen) {\n\t\t\t\t\tdocument.oCancelFullScreen();\n\t\t\t\t} else if (document.requestFullscreen) {\n\t\t\t\t\tdocument.requestFullscreen();\n\t\t\t\t} else if (document.webkitExitFullscreen) {\n\t\t\t\t\tdocument.webkitExitFullscreen();\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(document.documentElement, 'cssText', '');\n\t\t\t\t\tthis.css(document.document.body, 'cssText', '');\n\t\t\t\t\tthis.css(this.PD, 'cssText', '');\n\t\t\t\t}\n\t\t\t\tthis.judgeFullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t 下面列出只有flashplayer里支持的 \n\t\t */\n\t\tvideoRotation: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoRotation(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(n)) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tvar tf = this.css(this.V, 'transform');\n\t\t\tif (this.isUndefined(tf) && !tf) {\n\t\t\t\ttf = 'rotate(0deg)';\n\t\t\t}\n\t\t\tvar reg = tf.match(/rotate\\([^)]+\\)/);\n\t\t\treg = reg ? reg[0].replace('rotate(', '').replace('deg)', '') : '';\n\t\t\tif (reg == '') {\n\t\t\t\treg = 0;\n\t\t\t} else {\n\t\t\t\treg = parseInt(reg);\n\t\t\t}\n\t\t\tif (n == -1) {\n\t\t\t\treg -= 90;\n\t\t\t} else if (n == 1) {\n\t\t\t\treg += 90;\n\t\t\t} else {\n\t\t\t\tif (n != 90 && n != 180 && n != 270 && n != -90 && n != -180 && n != -270) {\n\t\t\t\t\treg = 0;\n\t\t\t\t} else {\n\t\t\t\t\treg = n;\n\t\t\t\t}\n\t\t\t}\n\t\t\tn = reg;\n\t\t\tvar y90 = n % 90,\n\t\t\ty180 = n % 180,\n\t\t\ty270 = n % 270;\n\t\t\tvar ys = false;\n\t\t\tif (y90 == 0 && y180 == 90 && y270 == 90) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == 0 && y180 == 90 && y270 == 0) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == -0 && y180 == -90 && y270 == -90) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == -0 && y180 == -90 && y270 == -0) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\ttf = tf.replace(/rotate\\([^)]+\\)/, '').replace(/scale\\([^)]+\\)/, '') + ' rotate(' + n + 'deg)';\n\t\t\tvar cdW = this.CD.offsetWidth,\n\t\t\tcdH = this.CD.offsetHeight,\n\t\t\tvW = this.V.videoWidth,\n\t\t\tvH = this.V.videoHeight;\n\t\t\tif (vW > 0 && vH > 0) {\n\t\t\t\tif (ys) {\n\t\t\t\t\tif (cdW / cdH > vH / vW) {\n\t\t\t\t\t\tnH = cdH;\n\t\t\t\t\t\tnW = vH * nH / vW;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnW = cdW;\n\t\t\t\t\t\tnH = vW * nW / vH;\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(this.V, 'transform', 'rotate(0deg)');\n\t\t\t\t\tthis.css(this.V, 'transform', 'scale(' + nH / cdW + ',' + nW / cdH + ')' + tf);\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\t}\n\t\t\treturn;\n\t\t},\n\t\tvideoBrightness: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoBrightness(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoContrast: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoContrast(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoSaturation: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoSaturation(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoHue: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoHue(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoZoom: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoZoom(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(n)) {\n\t\t\t\tn = 1;\n\t\t\t}\n\t\t\tif (n < 0) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tif (n > 2) {\n\t\t\t\tn = 2;\n\t\t\t}\n\t\t\tvar tf = this.css(this.V, 'transform');\n\t\t\ttf = tf.replace(/scale\\([^)]+\\)/, '') + ' scale(' + n + ')';\n\t\t\tthis.videoScale = n;\n\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\treturn;\n\t\t},\n\t\tvideoProportion: function(w, h) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoProportion(w, h);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tadPlay: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.adPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adIsPause = false;\n\t\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\t\tvar type = ad['type'];\n\t\t\t\tif (this.isStrImage(type)) {\n\t\t\t\t\tthis.adCountDown();\n\t\t\t\t} else {\n\t\t\t\t\tthis.V.play();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tadPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.adPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adIsPause = true;\n\t\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\t\tvar type = ad['type'];\n\t\t\t\tif (type != 'jpg' && type != 'jpeg' && type != 'png' && type != 'svg' && type != 'gif') {\n\t\t\t\t\tthis.videoPause();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tvideoError: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoError(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tchangeConfig: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\tswitch(args.length){\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tthis.V.changeConfig(args[0]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 7:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar obj = this.ckConfig;\n\t\t\tvar arg = arguments;\n\t\t\tfor (var i = 0; i < arg.length - 1; i++) {\n\t\t\t\tif (obj.hasOwnProperty(arg[i])) {\n\t\t\t\t\tobj = obj[arg[i]];\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar val = arg[arg.length - 1];\n\t\t\tswitch (arg.length) {\n\t\t\t\tcase 2:\n\t\t\t\t\tthis.ckConfig[arg[0]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 7:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 9:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]][arg[7]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 10:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]][arg[7]][arg[8]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.sendJS('configChange', this.ckConfig);\n\t\t},\n\t\tcustom: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.custom(arguments);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(arguments)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar type='',name='',display='';\n\t\t\tif(arguments.length==4){//控制栏\n\t\t\t\ttype='controlBar-'+arguments[1];\n\t\t\t\tname=arguments[2];\n\t\t\t\tdisplay=arguments[3]?'block':'none';\n\t\t\t}\n\t\t\telse if(arguments.length==3){//播放器\n\t\t\t\ttype='player-'+arguments[0];\n\t\t\t\tname=arguments[1];\n\t\t\t\tdisplay=arguments[2]?'block':'none';\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor(var k in this.customeElement){\n\t\t\t\tvar obj=this.customeElement[k];\n\t\t\t\tif(obj['type']==type && obj['name']==name){\n\t\t\t\t\tthis.css(obj['ele'],'display',display);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetConfig: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getConfig(arguments);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar temp=this.ckConfig;\n\t\t\t\tfor(var index in arguments) {  \n\t\t\t        try{\n\t\t\t        \ttemp=temp[arguments[index]];\n\t\t\t        }\n\t\t\t        catch(error){\n\t\t\t        \ttemp=null;\n\t\t\t        }\n\t\t\t    }; \n\t\t\t\treturn temp;\n\t\t\t}\n\t\t},\n\t\topenUrl: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.openUrl(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t清除视频\n\t\t*/\n\t\tvideoClear: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoClear();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.V.innerHTML='';\n\t\t\tthis.V.src='';\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t向播放器传递新的视频地址\n\t\t*/\n\t\tnewVideo: function(c) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.newVideo(c);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.embed(c);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t截图\n\t\t*/\n\t\tscreenshot: function(obj, save, name) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.screenshot(obj, save, name);\n\t\t\t\t} catch(error) {\n\t\t\t\t\tthis.log(error);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (obj == 'video') {\n\t\t\t\tvar newCanvas = document.createElement('canvas');\n\t\t\t\tnewCanvas.width = this.V.videoWidth;\n\t\t\t\tnewCanvas.height = this.V.videoHeight;\n\t\t\t\tnewCanvas.getContext('2d').drawImage(this.V, 0, 0, this.V.videoWidth, this.V.videoHeight);\n\t\t\t\ttry {\n\t\t\t\t\tvar base64 = newCanvas.toDataURL('image/jpeg');\n\t\t\t\t\tthis.sendJS('screenshot', {\n\t\t\t\t\t\tobject: obj,\n\t\t\t\t\t\tsave: save,\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tbase64: base64\n\t\t\t\t\t});\n\t\t\t\t} catch(error) {\n\t\t\t\t\tthis.log(error);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t改变播放器尺寸\n\t\t*/\n\t\tchangeSize: function(w, h) {\n\t\t\tif (this.isUndefined(w)) {\n\t\t\t\tw = 0;\n\t\t\t}\n\t\t\tif (this.isUndefined(h)) {\n\t\t\t\th = 0;\n\t\t\t}\n\t\t\tif (w > 0) {\n\t\t\t\tthis.css(this.CD, 'width', w + 'px');\n\t\t\t}\n\t\t\tif (h > 0) {\n\t\t\t\tthis.css(this.CD, 'height', h + 'px');\n\t\t\t}\n\t\t\tif (this.html5Video) {\n\t\t\t\tthis.playerResize();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t重置播放器界面\n\t\t*/\n\t\tplayerResize:function(){\n\t\t\tthis.controlBar();//控制栏按钮\n\t\t\tthis.elementCoordinate();\n\t\t\tthis.carbarButton();\n\t\t\tthis.customCoor();//自定义元件的位置重置\n\t\t\tthis.timeProgressDefault();//进度条默认样式\n\t\t\tthis.videoCss();//计算video的宽高和位置\n\t\t\tthis.timeUpdateHandler();//修改进度条样式\n\t\t\tthis.changeElementCoor(); //修改新加元件的坐标\n\t\t\tthis.changePrompt();//重置提示点\n\t\t\tthis.advertisementStyle();//广告控制样式\n\t\t\tthis.adPauseCoor();\n\t\t\tthis.adOtherCoor();\n\t\t\tthis.changeLoad();\n\t\t\tthis.sendJS('resize');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t改变视频播放速度\n\t\t*/\n\t\tchangePlaybackRate: function(n) {\n\t\t\tif (this.html5Video) {\n\t\t\t\tvar arr = this.playbackRateArr;\n\t\t\t\tn = parseInt(n);\n\t\t\t\tif (n < arr.length) {\n\t\t\t\t\tthis.newPlaybackrate(arr[n][1]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册控制控制栏显示与隐藏函数\n\t\t*/\n\t\tchangeControlBarShow: function(show) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeControlBarShow(show);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (show) {\n\t\t\t\tthis.controlBarIsShow = true;\n\t\t\t\tthis.controlBarHide(false);\n\t\t\t} else {\n\t\t\t\tthis.controlBarIsShow = false;\n\t\t\t\tthis.controlBarHide(true);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t-----------------------------------------------------------------------\n\t\t\t调用flashplayer\n\t\t*/\n\t\tembedSWF: function() {\n\t\t\tvar vid = 'ckplayer-'+this.randomString();\n\t\t\tvar flashvars = this.getFlashVars();\n\t\t\tvar param = this.getFlashplayerParam();\n\t\t\tvar flashplayerUrl = 'http://www.macromedia.com/go/getflashplayer';\n\t\t\tvar html = '',\n\t\t\tsrc = this.ckplayerPath + 'ckplayer.swf';\n\t\t\tid = 'id=\"' + vid + '\" name=\"' + vid + '\" ';\n\t\t\thtml += '<object pluginspage=\"' + flashplayerUrl + '\" classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=11,3,0,0\" width=\"100%\" height=\"100%\" ' + id + ' align=\"middle\" wmode=\"transparent\">';\n\t\t\thtml += param['v'];\n\t\t\thtml += '<param name=\"movie\" value=\"' + src + '\">';\n\t\t\thtml += '<param name=\"flashvars\" value=\"' + flashvars + '\">';\n\t\t\thtml += '<param name=\"wmode\" value=\"transparent\">';\n\t\t\thtml += '<embed wmode=\"transparent\" ' + param['w'] + ' src=\"' + src + '\" flashvars=\"' + flashvars + '\" width=\"100%\" height=\"100%\" ' + id + ' align=\"middle\" type=\"application/x-shockwave-flash\" pluginspage=\"' + flashplayerUrl + '\" />';\n\t\t\thtml += '</object>';\n\t\t\tthis.PD.innerHTML = html;\n\t\t\tthis.V = this.getObjectById(vid); //V：定义播放器对象全局变量\n\t\t\tthis.playerType = 'flashplayer';\n\t\t},\n\t\t/*\n\t\t\t判断浏览器是否支持flashplayer \n\t\t*/\n\t\tcheckShockwaveFlash:function(){\n\t\t\tif(window.ActiveXObject) {\n\t\t\t\ttry {\n\t\t\t\t\tvar s = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n\t\t\t\t\tif(s) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {}\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tvar s = navigator.plugins['Shockwave Flash'];\n\t\t\t\t\tif(s) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将vars对象转换成字符\n\t\t*/\n\t\tgetFlashVars: function() {\n\t\t\tthis.getVarsObject();\n\t\t\tvar v = this.vars;\n\t\t\tvar z = '';\n\t\t\tfor (k in v) {\n\t\t\t\tif (k != 'flashplayer' && k != 'container' && v[k] != '') {\n\t\t\t\t\tif (z != '') {\n\t\t\t\t\t\tz += '&';\n\t\t\t\t\t}\n\t\t\t\t\tvar vk = v[k];\n\t\t\t\t\tif (vk == true) {\n\t\t\t\t\t\tvk = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (vk == false) {\n\t\t\t\t\t\tvk = 0;\n\t\t\t\t\t}\n\t\t\t\t\tz += k + '=' + vk;\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (!v.hasOwnProperty('volume') || !v['volume']) {\n\t\t\t\tif (z != '') {\n\t\t\t\t\tz += '&';\n\t\t\t\t}\n\t\t\t\tz += 'volume=0';\n\t\t\t}\n\t\t\treturn z;\n\t\t},\n\t\t/*判断字符串是否是图片*/\n\t\tisStrImage: function(s) {\n\t\t\tif (s == 'jpg' || s == 'jpeg' || s == 'png' || s == 'svg' || s == 'gif') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将vars格式化成flash能接受的对象。再由getFlashVars函数转化成字符串或由newVideo直接使用\n\t\t*/\n\t\tgetVarsObject: function() {\n\t\t\tvar v = this.vars;\n\t\t\tvar f = '',\n\t\t\td = '',\n\t\t\tw = ''; //f=视频地址，d=清晰度地址,w=权重，z=最终地址\n\t\t\tvar arr = this.VA;\n\t\t\tvar prompt = v['promptSpot'];\n\t\t\tvar i = 0;\n\t\t\tvar video = this.vars['video'];\n\t\t\tif (this.varType(video) == 'array') { //对象或数组\n\t\t\t\tvar arr = video;\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tvar arr2 = arr[i];\n\t\t\t\t\tif (arr2) {\n\t\t\t\t\t\tif (f != '') {\n\t\t\t\t\t\t\tf += this.ckConfig['config']['split'];\n\t\t\t\t\t\t\td += ',';\n\t\t\t\t\t\t\tw += ',';\n\t\t\t\t\t\t\tv['type'] += this.ckConfig['config']['split'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tf += encodeURIComponent(decodeURIComponent(arr2[0]));\n\t\t\t\t\t\td += arr2[2];\n\t\t\t\t\t\tw += arr2[3];\n\t\t\t\t\t\tv['type'] += arr2[1].replace('video/', '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (this.varType(video) == 'object') { //对象或数组\n\t\t\t\tf = encodeURIComponent(decodeURIComponent(video['file']));\n\t\t\t\tif (!this.isUndefined(video['type'])) {\n\t\t\t\t\tv['type'] = video['type'];\n\t\t\t\t}\n\t\t\t\td = '';\n\t\t\t\tw = '';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tf = encodeURIComponent(decodeURIComponent(video));\n\t\t\t}\n\t\t\tif (v['preview'] != null) {\n\t\t\t\tv['previewscale'] = v['preview']['scale'];\n\t\t\t\tv['preview'] = v['preview']['file'].join(',');\n\n\t\t\t}\n\t\t\tif (prompt != null) {\n\t\t\t\tv['promptspot'] = '';\n\t\t\t\tv['promptspottime'] = '';\n\t\t\t\tfor (i = 0; i < prompt.length; i++) {\n\t\t\t\t\tif (v['promptspot'] != '') {\n\t\t\t\t\t\tv['promptspot'] += ',';\n\t\t\t\t\t\tv['promptspottime'] += ',';\n\t\t\t\t\t}\n\t\t\t\t\tv['promptspot'] += prompt[i]['words'];\n\t\t\t\t\tv['promptspottime'] += prompt[i]['time'];\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (f != '') {\n\t\t\t\tv['video'] = f;\n\t\t\t\tv['definition'] = d;\n\t\t\t\tv['weight'] = w;\n\t\t\t}\n\t\t\tif (!v['volume']) {\n\t\t\t\tv['volume'] = 0;\n\t\t\t}\n\t\t\tvar newV = {};\n\n\t\t\tfor (var k in v) {\n\t\t\t\tif (v[k] != null) {\n\t\t\t\t\tnewV[k] = v[k];\n\t\t\t\t}\n\t\t\t\tif (k == 'type') {\n\t\t\t\t\tnewV[k] = v[k].replace('video/m3u8', 'm3u8');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.vars = newV;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将embedSWF里的param的对象进行转换\n\t\t*/\n\t\tgetFlashplayerParam: function() {\n\t\t\tvar w = '',\n\t\t\tv = '',\n\t\t\to = {\n\t\t\t\tallowScriptAccess: 'always',\n\t\t\t\tallowFullScreen: true,\n\t\t\t\tquality: 'high',\n\t\t\t\tbgcolor: '#000'\n\t\t\t};\n\t\t\tfor (var e in o) {\n\t\t\t\tw += e + '=\"' + o[e] + '\" ';\n\t\t\t\tv += '<param name=\"' + e + '\" value=\"' + o[e] + '\" />';\n\t\t\t}\n\t\t\tw = w.replace('movie=', 'src=');\n\t\t\treturn {\n\t\t\t\tw: w,\n\t\t\t\tv: v\n\t\t\t};\n\t\t},\n\n\t\t/*\n\t\t\t操作动作结束\n\t\t\t-----------------------------------------------------------------------\n\t\t\t\n\t\t\t接口函数\n\t\t\t获取元数据部分\n\t\t*/\n\t\tgetMetaDate: function() {\n\t\t\tif (!this.loaded || this.V == null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\tvar duration = 0;\n\t\t\t\ttry {\n\t\t\t\t\tduration = !isNaN(this.V.duration) ? this.V.duration: 0;\n\t\t\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\t\t\tif(this.vars['duration']>0){\n\t\t\t\t\t\t\tduration=this.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t\tvar data = {\n\t\t\t\t\tduration: duration,\n\t\t\t\t\tvolume: this.V.volume,\n\t\t\t\t\tplaybackRate: this.V.playbackRate,\n\t\t\t\t\twidth: this.PD.offsetWidth || this.V.offsetWidth || this.V.width,\n\t\t\t\t\theight: this.PD.offsetHeight || this.V.offsetHeight || this.V.height,\n\t\t\t\t\tstreamWidth: this.V.videoWidth,\n\t\t\t\t\tstreamHeight: this.V.videoHeight,\n\t\t\t\t\tvideoWidth: this.V.offsetWidth,\n\t\t\t\t\tvideoHeight: this.V.offsetHeight,\n\t\t\t\t\tpaused: this.V.paused,\n\t\t\t\t\tloadTime:this.loadTimeTemp\n\t\t\t\t};\n\t\t\t\treturn data;\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\treturn this.V.getMetaDate();\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t取当前提供给播放器播放的视频列表\n\t\t*/\n\t\tgetVideoUrl: function() {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getVideoUrl();\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (this.V.src) {\n\t\t\t\tarr.push(this.V.src);\n\t\t\t} else {\n\t\t\t\tvar uArr = this.V.childNodes;\n\t\t\t\tfor (var i = 0; i < uArr.length; i++) {\n\t\t\t\t\tarr.push(uArr[i].src);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t格式化函数\n\t\t*/\n\t\tclickEvent: function(call) {\n\t\t\tif (call == 'none' || call == '' || call == null) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'none'\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar callArr = call.split('->');\n\t\t\tvar type = '',\n\t\t\tfun = '',\n\t\t\tlink = '',\n\t\t\ttarget = '';\n\t\t\tif (callArr.length == 2) {\n\t\t\t\tvar callM = callArr[0];\n\t\t\t\tvar callE = callArr[1];\n\t\t\t\tif (!callE) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'none'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tvar val = '';\n\t\t\t\tvar eArr = [];\n\t\t\t\ttype = callM;\n\t\t\t\tswitch (callM) {\n\t\t\t\tcase 'actionScript':\n\t\t\t\t\t//trace(THIS.hasOwnProperty(callE));\n\t\t\t\t\tif (callE.indexOf('(') > -1) {\n\t\t\t\t\t\teArr = callE.split('(');\n\t\t\t\t\t\tcallE = eArr[0];\n\t\t\t\t\t\tval = eArr[1].replace(')', '');\n\t\t\t\t\t}\n\t\t\t\t\tif (val == '') {\n\t\t\t\t\t\tfun = 'thisTemp.' + callE + '()';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfun = 'thisTemp.' + callE + '(' + val + ')';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javaScript':\n\t\t\t\t\tif (callE.substr(0, 11) == '[flashvars]') {\n\t\t\t\t\t\tcallE = callE.substr(11);\n\t\t\t\t\t\tif (this.vars.hasOwnProperty(callE)) {\n\t\t\t\t\t\t\tcallE = this.vars[callE];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (callE.indexOf('(') > -1) {\n\t\t\t\t\t\teArr = callE.split('(');\n\t\t\t\t\t\tcallE = eArr[0];\n\t\t\t\t\t\tval = eArr[1].replace(')', '');\n\t\t\t\t\t}\n\t\t\t\t\tif (val == '') {\n\t\t\t\t\t\tfun = callE + '()';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfun = callE + '(' + val + ')';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"link\":\n\t\t\t\t\tvar callLink = (callE + ',').split(',');\n\t\t\t\t\tif (callLink[0].substr(0, 11) == '[flashvars]') {\n\t\t\t\t\t\tvar fl = callLink[0].replace('[flashvars]', '');\n\t\t\t\t\t\tif (this.vars.hasOwnProperty(fl)) {\n\t\t\t\t\t\t\tcallLink[0] = this.vars[fl];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!callLink[1]) {\n\t\t\t\t\t\tcallLink[1] = '_blank';\n\t\t\t\t\t}\n\t\t\t\t\tlink = callLink[0];\n\t\t\t\t\ttarget = callLink[1];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttype: type,\n\t\t\t\tfun: fun,\n\t\t\t\tlink: link,\n\t\t\t\ttarget: target\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据指定的align,valign,offsetX,offsetY计算坐标\n\t\t*/\n\t\tgetPosition: function(obj,rEle) {\n\t\t\t/*\n\t\t\t{\n\t            \"align\": \"right\",\n\t            \"vAlign\": \"right\",\n\t            \"offsetX\": -60,\n\t            \"offsetY\": -60\n\t        } \n\t\t\t*/\n\t\t\tvar pw = this.PD.offsetWidth,\n\t\t\tph = this.PD.offsetHeight;\n\t\t\tvar x = 0,\n\t\t\ty = 0;\n\t\t\tvar left=0,top=0,rw=0,rh=0;\n\t\t\tif(!this.isUndefined(rEle)){\n\t\t\t\tleft=parseInt(this.css(rEle,'left')),top=parseInt(this.css(rEle,'top')),rw=rEle.offsetWidth,rh=rEle.offsetHeight;\n\t\t\t}\n\t\t\tswitch (obj['align']) {\n\t\t\t\tcase 'left':\n\t\t\t\t\tx = obj['offsetX']+left;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'center':\n\t\t\t\t\tx = pw * 0.5 + obj['offsetX'];\n\t\t\t\t\tif(left){\n\t\t\t\t\t\tx-=(pw*0.5-rw*0.5-left);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tx = pw + obj['offsetX'];\n\t\t\t\t\tif(left){\n\t\t\t\t\t\tx-=(pw-left-rw);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tswitch (obj['vAlign']) {\n\t\t\t\tcase 'top':\n\t\t\t\t\ty = obj['offsetY']+top;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'middle':\n\t\t\t\t\ty = ph * 0.5 + obj['offsetY']-top-(rh*0.5);\n\t\t\t\t\tif(top){\n\t\t\t\t\t\tx-=(ph*0.5-rh*0.5-top);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'bottom':\n\t\t\t\t\ty = ph + obj['offsetY'];\n\t\t\t\t\tif(top){\n\t\t\t\t\t\ty-=(ph-top-rh);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t向播放器界面添加一个文本\n\t\t*/\n\t\taddElement: function(attribute) {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.addElement(attribute);\n\t\t\t}\n\t\t\tvar i = 0;\n\t\t\tvar obj = {\n\t\t\t\tlist: null,\n\t\t\t\tx: '100%',\n\t\t\t\ty: \"50%\",\n\t\t\t\tposition: null,\n\t\t\t\talpha: 1,\n\t\t\t\tbackgroundColor: '',\n\t\t\t\tbackAlpha: 1,\n\t\t\t\tbackRadius: 0,\n\t\t\t\tclickEvent: ''\n\t\t\t};\n\t\t\tobj = this.standardization(obj, attribute);\n\t\t\tvar list = obj['list'];\n\t\t\tif (list == null) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tvar id = 'element-' + this.randomString(10);\n\t\t\tvar ele = document.createElement('div');\n\t\t\tele.className = id;\n\t\t\tif (obj['x']) {\n\t\t\t\tele.setAttribute('data-x', obj['x']);\n\t\t\t}\n\t\t\tif (obj['y']) {\n\t\t\t\tele.setAttribute('data-y', obj['y']);\n\t\t\t}\n\t\t\tif (obj['position'] != null) {\n\t\t\t\tele.setAttribute('data-position', obj['position'].join(','));\n\t\t\t}\n\n\t\t\tthis.PD.appendChild(ele);\n\t\t\tthis.css(ele, {\n\t\t\t\tposition: 'absolute',\n\t\t\t\tfilter: 'alpha(opacity:' + obj['alpha'] + ')',\n\t\t\t\topacity: obj['alpha'].toString(),\n\t\t\t\twidth: '800px',\n\t\t\t\tzIndex: '20'\n\t\t\t});\n\t\t\tvar bgid = 'elementbg' + this.randomString(10);\n\t\t\tvar bgAlpha = obj['alpha'].toString();\n\t\t\tvar bgColor = obj['backgroundColor'].replace('0x', '#');\n\t\t\tvar html = '';\n\t\t\tvar idArr = [];\n\t\t\tvar clickArr = [];\n\t\t\tif (!this.isUndefined(list) && list.length > 0) {\n\t\t\t\tvar textObj, returnObj, clickEvent;\n\t\t\t\tfor (i = 0; i < list.length; i++) {\n\t\t\t\t\tvar newEleid = 'elementnew' + this.randomString(10);\n\t\t\t\t\tswitch (list[i]['type']) {\n\t\t\t\t\tcase 'image':\n\t\t\t\t\tcase 'png':\n\t\t\t\t\tcase 'jpg':\n\t\t\t\t\tcase 'jpeg':\n\t\t\t\t\tcase 'gif':\n\t\t\t\t\t\ttextObj = {\n\t\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\t\tfile: '',\n\t\t\t\t\t\t\tradius: 0,//圆角弧度\n\t\t\t\t\t\t\twidth: 30,//定义宽，必需要定义\n\t\t\t\t\t\t\theight: 30,//定义高，必需要定义\n\t\t\t\t\t\t\talpha: 1,//透明度\n\t\t\t\t\t\t\tpaddingLeft: 0,//左边距离\n\t\t\t\t\t\t\tpaddingRight: 0,//右边距离\n\t\t\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\t\t\tmarginLeft: 0,\n\t\t\t\t\t\t\tmarginRight: 0,\n\t\t\t\t\t\t\tmarginTop: 0,\n\t\t\t\t\t\t\tmarginBottom: 0,\n\t\t\t\t\t\t\tbackgroundColor: '',\n\t\t\t\t\t\t\tclickEvent: ''\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tlist[i] = this.standardization(textObj, list[i]);\n\t\t\t\t\t\tclickEvent = this.clickEvent(list[i]['clickEvent']);\n\t\t\t\t\t\tclickArr.push(clickEvent);\n\t\t\t\t\t\tif (clickEvent['type'] == 'link') {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><a href=\"' + clickEvent['link'] + '\" target=\"' + clickEvent['target'] + '\"><img class=\"' + newEleid + '_image\" src=\"' + list[i]['file'] + '\" style=\"border:0;\"></a></div>';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><img class=\"' + newEleid + '_image\" src=\"' + list[i]['file'] + '\" style=\"border:0;\"></div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'text':\n\t\t\t\t\t\ttextObj = {\n\t\t\t\t\t\t\ttype: 'text',//说明是文本\n\t\t\t\t\t\t\ttext: '',//文本内容\n\t\t\t\t\t\t\tcolor: '0xFFFFFF',\n\t\t\t\t\t\t\tsize: 14,\n\t\t\t\t\t\t\tfontFamily: this.fontFamily,\n\t\t\t\t\t\t\tleading: 0,\n\t\t\t\t\t\t\talpha: 1,//透明度\n\t\t\t\t\t\t\tpaddingLeft: 0,//左边距离\n\t\t\t\t\t\t\tpaddingRight: 0,//右边距离\n\t\t\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\t\t\tmarginLeft: 0,\n\t\t\t\t\t\t\tmarginRight: 0,\n\t\t\t\t\t\t\tmarginTop: 0,\n\t\t\t\t\t\t\tmarginBottom: 0,\n\t\t\t\t\t\t\tbackgroundColor: '',\n\t\t\t\t\t\t\tbackAlpha: 1,\n\t\t\t\t\t\t\tbackRadius: 0,//背景圆角弧度，支持数字统一设置，也支持分开设置[30,20,20,50]，对应上左，上右，下右，下左\n\t\t\t\t\t\t\tclickEvent: ''\n\t\t\t\t\t\t};\n\t\t\t\t\t\tlist[i] = this.standardization(textObj, list[i]);\n\t\t\t\t\t\tclickEvent = this.clickEvent(list[i]['clickEvent']);\n\t\t\t\t\t\tclickArr.push(clickEvent);\n\t\t\t\t\t\tif (clickEvent['type'] == 'link') {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><div class=\"' + newEleid + '_bg\"></div><div class=\"' + newEleid + '_text\"><a href=\"' + clickEvent['link'] + '\" target=\"' + clickEvent['target'] + '\">' + list[i]['text'] + '</a></div></div>';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thtml += '<div  class=\"' + newEleid + '\" data-i=\"' + i + '\"><div class=\"' + newEleid + '_bg\"></div><div class=\"' + newEleid + '_text\">' + list[i]['text'] + '</div></div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tidArr.push(newEleid);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar objClickEvent = this.clickEvent(obj['clickEvent']);\n\t\t\tele.innerHTML = '<div class=\"' + bgid + '\"></div><div class=\"' + bgid + '_c\">' + html + '</div>';\n\t\t\tif (objClickEvent['type'] == 'javaScript' || objClickEvent['type'] == 'actionScript') {\n\t\t\t\tvar objClickHandler = function() {\n\t\t\t\t\teval(objClickEvent['fun']);\n\t\t\t\t\tthisTemp.sendJS('clickEvent', clk['type'] + '->' + clk['fun'].replace('thisTemp.', '').replace('()', ''));\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', objClickHandler, this.getByElement(bgid + '_c'))\n\t\t\t}\n\t\t\tthis.css(bgid + '_c', {\n\t\t\t\tposition: 'absolute',\n\t\t\t\tzIndex: '2'\n\t\t\t});\n\t\t\tfor (i = 0; i < idArr.length; i++) {\n\t\t\t\tvar clk = clickArr[i];\n\t\t\t\tif (clk['type'] == 'javaScript' || clk['type'] == 'actionScript') {\n\t\t\t\t\tvar clickHandler = function() {\n\t\t\t\t\t\t//clk = clickArr[this.getAttribute('data-i')];\n\t\t\t\t\t\tclk = clickArr[thisTemp.getDataset(this,'i')];\n\t\t\t\t\t\teval(clk['fun']);\n\t\t\t\t\t\tthisTemp.sendJS('clickEvent', clk['type'] + '->' + clk['fun'].replace('thisTemp.', '').replace('()', ''));\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', clickHandler, this.getByElement(idArr[i]))\n\t\t\t\t}\n\t\t\t\tswitch (list[i]['type']) {\n\t\t\t\tcase 'image':\n\t\t\t\tcase 'png':\n\t\t\t\tcase 'jpg':\n\t\t\t\tcase 'jpeg':\n\t\t\t\tcase 'gif':\n\t\t\t\t\tthis.css(idArr[i], {\n\t\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t\twidth: list[i]['width'] + 'px',\n\t\t\t\t\t\theight: list[i]['height'] + 'px',\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['alpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['alpha'].toString(),\n\t\t\t\t\t\tmarginLeft: list[i]['marginLeft'] + 'px',\n\t\t\t\t\t\tmarginRight: list[i]['marginRight'] + 'px',\n\t\t\t\t\t\tmarginTop: list[i]['marginTop'] + 'px',\n\t\t\t\t\t\tmarginBottom: list[i]['marginBottom'] + 'px',\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px',\n\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i] + '_image', {\n\t\t\t\t\t\twidth: list[i]['width'] + 'px',\n\t\t\t\t\t\theight: list[i]['height'] + 'px',\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'text':\n\t\t\t\t\tthis.css(idArr[i] + '_text', {\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['alpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['alpha'].toString(),\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px',\n\t\t\t\t\t\tfontFamily: list[i]['font'],\n\t\t\t\t\t\tfontSize: list[i]['size'] + 'px',\n\t\t\t\t\t\tcolor: list[i]['color'].replace('0x', '#'),\n\t\t\t\t\t\tlineHeight: list[i]['leading'] > 0 ? list[i]['leading'] + 'px': '',\n\t\t\t\t\t\tpaddingLeft: list[i]['paddingLeft'] + 'px',\n\t\t\t\t\t\tpaddingRight: list[i]['paddingRight'] + 'px',\n\t\t\t\t\t\tpaddingTop: list[i]['paddingTop'] + 'px',\n\t\t\t\t\t\tpaddingBottom: list[i]['paddingBottom'] + 'px',\n\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tzIndex: '3',\n\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i], {\n\t\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t\twidth: this.getByElement(idArr[i] + '_text').offsetWidth + 'px',\n\t\t\t\t\t\theight: this.getByElement(idArr[i] + '_text').offsetHeight + 'px',\n\t\t\t\t\t\tmarginLeft: list[i]['marginLeft'] + 'px',\n\t\t\t\t\t\tmarginRight: list[i]['marginRight'] + 'px',\n\t\t\t\t\t\tmarginTop: list[i]['marginTop'] + 'px',\n\t\t\t\t\t\tmarginBottom: list[i]['marginBottom'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i] + '_bg', {\n\t\t\t\t\t\twidth: this.getByElement(idArr[i] + '_text').offsetWidth + 'px',\n\t\t\t\t\t\theight: this.getByElement(idArr[i] + '_text').offsetHeight + 'px',\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['backAlpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['backAlpha'].toString(),\n\t\t\t\t\t\tborderRadius: list[i]['backRadius'] + 'px',\n\t\t\t\t\t\tbackgroundColor: list[i]['backgroundColor'].replace('0x', '#'),\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tzIndex: '2'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.css(bgid, {\n\t\t\t\twidth: this.getByElement(bgid + '_c').offsetWidth + 'px',\n\t\t\t\theight: this.getByElement(bgid + '_c').offsetHeight + 'px',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tfilter: 'alpha(opacity:' + bgAlpha + ')',\n\t\t\t\topacity: bgAlpha,\n\t\t\t\tbackgroundColor: bgColor.replace('0x', '#'),\n\t\t\t\tborderRadius: obj['backRadius'] + 'px',\n\t\t\t\tzIndex: '1'\n\t\t\t});\n\t\t\tthis.css(ele, {\n\t\t\t\twidth: this.getByElement(bgid).offsetWidth + 'px',\n\t\t\t\theight: this.getByElement(bgid).offsetHeight + 'px'\n\t\t\t});\n\t\t\tvar eidCoor = this.calculationCoor(ele);\n\t\t\tthis.css(ele, {\n\t\t\t\tleft: eidCoor['x'] + 'px',\n\t\t\t\ttop: eidCoor['y'] + 'px'\n\t\t\t});\n\n\t\t\tthis.elementArr.push(ele.className);\n\t\t\treturn ele;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t获取元件的属性，包括x,y,width,height,alpha\n\t\t*/\n\t\tgetElement: function(element) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getElement(element);\n\t\t\t}\n\t\t\tvar ele = element;\n\t\t\tif (this.varType(element) == 'string') {\n\t\t\t\tele = this.getByElement(element);\n\t\t\t}\n\t\t\tvar coor = this.getCoor(ele);\n\t\t\treturn {\n\t\t\t\tx: coor['x'],\n\t\t\t\ty: coor['y'],\n\t\t\t\twidth: ele.offsetWidth,\n\t\t\t\theight: ele.offsetHeight,\n\t\t\t\talpha: !this.isUndefined(this.css(ele, 'opacity')) ? parseFloat(this.css(ele, 'opacity')) : 1,\n\t\t\t\tshow: this.css(ele, 'display') == 'none' ? false: true\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t控制元件显示和隐藏\n\t\t*/\n\t\telementShow: function(element, show) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.elementShow(element, show);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(element) == 'string') {\n\t\t\t\tif (element) {\n\t\t\t\t\tthis.css(ele, 'display', show == true ? 'block': 'none');\n\t\t\t\t} else {\n\t\t\t\t\tvar arr = this.elementTempArr;\n\t\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\t\tthis.css(arr[i], 'display', show == true ? 'block': 'none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据节点的x,y计算在播放器里的坐标\n\t\t*/\n\t\tcalculationCoor: function(ele) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.calculationCoor(ele);\n\t\t\t}\n\t\t\tif(this.isUndefined(ele)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (ele == []) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar x, y, position = [];\n\t\t\tvar w = this.PD.offsetWidth,\n\t\t\th = this.PD.offsetHeight;\n\t\t\tvar ew = ele.offsetWidth,\n\t\t\teh = ele.offsetHeight;\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'x'))) {\n\t\t\t\tx = this.getDataset(ele, 'x');\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'y'))) {\n\t\t\t\ty = this.getDataset(ele, 'y');\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'position'))) {\n\t\t\t\ttry {\n\t\t\t\t\tposition = this.getDataset(ele, 'position').toString().split(',');\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t\tif (position.length > 0) {\n\t\t\t\tposition.push(null, null, null, null);\n\t\t\t\tvar i = 0;\n\t\t\t\tfor (i = 0; i < position.length; i++) {\n\t\t\t\t\tif (this.isUndefined(position[i]) || position[i] == null || position[i] == 'null' || position[i] == '') {\n\t\t\t\t\t\tposition[i] = null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition[i] = parseFloat(position[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (position[2] == null) {\n\t\t\t\t\tswitch (position[0]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tx = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tx = parseInt((w - ew) * 0.5);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tx = w - ew;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (position[0]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tx = position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tx = parseInt(w * 0.5) + position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tx = w + position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (position[3] == null) {\n\t\t\t\t\tswitch (position[1]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\ty = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ty = parseInt((h - eh) * 0.5);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ty = h - eh;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (position[1]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\ty = position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ty = parseInt(h * 0.5) + position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ty = h + position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (x.substring(x.length - 1, x.length) == '%') {\n\t\t\t\t\tx = Math.floor(parseInt(x.substring(0, x.length - 1)) * w * 0.01);\n\t\t\t\t}\n\t\t\t\tif (y.substring(y.length - 1, y.length) == '%') {\n\t\t\t\t\ty = Math.floor(parseInt(y.substring(0, y.length - 1)) * h * 0.01);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t修改新增元件的坐标\n\t\t*/\n\t\tchangeElementCoor: function() {\n\t\t\tfor (var i = 0; i < this.elementArr.length; i++) {\n\t\t\t\tif(!this.isUndefined(this.getByElement(this.elementArr[i]))){\n\t\t\t\t\tif (this.getByElement(this.elementArr[i]) != []) {\n\t\t\t\t\t\tvar c = this.calculationCoor(this.getByElement(this.elementArr[i]));\n\t\t\t\t\t\tif (c['x'] && c['y']) {\n\t\t\t\t\t\t\tthis.css(this.elementArr[i], {\n\t\t\t\t\t\t\t\ttop: c['y'] + 'px',\n\t\t\t\t\t\t\t\tleft: c['x'] + 'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t缓动效果集\n\t\t*/\n\t\ttween: function() {\n\t\t\tvar Tween = {\n\t\t\t\tNone: { //均速运动\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuadratic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * (t /= d) * (t - 2) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t + b;\n\t\t\t\t\t\treturn - c / 2 * ((--t) * (t - 2) - 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tCubic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * t + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * t + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuartic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * ((t = t / d - 1) * t * t * t - 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;\n\t\t\t\t\t\treturn - c / 2 * ((t -= 2) * t * t * t - 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuintic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tSine: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * Math.sin(t / d * (Math.PI / 2)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tExponential: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn (t == 0) ? b: c * Math.pow(2, 10 * (t / d - 1)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn (t == d) ? b + c: c * ( - Math.pow(2, -10 * t / d) + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif (t == d) return b + c;\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n\t\t\t\t\t\treturn c / 2 * ( - Math.pow(2, -10 * --t) + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tCircular: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return - c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n\t\t\t\t\t\treturn c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tElastic: {\n\t\t\t\t\teaseIn: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\t\t\tif (!p) p = d * .3;\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\treturn - (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\t\t\tif (!p) p = d * .3;\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\treturn (a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b);\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d / 2) == 2) return b + c;\n\t\t\t\t\t\tif (!p) p = d * (.3 * 1.5);\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\tif (t < 1) return - .5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tBack: {\n\t\t\t\t\teaseIn: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\treturn c * (t /= d) * t * ((s + 1) * t - s) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tBounce: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c - Tween.Bounce.easeOut(d - t, 0, c, d) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d) < (1 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * t * t) + b;\n\t\t\t\t\t\t} else if (t < (2 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (1.5 / 2.75)) * t + .75) + b;\n\t\t\t\t\t\t} else if (t < (2.5 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (2.25 / 2.75)) * t + .9375) + b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (2.625 / 2.75)) * t + .984375) + b;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif (t < d / 2) return Tween.Bounce.easeIn(t * 2, 0, c, d) * .5 + b;\n\t\t\t\t\t\telse return Tween.Bounce.easeOut(t * 2 - d, 0, c, d) * .5 + c * .5 + b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn Tween;\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t缓动效果\n\t\t\tele:Object=需要缓动的对象,\n\t\t\tparameter:String=需要改变的属性：x,y,width,height,alpha,\n\t\t\teffect:String=效果名称,\n\t\t\tstart:Int=起始值,\n\t\t\tend:Int=结束值,\n\t\t\tspeed:Number=运动的总秒数，支持小数\n\t\t*/\n\t\tanimate: function(attribute) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.animate(attribute);\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar animateId = 'animate_' + this.randomString();\n\t\t\tvar obj = {\n\t\t\t\telement: null,\n\t\t\t\tparameter: 'x',\n\t\t\t\tstatic: false,\n\t\t\t\teffect: 'None.easeIn',\n\t\t\t\tstart: null,\n\t\t\t\tend: null,\n\t\t\t\tspeed: 0,\n\t\t\t\toverStop: false,\n\t\t\t\tpauseStop: false,\n\t\t\t\t//暂停播放时缓动是否暂停\n\t\t\t\tcallBack: null\n\t\t\t};\n\t\t\tobj = this.standardization(obj, attribute);\n\t\t\tif (obj['element'] == null || obj['speed'] == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar w = this.PD.offsetWidth,\n\t\t\th = this.PD.offsetHeight;\n\t\t\tvar effArr = (obj['effect'] + '.').split('.');\n\t\t\tvar tweenFun = this.tween()[effArr[0]][effArr[1]];\n\t\t\tvar eleCoor = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t\tif (this.isUndefined(tweenFun)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t//先将该元件从元件数组里删除，让其不再跟随播放器的尺寸改变而改变位置\n\t\t\tvar def = this.arrIndexOf(this.elementArr, obj['element'].className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementTempArr.push(obj['element'].className);\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\t//var run = true;\n\t\t\tvar css = {};\n\t\t\t//对传递的参数进行转化，x和y转化成left,top\n\t\t\tvar pm = this.getElement(obj['element']); //包含x,y,width,height,alpha属性\n\t\t\tvar t = 0; //当前时间\n\t\t\tvar b = 0; //初始值\n\t\t\tvar c = 0; //变化量\n\t\t\tvar d = obj['speed'] * 1000; //持续时间\n\t\t\tvar timerTween = null;\n\t\t\tvar tweenObj = null;\n\t\t\tvar start = obj['start'] == null ? '': obj['start'].toString();\n\t\t\tvar end = obj['end'] == null ? '': obj['end'].toString();\n\t\t\tswitch (obj['parameter']) {\n\t\t\tcase 'x':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['x'];\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(start) * w * 0.01;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(start);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['x'] - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) * w * 0.01 - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(end);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'y':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['y'];\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(start) * h * 0.01;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(start);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['y'] - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) * h * 0.01 - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(end);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'alpha':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['alpha'] * 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(obj['start']);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(obj['start'] * 100);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['alpha'] * 100 - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) * 100 - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) * 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(obj['end']) * 100 - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar callBack = function() {\n\t\t\t\tvar index = thisTemp.arrIndexOf(thisTemp.animateElementArray, animateId);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthisTemp.animateArray.splice(index, 1);\n\t\t\t\t\tthisTemp.animateElementArray.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tindex = thisTemp.arrIndexOf(thisTemp.animatePauseArray, animateId);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthisTemp.animatePauseArray.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tif (obj['callBack'] != null && obj['element'] && obj['callBack'] != 'callBack' && obj['callBack'] != 'tweenX' && obj['tweenY'] != 'callBack' && obj['callBack'] != 'tweenAlpha') {\n\t\t\t\t\tvar cb = eval(obj['callBack']);\n\t\t\t\t\tcb(obj['element']);\n\t\t\t\t\tobj['callBack'] = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar stopTween = function() {\n\t\t\t\tif (timerTween != null) {\n\t\t\t\t\tif (timerTween.runing) {\n\t\t\t\t\t\ttimerTween.stop();\n\t\t\t\t\t}\n\t\t\t\t\ttimerTween = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenX = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\tleft: Math.ceil(tweenFun(t, b, c, d)) + 'px'\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['top'] = eleCoor['y'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defX = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defX > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defX, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenY = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\ttop: Math.ceil(tweenFun(t, b, c, d)) + 'px'\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['left'] = eleCoor['x'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defY = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defY > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defY, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenAlpha = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\tvar ap = Math.ceil(tweenFun(t, b, c, d)) * 0.01;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + ap + ')',\n\t\t\t\t\t\topacity: ap.toString()\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['top'] = eleCoor['y'] + 'px';\n\t\t\t\t\t\tcss['left'] = eleCoor['x'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defA = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defA > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defA, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tswitch (obj['parameter']) {\n\t\t\t\tcase 'x':\n\t\t\t\t\ttweenObj = tweenX;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'y':\n\t\t\t\t\ttweenObj = tweenY;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'alpha':\n\t\t\t\t\ttweenObj = tweenAlpha;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\ttimerTween = new thisTemp.timer(10, tweenObj);\n\t\t\ttimerTween.callBackFunction = callBack;\n\t\t\tif (obj['overStop']) {\n\t\t\t\tvar mouseOver = function() {\n\t\t\t\t\tif (timerTween != null && timerTween.runing) {\n\t\t\t\t\t\ttimerTween.stop();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('mouseover', mouseOver, obj['element']);\n\t\t\t\tvar mouseOut = function() {\n\t\t\t\t\tvar start = true;\n\t\t\t\t\tif (obj['pauseStop'] && thisTemp.getMetaDate()['paused']) {\n\t\t\t\t\t\tstart = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (timerTween != null && !timerTween.runing && start) {\n\t\t\t\t\t\ttimerTween.start();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('mouseout', mouseOut, obj['element']);\n\t\t\t}\n\n\t\t\tthis.animateArray.push(timerTween);\n\t\t\tthis.animateElementArray.push(animateId);\n\t\t\tif (obj['pauseStop']) {\n\t\t\t\tthis.animatePauseArray.push(animateId);\n\t\t\t}\n\t\t\treturn animateId;\n\t\t},\n\t\t/*\n\t\t\t接口函数函数\n\t\t\t继续运行animate\n\t\t*/\n\t\tanimateResume: function(id) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.animateResume(this.isUndefined(id) ? '': id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (id != '' && !this.isUndefined(id) && id != 'pause') {\n\t\t\t\tarr.push(id);\n\t\t\t} else {\n\t\t\t\tif (id === 'pause') {\n\t\t\t\t\tarr = this.animatePauseArray;\n\t\t\t\t} else {\n\t\t\t\t\tarr = this.animateElementArray;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar index = this.arrIndexOf(this.animateElementArray, arr[i]);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.animateArray[index].start();\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t暂停运行animate\n\t\t*/\n\t\tanimatePause: function(id) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.animatePause(this.isUndefined(id) ? '': id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (id != '' && !this.isUndefined(id) && id != 'pause') {\n\t\t\t\tarr.push(id);\n\t\t\t} else {\n\t\t\t\tif (id === 'pause') {\n\t\t\t\t\tarr = this.animatePauseArray;\n\t\t\t\t} else {\n\t\t\t\t\tarr = this.animateElementArray;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar index = this.arrIndexOf(this.animateElementArray, arr[i]);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.animateArray[index].stop();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据ID删除数组里对应的内容\n\t\t*/\n\t\tdeleteAnimate: function(id) {\n\t\t\tif (this.playerType == 'flashplayer' && this.V) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.deleteAnimate(id);\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar index = this.arrIndexOf(this.animateElementArray, id);\n\t\t\tif (index > -1) {\n\t\t\t\tthis.animateArray[index].callBackFunction();\n\t\t\t\tthis.animateArray.splice(index, 1);\n\t\t\t\tthis.animateElementArray.splice(index, 1);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t删除外部新建的元件\n\t\t*/\n\t\tdeleteElement: function(ele) {\n\t\t\tif (this.playerType == 'flashplayer' && this.V) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.deleteElement(ele);\n\t\t\t\t} catch(event) {}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//先将该元件从元件数组里删除，让其不再跟随播放器的尺寸改变而改变位置\n\t\t\tvar def = this.arrIndexOf(this.elementArr, ele.className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdef = this.arrIndexOf(this.elementTempArr, ele.className);\n\t\t\t\tif (def > -1) {\n\t\t\t\t\tthis.elementTempArr.splice(def, 1);\n\t\t\t\t}\n\t\t\t} catch(event) {}\n\t\t\tthis.deleteAnimate(ele.className);\n\t\t\tthis.deleteChild(ele);\n\t\t},\n\t\t/*\n\t\t\t--------------------------------------------------------------\n\t\t\t共用函数部分\n\t\t\t以下函数并非只能在本程序中使用，也可以在页面其它项目中使用\n\t\t\t根据ID或className获取元素对象\n\t\t*/\n\t\tgetByElement: function(obj, parent) {\n\t\t\tif (this.isUndefined(parent)) {\n\t\t\t\tparent = document;\n\t\t\t}\n\t\t\tvar num = obj.substr(0, 1);\n\t\t\tvar res = [];\n\t\t\tif (num != '#') {\n\t\t\t\tif (num == '.') {\n\t\t\t\t\tobj = obj.substr(1, obj.length);\n\t\t\t\t}\n\t\t\t\tif (parent.getElementsByClassName) {\n\t\t\t\t\tres = parent.getElementsByClassName(obj);\n\t\t\t\t\tif(!res.length){\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar reg = new RegExp(' ' + obj + ' ', 'i');\n\t\t\t\t\tvar ele = parent.getElementsByTagName('*');\n\t\t\t\t\tfor (var i = 0; i < ele.length; i++) {\n\t\t\t\t\t\tif (reg.test(' ' + ele[i].className + ' ')) {\n\t\t\t\t\t\t\tres.push(ele[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (res.length > 0) {\n\t\t\t\t\tres=res[0];\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tres=null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (num == '#') {\n\t\t\t\t\tobj = obj.substr(1, obj.length);\n\t\t\t\t}\n\t\t\t\ttry{\n\t\t\t\t\tres=document.getElementById(obj);\n\t\t\t\t}\n\t\t\t\tcatch(event){\n\t\t\t\t\tres=null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t/*\n\t\t \t共用函数\n\t\t\t功能：修改样式或获取指定样式的值，\n\t\t\t\telem：ID对象或ID对应的字符，如果多个对象一起设置，则可以使用数组\n\t\t\t\tattribute：样式名称或对象，如果是对象，则省略掉value值\n\t\t\t\tvalue：attribute为样式名称时，定义的样式值\n\t\t\t\t示例一：\n\t\t\t\tthis.css(ID,'width','100px');\n\t\t\t\t示例二：\n\t\t\t\tthis.css('id','width','100px');\n\t\t\t\t示例三：\n\t\t\t\tthis.css([ID1,ID2,ID3],'width','100px');\n\t\t\t\t示例四：\n\t\t\t\tthis.css(ID,{\n\t\t\t\t\twidth:'100px',\n\t\t\t\t\theight:'100px'\n\t\t\t\t});\n\t\t\t\t示例五(获取宽度)：\n\t\t\t\tvar width=this.css(ID,'width');\n\t\t*/\n\t\tcss: function(elem, attribute, value) {\n\t\t\tvar i = 0;\n\t\t\tvar k = '';\n\t\t\tif (this.varType(elem) == 'array') { //数组\n\t\t\t\tfor (i = 0; i < elem.length; i++) {\n\t\t\t\t\t\tvar el;\n\t\t\t\t\t\tif (typeof(elem[i]) == 'string') {\n\t\t\t\t\t\t\tel = this.getByElement(elem[i])\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel = elem[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof(attribute) != 'object') {\n\t\t\t\t\t\t\tif (!this.isUndefined(value)) {\n\t\t\t\t\t\t\t\tel.style[attribute] = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (k in attribute) {\n\t\t\t\t\t\t\t\tif (!this.isUndefined(attribute[k])) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tel.style[k] = attribute[k];\n\t\t\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\t\t\tthis.log(event);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\n\t\t\t}\n\t\t\tif (this.varType(elem) == 'string') {\n\t\t\t\telem = this.getByElement(elem);\n\t\t\t}\n\t\t\tif (this.varType(attribute) != 'object') {\n\t\t\t\tif (!this.isUndefined(value)) {\n\t\t\t\t\telem.style[attribute] = value;\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.isUndefined(this.getStyle(elem, attribute))) {\n\t\t\t\t\t\treturn this.getStyle(elem, attribute);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (k in attribute) {\n\t\t\t\t\tif (!this.isUndefined(attribute[k])) {\n\t\t\t\t\t\telem.style[k] = attribute[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t兼容型获取style\n\t\t*/\n\t\tgetStyle: function(obj, attr) {\n\t\t\tif (!this.isUndefined(obj.style[attr])) {\n\t\t\t\treturn obj.style[attr];\n\t\t\t} else {\n\t\t\t\tif (obj.currentStyle) {\n\t\t\t\t\treturn obj.currentStyle[attr];\n\t\t\t\t} else {\n\t\t\t\t\treturn getComputedStyle(obj, false)[attr];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断变量是否存在或值是否为undefined\n\t\t*/\n\t\tisUndefined: function(value) {\n\t\t\ttry {\n\t\t\t\tif (value === 'undefined' || value === undefined || value === null || value === 'NaN' || value === NaN) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} catch(event) {\n\t\t\t\tthis.log(event);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t \t共用函数\n\t\t\t外部监听函数\n\t\t*/\n\t\taddListener: function(name, funName) {\n\t\t\tif (name && funName) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tvar ff = ''; //定义用来向flashplayer传递的函数字符\n\t\t\t\t\tif (this.varType(funName) == 'function') {\n\t\t\t\t\t\tff = this.getParameterNames(funName);\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.addListener(name, ff);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar have = false;\n\t\t\t\tfor (var i = 0; i < this.listenerJsArr.length; i++) {\n\t\t\t\t\tvar arr = this.listenerJsArr[i];\n\t\t\t\t\tif (arr[0] == name && arr[1] == funName) {\n\t\t\t\t\t\thave = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!have) {\n\t\t\t\t\tthis.listenerJsArr.push([name, funName]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t外部删除监听函数\n\t\t*/\n\t\tremoveListener: function(name, funName) {\n\t\t\tif (name && funName) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tvar ff = ''; //定义用来向flashplayer传递的函数字符\n\t\t\t\t\tif (this.varType(funName) == 'function') {\n\t\t\t\t\t\tff = this.getParameterNames(funName);\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeListener(name, ff);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfor (var i = 0; i < this.listenerJsArr.length; i++) {\n\t\t\t\t\tvar arr = this.listenerJsArr[i];\n\t\t\t\t\tif (arr[0] == name && arr[1] == funName) {\n\t\t\t\t\t\tthis.listenerJsArr.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部监听函数，调用方式：\n\t\t\tthis.addListenerInside('click',function(event){},[ID]);\n\t\t\td值为空时，则表示监听当前的视频播放器\n\t\t*/\n\t\taddListenerInside: function(e, f, d, t) {\n\t\t\tif (this.isUndefined(t)) {\n\t\t\t\tt = false;\n\t\t\t}\n\t\t\tvar o = this.V;\n\t\t\tif (!this.isUndefined(d)) {\n\t\t\t\to = d;\n\t\t\t}\n\t\t\tif (o.addEventListener) {\n\t\t\t\ttry {\n\t\t\t\t\to.addEventListener(e, f, t);\n\t\t\t\t} catch(event) {this.log(event)}\n\t\t\t} else if (o.attachEvent) {\n\t\t\t\ttry {\n\t\t\t\t\to.attachEvent('on' + e, f);\n\t\t\t\t} catch(event) {this.log(event)}\n\t\t\t} else {\n\t\t\t\to['on' + e] = f;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t删除内部监听函数，调用方式：\n\t\t\tthis.removeListenerInside('click',function(event){}[,ID]);\n\t\t\td值为空时，则表示监听当前的视频播放器\n\t\t*/\n\t\tremoveListenerInside: function(e, f, d, t) {\n\t\t\t/*if(this.playerType=='flashplayer' && this.getParameterNames(f) && this.isUndefined(d)) {\n\t\t\t\treturn;\n\t\t\t}*/\n\t\t\tif (this.isUndefined(t)) {\n\t\t\t\tt = false;\n\t\t\t}\n\t\t\tvar o = this.V;\n\t\t\tif (!this.isUndefined(d)) {\n\t\t\t\to = d;\n\t\t\t}\n\t\t\tif (o.removeEventListener) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.addNum--;\n\t\t\t\t\to.removeEventListener(e, f, t);\n\t\t\t\t} catch(e) {}\n\t\t\t} else if (o.detachEvent) {\n\t\t\t\ttry {\n\t\t\t\t\to.detachEvent('on' + e, f);\n\t\t\t\t} catch(e) {}\n\t\t\t} else {\n\t\t\t\to['on' + e] = null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t统一分配监听，以达到跟as3同样效果\n\t\t*/\n\t\tsendJS: function(name, val) {\n\t\t\tif (this.adPlayerPlay && name.substr( - 2) != 'Ad') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(name)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar list = this.listenerJsArr;\n\t\t\tvar obj = this.vars['variable'];\n\t\t\tif(this.vars['debug']){\n\t\t\t\tthis.log(name+':'+val);\n\t\t\t}\n\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\tvar arr = list[i];\t\t\t\t\n\t\t\t\tif (arr[0] == name) {\n\t\t\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\t\t\tswitch (arr[1].length) {\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\tarr[1](val);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tarr[1](val, obj);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tarr[1]();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarr[1](obj);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取函数名称，如 function ckplayer(){} var fun=ckplayer，则getParameterNames(fun)=ckplayer\n\t\t*/\n\t\tgetParameterNames: function(fn) {\n\t\t\tif (this.varType(fn) !== 'function') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\n\t\t\tvar code = fn.toString().replace(COMMENTS, '');\n\t\t\tvar result = code.slice(code.indexOf(' ') + 1, code.indexOf('('));\n\t\t\treturn result === null ? false: result;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t时间替换\n\t\t*/\n\t\treplaceTime:function(str,obj){\n\t\t\t//var timeStrArr = ['[$timeh]', '[$timei]', '[$timeI]', '[$times]', '[$timeS]', '[$durationh]', '[$durationi]', '[$durationI]', '[$durations]', '[$durationS]','[$liveTimey]', '[$liveTimeY]', '[$liveTimem]', '[$liveTimed]', '[$liveTimeh]', '[$liveTimei]', '[$liveTimes]', '[$liveLanguage]'];\n\t\t\tfor(var k in obj){\n\t\t\t\tstr=str.replace('[$'+k+']',obj[k])\n\t\t\t}\n\t\t\treturn str;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t格式化时分秒\n\t\t\tt:Int：秒数,dt:总时间的秒数\n\t\t*/\n\t\tformatTime: function(t,dt,str) {\n\t\t\tif (this.isUndefined(t) || isNaN(t)) {\n\t\t\t\tseconds = 0;\n\t\t\t}\n\t\t\tif (this.isUndefined(dt) || isNaN(dt)) {\n\t\t\t\tdt = 0;\n\t\t\t}\n\t\t\tvar minuteS=Math.floor(t/60);//将秒数直接转化成分钟取整，这个可以得到如80分钟\n\t\t\tvar minute=minuteS;//获取准确的分钟\n\t\t\tvar hourS=Math.floor(t/3600);//将秒数直接转化成小时取整，这个可以得到100小时\n\t\t\tvar second=t %60;\n\t\t\tif(minuteS>=60){\n\t\t\t\tminute=Math.floor(minuteS%60);\n\t\t\t}\n\t\t\t//总时间\n\t\t\tvar hminuteS=Math.floor(dt/60);//将秒数直接转化成分钟取整，这个可以得到如80分钟\n\t\t\tvar hminute=hminuteS;//获取准确的分钟\n\t\t\tvar hhourS=Math.floor(dt/3600);//将秒数直接转化成小时取整，这个可以得到100小时\n\t\t\tvar hsecond=dt %60;\n\t\t\tif(hminuteS>=60){\n\t\t\t\thminute=Math.floor(hminuteS%60);\n\t\t\t}\n\t\t\t//当前时间\n\t\t\tvar nowDate = new Date();\n\t\t\tvar obj={\n\t\t\t\ttimeh:hourS,//时\n\t\t\t\ttimei:minute,//分\n\t\t\t\ttimeI:minuteS,//只有分\n\t\t\t\ttimes:second,//秒\n\t\t\t\ttimeS:t,//只有秒\n\t\t\t\tdurationh:hhourS,//时\n\t\t\t\tdurationi:hminute,//分\n\t\t\t\tdurationI:hminuteS,//只有分\n\t\t\t\tdurations:hsecond,//秒\n\t\t\t\tdurationS:dt,//只有秒\n\t\t\t\tliveTimey:nowDate.getYear(),//获取当前年份(2位)\n\t\t\t\tliveTimeY:nowDate.getFullYear(),//获取完整的年份(4位,1970-????)\n\t\t\t\tliveTimem:nowDate.getMonth()+1,//获取当前月份(0-11,0代表1月)\n\t\t\t\tliveTimed:nowDate.getDate(),// 获取当前日(1-31)\n\t\t\t\tliveTimeh:nowDate.getHours(),    // 获取当前小时数(0-23)\n\t\t\t\tliveTimei:nowDate.getMinutes(),// 获取当前分钟数(0-59)\n\t\t\t\tliveTimes:nowDate.getSeconds()// 获取当前秒数(0-59)\n\t\t\t};\n\t\t\tfor(var k in obj){\n\t\t\t\tif(obj[k]<10){\n\t\t\t\t\tobj[k]='0'+Math.floor(obj[k]);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tobj[k]=Math.floor(obj[k]).toString();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.replaceTime(str,obj);\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取一个随机字符\n\t\t\tlen：随机字符长度\n\t\t*/\n\t\trandomString: function(len) {\n\t\t\tlen = len || 16;\n\t\t\tvar chars = 'abcdefghijklmnopqrstuvwxyz';\n\t\t\tvar maxPos = chars.length;\n\t\t\tvar val = '';\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tval += chars.charAt(Math.floor(Math.random() * maxPos));\n\t\t\t}\n\t\t\treturn 'ch' + val;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取字符串长度,中文算两,英文数字算1\n\t\t*/\n\t\tgetStringLen: function(str) {\n\t\t\tif(this.isUndefined(str)){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tvar len = 0;\n\t\t\tfor (var i = 0; i < str.length; i++) {\n\t\t\t\tif (str.charCodeAt(i) > 127 || str.charCodeAt(i) == 94) {\n\t\t\t\t\tlen += 2;\n\t\t\t\t} else {\n\t\t\t\t\tlen++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn len;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t用来为ajax提供支持\n\t\t*/\n\t\tcreateXHR: function() {\n\t\t\tif (window.XMLHttpRequest) {\n\t\t\t\t//IE7+、Firefox、Opera、Chrome 和Safari\n\t\t\t\treturn new XMLHttpRequest();\n\t\t\t} else if (window.ActiveXObject) {\n\t\t\t\t//IE6 及以下\n\t\t\t\ttry {\n\t\t\t\t\treturn new ActiveXObject('Microsoft.XMLHTTP');\n\t\t\t\t} catch(event) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn new ActiveXObject('Msxml2.XMLHTTP');\n\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\tthis.eject(this.errorList[7]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.eject(this.errorList[8]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\tajax调用\n\t\t*/\n\t\tajax: function(cObj) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar callback = null;\n\t\t\tvar obj = {\n\t\t\t\tmethod: 'get',//请求类型\n\t\t\t\tdataType: 'json',//请求的数据类型\n\t\t\t\tcharset: 'utf-8',\n\t\t\t\tasync: false,//true表示异步，false表示同步\n\t\t\t\turl: '',\n\t\t\t\tdata: null,\n\t\t\t\tsuccess: null,\n\t\t\t\terror:null\n\t\t\t};\n\t\t\tif (this.varType(cObj) != 'object') {\n\t\t\t\tthis.eject(this.errorList[9]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tobj = this.standardization(obj, cObj);\n\t\t\tif (obj.dataType === 'json' || obj.dataType === 'text' || obj.dataType === 'html' || obj.dataType === 'xml') {\n\t\t\t\tvar xhr = this.createXHR();\n\t\t\t\tcallback = function() {\n\t\t\t\t\t//判断http的交互是否成功\n\t\t\t\t\tif (xhr.status == 200) {\n\t\t\t\t\t\tif (thisTemp.isUndefined(obj.success)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (obj.dataType === 'json') {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tobj.success(eval('(' + xhr.responseText + ')')); //回调传递参数\n\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\tif(!thisTemp.isUndefined(obj['error'])){\n\t\t\t\t\t\t\t\t\tobj.error(event);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj.success(xhr.responseText); //回调传递参数\n\t\t\t\t\t\t}\n\t\t\t\t\t} \n\t\t\t\t\telse {\n\t\t\t\t\t\tobj.success(null);\n\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[10], 'Ajax.status:' + xhr.status);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tobj.url = obj.url.indexOf('?') == -1 ? obj.url + '?rand=' + this.randomString(6) : obj.url;\n\t\t\t\tobj.data = this.formatParams(obj.data); //通过params()将名值对转换成字符串\n\t\t\t\tif (obj.method === 'get' && !this.isUndefined(obj.data)) {\n\t\t\t\t\tif (obj.data != '') {\n\t\t\t\t\t\tif (obj.url.indexOf('?') == -1) {\n\t\t\t\t\t\t\tobj.url += '?' + obj.data\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj.url += '&' + obj.data;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (obj.async === true) { //true表示异步，false表示同步\n\t\t\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t\t\tif (xhr.readyState == 4 && callback != null) { //判断对象的状态是否交互完成\n\t\t\t\t\t\t\tcallback(); //回调\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\txhr.open(obj.method, obj.url, obj.async);\n\t\t\t\tif (obj.method === 'post') {\n\t\t\t\t\ttry{\n\t\t\t\t\t\txhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\t\t\t\t\t\txhr.setRequestHeader('charset', obj['charset']);\n\t\t\t\t\t\txhr.send(obj.data);\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttry{\n\t\t\t\t\t\txhr.send(null); //get方式则填null\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (obj.async === false) { //同步\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t}\n\t\t\telse if (obj.dataType === 'jsonp') {\n\t\t\t\tvar oHead = document.getElementsByTagName('head')[0];\n\t\t\t\tvar oScript = document.createElement('script');\n\t\t\t\tvar callbackName = 'callback' + new Date().getTime();\n\t\t\t\tvar params = this.formatParams(obj.data) + '&callback=' + callbackName; //按时间戳拼接字符串\n\t\t\t\tcallback = obj.success;\n\t\t\t\t//拼接好src\n\t\t\t\toScript.src = obj.url.split('?') + '?' + params;\n\t\t\t\t//插入script标签\n\t\t\t\toHead.insertBefore(oScript, oHead.firstChild);\n\t\t\t\t//jsonp的回调函数\n\t\t\t\twindow[callbackName] = function(json) {\n\t\t\t\t\tcallback(json);\n\t\t\t\t\toHead.removeChild(oScript);\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t动态加载js\n\t\t*/\n\t\tloadJs: function(path, success) {\n\t\t\tvar oHead = document.getElementsByTagName('HEAD').item(0);\n\t\t\tvar oScript = document.createElement('script');\n\t\t\toScript.type = 'text/javascript';\n\t\t\toScript.src = this.getNewUrl(path);\n\t\t\toHead.appendChild(oScript);\n\t\t\toScript.onload = function() {\n\t\t\t\tsuccess();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t排除IE6-9\n\t\t*/\n\t\tisMsie: function() {\n\t\t\tvar browser = navigator.appName;\n\t\t\tvar b_version = navigator.appVersion;\n\t\t\tvar version = b_version.split(';');\n\t\t\tvar trim_Version = '';\n\t\t\tif (version.length > 1) {\n\t\t\t\ttrim_Version = version[1].replace(/[ ]/g, '');\n\t\t\t}\n\t\t\tif (browser == 'Microsoft Internet Explorer' && (trim_Version == 'MSIE6.0' || trim_Version == 'MSIE7.0' || trim_Version == 'MSIE8.0' || trim_Version == 'MSIE9.0' || trim_Version == 'MSIE10.0')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断是否安装了flashplayer\n\t\t*/\n\t\tuploadFlash: function() {\n\t\t\tvar swf;\n\t\t\tif (navigator.userAgent.indexOf('MSIE') > 0) {\n\t\t\t\ttry {\n\t\t\t\t\tvar swf = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n\t\t\t\t\treturn true;\n\t\t\t\t} catch(e) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (navigator.userAgent.indexOf('Firefox') > 0) {\n\t\t\t\tswf = navigator.plugins['Shockwave Flash'];\n\t\t\t\tif (swf) {\n\t\t\t\t\treturn true\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t检测浏览器是否支持HTML5-Video\n\t\t*/\n\t\tsupportVideo: function() {\n\t\t\tif (!this.isMsie()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif ( !! document.createElement('video').canPlayType) {\n\t\t\t\tvar vidTest = document.createElement('video');\n\t\t\t\tvar oggTest;\n\t\t\t\ttry {\n\t\t\t\t\toggTest = vidTest.canPlayType('video/ogg; codecs=\"theora, vorbis\"');\n\t\t\t\t} catch(error) {\n\t\t\t\t\toggTest = false;\n\t\t\t\t}\n\t\t\t\tif (!oggTest) {\n\t\t\t\t\tvar h264Test;\n\t\t\t\t\ttry {\n\t\t\t\t\t\th264Test = vidTest.canPlayType('video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"');\n\t\t\t\t\t} catch(error) {\n\t\t\t\t\t\th264Test = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (!h264Test) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (h264Test == \"probably\") {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (oggTest == \"probably\") {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取属性值\n\t\t*/\n\t\tgetDataset: function(ele, z) {\n\t\t\ttry {\n\t\t\t\treturn ele.dataset[z];\n\t\t\t} catch(error) {\n\t\t\t\ttry {\n\t\t\t\t\treturn ele.getAttribute('data-' + z)\n\t\t\t\t} catch(error) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t返回flashplayer的对象\n\t\t*/\n\t\tgetObjectById: function(id) {\n\t\t\tvar x = null;\n\t\t\tvar y = this.getByElement('#' + id);\n\t\t\tvar r = 'embed';\n\t\t\tif (y && y.nodeName == 'OBJECT') {\n\t\t\t\tif (this.varType(y.SetVariable) != 'undefined') {\n\t\t\t\t\tx = y;\n\t\t\t\t} else {\n\t\t\t\t\tvar z = y.getElementsByTagName(r)[0];\n\t\t\t\t\tif (z) {\n\t\t\t\t\t\tx = z;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn x;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t对象转地址字符串\n\t\t*/\n\t\tformatParams: function(data) {\n\t\t\tvar arr = [];\n\t\t\tfor (var i in data) {\n\t\t\t\tarr.push(encodeURIComponent(i) + '=' + encodeURIComponent(data[i]));\n\t\t\t}\n\t\t\treturn arr.join('&');\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t对地址进行冒泡排序\n\t\t*/\n\t\tarrSort: function(arr) {\n\t\t\tvar temp = [];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tfor (var j = 0; j < arr.length - i; j++) {\n\t\t\t\t\tif (!this.isUndefined(arr[j + 1]) && arr[j][3] < arr[j + 1][3]) {\n\t\t\t\t\t\ttemp = arr[j + 1];\n\t\t\t\t\t\tarr[j + 1] = arr[j];\n\t\t\t\t\t\tarr[j] = temp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取文件名称\n\t\t*/\n\t\tgetFileName: function(filepath) {\n\t\t\tif(!filepath) return '';\n\t\t\treturn filepath.replace(/(.*\\/)*([^.]+).*/ig,'$2');\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t判断文件后缀\n\t\t*/\n\t\tgetFileExt: function(filepath) {\n\t\t\tif (filepath != '' && !this.isUndefined(filepath)) {\n\t\t\t\tif (filepath.indexOf('?') > -1) {\n\t\t\t\t\tfilepath = filepath.split('?')[0];\n\t\t\t\t}\n\t\t\t\tvar pos = '.' + filepath.replace(/.+\\./, '');\n\t\t\t\treturn pos.toLowerCase();\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t判断是否是移动端\n\t\t*/\n\t\tisMobile: function() {\n\t\t\tif (navigator.userAgent.toLowerCase().match(/(iphone|ipad|ipod|android|ios|midp|windows mobile|windows ce|rv:1.2.3.4|ucweb)/i)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t搜索字符串str是否包含key\n\t\t*/\n\t\tisContains: function(str, key) {\n\t\t\treturn str.indexOf(key) > -1;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t给地址添加随机数\n\t\t*/\n\t\tgetNewUrl: function(url) {\n\t\t\tif (this.isContains(url, '?')) {\n\t\t\t\treturn url += '&' + this.randomString(8) + '=' + this.randomString(8);\n\t\t\t} else {\n\t\t\t\treturn url += '?' + this.randomString(8) + '=' + this.randomString(8);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取clientX和clientY\n\t\t*/\n\t\tclient: function(event) {\n\t\t\tvar eve = event || window.event;\n\t\t\tif (this.isUndefined(eve)) {\n\t\t\t\teve = {\n\t\t\t\t\tclientX: 0,\n\t\t\t\t\tclientY: 0\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: eve.clientX + (document.documentElement.scrollLeft || this.body.scrollLeft) - this.pdCoor['x'],\n\t\t\t\ty: eve.clientY + (document.documentElement.scrollTop || this.body.scrollTop) - this.pdCoor['y']\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t获取节点的绝对坐标\n\t\t*/\n\t\tgetCoor: function(obj) {\n\t\t\tvar coor = this.getXY(obj);\n\t\t\treturn {\n\t\t\t\tx: coor['x'] - this.pdCoor['x'],\n\t\t\t\ty: coor['y'] - this.pdCoor['y']\n\t\t\t};\n\t\t},\n\t\tgetXY: function(obj) {\n\t\t\tvar parObj = obj;\n\t\t\tvar left = obj.offsetLeft;\n\t\t\tvar top = obj.offsetTop;\n\t\t\t\n\t\t\twhile (parObj = parObj.offsetParent) {\n\t\t\t\tleft += parObj.offsetLeft;\n\t\t\t\ttop += parObj.offsetTop;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: left,\n\t\t\t\ty: top\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t删除本对象的所有属性\n\t\t*/\n\t\tremoveChild: function() {\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\t//删除计时器\n\t\t\t\tvar i = 0;\n\t\t\t\tvar timerArr = [this.timerError, this.timerFull, this.timerTime, this.timerBuffer, this.timerClick, this.timerCBar, this.timerVCanvas];\n\t\t\t\tfor (i = 0; i < timerArr.length; i++) {\n\t\t\t\t\tif (timerArr[i] != null) {\n\t\t\t\t\t\tif (timerArr[i].runing) {\n\t\t\t\t\t\t\ttimerArr[i].stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttimerArr[i] = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//删除事件监听\n\t\t\t\tvar ltArr = this.listenerJsArr;\n\t\t\t\tfor (i = 0; i < ltArr.length; i++) {\n\t\t\t\t\tthis.removeListener(ltArr[i][0], ltArr[i][1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.playerType == '';\n\t\t\tthis.V = null;\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.deleteChild(this.CB['menu']);\n\t\t\t}\n\t\t\tthis.deleteChild(this.PD);\n\t\t\tthis.CD.innerHTML = '';\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t画封闭的图形\n\t\t*/\n\t\tcanvasFill: function(name, path) {\n\t\t\tname.beginPath();\n\t\t\tfor (var i = 0; i < path.length; i++) {\n\t\t\t\tvar d = path[i];\n\t\t\t\tif (i > 0) {\n\t\t\t\t\tname.lineTo(d[0], d[1]);\n\t\t\t\t} else {\n\t\t\t\t\tname.moveTo(d[0], d[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tname.closePath();\n\t\t\tname.fill();\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t画矩形\n\t\t*/\n\t\tcanvasFillRect: function(name, path) {\n\t\t\tfor (var i = 0; i < path.length; i++) {\n\t\t\t\tvar d = path[i];\n\t\t\t\tname.fillRect(d[0], d[1], d[2], d[3]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t删除容器节点\n\t\t*/\n\t\tdeleteChild: function(f) {\n\t\t\tvar def = this.arrIndexOf(this.elementArr, f.className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\tvar childs = f.childNodes;\n\t\t\tfor (var i = childs.length - 1; i >= 0; i--) {\n\t\t\t\tf.removeChild(childs[i]);\n\t\t\t}\n\n\t\t\tif (f && f != null && f.parentNode) {\n\t\t\t\ttry {\n\t\t\t\t\tif (f.parentNode) {\n\t\t\t\t\t\tf.parentNode.removeChild(f);\n\n\t\t\t\t\t}\n\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t \t根据容器的宽高,内部节点的宽高计算出内部节点的宽高及坐标\n\t\t*/\n\t\tgetProportionCoor: function(stageW, stageH, vw, vh) {\n\t\t\tvar w = 0,\n\t\t\th = 0,\n\t\t\tx = 0,\n\t\t\ty = 0;\n\t\t\tif (stageW / stageH < vw / vh) {\n\t\t\t\tw = stageW;\n\t\t\t\th = w * vh / vw;\n\t\t\t} else {\n\t\t\t\th = stageH;\n\t\t\t\tw = h * vw / vh;\n\t\t\t}\n\t\t\tx = (stageW - w) * 0.5;\n\t\t\ty = (stageH - h) * 0.5;\n\t\t\treturn {\n\t\t\t\twidth: parseInt(w),\n\t\t\t\theight: parseInt(h),\n\t\t\t\tx: parseInt(x),\n\t\t\t\ty: parseInt(y)\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将字幕文件内容转换成数组\n\t\t*/\n\t\tparseSrtSubtitles: function(srt) {\n\t\t\tvar subtitlesArr = [];\n\t\t\tvar textSubtitles = [];\n\t\t\tvar i = 0;\n\t\t\tvar arrs = srt.split('\\n');\n\t\t\tvar arr = [];\n\t\t\tvar delHtmlTag = function(str) {\n\t\t\t\treturn str.replace(/<[^>]+>/g, ''); //去掉所有的html标记\n\t\t\t};\n\t\t\tfor (i = 0; i < arrs.length; i++) {\n\t\t\t\tif (arrs[i].replace(/\\s/g, '').length > 0) {\n\t\t\t\t\tarr.push(arrs[i]);\n\t\t\t\t} else {\n\t\t\t\t\tif (arr.length > 0) {\n\t\t\t\t\t\ttextSubtitles.push(arr);\n\t\t\t\t\t}\n\t\t\t\t\tarr = [];\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (i = 0; i < textSubtitles.length; ++i) {\n\t\t\t\tvar textSubtitle = textSubtitles[i];\n\t\t\t\tif (textSubtitle.length >= 2) {\n\t\t\t\t\tvar sn = textSubtitle[0]; // 字幕的序号\n\t\t\t\t\tvar startTime = this.toSeconds(this.trim(textSubtitle[1].split(' --> ')[0])); // 字幕的开始时间\n\t\t\t\t\tvar endTime = this.toSeconds(this.trim(textSubtitle[1].split(' --> ')[1])); // 字幕的结束时间\n\t\t\t\t\tvar content = [delHtmlTag(textSubtitle[2])]; // 字幕的内容\n\t\t\t\t\tvar cktrackdelay=this.vars['cktrackdelay'];\n\t\t\t\t\tif(cktrackdelay!=0){\n\t\t\t\t\t\tstartTime+=cktrackdelay;\n\t\t\t\t\t\tendTime+=cktrackdelay;\n\t\t\t\t\t}\n\t\t\t\t\t// 字幕可能有多行\n\t\t\t\t\tif (textSubtitle.length > 2) {\n\t\t\t\t\t\tfor (var j = 3; j < textSubtitle.length; j++) {\n\t\t\t\t\t\t\tcontent.push(delHtmlTag(textSubtitle[j]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// 字幕对象\n\t\t\t\t\tvar subtitle = {\n\t\t\t\t\t\tsn: sn,\n\t\t\t\t\t\tstartTime: startTime,\n\t\t\t\t\t\tendTime: endTime,\n\t\t\t\t\t\tcontent: content\n\t\t\t\t\t};\n\t\t\t\t\tsubtitlesArr.push(subtitle);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn subtitlesArr;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t计时器,该函数模拟as3中的timer原理\n\t\t\ttime:计时时间,单位:毫秒\n\t\t\tfun:接受函数\n\t\t\tnumber:运行次数,不设置则无限运行\n\t\t*/\n\t\ttimer: function(time, fun, number) {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.time = 10; //运行间隔\n\t\t\tthis.fun = null; //监听函数\n\t\t\tthis.timeObj = null; //setInterval对象\n\t\t\tthis.number = 0; //已运行次数\n\t\t\tthis.numberTotal = null; //总至需要次数\n\t\t\tthis.runing = false; //当前状态\n\t\t\tthis.startFun = function() {\n\t\t\t\tthisTemp.number++;\n\t\t\t\tthisTemp.fun();\n\t\t\t\tif (thisTemp.numberTotal != null && thisTemp.number >= thisTemp.numberTotal) {\n\t\t\t\t\tthisTemp.stop();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.start = function() {\n\t\t\t\tif (!thisTemp.runing) {\n\t\t\t\t\tthisTemp.runing = true;\n\t\t\t\t\tthisTemp.timeObj = window.setInterval(thisTemp.startFun, time);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.stop = function() {\n\t\t\t\tif (thisTemp.runing) {\n\t\t\t\t\tthisTemp.runing = false;\n\t\t\t\t\twindow.clearInterval(thisTemp.timeObj);\n\t\t\t\t\tthisTemp.timeObj = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (time) {\n\t\t\t\tthis.time = time;\n\t\t\t}\n\t\t\tif (fun) {\n\t\t\t\tthis.fun = fun;\n\t\t\t}\n\t\t\tif (number) {\n\t\t\t\tthis.numberTotal = number;\n\t\t\t}\n\t\t\tthis.start();\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将时分秒转换成秒\n\t\t*/\n\t\ttoSeconds: function(t) {\n\t\t\tvar s = 0.0;\n\t\t\tif (t) {\n\t\t\t\tvar p = t.split(':');\n\t\t\t\tfor (i = 0; i < p.length; i++) {\n\t\t\t\t\ts = s * 60 + parseFloat(p[i].replace(',', '.'));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn s;\n\t\t},\n\t\t/*将字符变成数字形式的数组*/\n\t\tarrayInt: function(str) {\n\t\t\tvar a = str.split(',');\n\t\t\tvar b = [];\n\t\t\tfor (var i = 0; i < a.length; i++) {\n\t\t\t\tif (this.isUndefined(a[i])) {\n\t\t\t\t\ta[i] = 0;\n\t\t\t\t}\n\t\t\t\tif (a[i].substr( - 1) != '%') {\n\t\t\t\t\ta[i] = parseInt(a[i]);\n\t\t\t\t}\n\t\t\t\tb.push(a[i]);\n\t\t\t}\n\t\t\treturn b;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将对象Object标准化\n\t\t*/\n\t\tstandardization: function(o, n) { //n替换进o\n\t\t\tvar h = {};\n\t\t\tvar k;\n\t\t\tfor (k in o) {\n\t\t\t\th[k] = o[k];\n\t\t\t}\n\t\t\tfor (k in n) {\n\t\t\t\tvar type ='';\n\t\t\t\tif(h[k]){\n\t\t\t\t\ttype = this.varType(h[k]);\n\t\t\t\t}\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'number':\n\t\t\t\t\t\th[k] = parseFloat(n[k]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\th[k] = n[k];\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn h;\n\t\t},\n\t\tobjectAssign:function(o,n) {\n\t\t\tif(this.varType(o)!='object' || this.varType(n)!='object'){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar obj1=this.newObj(o),obj2=this.newObj(n);\n\t\t\tfor(var k in obj2){\n\t\t\t\tif(this.varType(obj2[k])=='object'){\n\t\t\t\t\tif(this.varType(obj1[k])!='object'){\n\t\t\t\t\t\tobj1[k]={};\n\t\t\t\t\t}\n\t\t\t\t\tobj1[k]=this.objectAssign(obj1[k],obj2[k]);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tobj1[k]=obj2[k];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn obj1;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t搜索数组\n\t\t */\n\t\tarrIndexOf: function(arr, key) {\n\t\t\tif(this.isUndefined(arr) || this.isUndefined(key)){\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tvar re = new RegExp(key, ['']);\n\t\t\treturn (arr.toString().replace(re, '┢').replace(/[^,┢]/g, '')).indexOf('┢');\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t去掉空格\n\t\t */\n\t\ttrim: function(str) {\n\t\t\tif (str != '') {\n\t\t\t\treturn str.replace(/(^\\s*)|(\\s*$)/g, '');\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t输出内容到控制台\n\t\t*/\n\t\tlog: function(val) {\n\t\t\ttry {\n\t\t\t\tconsole.log(val);\n\t\t\t} catch(e) {}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t弹出提示\n\t\t*/\n\t\teject: function(er, val) {\n\t\t\tif (!this.vars['debug']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar errorVal = er[1];\n\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\terrorVal = errorVal.replace('[error]', val);\n\t\t\t}\n\t\t\tvar value = 'error ' + er[0] + ':' + errorVal;\n\t\t\ttry {\n\t\t\t\tthis.log(value);\n\t\t\t} catch(e) {}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t系统错误\n\t\t*/\n\t\tsysError: function(er, val) {\n\t\t\tvar ele= this.getByElement(this.vars['container']);\n\t\t\tvar errorVal = er[1];\n\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\terrorVal = errorVal.replace('[error]', val);\n\t\t\t}\n\t\t\tvar value = 'error ' + er[0] + ':' + errorVal;\n\t\t\tele.innerHTML=value;\n\t\t\tthis.css(ele,{\n\t\t\t\tbackgroundColor: '#000',\n\t\t\t\tcolor:'#FFF',\n\t\t\t\ttextAlign:'center',\n\t\t\t\tlineHeight:ele.offsetHeight+'px'\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断变量类型\n\t\t*/\n\t\tvarType:function(val){\n\t\t\tif(val===null){\n\t\t\t\treturn 'string';\n\t\t\t}\n\t\t\tvar type = typeof(val);\n\t\t\tswitch(type) {\n\t\t\t\tcase 'string':\n\t\t\t\t\treturn 'string';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'number':\n\t\t\t\t\treturn 'number';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'boolean':\n\t\t\t\t\treturn 'boolean';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'function':\n\t\t\t\t\treturn 'function';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'symbol':\n\t\t\t\t\treturn 'symbol';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'object':\n\t\t\t\t\tif(!this.isUndefined(typeof(val.length))) {\n\t\t\t\t\t\treturn 'array';\n\t\t\t\t\t}\n\t\t\t\t\treturn 'object';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'undefined':\n\t\t\t\t\treturn 'undefined';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn typeof(val);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t获取此js文件所在路径\n\t\t*/\n\t\tgetPath:function(){\n\t\t\tvar scriptList = document.scripts,\n\t\t\tthisPath = scriptList[scriptList.length - 1].src;\n\t\t\tfor(var i=0;i<scriptList.length;i++){\n\t\t\t\tvar scriptName=scriptList[i].getAttribute('name') || scriptList[i].getAttribute('data-name');\n\t\t\t\tvar src=scriptList[i].src.slice(scriptList[i].src.lastIndexOf('/') + 1,scriptList[i].src.lastIndexOf('.'));\n\t\t\t\tif((scriptName && (scriptName=='ckplayer' || scriptName=='ckplayer.min')) || (scriptList[i].src && (src=='ckplayer' || src=='ckplayer.min'))){\n\t\t\t\t\tthisPath = scriptList[i].src;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn thisPath.substring(0, thisPath.lastIndexOf('/') + 1);\n\t\t},\n\t\tgetConfigObject:function(){\n\t\t\treturn this.jsonConfig;\n\t\t},\n\t\tgetStyleObject:function(){\n\t\t\treturn this.jsonStyle;\n\t\t},\n\t\tgetLanguageObject:function(){\n\t\t\treturn this.jsongLanguage;\n\t\t}\n\t};\n\twindow.ckplayer = ckplayer;\n})();","source":"js/ckplayer1.js","raw":"/*\n\t软件名称：ckplayer\n\t软件版本：X2\n\t软件作者：niandeng\n\t软件网站：http://www.ckplayer.com\n\t--------------------------------------------------------------------------------------------------------------------\n\t开发说明：\n\t使用的主要程序语言：javascript(js)及actionscript3.0(as3.0)(as3.0主要用于flashplayer部分的开发，不在该页面呈现)\n\t功能：播放视频\n\t特点：兼容HTML5-VIDEO(优先)以及FlashPlayer\n\t--------------------------------------------------------------------------------------------------------------------\n\t使用开源代码部分：\n\t1：flashls-http://flashls.org/\n\t=====================================================================================================================\n*/\n\n!(function() {\n\tvar ckplayer = function(obj) {\n\t\t/*\n\t\t\tjavascript部分开发所用的注释说明：\n\t\t\t1：初始化-程序调用时即运行的代码部分\n\t\t\t2：定义样式-定义容器（div,p,canvas等）的样式表，即css\n\t\t\t3：监听动作-监听元素节点（单击-click，鼠标进入-mouseover，鼠标离开-mouseout，鼠标移动-mousemove等）事件\n\t\t\t4：监听事件-监听视频的状态（播放，暂停，全屏，音量调节等）事件\n\t\t\t5：共用函数-这类函数在外部也可以使用\n\t\t\t6：全局变量-定义成全局使用的变量\n\t\t\t7：其它相关注释\n\t\t\t全局变量说明：\n\t\t\t在本软件中所使用到的全局变量（变量（类型）包括Boolean，String，Int，Object（包含元素对象和变量对象），Array，Function等）\n\t\t\t下面列出重要的全局变量：\n\t\t\t\tV:Object：视频对象\n\t\t\t\tVA:Array：视频列表（包括视频地址，类型，清晰度说明）\n\t\t\t\tID:String：视频ID\n\t\t\t\tCB:Object：控制栏各元素的集合对象\n\t\t\t\tPD:Object：内部视频容器对象\n\t\t\t---------------------------------------------------------------------------------------------\n\t\t\t程序开始\n\t\t\t下面为需要初始化配置的全局变量\n\t\t*/\n\t\t//全局变量：播放器默认配置，在外部传递过来相应配置后，则进行相关替换\n\t\tthis.varsDefault = {\n\t\t\tplayerID: '',//播放器ID\n\t\t\tcontainer: '',//视频容器的ID\n\t\t\tvariable: 'ckplayer',//播放函数(变量)名称\n\t\t\tvolume: 0.8,//默认音量，范围0-1\n\t\t\tposter: '',//封面图片地址\n\t\t\tautoplay: false,//是否自动播放\n\t\t\tloop: false,//是否需要循环播放\n\t\t\tlive: false,//是否是直播\n\t\t\tduration: 0,//指定总时间\n\t\t\tforceduration:0,//强制使用该时间为总时间\n\t\t\tseek: 0,//默认需要跳转的秒数\n\t\t\tdrag: '',//拖动时支持的前置参数\n\t\t\tfront: '',//前一集按钮动作\n\t\t\tnext: '',//下一集按钮动作\n\t\t\tloaded: '',//加载播放器后调用的函数\n\t\t\tflashplayer: false,//设置成true则强制使用flashplayer\n\t\t\thtml5m3u8: false,//PC平台上是否使用h5播放器播放m3u8\n\t\t\ttrack: null,//字幕轨道\n\t\t\tcktrack: null,//ck字幕\n\t\t\tcktrackdelay:0,//字幕显示延迟时间\n\t\t\tpreview: null,//预览图片对象\n\t\t\tprompt: null,//提示点功能\n\t\t\tvideo: null,//视频地址\n\t\t\tconfig: '',//调用配置函数名称\n\t\t\ttype: '',//视频格式\n\t\t\tcrossorigin: '',//设置html5视频的crossOrigin属性\n\t\t\tcrossdomain: '',//安全策略文件地址\n\t\t\tunescape: false,//默认flashplayer里需要解码\n\t\t\tmobileCkControls: false,//移动端h5显示控制栏\n\t\t\tmobileAutoFull: true,//移动端是否默认全屏播放\n\t\t\tplaybackrate: 1,//默认倍速\n\t\t\th5container: '',//h5环境中使用自定义容器\n\t\t\tdebug: false,//是否开启调试模式\n\t\t\toverspread:true,//是否让视频铺满播放器\n\t\t\tlanguage:'',//语言文件路径\n\t\t\tstyle:'',//风格文件路径\n\t\t\t//以下为广告相关配置\n\t\t\tadfront: '',\n\t\t\tadfronttime: '',\n\t\t\tadfrontlink: '',\n\t\t\tadpause: '',\n\t\t\tadpausetime: '',\n\t\t\tadpauselink: '',\n\t\t\tadinsert: '',\n\t\t\tadinserttime: '',\n\t\t\tadinsertlink: '',\n\t\t\tinserttime: '',\n\t\t\tadend: '',\n\t\t\tadendtime: '',\n\t\t\tadendlink: '',\n\t\t\tadvertisements: ''\n\t\t};\n\t\t//全局变量:vars\n\t\tthis.vars = {};\n\t\t//全局变量：配置文件函数\n\t\tthis.ckConfig = {};\n\t\tthis.jsonConfig = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：语言配置\n\t\tthis.ckLanguage = {};\n\t\tthis.jsonLanguage = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：语言配置\n\t\tthis.ckStyle = {};\n\t\tthis.jsonStyle = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：右键菜单：[菜单标题,类型(link:链接，default:灰色，function：调用函数，javascript:调用js函数),执行内容(包含链接地址，函数名称),[line(间隔线)]]\n\t\tthis.contextMenu = [['ckplayer', 'link', 'http://www.ckplayer.com', '_blank'], ['version:X2', 'default', 'line']];\n\t\t//全局变量：错误提示列表\n\t\tthis.errorList = [\n\t\t\t['000', 'Object does not exist'], \n\t\t\t['001', 'Variables type is not a object'], \n\t\t\t['002', 'Video object does not exist'],\n\t\t\t['003', 'Video object format error'], \n\t\t\t['004', 'Video object format error'], \n\t\t\t['005', 'Video object format error'], \n\t\t\t['006', '[error] does not exist'], \n\t\t\t['007', 'Ajax error'],\n\t\t\t['008', 'Ajax error'],\n\t\t\t['009', 'Ajax object format error'],\n\t\t\t['010', 'Ajax.status:[error]'],\n\t\t\t['011', '[error] File loading failed or error'],\n\t\t\t['012', '[error]']\n\t\t];\n\t\t//全局变量：HTML5变速播放的值数组/如果不需要可以设置成null\n\t\tthis.playbackRateArr = [[0.5, '0.5X'], [1, '1X'], [1.25, '1.25X'], [1.5, '1.5X'], [2, '2X'], [4, '4X']];\n\t\t//全局变量：保存倍速\n\t\tthis.playbackRateTemp=1;\n\t\t//全局变量：HTML5默认变速播放的值\n\t\tthis.playbackRateDefault = 1;\n\t\t//全局变量：HTML5当前显示的字幕编号\n\t\tthis.subtitlesTemp=-1;\n\t\t//全局变量：定义logo\n\t\tthis.logo = '';\n\t\t//全局变量：是否加载了播放器\n\t\tthis.loaded = false;\n\t\t//全局变量：计时器，监听视频加载出错的状态\n\t\tthis.timerError = null;\n\t\t//全局变量：是否出错\n\t\tthis.error = false;\n\t\t//全局变量：出错地址的数组\n\t\tthis.errorUrl = [];\n\t\t//全局变量：计时器，监听全屏与非全屏状态\n\t\tthis.timerFull = null;\n\t\t//全局变量：是否全屏状态\n\t\tthis.full = false;\n\t\t//全局变量：计时器，监听当前的月/日 时=分=秒\n\t\tthis.timerTime = null;\n\t\t//全局变量：计时器，监听视频加载\n\t\tthis.timerBuffer = null;\n\t\t//全局变量：设置进度按钮及进度条是否跟着时间变化，该属性主要用来在按下进度按钮时暂停进度按钮移动和进度条的长度变化\n\t\tthis.isTimeButtonMove = true;\n\t\t//全局变量：进度栏是否有效，如果是直播，则不需要监听时间让进度按钮和进度条变化\n\t\tthis.isTimeButtonDown = false;\n\t\t//全局变量：计时，用来计算鼠标离开清晰度或字幕或倍速按钮后的计算时间标准\n\t\tthis.timeButtonOver=null;\n\t\t//全局变量：鼠标离开清晰度或字幕或倍速是否需要隐藏\n\t\tthis.buttonHide=false;\n\t\t//全局变量：用来模拟双击功能的判断\n\t\tthis.isClick = false;\n\t\t//全局变量：计时器，用来模拟双击功能的计时器\n\t\tthis.timerClick = null;\n\t\t//全局变量：计时器，监听鼠标在视频上移动显示控制栏\n\t\tthis.timerCBar = null;\n\t\t//全局变量：播放视频时如果该变量的值大于0，则进行跳转后设置该值为0\n\t\tthis.needSeek = 0;\n\t\t//全局变量：当前音量\n\t\tthis.volume = 0;\n\t\t//全局变量：静音时保存临时音量\n\t\tthis.volumeTemp = 0;\n\t\t//全局变量/变量类型：Number/功能：当前播放时间\n\t\tthis.time = 0;\n\t\t//全局变量：定义首次调用\n\t\tthis.isFirst = true;\n\t\t//全局变量：是否使用HTML5-VIDEO播放\n\t\tthis.html5Video = true;\n\t\t//全局变量记录视频容器节点的x;y\n\t\tthis.pdCoor = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\t//全局变量：判断当前使用的播放器类型，html5video或flashplayer\n\t\tthis.playerType = '';\n\t\t//全局变量：加载进度条的长度\n\t\tthis.loadTime = 0;\n\t\t//全局变量：body对象\n\t\tthis.body = document.body || document.documentElement;\n\t\t//全局变量：播放器\n\t\tthis.V = null;\n\t\t//全局变量：保存外部js监听事件数组\n\t\tthis.listenerJsArr = [];\n\t\t//全局变量：保存控制栏显示元素的总宽度\n\t\tthis.buttonLen = 0;\n\t\t//全局变量：保存控制栏显示元素的数组\n\t\tthis.buttonArr = [];\n\t\t//全局变量：保存播放器上新增元件的数组\n\t\tthis.elementArr = [];\n\t\t//全局变量：保存播放器上弹幕的临时数组\n\t\tthis.elementTempArr = [];\n\t\t//全局变量：字幕内容\n\t\tthis.track = [];\n\t\t//全局变量：字幕索引\n\t\tthis.trackIndex = 0;\n\t\t//全局变量：当前显示的字幕内容\n\t\tthis.nowTrackShow = {\n\t\t\tsn: ''\n\t\t};\n\t\t//全局变量：保存字幕元件数组\n\t\tthis.trackElement = [];\n\t\t//全局变量：将视频转换为图片\n\t\tthis.timerVCanvas = null;\n\t\t//全局变量：animate，缓动对象数组\n\t\tthis.animateArray = [];\n\t\t//全局变量：保存animate的元件\n\t\tthis.animateElementArray = [];\n\t\t//全局变量：保存需要在暂停时停止缓动的数组\n\t\tthis.animatePauseArray = [];\n\t\t//全局变量：预览图片加载状态/0=没有加载，1=正在加载，2=加载完成\n\t\tthis.previewStart = 0;\n\t\t//全局变量：预览图片容器\n\t\tthis.previewDiv = null;\n\t\t//全局变量：预览框\n\t\tthis.previewTop = null;\n\t\t//全局变量：预览框的宽\n\t\tthis.previewWidth = 120;\n\t\t//全局变量：预览图片容器缓动函数\n\t\tthis.previewTween = null;\n\t\t//全局变量：是否是m3u8格式，是的话则可以加载hls.js\n\t\tthis.isM3u8 = false;\n\t\t//全局变量：保存提示点数组\n\t\tthis.promptArr = [];\n\t\t//全局变量：显示提示点文件的容器\n\t\tthis.promptElement = null;\n\t\t//全局变量：控制栏是否显示\n\t\tthis.conBarShow = true;\n\t\t//全局变量：是否监听过h5的错误\n\t\tthis.errorAdd = false;\n\t\t//全局变量：是否发送了错误\n\t\tthis.errorSend = false;\n\t\t//全局变量：控制栏是否隐藏\n\t\tthis.controlBarIsShow = true;\n\t\t//全局变量，保存当前缩放比例\n\t\tthis.videoScale = 1;\n\t\t//全局变量：设置字体\n\t\tthis.fontFamily = '\"Microsoft YaHei\"; YaHei; \"\\5FAE\\8F6F\\96C5\\9ED1\"; SimHei; \"\\9ED1\\4F53\";Arial';\n\t\t//全局变量：记录第一次拖动进度按钮时的位置\n\t\tthis.timeSliderLeftTemp = 0;\n\t\t//全局变量：判断是否记录了总时间\n\t\tthis.durationSendJS = false;\n\t\t//全局变量：初始化广告分析是否结束设置\n\t\tthis.adAnalysisEnd = false;\n\t\t//全局变量：广告变量\n\t\tthis.advertisements = {};\n\t\t//全局变量：是否是第一次播放视频\n\t\tthis.isFirstTimePlay = true;\n\t\t//全局变量：当前需要播放的广告类型\n\t\tthis.adType = '';\n\t\t//全局变量：播放广告计数\n\t\tthis.adI = 0;\n\t\t//全局变量：要播放的临时地址\n\t\tthis.videoTemp = {\n\t\t\tsrc: '',\n\t\t\tsource: '',\n\t\t\tcurrentSrc: '',\n\t\t\tloop: false\n\t\t};\n\t\t//全局变量：当前要播放的广告组总时间\n\t\tthis.adTimeAllTotal = 0;\n\t\t//全局变量：肖前要播放的广告时间\n\t\tthis.adTimeTotal = 0;\n\t\t//全局变量：用来做倒计时\n\t\tthis.adCountDownObj = null;\n\t\t//全局变量：前置，中插，结尾广告是否已开始运行\n\t\tthis.adPlayStart = false;\n\t\t//全局变量：目前是否在播放广告\n\t\tthis.adPlayerPlay = false;\n\t\t//全局变量：当前广告是否暂停\n\t\tthis.adIsPause = false;\n\t\t//全局变量：视频广告是否静音\n\t\tthis.adVideoMute = false;\n\t\t//全局变量：是否需要记录当前播放的时间供广告播放结束后进行跳转\n\t\tthis.adIsVideoTime = false;\n\t\t//全局变量：后置广告是否播放\n\t\tthis.endAdPlay = false;\n\t\t//全局变量：暂停广告是否在显示\n\t\tthis.adPauseShow = false;\n\t\t//全局变量：是否需要重置广告以实现重新播放时再播放一次\n\t\tthis.adReset = false;\n\t\t//全局变量：记录鼠标在视频上点击时的坐标\n\t\tthis.videoClickXy={x:0,y:0};\n\t\t//全局变量：是否在播放广告时播放过视频广告\n\t\tthis.adVideoPlay = false;\n\t\t\n\t\t//全局变量：临时存储已加载时间的变量\n\t\tthis.loadTimeTemp=0;\n\t\t//全局变量，临时存储hls形式下首次加载时是否需要暂停或播放的判断\n\t\tthis.hlsAutoPlay=true;\n\t\t//全局变量，loading是否显示\n\t\tthis.loadingShow=false;\n\t\t//全局变量，保存视频地址字符串的\n\t\tthis.videoString='';\n\t\t//全局变量，保存所有自定义元件的数组\n\t\tthis.customeElement=[];\n\t\t//全局变量，保存PD的宽高\n\t\tthis.cdWH={w:0,h:0};\n\t\t//全局变量，保存所有的元素变量\n\t\tthis.CB={};\n\t\t//全局变量，调用当前路径\n\t\tthis.ckplayerPath=this.getPath();\n\t\tif (obj) {\n\t\t\tthis.embed(obj);\n\t\t}\n\t};\n\tckplayer.prototype = {\n\t\t/*\n\t\t\t主要函数部分开始\n\t\t\t主接口函数：\n\t\t\t调用播放器需初始化该函数\n\t\t*/\n\t\tembed: function(c) {\n\t\t\t//c:Object：是调用接口传递的属性对象\n\t\t\tif (window.location.href.substr(0, 7) == 'file://') {//如果是使用的file协议打网页则弹出提示\n\t\t\t\talert('Please use the HTTP protocol to open the page');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(c)) {\n\t\t\t\tthis.eject(this.errorList[0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(c) != 'object') {\n\t\t\t\tthis.eject(this.errorList[1]);\n\t\t\t}\n\t\t\tthis.vars = this.standardization(this.varsDefault, c);\n\t\t\tif (!this.vars['mobileCkControls'] && this.isMobile()) {\n\t\t\t\tthis.vars['flashplayer'] = false;\n\t\t\t\tthis.conBarShow = false;\n\t\t\t}\n\t\t\tvar videoStringTemp = this.vars['video'];\n\t\t\tif (!videoStringTemp) {\n\t\t\t\tthis.eject(this.errorList[2]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(videoStringTemp) == 'string') {\n\t\t\t\tif (videoStringTemp.substr(0, 3) == 'CK:' || videoStringTemp.substr(0, 3) == 'CE:' || videoStringTemp.substr(8, 3) == 'CK:' || videoStringTemp.substr(8, 3) == 'CE:') {\n\t\t\t\t\tthis.vars['flashplayer'] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.varType(videoStringTemp) == 'object') {\n\t\t\t\tif (videoStringTemp.length > 1) {\n\t\t\t\t\tif (videoStringTemp[0][0].substr(0, 3) == 'CK:' || videoStringTemp[0][0].substr(0, 3) == 'CE:' || videoStringTemp[0][0].substr(8, 3) == 'CK:' || videoStringTemp[0][0].substr(8, 3) == 'CE:') {\n\t\t\t\t\t\tthis.vars['flashplayer'] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.videoString=videoStringTemp;\n\t\t\tthis.checkUpConfig();\t\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载config文件\n\t\t*/\n\t\tcheckUpConfig:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar configPath='';\n\t\t\tvar jsTemp=null;\n\t\t\tif (this.vars['config']) {\n\t\t\t\tif (this.vars['config'].substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp= eval(this.vars['config'] + '()');\n\t\t\t\t\tif(!this.isUndefined(jsTemp)){\n\t\t\t\t\t\tthis.ckConfig=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.jsonConfig=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.loadConfig(null);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadConfig(this.ckplayerPath+this.vars['config']);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadConfig(this.ckplayerPath+this.vars['config'].substr(8));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t\t\tvar isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerConfig)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp= ckplayerConfig();\n\t\t\t          \tif(jsTemp){\n\t\t\t          \t\tthis.ckConfig=this.newObj(jsTemp);\n\t\t\t          \t\tthis.jsonConfig=this.newObj(jsTemp);\n\t\t\t          \t\tthis.loadConfig(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthis.loadConfig(this.ckplayerPath+'ckplayer.json');\n\t\t\t\t\t\t}\n\t\t\t        }\n\t\t\t        else {\n\t\t\t           this.loadConfig(this.ckplayerPath+'ckplayer.json');\n\t\t\t        }\n\t\t\t    } catch(e) {\n\t\t\t    \tthisTemp.sysError(thisTemp.errorList[12],e);//系统错误\n\t\t\t    }\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadConfig:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.ckConfig=data;\n\t\t\t\t\t\t\tthisTemp.jsonConfig=thisTemp.newObj(data);\n\t\t\t\t\t\t\tif(!thisTemp.isUndefined(data['flashvars'])){\n\t\t\t\t\t\t\t\tthisTemp.vars=thisTemp.objectAssign(data['flashvars'],thisTemp.vars);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.checkUpLanguage();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'Config');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.checkUpLanguage();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载语言文件\n\t\t*/\n\t\tcheckUpLanguage:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar languagePath='';\n\t\t\tvar jsTemp=null;\n\t\t\tif (this.vars['language']) {\n\t\t\t\tlanguagePath=this.vars['language'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif (this.ckConfig['languagePath']) {\n\t\t\t\t\tlanguagePath=this.ckConfig['languagePath'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (languagePath) {\n\t\t\t\tif (languagePath.substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp = eval(languagePath + '()');\n\t\t\t\t\tif(jsTemp){\n\t\t\t\t\t\tthis.ckLanguage=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.jsonLanguage=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.loadLanguage(null);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadLanguage(this.ckplayerPath+languagePath);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadLanguage(this.ckplayerPath+languagePath.substr(8));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t\t\tvar isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerLanguage)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp = ckplayerLanguage();\n\t\t\t          \tif(jsTemp){\n\t\t\t          \t\tthis.ckLanguage=this.newObj(jsTemp);\n\t\t\t          \t\tthis.jsonLanguage=this.newObj(jsTemp);\n\t\t\t          \t\tthis.loadLanguage(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t this.loadLanguage(this.ckplayerPath+'language.json');\n\t\t\t\t\t\t}\n\t\t\t        }\n\t\t\t        else {\n\t\t\t           this.loadLanguage(this.ckplayerPath+'language.json');\n\t\t\t        }\n\t\t\t    } catch(e) {\n\t\t\t    \tthisTemp.sysError(thisTemp.errorList[12],e);//系统错误\n\t\t\t    }\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadLanguage:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.ckLanguage=data;\n\t\t\t\t\t\t\tthisTemp.jsonLanguage=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.checkUpStyle();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'language.json');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.checkUpStyle();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载皮肤文件\n\t\t*/\n\t\tcheckUpStyle:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar stylePath='';\n\t\t\tvar jsTemp=null;\n\t\t\tvar configJs=this.newObj(this.ckConfig);\n\t\t\tif (this.vars['style']) {\n\t\t\t\tstylePath=this.vars['style'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif (this.ckConfig['stylePath']) {\n\t\t\t\t\tstylePath=''+this.ckConfig['stylePath'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (stylePath) {\n\t\t\t\tif (stylePath.substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp = eval(stylePath + '()');\n\t\t\t\t\tif(!this.isUndefined(jsTemp)){\n\t\t\t          \tthis.jsonStyle=this.newObj(jsTemp);\n\t\t\t          \tthis.ckStyle=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.ckStyle['advertisement']=this.objectAssign(configJs['style']['advertisement'],this.ckStyle['advertisement']);\n\t\t\t\t\t\tthis.ckStyle=this.objectAssign(configJs['style'],this.ckStyle);\n\t\t\t\t\t\tthis.loadStyle(null);\n\t\t\t        }\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadStyle(this.ckplayerPath+stylePath);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadStyle(this.ckplayerPath+stylePath.substr(8));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t       var isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerStyle)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){isFun=false;}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp= ckplayerStyle();\n\t\t\t          \tif(!this.isUndefined(jsTemp)){\n\t\t\t          \t\tthis.jsonStyle=this.newObj(jsTemp);\n\t\t\t          \t\tthis.ckStyle=this.newObj(jsTemp);\n\t\t\t\t\t\t\tthis.ckStyle['advertisement']=this.objectAssign(configJs['style']['advertisement'],this.ckStyle['advertisement']);\n\t\t\t\t\t\t\tthis.ckStyle=this.objectAssign(configJs['style'],this.ckStyle);\n\t\t\t\t\t\t\tthis.loadStyle(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthis.loadStyle(this.ckplayerPath+'style.json');\n\t\t\t\t\t\t}\n\t\t\t\t    }\n\t\t\t        else {\n\t\t\t           this.loadStyle(this.ckplayerPath+'style.json');\n\t\t\t        }\n\t\t\t    } catch(e) {}\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadStyle:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tvar configJs=this.newObj(this.ckConfig);\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.jsonStyle=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.ckStyle=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.ckStyle['advertisement']=thisTemp.objectAssign(configJs['style']['advertisement'],thisTemp.ckStyle['advertisement']);\n\t\t\t\t\t\t\tthisTemp.ckStyle=thisTemp.objectAssign(configJs['style'],thisTemp.ckStyle);\n\t\t\t\t\t\t\tthisTemp.loadConfigHandler();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'Style');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.loadConfigHandler();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t当config,language,style三个文件或函数处理完成后执行的动作\n\t\t*/\n\t\tloadConfigHandler:function(){\n\t\t\tif ((!this.supportVideo() && this.vars['flashplayer'] != '') || (this.vars['flashplayer'] && this.uploadFlash()) || !this.isMsie()) {\n\t\t\t\tthis.html5Video = false;\n\t\t\t\tthis.getVideo();\n\t\t\t} \n\t\t\telse if (this.videoString) {\n\t\t\t\t//判断视频数据类型\n\t\t\t\tthis.analysedVideoUrl(this.videoString);\n\t\t\t} \n\t\t\telse {\n\t\t\t\tthis.eject(this.errorList[2]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据外部传递过来的video开始分析视频地址\n\t\t*/\n\t\tanalysedVideoUrl: function(video) {\n\t\t\tvar i = 0,\n\t\t\ty = 0;\n\t\t\tvar thisTemp = this;\n\t\t\tthis.VA = [];//定义全局变量VA：视频列表（包括视频地址，类型，清晰度说明）\n\t\t\tif (this.varType(video) == 'string') { //如果是字符形式的则判断后缀进行填充\n\t\t\t\tif (video.substr(0, 8) != 'website:') {\n\t\t\t\t\tthis.VA = [[video, '', '', 0]];\n\t\t\t\t\tvar fileExt = this.getFileExt(video);\n\t\t\t\t\tswitch (fileExt) {\n\t\t\t\t\tcase '.mp4':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/mp4';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '.ogg':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/ogg';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '.webm':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/webm';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tthis.getVideo();\n\t\t\t\t} else {\n\t\t\t\t\tif (this.html5Video) {\n\t\t\t\t\t\tvar ajaxObj = {\n\t\t\t\t\t\t\turl: video.substr(8),\n\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\t\t\tthisTemp.analysedUrl(data);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[5]);\n\t\t\t\t\t\t\t\t\tthis.VA = video;\n\t\t\t\t\t\t\t\t\tthisTemp.getVideo();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror:function(data){\n\t\t\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.VA = video;\n\t\t\t\t\t\tthis.getVideo();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t} \n\t\t\telse if(this.varType(video)=='array'){//如果视频地址是数组\n\t\t\t\tif (this.varType(video[0])=='array') { //如果视频地址是二维数组\n\t\t\t\t\tthis.VA = video;\n\t\t\t\t}\n\t\t\t\tthis.getVideo();\n\t\t\t}\n\t\t\telse if(this.varType(video)=='object'){\n\t\t\t\t/*\n\t\t\t\t\t如果video格式是对象形式，则分二种\n\t\t\t\t\t如果video对象里包含type，则直接播放\n\t\t\t\t*/\n\t\t\t\tif (!this.isUndefined(video['type'])) {\n\t\t\t\t\tthis.VA.push([video['file'], video['type'], '', 0]);\n\t\t\t\t\tthis.getVideo();\n\t\t\t\t} else {\n\t\t\t\t\tthis.eject(this.errorList[5]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.eject(this.errorList[4]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t对请求到的视频地址进行重新分析\n\t\t*/\n\t\tanalysedUrl: function(data) {\n\t\t\tthis.vars = this.standardization(this.vars, data);\n\t\t\tif (!this.isUndefined(data['video'])) {\n\t\t\t\tthis.vars['video'] = data['video'];\n\t\t\t}\n\t\t\tthis.analysedVideoUrl(this.vars['video']);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t检查浏览器支持的视频格式，如果是则将支持的视频格式重新分组给播放列表\n\t\t*/\n\t\tgetHtml5Video: function() {\n\t\t\tvar va = this.VA;\n\t\t\tvar nva = [];\n\t\t\tvar mobile = this.isMobile();\n\t\t\tvar video = document.createElement('video');\n\t\t\tvar codecs = function(type) {\n\t\t\t\tvar cod = '';\n\t\t\t\tswitch (type) {\n\t\t\t\tcase 'video/mp4':\n\t\t\t\t\tcod = 'avc1.4D401E, mp4a.40.2';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video/ogg':\n\t\t\t\t\tcod = 'theora, vorbis';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video/webm':\n\t\t\t\t\tcod = 'vp8.0, vorbis';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn cod;\n\t\t\t};\n\t\t\tvar supportType = function(vidType, codType) {\n\t\t\t\tif (!video.canPlayType) {\n\t\t\t\t\tthis.html5Video = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar isSupp = video.canPlayType(vidType + ';codecs=\"' + codType + '\"');\n\t\t\t\tif (isSupp == '') {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tif (this.vars['flashplayer'] || !this.isMsie()) {\n\t\t\t\tthis.html5Video = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (var i = 0; i < va.length; i++) {\n\t\t\t\tvar v = va[i];\n\t\t\t\tif (v) {\n\t\t\t\t\tif (v[1] != '' && !mobile && supportType(v[1], codecs(v[1])) && v[0].substr(0, 4) != 'rtmp') {\n\t\t\t\t\t\tnva.push(v);\n\t\t\t\t\t}\n\t\t\t\t\tif ((this.getFileExt(v[0]) == '.m3u8' || this.vars['type'] == 'video/m3u8' || this.vars['type'] == 'm3u8' || v[1] == 'video/m3u8' || v[1] == 'm3u8') && this.vars['html5m3u8'] && !mobile) {\n\t\t\t\t\t\tthis.isM3u8 = true;\n\t\t\t\t\t\tnva.push(v);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (nva.length > 0) {\n\t\t\t\tthis.VA = nva;\n\t\t\t} else {\n\t\t\t\tif (!mobile) {\n\t\t\t\t\tthis.html5Video = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据视频地址开始构建播放器\n\t\t*/\n\t\tgetVideo: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar v = this.vars;\n\t\t\t//如果存在广告字段则开始分析广告\n\t\t\tif (!this.adAnalysisEnd && (v['adfront'] != '' || v['adpause'] != '' || v['adinsert'] != '' || v['adend'] != '' || v['advertisements'] != '')) {\n\t\t\t\tthis.adAnalysisEnd = true;\n\t\t\t\tthis.adAnalysis();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//如果存在字幕则加载\n\t\t\tif (this.V) { //如果播放器已存在，则认为是从newVideo函数发送过来的请求\n\t\t\t\tthis.changeVideo();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.vars['cktrack']) {\n\t\t\t\tthis.loadTrack();\n\t\t\t}\n\t\t\tif (this.supportVideo() && !this.vars['flashplayer']) {\n\t\t\t\tthis.getHtml5Video(); //判断浏览器支持的视频格式\n\t\t\t}\n\t\t\tvar src = '',\n\t\t\tsource = '',\n\t\t\tposter = '',\n\t\t\tloop = '',\n\t\t\tautoplay = '',\n\t\t\ttrack = '',\n\t\t\tcrossorigin='';\n\t\t\tvar video = v['video'];\n\t\t\tvar i = 0;\n\t\t\tvar vBg=this.ckStyle['background']['backgroundColor'].replace('0x','#');\n\t\t\tthis.CD = this.getByElement(v['container']);\n\t\t\tvolume = v['volume'];\n\t\t\tif (this.isUndefined(this.CD)) {\n\t\t\t\tthis.eject(this.errorList[6], v['container']);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\t//开始构建播放器容器\n\t\t\tthis.V = undefined;\n\t\t\tvar thisPd = null;\n\t\t\tif (v['h5container'] != '') {\n\t\t\t\tthisPd = this.getByElement(v['h5container']);\n\t\t\t\tif (this.isUndefined(thisPd)) {\n\t\t\t\t\tthisPd = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar isVideoH5 = null; //isUndefined  thisPd\n\t\t\tif (v['playerID'] != '') {\n\t\t\t\tisVideoH5 = this.getByElement('#' + v['playerID']);\n\t\t\t\tif (this.isUndefined(isVideoH5)) {\n\t\t\t\t\tisVideoH5 = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (thisPd != null && isVideoH5 != null) {\n\t\t\t\tthis.PD = thisPd; //PD:定义播放器容器对象全局变量\n\t\t\t} else {\n\t\t\t\tvar playerID = 'ckplayer-' + this.randomString();\n\t\t\t\tvar playerDiv = document.createElement('div');\n\t\t\t\tplayerDiv.className = playerID;\n\t\t\t\tthis.CD.innerHTML = '';\n\t\t\t\tthis.CD.appendChild(playerDiv);\n\t\t\t\tthis.PD = playerDiv; //PD:定义播放器容器对象全局变量\n\t\t\t}\n\t\t\tthis.css(this.CD, {\n\t\t\t\tbackgroundColor: vBg,\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tposition: 'relative'\n\t\t\t});\n\t\t\tthis.css(this.PD, {\n\t\t\t\tbackgroundColor: vBg,\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '100%',\n\t\t\t\tfontFamily: this.fontFamily\n\t\t\t});\n\t\t\tif (this.html5Video) { //如果支持HTML5-VIDEO则默认使用HTML5-VIDEO播放器\n\t\t\t\t\n\t\t\t\t//禁止播放器容器上鼠标选择文本\n\t\t\t\tthis.PD.onselectstart = this.PD.ondrag = function() {\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t\t//播放器容器构建完成并且设置好样式\n\t\t\t\t//构建播放器\n\t\t\t\tif (this.VA.length == 1) {\n\t\t\t\t\tthis.videoTemp['src'] = decodeURIComponent(this.VA[0][0]);\n\t\t\t\t\tsrc = ' src=\"' + this.videoTemp['src'] + '\"';\n\n\t\t\t\t} else {\n\t\t\t\t\tvar videoArr = this.VA.slice(0);\n\t\t\t\t\tvideoArr = this.arrSort(videoArr);\n\t\t\t\t\tfor (i = 0; i < videoArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = videoArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t\tif (type == ' type=\"video/m3u8\"' || type == ' type=\"m3u8\"') {\n\t\t\t\t\t\t\t\ttype = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + decodeURIComponent(va[0]) + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.videoTemp['source'] = source;\n\t\t\t\t}\n\t\t\t\t//分析视频地址结束\n\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\tautoplay = ' autoplay=\"autoplay\"';\n\t\t\t\t}\n\t\t\t\tif (v['poster']) {\n\t\t\t\t\tposter = ' poster=\"' + v['poster'] + '\"';\n\t\t\t\t}\n\t\t\t\tif (v['loop']) {\n\t\t\t\t\tloop = ' loop=\"loop\"';\n\t\t\t\t}\n\t\t\t\tif (v['seek'] > 0) {\n\t\t\t\t\tthis.needSeek = v['seek'];\n\t\t\t\t}\n\t\t\t\tif (v['track'] != null && v['cktrack'] == null) {\n\t\t\t\t\tvar trackArr = v['track'];\n\t\t\t\t\tvar trackDefault = '';\n\t\t\t\t\tvar defaultHave = false;\n\t\t\t\t\tfor (i = 0; i < trackArr.length; i++) {\n\t\t\t\t\t\tvar trackObj = trackArr[i];\n\t\t\t\t\t\tif (trackObj['default'] && !defaultHave) {\n\t\t\t\t\t\t\ttrackDefault = ' default';\n\t\t\t\t\t\t\tdefaultHave = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttrackDefault = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttrack += '<track kind=\"' + trackObj['kind'] + '\" src=\"' + trackObj['src'] + '\" srclang=\"' + trackObj['srclang'] + '\" label=\"' + trackObj['label'] + '\"' + trackDefault + '>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(v['crossorigin']){\n\t\t\t\t\tcrossorigin=' crossorigin=\"'+v['crossorigin']+'\"';\n\t\t\t\t}\n\t\t\t\tvar autoLoad = this.ckConfig['config']['autoLoad'];\n\t\t\t\tvar preload = '';\n\t\t\t\tif (!autoLoad) {\n\t\t\t\t\tpreload = ' preload=\"meta\"';\n\t\t\t\t}\n\t\t\t\tvar vid = this.randomString();\n\t\t\t\tvar controls = '';\n\t\t\t\tvar mobileAutoFull = v['mobileAutoFull'];\n\t\t\t\tvar mobileautofull = '';\n\t\t\t\tif (!mobileAutoFull) {\n\t\t\t\t\tmobileautofull = ' x-webkit-airplay=\"true\" playsinline  webkit-playsinline=\"true\"  x5-video-player-type=\"h5\"';\n\t\t\t\t}\n\t\t\t\tif(this.isMobile()){\n\t\t\t\t\tcontrols = ' controls=\"controls\"';\n\t\t\t\t}\n\t\t\t\tif (isVideoH5 != null && thisPd != null) {\n\t\t\t\t\tthis.V = isVideoH5;\n\t\t\t\t\tif (v['poster']) {\n\t\t\t\t\t\tthis.V.poster = v['poster'];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar html = '';\n\t\t\t\t\tif (!this.isM3u8) {\n\t\t\t\t\t\thtml = '<video id=\"' + vid + '\"' + src + ' controlslist=\"nodownload\" width=\"100%\" height=\"100%\"' + autoplay + poster + loop + preload + controls + mobileautofull + track + crossorigin+'>' + source + '</video>';\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml = '<video id=\"' + vid + '\" controlslist=\"nodownload\" width=\"100%\" height=\"100%\"' + poster + loop + preload + controls + mobileautofull + track + crossorigin+'></video>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.PD.innerHTML = html;\n\t\t\t\t\tthis.V = this.getByElement('#' + vid); //V：定义播放器对象全局变量\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.volume = volume; //定义音量\n\t\t\t\t\tif (this.playbackRateArr && this.vars['playbackrate'] > -1) {\n\t\t\t\t\t\tif (this.vars['playbackrate'] < this.playbackRateArr.length) {\n\t\t\t\t\t\t\tthis.playbackRateDefault = this.vars['playbackrate'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.V.playbackRate = this.playbackRateArr[this.playbackRateDefault][0]; //定义倍速\n\t\t\t\t\t}\n\t\t\t\t} catch(error) {}\n\t\t\t\tthis.css(this.V, {\n\t\t\t\t\tbackgroundColor: vBg,\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100%'\n\t\t\t\t});\n\t\t\t\tif (this.isM3u8) {\n\t\t\t\t\tvar loadJsHandler = function() {\n\t\t\t\t\t\tthisTemp.embedHls(thisTemp.VA[0][0], v['autoplay']);\n\t\t\t\t\t};\n\t\t\t\t\tthis.loadJs(this.ckplayerPath + 'hls/hls.min.js', loadJsHandler);\n\t\t\t\t}\n\t\t\t\tthis.css(this.V, 'backgroundColor', vBg);\n\t\t\t\t//创建一个画布容器\n\t\t\t\tif (this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\t\tvar canvasDiv = document.createElement('div');\n\t\t\t\t\tthis.PD.appendChild(canvasDiv);\n\t\t\t\t\tthis.MD = canvasDiv; //定义画布存储容器\n\t\t\t\t\tthis.css(this.MD, {\n\t\t\t\t\t\tbackgroundColor: vBg,\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\ttop: '0px',\n\t\t\t\t\t\tzIndex: '10'\n\t\t\t\t\t});\n\t\t\t\t\tvar cvid = 'ccanvas' + this.randomString();\n\t\t\t\t\tthis.MD.innerHTML = this.newCanvas(cvid, this.MD.offsetWidth, this.MD.offsetHeight);\n\t\t\t\t\tthis.MDC = this.getByElement(cvid + '-canvas');\n\t\t\t\t\tthis.MDCX = this.MDC.getContext('2d');\n\t\t\t\t}\n\t\t\t\tthis.playerType = 'html5video';\n\t\t\t\t//播放器构建完成并且设置好样式\n\t\t\t\t//建立播放器的监听函数，包含操作监听及事件监听\n\t\t\t\tthis.addVEvent();\n\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t//根据清晰度的值构建清晰度切换按钮\n\t\t\t\t\tthis.definition();\n\t\t\t\t\tif (!this.vars['live'] && this.playbackRateArr && this.vars['playbackrate'] > -1) {\n\t\t\t\t\t\tthis.playbackRate();\n\t\t\t\t\t}\n\t\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\t\tthis.loadingStart(true);\n\t\t\t\t\t}\n\t\t\t\t\tthis.subtitleSwitch();\n\t\t\t\t}\n\t\t\t\tthis.playerLoad();\n\t\t\t} else { //如果不支持HTML5-VIDEO则调用flashplayer\n\t\t\t\tthis.embedSWF();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t分析广告数据\n\t\t*/\n\t\tadAnalysis: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar v = this.vars;\n\t\t\tvar isAdvShow = [];\n\t\t\tvar i = 0;\n\t\t\tif (v['advertisements'] != '' && v['advertisements'].substr(0, 8) == 'website:') {\n\t\t\t\tvar ajaxObj = {\n\t\t\t\t\turl: v['advertisements'].substr(8),\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\tvar newData = {};\n\t\t\t\t\t\t\tvar val = null;\n\t\t\t\t\t\t\t//对广告进行分析\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(data['front']) || !thisTemp.isUndefined(data['pause']) || !thisTemp.isUndefined(data['end']) || !thisTemp.isUndefined(data['insert']) || !thisTemp.isUndefined(data['other'])) {\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['front']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['front'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['pause']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['pause'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['insert']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['insert'] = val;\n\t\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(data['inserttime'])) {\n\t\t\t\t\t\t\t\t\t\t\tnewData['inserttime'] = thisTemp.arrayInt(data['inserttime']);\n\t\t\t\t\t\t\t\t\t\t\tisAdvShow = [];\n\t\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < newData['inserttime'].length; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\tisAdvShow.push(false);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tnewData['insertPlay'] = isAdvShow;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['end']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['end'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['other']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['other'] = val;\n\t\t\t\t\t\t\t\t\t\tisAdvShow = [];\n\t\t\t\t\t\t\t\t\t\tvar arrTemp = [];\n\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < val.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\tisAdvShow.push(false);\n\t\t\t\t\t\t\t\t\t\t\tarrTemp.push(parseInt('0' + val[i]['startTime']));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnewData['othertime'] = arrTemp;\n\t\t\t\t\t\t\t\t\t\tnewData['otherPlay'] = isAdvShow;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\tthisTemp.log(event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.advertisements = newData;\n\t\t\t\t\t\t\t//对广告进行分析结束\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisTemp.getVideo();\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){}\n\t\t\t\t};\n\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t} else {\n\t\t\t\t//根据广告分析\n\t\t\t\tthis.adAnalysisOne('front', 'adfront', 'adfronttime', 'adfrontlink', 'adfronttype');\n\t\t\t\tthis.adAnalysisOne('pause', 'adpause', 'adpausetime', 'adpauselink', 'adpausetype');\n\t\t\t\tthis.adAnalysisOne('insert', 'adinsert', 'adinserttime', 'adinsertlink', 'adinserttype');\n\t\t\t\tthis.adAnalysisOne('end', 'adend', 'adendtime', 'adendlink', 'adendtype');\n\t\t\t\tif (!this.isUndefined(this.advertisements['insert'])) {\n\t\t\t\t\tif (!this.isUndefined(v['inserttime'])) {\n\t\t\t\t\t\tthisTemp.advertisements['inserttime'] = v['inserttime'];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!this.isUndefined(thisTemp.advertisements['inserttime'])) {\n\t\t\t\t\tthisTemp.advertisements['inserttime'] = thisTemp.arrayInt(thisTemp.advertisements['inserttime']);\n\t\t\t\t\tisInsert = [];\n\t\t\t\t\tfor (i = 0; i < thisTemp.advertisements['inserttime'].length; i++) {\n\t\t\t\t\t\tisInsert.push(false);\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.advertisements['insertPlay'] = isInsert;\n\t\t\t\t}\n\t\t\t\tthisTemp.getVideo();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t将广告数组数据里不是视频和图片的去除\n\t\t*/\n\t\tarrayDel: function(arr) {\n\t\t\tif(this.isUndefined(arr)){\n\t\t\t\treturn arr;\n\t\t\t}\n\t\t\tif (arr.length == 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar newArr = [];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar type = arr[i]['type'];\n\t\t\t\tif (type == 'mp4' || type == 'mov' || this.isStrImage(type)) {\n\t\t\t\t\tnewArr.push(arr[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (newArr.length > 0) {\n\t\t\t\treturn newArr;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\t/*分析单个类型的广告*/\n\t\tadAnalysisOne: function(adType, adName, adTime, adLink, adStype) {\n\t\t\tvar v = this.vars;\n\t\t\tif (this.isUndefined(v[adName])) {\n\t\t\t\tv[adName] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adTime])) {\n\t\t\t\tv[adTime] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adLink])) {\n\t\t\t\tv[adLink] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adStype])) {\n\t\t\t\tv[adStype] = '';\n\t\t\t}\n\t\t\tif (v[adName] != '') {\n\t\t\t\tvar adList = [];\n\t\t\t\tvar ad = v[adName].split(',');\n\t\t\t\tvar adtime = v[adTime].split(',');\n\t\t\t\tvar adlink = v[adLink].split(',');\n\t\t\t\tvar adstype = v[adStype].split(',');\n\t\t\t\tvar i = 0;\n\t\t\t\tif (ad.length > 0) {\n\t\t\t\t\tvar adLinkLen = adlink.length,\n\t\t\t\t\tadTimeLen = adtime.length;\n\t\t\t\t\tif (v[adLink] == '') {\n\t\t\t\t\t\tadLinkLen = 0;\n\t\t\t\t\t\tadlink = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (v[adTime] == '') {\n\t\t\t\t\t\tadTimeLen = 0;\n\t\t\t\t\t\tadtime = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (adLinkLen < ad.length) {\n\t\t\t\t\t\tfor (i = adLinkLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadlink.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (adTimeLen < ad.length) {\n\t\t\t\t\t\tfor (i = adTimeLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadtime.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar adstypeLen = adstype.length;\n\t\t\t\t\tif (v[adStype] == '') {\n\t\t\t\t\t\tadstypeLen = 0;\n\t\t\t\t\t\tadstype = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (adstypeLen < ad.length) {\n\t\t\t\t\t\tfor (i = adstypeLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadstype.push(this.getFileExt(ad[i]).replace('.', ''));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (i = 0; i < ad.length; i++) {\n\t\t\t\t\t\tvar type = adstype[i];\n\t\t\t\t\t\tif (type == 'mp4' || type == 'mov' || this.isStrImage(type)) {\n\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\tfile: ad[i],\n\t\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t\t\ttime: parseInt(adtime[i]) > 0 ? parseInt(adtime[i]) : this.ckStyle['advertisement']['time'],\n\t\t\t\t\t\t\t\tlink: adlink[i]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tadList.push(obj);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (this.isUndefined(this.advertisements)) {\n\t\t\t\t\t\tthis.advertisements = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (adList.length > 0) {\n\t\t\t\t\t\tthis.advertisements[adType] = adList;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t发送播放器加载成功的消息\n\t\t*/\n\t\tplayerLoad: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.isFirst) {\n\t\t\t\tthis.isFirst = false;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthisTemp.loadedHandler();\n\t\t\t\t},1);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t建立播放器的监听函数，包含操作监听及事件监听\n\t\t*/\n\t\taddVEvent: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar duration=0;\n\t\t\t//监听视频单击事件\n\t\t\tvar eventVideoClick = function(event) {\n\t\t\t\tthisTemp.videoClickXy={x:event.clientX,y:event.clientY};\n\t\t\t\tthisTemp.videoClick();\n\t\t\t};\n\t\t\tthis.addListenerInside('click', eventVideoClick);\n\t\t\tthis.addListenerInside('click', eventVideoClick, this.MDC);\n\t\t\t//延迟计算加载失败事件\n\t\t\tthis.timerErrorFun();\n\t\t\t//监听视频加载到元数据事件\n\t\t\tvar eventJudgeIsLive = function(event) {\n\t\t\t\tthisTemp.sendJS('loadedmetadata');\n\t\t\t\tif (thisTemp.varType(thisTemp.V.duration) == 'number' && thisTemp.V.duration > 1) {\n\t\t\t\t\tduration = thisTemp.V.duration;\n\t\t\t\t\tif(!duration){\n\t\t\t\t\t\tif(thisTemp.vars['duration']>0){\n\t\t\t\t\t\t\tduration=thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.sendJS('duration', duration);\n\t\t\t\t\tthisTemp.formatInserttime(duration);\n\t\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\t\tthisTemp.advertisementsTime(duration + 1);\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.durationSendJS = true;\n\t\t\t\t}\n\t\t\t\tif (thisTemp.conBarShow) {\n\t\t\t\t\tthisTemp.V.controls=null;\n\t\t\t\t\tthisTemp.videoCss();\n\t\t\t\t}\n\t\t\t\tthisTemp.judgeIsLive();\n\t\t\t};\n\t\t\t//监听视频播放事件\n\t\t\tvar eventPlaying = function(event) {\n\t\t\t\tthisTemp.playingHandler();\n\t\t\t\tthisTemp.sendJS('play');\n\t\t\t\tthisTemp.sendJS('paused', false);\n\t\t\t\tif (!thisTemp.durationSendJS && thisTemp.varType(thisTemp.V.duration) == 'number' && thisTemp.V.duration > 0) {\n\t\t\t\t\tduration = thisTemp.V.duration;\n\t\t\t\t\tif(!duration){\n\t\t\t\t\t\tif(thisTemp.vars['duration']>0){\n\t\t\t\t\t\t\tduration=thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.durationSendJS = true;\n\t\t\t\t\tthisTemp.sendJS('duration', duration);\n\t\t\t\t\tthisTemp.formatInserttime(duration);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('playing', eventPlaying);\n\t\t\t//监听视频暂停事件\n\t\t\tvar eventPause = function(event) {\n\t\t\t\tthisTemp.pauseHandler();\n\t\t\t\tthisTemp.sendJS('pause');\n\t\t\t\tthisTemp.sendJS('paused', true);\n\t\t\t};\n\t\t\tthis.addListenerInside('pause', eventPause);\n\t\t\t//监听视频播放结束事件\n\t\t\tvar eventEnded = function(event) {\n\t\t\t\tthisTemp.endedHandler();\n\t\t\t};\n\t\t\tthis.addListenerInside('ended', eventEnded);\n\t\t\t//监听视频播放时间事件\n\t\t\tvar eventTimeupdate = function(event) {\n\t\t\t\tif (thisTemp.loadingShow) {\n\t\t\t\t\tthisTemp.loadingStart(false);\n\t\t\t\t}\n\t\t\t\tif (thisTemp.time) {\n\t\t\t\t\tif (!thisTemp.adPlayerPlay) {\n\t\t\t\t\t\tthisTemp.sendJS('time', thisTemp.time);\n\t\t\t\t\t\t//监听中间插入广告是否需要播放\n\t\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['insert'])) {\n\t\t\t\t\t\t\tthisTemp.checkAdInsert(thisTemp.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//监听其它广告\n\t\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['other'])) {\n\t\t\t\t\t\t\tthisTemp.checkAdOther(thisTemp.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (thisTemp.time < 3 && thisTemp.adReset) {\n\t\t\t\t\t\t\tthisTemp.adReset = false;\n\t\t\t\t\t\t\tthisTemp.endedAdReset();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { //如果是广告则进行广告倒计时\n\t\t\t\t\t\tthisTemp.adPlayerTimeHandler(thisTemp.time);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('timeupdate', eventTimeupdate);\n\t\t\t//监听视频缓冲事件\n\t\t\tvar eventWaiting = function(event) {\n\t\t\t\tthisTemp.loadingStart(true);\n\t\t\t};\n\t\t\tthis.addListenerInside('waiting', eventWaiting);\n\t\t\t//监听视频seek开始事件\n\t\t\tvar eventSeeking = function(event) {\n\t\t\t\tthisTemp.sendJS('seek', 'start');\n\t\t\t};\n\t\t\tthis.addListenerInside('seeking', eventSeeking);\n\t\t\t//监听视频seek结束事件\n\t\t\tvar eventSeeked = function(event) {\n\t\t\t\tthisTemp.seekedHandler();\n\t\t\t\tthisTemp.sendJS('seek', 'ended');\n\t\t\t};\n\t\t\tthis.addListenerInside('seeked', eventSeeked);\n\t\t\t//监听视频音量\n\t\t\tvar eventVolumeChange = function(event) {\n\t\t\t\ttry {\n\t\t\t\t\tthisTemp.volumechangeHandler();\n\t\t\t\t\tthisTemp.sendJS('volume', thisTemp.volume || thisTemp.V.volume);\n\t\t\t\t} catch(event) {}\n\t\t\t};\n\t\t\tthis.addListenerInside('volumechange', eventVolumeChange);\n\t\t\t//监听全屏事件\n\t\t\tvar eventFullChange = function(event) {\n\t\t\t\tvar fullState = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen;\n\t\t\t\tthisTemp.sendJS('full', fullState);\n\t\t\t};\n\t\t\tthis.addListenerInside('fullscreenchange', eventFullChange);\n\t\t\tthis.addListenerInside('webkitfullscreenchange', eventFullChange);\n\t\t\tthis.addListenerInside('mozfullscreenchange', eventFullChange);\n\t\t\t//建立界面\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.interFace();\n\t\t\t}\n\t\t\tthis.addListenerInside('loadedmetadata', eventJudgeIsLive);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重置界面元素\n\t\t*/\n\t\tresetPlayer: function() {\n\t\t\tthis.timeTextHandler();\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.timeProgress(0, 1); //改变时间进度条宽\n\t\t\t\tthis.changeLoad(0);\n\t\t\t\tthis.initPlayPause(); //判断显示播放或暂停按钮\n\t\t\t\tthis.definition(); //构建清晰度按钮\n\t\t\t\tthis.deletePrompt(); //删除提示点\n\t\t\t\tthis.deletePreview(); //删除预览图\n\t\t\t\tthis.trackHide(); //重置字幕\n\t\t\t\tthis.resetTrack();\n\t\t\t\tthis.trackElement = [];\n\t\t\t\tthis.track = [];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建界面元素\n\t\t */\n\t\tinterFace: function() {\n\t\t\tthis.conBarShow = true;\n\t\t\tvar thisTemp = this;\n\t\t\tvar html = ''; //控制栏内容\n\t\t\tvar i = 0;\n\t\t\tvar thisStyle=this.ckStyle;\n\t\t\tvar styleC=thisStyle['controlBar'];\n\t\t\tvar styleCB=styleC['button'];\n\t\t\tvar styleAS=thisStyle['advertisement'];\n\t\t\tvar styleDF=styleC['definition'];\n\t\t\tvar bWidth = 38;//按钮的宽\n\t\t\tvar timeInto = this.formatTime(0,this.vars['duration'],this.ckLanguage['vod']); //时间显示框默认显示内容\t\t\t\n\t\t\t/*\n\t\t\t\t构建一些PD（播放器容器）里使用的元素\n\t\t\t*/\n\t\t\t/*\n\t\t\t \t构建播放器内的元素\n\t\t\t*/\n\t\t\tthis.CB={menu:null};\n\t\t\tvar divEle={\n\t\t\t\tcontrolBarBg:null,\n\t\t\t\tcontrolBar:null,\n\t\t\t\tpauseCenter:null,\n\t\t\t\terrorText:null,\n\t\t\t\tpromptBg:null,\n\t\t\t\tprompt:null,\n\t\t\t\tpromptTriangle:null,\n\t\t\t\tdefinitionP:null,\n\t\t\t\tplaybackrateP:null,\n\t\t\t\tsubtitlesP:null,\n\t\t\t\tloading:null,\n\t\t\t\tlogo:null,\n\t\t\t\tadBackground:null,\n\t\t\t\tadElement:null,\n\t\t\t\tadLink:null,\n\t\t\t\tadPauseClose:null,\n\t\t\t\tadTime:null,\n\t\t\t\tadTimeText:null,\n\t\t\t\tadMute:null,\n\t\t\t\tadEscMute:null,\n\t\t\t\tadSkip:null,\n\t\t\t\tadSkipText:null,\n\t\t\t\tadSkipButton:null\n\t\t\t};\n\t\t\tvar k='';\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.PD.appendChild(this.CB[k]);\n\t\t\t}\n\t\t\t/*\n\t\t\t\t构建鼠标右键容器\n\t\t\t*/\n\t\t\tthis.CB['menu']=document.createElement('div');\n\t\t\tthis.body.appendChild(this.CB['menu']);\n\t\t\tif (this.vars['live']) { //如果是直播，时间显示文本框里显示当前系统时间\n\t\t\t\ttimeInto = this.formatTime(0,0,this.ckLanguage['live']); //时间显示框默认显示内容\n\t\t\t}\n\t\t\t/*\n\t\t\t\t构建控制栏的按钮\n\t\t\t*/\n\t\t\tdivEle={\n\t\t\t\tplay:null,\n\t\t\t\tpause:null,\n\t\t\t\tmute:null,\n\t\t\t\tescMute:null,\n\t\t\t\tfull:null,\n\t\t\t\tescFull:null,\n\t\t\t\tdefinition:null,\n\t\t\t\tplaybackrate:null,\n\t\t\t\tsubtitles:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\tthis.CB[k].dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\tthis.CB['controlBar'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tdivEle={\n\t\t\t\ttimeProgressBg:null,\n\t\t\t\ttimeBoBg:null,\n\t\t\t\tvolume:null,\n\t\t\t\ttimeText:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['controlBar'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['timeText'].innerHTML=timeInto;//初始化时间\n\t\t\tdivEle={\n\t\t\t\tloadProgress:null,\n\t\t\t\ttimeProgress:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['timeProgressBg'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['timeButton']=document.createElement('div');\n\t\t\tthis.CB['timeBoBg'].appendChild(this.CB['timeButton']);\n\t\t\tdivEle={\n\t\t\t\tvolumeBg:null,\n\t\t\t\tvolumeBO:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['volume'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['volumeUp']=document.createElement('div');\n\t\t\tthis.CB['volumeBg'].appendChild(this.CB['volumeUp']);\n\t\t\t//构建loading图标\n\t\t\tvar imgTemp=null;\n\t\t\tvar imgFile='';\n\t\t\tvar imgFile=thisStyle['loading']['file'];\n\t\t\tif(!this.isUndefined(thisStyle['loading']['fileH5'])){\n\t\t\t\timgFile=thisStyle['loading']['fileH5'];\n\t\t\t}\n\t\t\tif(imgFile){\n\t\t\t\timgTemp=document.createElement('img');\n\t\t\t\timgTemp.src=imgFile;\n\t\t\t\timgTemp.border=0;\n\t\t\t\tthis.CB['loading'].appendChild(imgTemp);\n\t\t\t}\n\t\t\t//构建logo图标\n\t\t\timgFile=thisStyle['logo']['file'];\n\t\t\tif(!this.isUndefined(thisStyle['logo']['fileH5'])){\n\t\t\t\timgFile=thisStyle['logo']['fileH5'];\n\t\t\t}\n\t\t\tif(imgFile){\n\t\t\t\timgTemp=document.createElement('img');\n\t\t\t\timgTemp.src=imgFile;\n\t\t\t\timgTemp.border=0;\n\t\t\t\tthis.CB['logo'].appendChild(imgTemp);\n\t\t\t}\t\t\t\n\t\t\t//定义界面元素的样式\n\t\t\tif(this.ckConfig['config']['buttonMode']['player']){\n\t\t\t\tthis.css(this.PD, {cursor: 'pointer'});\n\t\t\t}\n\t\t\t//控制栏背景\n\t\t\tthis.controlBar(); //改变控制栏\n\t\t\tvar cssTemp=null;\n\t\t\t//定义提示语的样式\n\t\t\tvar promptCss=thisStyle['prompt'];\n\t\t\tcssTemp=this.getEleCss(promptCss,{overflow: 'hidden',zIndex: 900,display:'none'});\n\t\t\tthis.css(this.CB['promptBg'],cssTemp);\n\t\t\tthis.css(this.CB['promptBg'],'padding','0px');\n\t\t\tcssTemp['backgroundColor']='';\n\t\t\tcssTemp['border']='';\n\t\t\tcssTemp['borderRadius']='';\n\t\t\tcssTemp['whiteSpace']='nowrap';\n\t\t\tthis.css(this.CB['prompt'],cssTemp);\n\t\t\t//定义提示语下方的三解形的样式\n\t\t\tcssTemp={\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t\tborderLeft: promptCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\tborderRight: promptCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\tborderTop: promptCss['triangleHeight']+'px solid '+promptCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\toverflow: 'hidden',\n\t\t\t\topacity:promptCss['triangleAlpha'],\n\t\t\t\tfilter:'alpha(opacity:'+promptCss['triangleAlpha']+')',\n\t\t\t\tposition:'absolute',\n\t\t\t\tleft:'0px',\n\t\t\t\ttop:'0px',\n\t\t\t\tzIndex: 900,\n\t\t\t\tdisplay:'none'\n\t\t\t};\n\t\t\tthis.css(this.CB['promptTriangle'],cssTemp);\n\t\t\tthis.elementCoordinate();//中间播放按钮，出错文本框，logo，loading\n\t\t\tthis.css([this.CB['pauseCenter'],this.CB['loading'],this.CB['errorText']],'display','none');\n\t\t\tthis.carbarButton();//控制栏按钮\n\t\t\tthis.playerCustom();//播放器界面自定义元件\n\t\t\tthis.carbarCustom();//控制栏自定义元件\n\t\t\tthis.timeProgressDefault();//进度条默认样式\n\t\t\tthis.videoCss();//计算video的宽高和位置\n\t\t\t//初始化判断播放/暂停按钮隐藏项\n\t\t\tthis.initPlayPause();\n\t\t\tif (this.vars['volume'] > 0) {\n\t\t\t\tthis.css(this.CB['escMute'], 'display', 'none');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['mute'], 'display', 'none');\n\t\t\t}\n\t\t\tif (!this.ckConfig['config']['mobileVolumeBarShow'] && this.isMobile()) {\n\t\t\t\tthis.css([this.CB['mute'], this.CB['escMute'], this.CB['volume']], {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.css(this.CB['escFull'],'display', 'none');\n\t\t\t//设置广告背景层样式\n\t\t\tvar cssObj={\n\t\t\t\talign: 'top',\n\t\t\t\tvAlign:'left',\n\t\t\t\twidth:'100%',\n\t\t\t\theight:'100%',\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\tzIndex: 910,\n\t\t\t\tdisplay: 'none'\n\t\t\t};\n\t\t\tcssTemp=this.getEleCss(styleAS['background'],cssObj);\n\t\t\tthis.css(this.CB['adBackground'],cssTemp);\n\t\t\tthis.css(this.CB['adElement'], {\n\t\t\t\tposition: 'absolute',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\ttop: '0px',\n\t\t\t\tzIndex: 911,\n\t\t\t\tfloat: 'center',\n\t\t\t\tdisplay: 'none'\n\t\t\t});\n\t\t\t//广告控制各元素样式，用一个函数单独定义，这样在播放器尺寸变化时可以重新设置样式\n\t\t\tthis.advertisementStyle();\n\t\t\t//初始化广告控制各元素-隐藏\n\t\t\tthis.css([this.CB['adTime'],this.CB['adTimeText'],this.CB['adMute'],this.CB['adEscMute'],this.CB['adSkip'],this.CB['adSkipText'],this.CB['adSkipButton'],this.CB['adLink'],this.CB['adPauseClose']],'display','none');\n\t\t\t//定义鼠标经过控制栏只显示完整的进度条，鼠标离开进度条则显示简单的进度条\n\t\t\tvar timeProgressOut = function(event) {\n\t\t\t\tthisTemp.timeProgressMouseOut();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', timeProgressOut, this.CB['timeBoBg']);\n\t\t\tvar timeProgressOver = function(event) {\n\t\t\t\tthisTemp.timeProgressDefault();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', timeProgressOver, this.CB['controlBar']);\n\t\t\t//定义各按钮鼠标经过时的切换样式\n\t\t\tthis.buttonEventFun(this.CB['play'],styleCB['play']);//播放按钮\n\t\t\tthis.buttonEventFun(this.CB['pause'],styleCB['pause']);//暂停按钮\n\t\t\tthis.buttonEventFun(this.CB['mute'],styleCB['mute']);//静音按钮\n\t\t\tthis.buttonEventFun(this.CB['escMute'],styleCB['escMute']);//恢复音量按钮\n\t\t\tthis.buttonEventFun(this.CB['full'],styleCB['full']);//全屏按钮\n\t\t\tthis.buttonEventFun(this.CB['escFull'],styleCB['escFull']);//退出全屏按钮\n\t\t\tthis.buttonEventFun(this.CB['adMute'],styleAS['muteButton']);//广告静音按钮\n\t\t\tthis.buttonEventFun(this.CB['adEscMute'],styleAS['escMuteButton']);//恢复广告音量按钮\n\t\t\tthis.buttonEventFun(this.CB['adSkipButton'],styleAS['skipAdButton']);//跳过广告按钮\n\t\t\tthis.buttonEventFun(this.CB['adLink'],styleAS['adLinkButton']);//广告查看详情按钮\n\t\t\tthis.buttonEventFun(this.CB['adPauseClose'],styleAS['closeButton']);//播放暂停时的广告的关闭按钮\n\t\t\tthis.buttonEventFun(this.CB['pauseCenter'],thisStyle['centerPlay']);//播放器中间暂停时的播放按钮\n\t\t\tthis.buttonEventFun(this.CB['volumeBO'],styleC['volumeSchedule']['button']);//音量调节框按钮样式\n\t\t\tthis.buttonEventFun(this.CB['timeButton'],styleC['timeSchedule']['button']);//时间进度调节框按钮样式\n\n\t\t\tthis.addButtonEvent(); //注册按钮及音量调节，进度操作事件\n\t\t\tthis.controlBarHide(); //单独注册控制栏隐藏事件\n\t\t\tthis.newMenu(); //设置右键的样式和事件\n\t\t\tthis.keypress(); //注册键盘事件\n\t\t\t//初始化音量调节框\n\t\t\tthis.changeVolume(this.vars['volume']);\n\t\t\tsetTimeout(function() {\n\t\t\t\tthisTemp.elementCoordinate(); //调整中间暂停按钮/loading的位置/error的位置\n\t\t\t},\n\t\t\t100);\n\t\t\tthis.checkBarWidth();\n\t\t\tvar resize = function() {\n\t\t\t\tthisTemp.log('window.resize');\n\t\t\t\tthisTemp.playerResize();\n\t\t\t};\n\t\t\tvar MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n\t\t\tvar observer = new MutationObserver(function(){\n\t\t\t\tthisTemp.log('video.resize');\n\t\t\t\tvar cdW=parseInt(thisTemp.css(thisTemp.CD,'width')),cdH=parseInt(thisTemp.css(thisTemp.CD,'height'));\n\t\t\t\tif(cdW!=thisTemp.cdWH['w'] || cdH!=thisTemp.cdWH['h']){\n\t\t\t\t\tthisTemp.cdWH={\n\t\t\t\t\t\tw:cdW,\n\t\t\t\t\t\th:cdH\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.changeSize(cdW,cdH);\n\t\t\t\t}\n\t\t\t});\n\t\t\tobserver.observe(this.CD, {attributes: true, attributeFilter: ['style'], attributeOldValue: true });\n\t\t\tthis.addListenerInside('resize', resize, window);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t进间进度条默认样式\n\t\t*/\n\t\ttimeProgressDefault:function(){\n\t\t\tvar styleCT=this.ckStyle['controlBar']['timeSchedule'];\n\t\t\tvar cssObj=this.newObj(styleCT['default']);\n\t\t\tvar loadBackImg=cssObj['loadProgressImg'],playBackImg=cssObj['playProgressImg'];\n\t\t\tvar cssTemp=null;\n\t\t\tthis.css(this.CB['timeBoBg'],'display','block');\n\t\t\t//时间进度条背景容器\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow: 'hidden',zIndex: 2},this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['timeProgressBg'], cssTemp);\n\t\t\t//加载进度\n\t\t\tcssObj={\n\t\t\t\talign:'left',\n\t\t\t\tvAlign:'top',\n\t\t\t\twidth:1,\n\t\t\t\theight:cssObj['height'],\n\t\t\t\tbackgroundImg:loadBackImg\n\t\t\t};\n\t\t\t//加载进度和时间进度\n\t\t\tif(this.CB['loadProgress'].offsetWidth>1){\n\t\t\t\tcssObj['width']=this.CB['loadProgress'].offsetWidth;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow:'hidden',zIndex:1},this.CB['timeProgressBg']);\n\t\t\tthis.css(this.CB['loadProgress'],cssTemp);\n\t\t\tcssObj['width']=0;\n\t\t\tif(this.CB['timeProgress'].offsetWidth>1 && parseInt(this.css(this.CB['timeButton'],'left'))>0){\n\t\t\t\tcssObj['width']=this.CB['timeProgress'].offsetWidth;\n\t\t\t\t\n\t\t\t}\n\t\t\tcssObj['backgroundImg']=playBackImg;\n\t\t\tcssTemp=this.getEleCss(cssObj,{overflow:'hidden',zIndex:2});\n\t\t\tthis.css(this.CB['timeProgress'],cssTemp);\n\t\t\t//时间进度按钮容器\n\t\t\tcssTemp=this.getEleCss(styleCT['buttonContainer'],{position: 'absolute',overflow: 'hidden',zIndex: 3},this.CB['controlBar']);\n\t\t\tif(this.ckConfig['config']['buttonMode']['timeSchedule']){\n\t\t\t\tcssTemp['cursor']='pointer';\n\t\t\t}\n\t\t\tthis.css(this.CB['timeBoBg'],cssTemp);\n\t\t\t//时间进度按钮\n\t\t\tcssTemp=this.getEleCss(styleCT['button'],{cursor: 'pointer',overflow: 'hidden',zIndex: 4},this.CB['timeBoBg']);\n\t\t\tthis.css(this.CB['timeButton'], cssTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t进间进度条鼠标离开样式\n\t\t*/\n\t\ttimeProgressMouseOut:function(){\n\t\t\tvar styleCT=this.ckStyle['controlBar']['timeSchedule'];\n\t\t\tvar cssObj=this.newObj(styleCT['mouseOut']);\n\t\t\tvar loadBackImg=cssObj['loadProgressImg'],playBackImg=cssObj['playProgressImg'];\n\t\t\tvar cssTemp=null;\n\t\t\tthis.css(this.CB['timeBoBg'],'display','block');\n\t\t\t//时间进度条背景容器\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow: 'hidden',zIndex: 2},this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['timeProgressBg'], cssTemp);\n\t\t\t//加载进度\n\t\t\tcssObj={\n\t\t\t\talign:'left',\n\t\t\t\tvAlign:'top',\n\t\t\t\twidth:1,\n\t\t\t\theight:cssObj['height'],\n\t\t\t\tbackgroundImg:loadBackImg\n\t\t\t};\n\t\t\t//加载进度和时间进度\n\t\t\tif(this.CB['loadProgress'].offsetWidth>1){\n\t\t\t\tcssObj['width']=this.CB['loadProgress'].offsetWidth;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow:'hidden',zIndex:1},this.CB['timeProgressBg']);\n\t\t\tthis.css(this.CB['loadProgress'],cssTemp);\n\t\t\tcssObj['width']=1;\n\t\t\tif(this.CB['timeProgress'].offsetWidth>1 && parseInt(this.css(this.CB['timeButton'],'left'))>0){\n\t\t\t\tcssObj['width']=this.CB['timeProgress'].offsetWidth;\n\t\t\t\tcssObj['backgroundImg']=playBackImg;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(cssObj,{overflow:'hidden',zIndex:2});\n\t\t\tthis.css(this.CB['timeProgress'],cssTemp);\t\t\t\n\t\t\tthis.css(this.CB['timeBoBg'],'display','none');\t\t\t\n\t\t},\n\t\t/*\n\t\t\t统一注册按钮鼠标经过和离开时的切换动作\n\t\t*/\n\t\tbuttonEventFun:function(ele,cssEle){\n\t\t\tvar thisTemp=this;\n\t\t\tvar overFun = function(event) {\n\t\t\t\tthisTemp.css(ele,{\n\t\t\t\t\tbackgroundImage:'url('+cssEle['mouseOver']+')'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptShow(ele);\n\t\t\t};\n\t\t\tvar outFun = function(event) {\n\t\t\t\tthisTemp.css(ele,{\n\t\t\t\t\tbackgroundImage:'url('+cssEle['mouseOut']+')'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t};\n\t\t\toutFun();\n\t\t\tthis.addListenerInside('mouseover', overFun, ele);\n\t\t\tthis.addListenerInside('mouseout', outFun, ele);\n\t\t\tif(!this.isUndefined(cssEle['clickEvent'])){\n\t\t\t\tvar clickFun=function(event){\n\t\t\t\t\tthisTemp.runFunction(cssEle['clickEvent']);\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', clickFun, ele);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化样式用的数字\n\t\t*/\n\t\tformatNumPx:function(str,z){\n\t\t\tif(!str){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(str.toString().indexOf('%')>-1){//说明是根据百分比来计算\n\t\t\t\tif(!this.isUndefined(z)){//如果有值\n\t\t\t\t\treturn parseInt(str)*z*0.01+'px';\n\t\t\t\t}\n\t\t\t\treturn str;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn str+'px';\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化样式用的数字，返回类型必需是数字或百分比\n\t\t*/\n\t\tformatZToNum:function(str,z){\n\t\t\tif(!str){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(str.toString().indexOf('%')>-1){//说明是根据百分比来计算\n\t\t\t\tif(!this.isUndefined(z)){//如果有值\n\t\t\t\t\treturn parseInt(str)*z*0.01;\n\t\t\t\t}\n\t\t\t\treturn str;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn str;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t对对象进行深度复制\n\t\t*/\n\t\tnewObj:function(obj) {\n\t\t\tif(this.isUndefined(obj)){\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t  \tvar str, newobj ={};//constructor 属性返回对创建此对象的数组函数的引用。创建相同类型的空数据\n\t\t  \tif (this.varType(obj) != 'object') {\n\t\t    \treturn obj;\n\t\t  \t}\n\t\t  \telse {\n\t\t    \tfor (var k in obj) {\n\t\t    \t\tif(this.isUndefined(obj[k])){\n\t\t    \t\t\tnewobj[k] = obj[k];\n\t\t    \t\t}\n\t\t    \t\telse{\n\t\t\t      \t\tif(this.varType(obj[k]) == 'object') { //判断对象的这条属性是否为对象\n\t\t\t        \t\tnewobj[k] = this.newObj(obj[k]);//若是对象进行嵌套调用\n\t\t\t      \t\t}\n\t\t\t      \t\telse{\n\t\t\t        \t\tnewobj[k] = obj[k];\n\t\t\t      \t\t}\n\t\t\t      \t}\n\t\t    \t}\n\t\t  \t}\n\t\t  \treturn newobj;//返回深度克隆后的对象\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t统一的显示图片\n\t\t*/\n\t\tloadImgBg:function(eleid,obj){\n\t\t\tthis.css(this.getByElement(eleid),{\n\t\t\t\tbackgroundImage:'url('+obj+')'\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化css\n\t\t\teleObj=样式,\n\t\t\tsupplement=补充样式,\n\t\t\trrEle=参考对象，\n\t\t\t该函数强制使用position定位的元素\n\t\t*/\n\t\tgetEleCss:function(eleObj,supplement,rrEle){\n\t\t\tvar eleName=null;\n\t\t\tvar pdW=this.PD.offsetWidth,pdH=this.PD.offsetHeight;\n\t\t\tif(rrEle){\n\t\t\t\tpdW=rrEle.offsetWidth;\n\t\t\t\tpdH=rrEle.offsetHeight;\n\t\t\t}\n\t\t\tif(this.isUndefined(eleObj)){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\teleName=this.newObj(eleObj);\n\t\t\tvar cssObject={};\n\t\t\tif(!this.isUndefined(eleName['width'])){\n\t\t\t\tcssObject['width']=this.formatZToNum(eleName['width'],pdW)+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['height'])){\n\t\t\t\tcssObject['height']=this.formatZToNum(eleName['height'],pdH)+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['background'])){\n\t\t\t\tvar bg=eleName['background'];\n\t\t\t\tif(!this.isUndefined(bg['backgroundColor'])){\n\t\t\t\t\tcssObject['backgroundColor']=bg['backgroundColor'].replace('0x','#');\n\t\t\t\t}\n\t\t\t\tif(!this.isUndefined(bg['backgroundImg'])){\n\t\t\t\t\tcssObject['backgroundImage']='url('+bg['backgroundImg']+')';\n\t\t\t\t}\n\t\t\t\tif(!this.isUndefined(bg['alpha'])){\n\t\t\t\t\tcssObject['filter']='alpha(opacity:'+bg['alpha']+')';\n\t\t\t\t\tcssObject['opacity']=bg['alpha'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['backgroundColor'])){\n\t\t\t\tcssObject['backgroundColor']=eleName['backgroundColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['backgroundImg'])){\n\t\t\t\tcssObject['backgroundImage']='url('+eleName['backgroundImg']+')';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['color'])){\n\t\t\t\tcssObject['color']=eleName['color'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['font'])){\n\t\t\t\tcssObject['fontFamily']=eleName['font'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['size'])){\n\t\t\t\tcssObject['fontSize']=eleName['size']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['alpha'])){\n\t\t\t\tcssObject['filter']='alpha(opacity:'+eleName['alpha']+')';\n\t\t\t\tcssObject['opacity']=eleName['alpha'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['lineHeight'])){\n\t\t\t\tcssObject['lineHeight']=eleName['lineHeight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['textAlign'])){\n\t\t\t\tcssObject['textAlign']=eleName['textAlign'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderRadius'])){\n\t\t\t\tcssObject['borderRadius']=eleName['borderRadius']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['radius'])){\n\t\t\t\tcssObject['borderRadius']=eleName['radius']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['padding'])){\n\t\t\t\tcssObject['padding']=eleName['padding']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingLeft'])){\n\t\t\t\tcssObject['paddingLeft']=eleName['paddingLeft']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingRight'])){\n\t\t\t\tcssObject['paddingRight']=eleName['paddingRight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingTop'])){\n\t\t\t\tcssObject['paddingTop']=eleName['paddingTop']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingBottom'])){\n\t\t\t\tcssObject['paddingBottom']=eleName['paddingBottom']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['margin'])){\n\t\t\t\tcssObject['margin']=eleName['margin']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginLeft'])){\n\t\t\t\tcssObject['marginLeft']=eleName['marginLeft']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginRight'])){\n\t\t\t\tcssObject['marginRight']=eleName['marginRight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginTop'])){\n\t\t\t\tcssObject['marginTop']=eleName['marginTop']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginBottom'])){\n\t\t\t\tcssObject['marginBottom']=eleName['marginBottom']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['border']) && !this.isUndefined(eleName['borderColor'])){\n\t\t\t\tcssObject['border']=eleName['border']+'px solid '+eleName['borderColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderLeft']) && !this.isUndefined(eleName['borderLeftColor'])){\n\t\t\t\tcssObject['borderLeft']=eleName['borderLeft']+'px solid '+eleName['borderLeftColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderRight']) && !this.isUndefined(eleName['borderRightColor'])){\n\t\t\t\tcssObject['borderRight']=eleName['borderRight']+'px solid '+eleName['borderRightColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderTop']) && !this.isUndefined(eleName['borderTopColor'])){\n\t\t\t\tcssObject['borderTop']=eleName['borderTop']+'px solid '+eleName['borderTopColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderBottom']) && !this.isUndefined(eleName['borderBottomColor'])){\n\t\t\t\tcssObject['borderBottom']=eleName['borderBottom']+'px solid '+eleName['borderBottomColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(supplement)){\n\t\t\t\tfor(var k in supplement){\n\t\t\t\t\tcssObject[k]=supplement[k];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcssObject['position']='absolute';\n\t\t\tvar left=-10000,top=-10000,right=-10000,bottom=-10000;\n\t\t\tvar offsetX=0,offsetY=0;\n\t\t\tif(!this.isUndefined(eleName['offsetX'])){\n\t\t\t\toffsetX=eleName['offsetX'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginX'])){\n\t\t\t\toffsetX=eleName['marginX'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['offsetY'])){\n\t\t\t\toffsetY=eleName['offsetY'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginY'])){\n\t\t\t\toffsetY=eleName['marginY'];\n\t\t\t}\n\t\t\toffsetX=this.formatZToNum(offsetX,pdW);\n\t\t\toffsetY=this.formatZToNum(offsetY,pdH);\n\t\t\tif(!this.isUndefined(eleName['align'])){\n\t\t\t\tleft=0;\n\t\t\t\tswitch (eleName['align']) {\n\t\t\t\t\tcase 'left':\n\t\t\t\t\t\tleft = offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'center':\n\t\t\t\t\t\tleft = pdW * 0.5 + offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\tleft = pdW+offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right2':\n\t\t\t\t\t\tleft = -10000;\n\t\t\t\t\t\tright=offsetX;\n\t\t\t\t\t\tbreak;\t\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['vAlign'])){\n\t\t\t\ttop=0;\n\t\t\t\tswitch (eleName['vAlign']) {\n\t\t\t\t\tcase 'top':\n\t\t\t\t\t\ttop = offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'middle':\n\t\t\t\t\t\ttop=pdH*0.5+offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\ttop =pdH+offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom2':\n\t\t\t\t\t\ttop=-10000;\n\t\t\t\t\t\tbottom =offsetY;\n\t\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(left>-10000){\n\t\t\t\tcssObject['left']=left+'px';\n\t\t\t}\n\t\t\tif(right>-10000){\n\t\t\t\tcssObject['right']=right+'px';\n\t\t\t}\n\t\t\tif(top>-10000){\n\t\t\t\tcssObject['top']=top+'px';\n\t\t\t}\n\t\t\tif(bottom>-10000){\n\t\t\t\tcssObject['bottom']=bottom+'px';\n\t\t\t}\n\t\t\treturn cssObject;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t创建按钮，使用canvas画布\n\t\t*/\n\t\tnewCanvas: function(id, width, height) {\n\t\t\treturn '<canvas class=\"' + id + '-canvas\" width=\"' + width + '\" height=\"' + height + '\"></canvas>';\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册按钮，音量调节框，进度操作框事件\n\t\t*/\n\t\taddButtonEvent: function() {\n\t\t\tvar thisTemp = this;\n\t\t\t//定义按钮的单击事件\n\t\t\t\n\t\t\t//定义各个按钮的鼠标经过/离开事件\n\t\t\tvar promptHide = function(event) {\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t};\n\t\t\tvar definitionOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['definition']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', definitionOver, this.CB['definition']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['definition']);\n\t\t\tvar playbackrateOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['playbackrate']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', playbackrateOver, this.CB['playbackrate']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['playbackrate']);\n\t\t\tvar subtitlesOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['subtitles']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', subtitlesOver, this.CB['subtitles']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['subtitles']);\n\t\t\t//定义音量和进度按钮的滑块事件\n\t\t\tvar volumePrompt = function(vol) {\n\t\t\t\tvar volumeBOXY = thisTemp.getCoor(thisTemp.CB['volumeBO']);\n\t\t\t\tvar promptObj = {\n\t\t\t\t\ttitle:thisTemp.ckLanguage['volumeSliderOver'].replace('[$volume]',vol),\n\t\t\t\t\tx: volumeBOXY['x'] + thisTemp.CB['volumeBO'].offsetWidth * 0.5,\n\t\t\t\t\ty: volumeBOXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, promptObj);\n\t\t\t};\n\t\t\tvar volumeObj = {\n\t\t\t\tslider: this.CB['volumeBO'],\n\t\t\t\tfollow: this.CB['volumeUp'],\n\t\t\t\trefer: this.CB['volumeBg'],\n\t\t\t\tgrossValue: 'volume',\n\t\t\t\tpd: true,\n\t\t\t\tstartFun: function(vol) {},\n\t\t\t\tmonitorFun: function(vol) {\n\t\t\t\t\tthisTemp.changeVolume(vol * 0.01, false, false);\n\t\t\t\t\tvolumePrompt(vol);\n\t\t\t\t},\n\t\t\t\tendFun: function(vol) {},\n\t\t\t\toverFun: function(vol) {\n\t\t\t\t\tvolumePrompt(vol);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.slider(volumeObj);\n\t\t\tvar volumeClickObj = {\n\t\t\t\trefer: this.CB['volumeBg'],\n\t\t\t\tgrossValue: 'volume',\n\t\t\t\tfun: function(vol) {\n\t\t\t\t\tthisTemp.changeVolume(vol * 0.01, true, true);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.progressClick(volumeClickObj);\n\t\t\tthis.timeButtonMouseDown(); //用单击的函数来判断是否需要建立控制栏监听\n\t\t\t//鼠标经过/离开音量调节框时的\n\t\t\tvar volumeBgMove = function(event) {\n\t\t\t\tvar volumeBgXY = thisTemp.getCoor(thisTemp.CB['volumeBg']);\n\t\t\t\tvar eventX = thisTemp.client(event)['x'];\n\t\t\t\tvar eventVolume = parseInt((eventX - volumeBgXY['x']) * 100 / thisTemp.CB['volumeBg'].offsetWidth);\n\t\t\t\tvar buttonPromptObj = {\n\t\t\t\t\ttitle:thisTemp.ckLanguage['volumeSliderOver'].replace('[$volume]',eventVolume),\n\t\t\t\t\tx: eventX,\n\t\t\t\t\ty: volumeBgXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, buttonPromptObj);\n\t\t\t};\n\t\t\tthis.addListenerInside('mousemove', volumeBgMove, this.CB['volumeBg']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['volumeBg']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['volumeBO']);\n\t\t\t//注册清晰度相关事件\n\t\t\tthis.addDefListener();\n\t\t\t//注册倍速相关事件\n\t\t\tthis.addPlaybackrate();\n\t\t\t//注册多字幕事件\n\t\t\tthis.addSubtitles();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册单击视频动作\n\t\t*/\n\t\tvideoClick: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar clearTimerClick = function() {\n\t\t\t\tif (thisTemp.timerClick != null) {\n\t\t\t\t\tif (thisTemp.timerClick.runing) {\n\t\t\t\t\t\tthisTemp.timerClick.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerClick = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timerClickFun = function() {\n\t\t\t\tclearTimerClick();\n\t\t\t\tthisTemp.isClick = false;\n\t\t\t\tthisTemp.sendJS('videoClick',thisTemp.videoClickXy);\n\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\tvar ad = thisTemp.getNowAdvertisements();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (ad['link'] != '') {\n\t\t\t\t\t\t\twindow.open(ad['link']);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.ckConfig['config']['click']) {\n\t\t\t\t\t\tthisTemp.playOrPause();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t};\n\t\t\tclearTimerClick();\n\t\t\tif (this.isClick) {\n\t\t\t\tthis.isClick = false;\n\t\t\t\tthisTemp.sendJS('videoDoubleClick',thisTemp.videoClickXy);\n\t\t\t\tif (thisTemp.ckConfig['config']['doubleClick']) {\n\t\t\t\t\tif (!this.full) {\n\t\t\t\t\t\tthisTemp.fullScreen();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthisTemp.quitFullScreen();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tthis.isClick = true;\n\t\t\t\tthis.timerClick = new this.timer(300, timerClickFun, 1)\n\t\t\t\t//this.timerClick.start();\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册鼠标经过进度滑块的事件\n\t\t*/\n\t\ttimeButtonMouseDown: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar timePrompt = function(time) {\n\t\t\t\tif (isNaN(time)) {\n\t\t\t\t\ttime = 0;\n\t\t\t\t}\n\t\t\t\tvar timeButtonXY = thisTemp.getCoor(thisTemp.CB['timeButton']);\n\t\t\t\tvar promptObj = {\n\t\t\t\t\ttitle: thisTemp.formatTime(time,0,thisTemp.ckLanguage['timeSliderOver']),\n\t\t\t\t\tx: timeButtonXY['x'] - thisTemp.pdCoor['x'] + thisTemp.CB['timeButton'].offsetWidth * 0.5,\n\t\t\t\t\ty: timeButtonXY['y'] - thisTemp.pdCoor['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, promptObj);\n\t\t\t};\n\t\t\tvar timeObj = {\n\t\t\t\tslider: this.CB['timeButton'],\n\t\t\t\tfollow: this.CB['timeProgress'],\n\t\t\t\trefer: this.CB['timeBoBg'],\n\t\t\t\tgrossValue: 'time',\n\t\t\t\tpd: false,\n\t\t\t\tstartFun: function(time) {\n\t\t\t\t\tthisTemp.isTimeButtonMove = false;\n\t\t\t\t},\n\t\t\t\tmonitorFun: function(time) {},\n\t\t\t\tendFun: function(time) {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tif (thisTemp.V.duration > 0) {\n\t\t\t\t\t\t\tthisTemp.needSeek = 0;\n\t\t\t\t\t\t\tthisTemp.videoSeek(parseInt(time));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\toverFun: function(time) {\n\t\t\t\t\ttimePrompt(time);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timeClickObj = {\n\t\t\t\trefer: this.CB['timeBoBg'],\n\t\t\t\tgrossValue: 'time',\n\t\t\t\tfun: function(time) {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tif (thisTemp.V.duration > 0) {\n\t\t\t\t\t\t\tthisTemp.needSeek = 0;\n\t\t\t\t\t\t\tthisTemp.videoSeek(parseInt(time));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timeBoBgmousemove = function(event) {\n\t\t\t\tvar timeBoBgXY = thisTemp.getCoor(thisTemp.CB['timeBoBg']);\n\t\t\t\tvar eventX = thisTemp.client(event)['x'];\n\t\t\t\tvar duration=thisTemp.V.duration;\n\t\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\t\tduration = thisTemp.vars['duration'];\n\t\t\t\t}\n\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t}\n\t\t\t\tvar eventTime = parseInt((eventX - timeBoBgXY['x']) * duration / thisTemp.CB['timeBoBg'].offsetWidth);\n\t\t\t\tvar buttonPromptObj = {\n\t\t\t\t\ttitle: thisTemp.formatTime(eventTime,0,thisTemp.ckLanguage['timeSliderOver']),\n\t\t\t\t\tx: eventX,\n\t\t\t\t\ty: timeBoBgXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, buttonPromptObj);\n\t\t\t\tvar def = false;\n\t\t\t\tif (!thisTemp.isUndefined(thisTemp.CB['definitionP'])) {\n\t\t\t\t\tif (thisTemp.css(thisTemp.CB['definitionP'], 'display') != 'block') {\n\t\t\t\t\t\tdef = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (thisTemp.vars['preview'] != null && def) {\n\t\t\t\t\tbuttonPromptObj['time'] = eventTime;\n\t\t\t\t\tthisTemp.preview(buttonPromptObj);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar promptHide = function(event) {\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\tif (thisTemp.previewDiv != null) {\n\t\t\t\t\tthisTemp.css([thisTemp.previewDiv, thisTemp.previewTop], 'display', 'none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (!this.vars['live']) { //如果不是直播\n\t\t\t\tthis.isTimeButtonDown = true;\n\t\t\t\tthis.addListenerInside('mousemove', timeBoBgmousemove, this.CB['timeBoBg']);\n\t\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['timeBoBg']);\n\t\t\t} else {\n\t\t\t\tthis.isTimeButtonDown = false;\n\t\t\t\ttimeObj['removeListenerInside'] = true;\n\t\t\t\ttimeClickObj['removeListenerInside'] = true;\n\t\t\t}\n\t\t\tthis.slider(timeObj);\n\t\t\tthis.progressClick(timeClickObj);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册调节框上单击事件，包含音量调节框和播放时度调节框\n\t\t*/\n\t\tprogressClick: function(obj) {\n\t\t\t/*\n\t\t\t\trefer:参考对象\n\t\t\t\tfun:返回函数\n\t\t\t\trefer:参考元素，即背景\n\t\t\t\tgrossValue:调用的参考值类型\n\t\t\t\tpd:\n\t\t\t*/\n\t\t\t//建立参考元素的mouseClick事件，用来做为鼠标在其上按下时触发的状态\n\t\t\tvar thisTemp = this;\n\t\t\tvar referMouseClick = function(event) {\n\t\t\t\tvar referX = thisTemp.client(event)['x'] - thisTemp.getCoor(obj['refer'])['x'];\n\t\t\t\tvar rWidth = obj['refer'].offsetWidth;\n\t\t\t\tvar grossValue = 0;\n\t\t\t\tif (obj['grossValue'] == 'volume') {\n\t\t\t\t\tgrossValue = 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tgrossValue = thisTemp.V.duration;\n\t\t\t\t\t\tif (isNaN(grossValue) || parseInt(grossValue) < 0.2) {\n\t\t\t\t\t\t\tgrossValue = thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\t\tgrossValue=thisTemp.vars['forceduration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar nowZ = parseInt(referX * grossValue / rWidth);\n\t\t\t\tif (obj['fun']) {\n\t\t\t\t\tif (obj['grossValue'] === 'time') {\n\t\t\t\t\t\tvar sliderXY = thisTemp.getCoor(thisTemp.CB['timeButton']);\n\t\t\t\t\t\tsliderLeft = sliderXY['x'];\n\t\t\t\t\t\tif (!thisTemp.checkSlideLeft(referX, sliderLeft, rWidth)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar bimeButtonWB = thisTemp.CB['timeButton'].offsetWidth * 0.5;\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['timeButton'], 'left', (referX - bimeButtonWB) + 'px');\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['timeProgress'], 'width', (referX) + 'px');\n\t\t\t\t\t}\n\t\t\t\t\tobj['fun'](nowZ);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (this.isUndefined(obj['removeListenerInside'])) {\n\t\t\t\tthis.addListenerInside('click', referMouseClick, obj['refer']);\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('click', referMouseClick, obj['refer']);\n\t\t\t}\n\n\t\t},\n\n\t\t/*\n\t\t\t内部函数\n\t\t\t共用的注册滑块事件\n\t\t*/\n\t\tslider: function(obj) {\n\t\t\t/*\n\t\t\t\tobj={\n\t\t\t\t\tslider:滑块元素\n\t\t\t\t\tfollow:跟随滑块的元素\n\t\t\t\t\trefer:参考元素，即背景\n\t\t\t\t\tgrossValue:调用的参考值类型\n\t\t\t\t\tstartFun:开始调用的元素\n\t\t\t\t\tmonitorFun:监听函数\n\t\t\t\t\tendFun:结束调用的函数\n\t\t\t\t\toverFun:鼠标放上去后调用的函数\n\t\t\t\t\tpd:是否需要修正\n\t\t\t\t}\n\t\t\t*/\n\t\t\tvar thisTemp = this;\n\t\t\tvar clientX = 0,\n\t\t\tcriterionWidth = 0,\n\t\t\tsliderLeft = 0,\n\t\t\treferLeft = 0;\n\t\t\tvar value = 0;\n\t\t\tvar calculation = function() { //根据滑块的left计算百分比\n\t\t\t\tvar sLeft = parseInt(thisTemp.css(obj['slider'], 'left'));\n\t\t\t\tvar rWidth = obj['refer'].offsetWidth - obj['slider'].offsetWidth;\n\t\t\t\tvar grossValue = 0;\n\t\t\t\tif (thisTemp.isUndefined(sLeft) || isNaN(sLeft)) {\n\t\t\t\t\tsLeft = 0;\n\t\t\t\t}\n\t\t\t\tif (obj['grossValue'] == 'volume') {\n\t\t\t\t\tgrossValue = 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tgrossValue = thisTemp.V.duration;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn parseInt(sLeft * grossValue / rWidth);\n\t\t\t};\n\t\t\tvar mDown = function(event) {\n\t\t\t\tthisTemp.addListenerInside('mousemove', mMove, document);\n\t\t\t\tthisTemp.addListenerInside('mouseup', mUp, document);\n\t\t\t\tvar referXY = thisTemp.getCoor(obj['refer']);\n\t\t\t\tvar sliderXY = thisTemp.getCoor(obj['slider']);\n\t\t\t\tclientX = thisTemp.client(event)['x'];\n\t\t\t\treferLeft = referXY['x'];\n\t\t\t\tsliderLeft = sliderXY['x'];\n\t\t\t\tcriterionWidth = clientX - sliderLeft;\n\t\t\t\tif (obj['startFun']) {\n\t\t\t\t\tobj['startFun'](calculation());\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mMove = function(event) {\n\t\t\t\tclientX = thisTemp.client(event)['x'];\n\t\t\t\tvar newX = clientX - criterionWidth - referLeft;\n\t\t\t\tif (newX < 0) {\n\t\t\t\t\tnewX = 0;\n\t\t\t\t}\n\t\t\t\tif (newX > obj['refer'].offsetWidth - obj['slider'].offsetWidth) {\n\t\t\t\t\tnewX = obj['refer'].offsetWidth - obj['slider'].offsetWidth;\n\t\t\t\t}\n\t\t\t\tif (obj['slider'] === thisTemp.CB['timeButton']) {\n\t\t\t\t\tif (!thisTemp.checkSlideLeft(newX, sliderLeft, obj['refer'].offsetWidth)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisTemp.css(obj['slider'], 'left', newX + 'px');\n\t\t\t\tthisTemp.css(obj['follow'], 'width', (newX + obj['slider'].offsetWidth * 0.5) + 'px');\n\t\t\t\tvar nowZ = calculation();\n\t\t\t\tif (obj['monitorFun']) {\n\t\t\t\t\tobj['monitorFun'](nowZ);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mUp = function(event) {\n\t\t\t\tthisTemp.removeListenerInside('mousemove', mMove, document);\n\t\t\t\tthisTemp.removeListenerInside('mouseup', mUp, document);\n\t\t\t\tif (obj['endFun']) {\n\t\t\t\t\tobj['endFun'](calculation());\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mOver = function(event) {\n\t\t\t\tif (obj['overFun']) {\n\t\t\t\t\tobj['overFun'](calculation());\n\t\t\t\t}\n\n\t\t\t};\n\t\t\tif (this.isUndefined(obj['removeListenerInside'])) {\n\t\t\t\tthis.addListenerInside('mousedown', mDown, obj['slider']);\n\t\t\t\tthis.addListenerInside('mouseover', mOver, obj['slider']);\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('mousedown', mDown, obj['slider']);\n\t\t\t\tthis.removeListenerInside('mouseover', mOver, obj['slider']);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否可以拖动进度按钮或点击进度栏\n\t\t*/\n\t\tcheckSlideLeft: function(newX, sliderLeft, refer) {\n\t\t\tvar timeSA = this.ckConfig['config']['timeScheduleAdjust'];\n\t\t\tswitch (timeSA) {\n\t\t\tcase 0:\n\t\t\t\treturn false;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tif (newX < sliderLeft) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tif (newX > sliderLeft) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tif (!this.timeSliderLeftTemp) {\n\t\t\t\t\tthis.timeSliderLeftTemp = sliderLeft / refer;\n\t\t\t\t}\n\t\t\t\tif (newX < this.timeSliderLeftTemp * refer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tif (!this.timeSliderLeftTemp) {\n\t\t\t\t\tthis.timeSliderLeftTemp = sliderLeft / refer;\n\t\t\t\t} else {\n\t\t\t\t\tvar timeSliderMax = sliderLeft / refer;\n\t\t\t\t\tif (timeSliderMax > this.timeSliderLeftTemp) {\n\t\t\t\t\t\tthis.timeSliderLeftTemp = timeSliderMax;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (newX > this.timeSliderLeftTemp * refer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示loading\n\t\t*/\n\t\tloadingStart: function(rot) {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.isUndefined(rot)) {\n\t\t\t\trot = true;\n\t\t\t}\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.css(thisTemp.CB['loading'], 'display', 'none');\n\t\t\t\tthis.loadingShow=false;\n\t\t\t}\n\t\t\tvar buffer = 0;\n\t\t\tif (rot) {\n\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\tthis.css(thisTemp.CB['loading'], 'display', 'block');\n\t\t\t\t\tthis.loadingShow=true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthisTemp.sendJS('buffer', 100);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示提示语\n\t\t*/\n\t\tpromptShow: function(ele, data) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar obj = {};\n\t\t\tvar eleTitle='';\n\t\t\tif(!this.isUndefined(ele)){\n\t\t\t\teleTitle=this.getDataset(ele, 'title');\n\t\t\t\tif(this.isUndefined(eleTitle)){\n\t\t\t\t\tele=null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ele || data) {\n\t\t\t\tif (!this.isUndefined(data)) {\n\t\t\t\t\tobj = data;\n\t\t\t\t} else {\n\t\t\t\t\tvar offsetCoor = this.getCoor(ele);\n\t\t\t\t\tobj = {\n\t\t\t\t\t\ttitle: eleTitle,\n\t\t\t\t\t\tx: offsetCoor['x'] + ele.offsetWidth * 0.5,\n\t\t\t\t\t\ty: offsetCoor['y']\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthis.CB['prompt'].innerHTML = obj['title'];\n\t\t\t\tthis.css(this.CB['prompt'], 'display', 'block');\n\t\t\t\tvar promptStye=this.ckStyle['prompt'];\n\t\t\t\tvar promoptWidth=this.CB['prompt'].offsetWidth,promoptHeight=this.CB['prompt'].offsetHeight;\n\t\t\t\tthis.css(this.CB['promptBg'], {width:promoptWidth + 'px',height:promoptHeight+'px'});\n\t\t\t\tvar x = obj['x'] - (promoptWidth * 0.5);\n\t\t\t\tvar y = obj['y'] - this.CB['prompt'].offsetHeight-promptStye['marginBottom']-promptStye['triangleHeight'];\n\t\t\t\tif (x < 0) {\n\t\t\t\t\tx = 0;\n\t\t\t\t}\n\t\t\t\tif (x > this.PD.offsetWidth - promoptWidth) {\n\t\t\t\t\tx = this.PD.offsetWidth - promoptWidth;\n\t\t\t\t}\n\t\t\t\tthis.css([this.CB['promptBg'], this.CB['prompt']], {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\ttop: y + 'px'\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['promptTriangle'], {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tleft: x+(promoptWidth-promptStye['triangleWidth'])*0.5+parseInt(promptStye['triangleDeviationX']) + 'px',\n\t\t\t\t\ttop: y +promoptHeight+ 'px'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.css([this.CB['promptBg'], this.CB['prompt'],this.CB['promptTriangle']], {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听错误\n\t\t*/\n\t\ttimerErrorFun: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.errorSend = false;\n\t\t\tvar clearIntervalError = function(event) {\n\t\t\t\tif (thisTemp.timerError != null) {\n\t\t\t\t\tif (thisTemp.timerError.runing) {\n\t\t\t\t\t\tthisTemp.timerError.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerError = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar errorFun = function(event) {\n\t\t\t\tclearIntervalError();\n\t\t\t\tthisTemp.error = true;\n\t\t\t\t//提取错误播放地址\n\t\t\t\tthisTemp.errorUrl = thisTemp.getVideoUrl();\n\t\t\t\t//提取错误播放地址结束\n\t\t\t\tif (!thisTemp.errorSend) {\n\t\t\t\t\tthisTemp.errorSend = true;\n\t\t\t\t\tthisTemp.sendJS('error');\n\t\t\t\t}\n\t\t\t\tif (thisTemp.conBarShow) {\n\t\t\t\t\tthisTemp.CB['errorText'].innerHTML=thisTemp.ckLanguage['error']['streamNotFound'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['errorText'], 'display', 'block');\n\t\t\t\t\tthisTemp.css([thisTemp.CB['pauseCenter'],thisTemp.CB['loading']], 'display', 'none');\n\t\t\t\t}\n\t\t\t\tthisTemp.V.removeAttribute('poster');\n\t\t\t\tthisTemp.resetPlayer();\n\t\t\t};\n\t\t\tvar errorListenerFun = function(event) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif (isNaN(thisTemp.V.duration)) {\n\t\t\t\t\t\terrorFun(event);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tif (!this.errorAdd) {\n\t\t\t\tthis.errorAdd = true;\n\t\t\t\tthis.addListenerInside('error', errorListenerFun);\n\t\t\t}\n\t\t\tclearIntervalError();\n\t\t\tvar timerErrorFun = function() {\n\t\t\t\tif (thisTemp.V && parseInt(thisTemp.V.networkState) == 3) {\n\t\t\t\t\terrorFun();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerError = new this.timer(this.ckConfig['config']['errorTime'], timerErrorFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建判断全屏还是非全屏的判断\n\t\t*/\n\t\tjudgeFullScreen: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.timerFull != null) {\n\t\t\t\tif (this.timerFull.runing) {\n\t\t\t\t\tthis.timerFull.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerFull = null;\n\t\t\t}\n\t\t\tvar fullFun = function() {\n\t\t\t\tthisTemp.isFullScreen();\n\t\t\t};\n\t\t\tthis.timerFull = new this.timer(20, fullFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否是全屏\n\t\t*/\n\t\tisFullScreen: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fullState = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement;\n\t\t\tif (fullState && !this.full) {\n\t\t\t\tthis.full = true;\n\t\t\t\tthis.sendJS('full', true);\n\t\t\t\tthis.elementCoordinate();\n\t\t\t\tthis.carbarButton();\n\t\t\t\tthis.customCoor();//控制栏自定义元件\n\t\t\t\tthis.css(this.CB['full'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['escFull'], 'display', 'block');\n\t\t\t\tif (this.vars['live'] == 0) {\n\t\t\t\t\tthis.timeUpdateHandler();\n\t\t\t\t}\n\t\t\t\tthis.PD.appendChild(this.CB['menu']);\n\t\t\t}\n\t\t\tif (!fullState && this.full) {\n\t\t\t\tthis.full = false;\n\t\t\t\tthis.sendJS('full', false);\n\t\t\t\tthis.elementCoordinate();\n\t\t\t\tthis.carbarButton();\n\t\t\t\tthis.customCoor();//控制栏自定义元件\n\t\t\t\tthis.css(this.CB['full'], 'display', 'block');\n\t\t\t\tthis.css(this.CB['escFull'], 'display', 'none');\n\t\t\t\tif (this.timerFull != null) {\n\t\t\t\t\tif (this.timerFull.runing) {\n\t\t\t\t\t\tthis.timerFull.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthis.timerFull = null;\n\t\t\t\t}\n\t\t\t\tif (this.vars['live'] == 0) {\n\t\t\t\t\tthis.timeUpdateHandler();\n\t\t\t\t}\n\t\t\t\tthis.body.appendChild(this.CB['menu']);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建右键内容及注册相关动作事件\n\t\t*/\n\t\tnewMenu: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar i = 0;\n\t\t\tthis.css(this.CB['menu'], {\n\t\t\t\tbackgroundColor: '#FFFFFF',\n\t\t\t\tpadding: '5px',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tleft: '10px',\n\t\t\t\ttop: '20px',\n\t\t\t\tdisplay: 'none',\n\t\t\t\tzIndex: '999',\n\t\t\t\tcolor: '#A1A9BE',\n\t\t\t\tboxShadow: '2px 2px 3px #AAAAAA'\n\t\t\t});\n\t\t\tvar mArr = this.contextMenu;\n\t\t\tvar cMenu = this.ckConfig['menu'];\n\t\t\tif (cMenu['name']) {\n\t\t\t\tif (cMenu['link']) {\n\t\t\t\t\tmArr[0] = [cMenu['name'], 'link', cMenu['link']];\n\t\t\t\t} else {\n\t\t\t\t\tmArr[0] = [cMenu['name'], 'default'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (cMenu['version']) {\n\t\t\t\tmArr[1] = [cMenu['version'], 'default', 'line'];\n\t\t\t}\n\t\t\tif (cMenu['more']) {\n\t\t\t\tif (this.varType(cMenu['more']) == 'array') {\n\t\t\t\t\tif (cMenu['more'].length > 0) {\n\t\t\t\t\t\tvar moreArr = cMenu['more'];\n\t\t\t\t\t\tfor (i = 0; i < moreArr.length; i++) {\n\t\t\t\t\t\t\tvar mTemp = moreArr[i];\n\t\t\t\t\t\t\tvar arrTemp = [];\n\t\t\t\t\t\t\tif (mTemp['name']) {\n\t\t\t\t\t\t\t\tarrTemp.push(mTemp['name']);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (mTemp['clickEvent'] && mTemp['clickEvent'] != 'none') {\n\t\t\t\t\t\t\t\tvar eveObj = this.clickEvent(mTemp['clickEvent']);\n\t\t\t\t\t\t\t\tarrTemp.push(eveObj['type']);\n\t\t\t\t\t\t\t\tif (eveObj['fun']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(eveObj['fun']);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (eveObj['link']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(eveObj['link']);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (eveObj['target']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(' target=\"' + eveObj['target'] + '\"');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (mTemp['separatorBefore']) {\n\t\t\t\t\t\t\t\tarrTemp.push('line');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmArr.push(arrTemp);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar html = '';\n\t\t\tfor (i = 0; i < mArr.length; i++) {\n\t\t\t\tvar me = mArr[i];\n\t\t\t\tswitch (me[1]) {\n\t\t\t\tcase 'default':\n\t\t\t\t\thtml += '<p>' + me[0] + '</p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'link':\n\t\t\t\t\tif (me[3]) {\n\t\t\t\t\t\tme[3] = 'target=\"' + me[3] + '\"';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '<p><a href=\"' + me[2] + '\"' + me[3] + '>' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javaScript':\n\t\t\t\t\thtml += '<p><a href=\"javascript:' + me[2] + '\">' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'actionScript':\n\t\t\t\t\thtml += '<p><a href=\"javascript:' + this.vars['variable'] + me[2].replace('thisTemp', '') + '\">' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.CB['menu'].innerHTML = html;\n\t\t\tvar pArr = this.CB['menu'].childNodes;\n\t\t\tfor (i = 0; i < pArr.length; i++) {\n\t\t\t\tthis.css(pArr[i], {\n\t\t\t\t\theight: '30px',\n\t\t\t\t\tlineHeight: '30px',\n\t\t\t\t\tmargin: '0px',\n\t\t\t\t\tfontFamily: this.fontFamily,\n\t\t\t\t\tfontSize: '12px',\n\t\t\t\t\tpaddingLeft: '10px',\n\t\t\t\t\tpaddingRight: '30px'\n\t\t\t\t});\n\t\t\t\tif (mArr[i][mArr[i].length - 1] == 'line') {\n\t\t\t\t\tthis.css(pArr[i], 'borderBottom', '1px solid #e9e9e9');\n\t\t\t\t}\n\t\t\t\tvar aArr = pArr[i].childNodes;\n\t\t\t\tfor (var n = 0; n < aArr.length; n++) {\n\t\t\t\t\tif (aArr[n].localName == 'a') {\n\t\t\t\t\t\tthis.css(aArr[n], {\n\t\t\t\t\t\t\tcolor: '#000000',\n\t\t\t\t\t\t\ttextDecoration: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.PD.oncontextmenu = function(event) {\n\t\t\t\tvar eve = event || window.event;\n\t\t\t\tvar client = thisTemp.client(event);\n\t\t\t\tif (eve.button == 2) {\n\t\t\t\t\teve.returnvalue = false;\n\t\t\t\t\tvar x = client['x'] + thisTemp.pdCoor['x'] - 2;\n\t\t\t\t\tvar y = client['y'] + thisTemp.pdCoor['y'] - 2;\n\t\t\t\t\tthisTemp.css(thisTemp.CB['menu'], {\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\t\ttop: y + 'px'\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tvar setTimeOutPClose = function() {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar mouseOut = function(event) {\n\t\t\t\tsetTimeOutPClose();\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['menu'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', mouseOut, thisTemp.CB['menu']);\n\t\t\tvar mouseOver = function(event) {\n\t\t\t\tsetTimeOutPClose();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', mouseOver, thisTemp.CB['menu']);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建控制栏隐藏事件\n\t\t*/\n\t\tcontrolBarHide: function(hide) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar client = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t},\n\t\t\toldClient = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t\tvar cShow = true,\n\t\t\tforce = false;\n\t\t\tvar oldCoor = [0, 0];\n\t\t\tvar controlBarShow = function(show) {\n\t\t\t\tif (show && !cShow && thisTemp.controlBarIsShow) {\n\t\t\t\t\tcShow = true;\n\t\t\t\t\tthisTemp.sendJS('controlBar', true);\n\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBarBg'], 'display', 'block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBar'], 'display', 'block');\n\t\t\t\t\tthisTemp.timeProgressDefault();\n\t\t\t\t\t//thisTemp.css(thisTemp.CB['timeProgressBg'], 'display', 'block');\n\t\t\t\t\t//thisTemp.css(thisTemp.CB['timeBoBg'], 'display', 'block');\n\t\t\t\t\tthisTemp.changeVolume(thisTemp.volume);\n\t\t\t\t\tthisTemp.changeLoad();\n\t\t\t\t\tif (!thisTemp.timerBuffer) {\n\t\t\t\t\t\tthisTemp.bufferEdHandler();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (cShow) {\n\t\t\t\t\t\tcShow = false;\n\t\t\t\t\t\tvar paused = thisTemp.getMetaDate()['paused'];\n\t\t\t\t\t\tif (force) {\n\t\t\t\t\t\t\tpaused = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!paused) {\n\t\t\t\t\t\t\tthisTemp.sendJS('controlBar', false);\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBarBg'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBar'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.promptShow(false);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisTemp.videoCss();//计算video的宽高和位置\n\t\t\t};\n\t\t\tvar cbarFun = function(event) {\n\t\t\t\tif (client['x'] == oldClient['x'] && client['y'] == oldClient['y']) {\n\t\t\t\t\tvar cdH = parseInt(thisTemp.CD.offsetHeight);\n\t\t\t\t\tif ((client['y'] < cdH - 50 || client['y'] > cdH - 2) && cShow && !thisTemp.getMetaDate()['paused']) {\n\t\t\t\t\t\tcontrolBarShow(false);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!cShow) {\n\t\t\t\t\t\tcontrolBarShow(true);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\toldClient = {\n\t\t\t\t\tx: client['x'],\n\t\t\t\t\ty: client['y']\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerCBar = new this.timer(2000, cbarFun);\n\t\t\tvar cdMove = function(event) {\n\t\t\t\tvar getClient = thisTemp.client(event);\n\t\t\t\tclient['x'] = getClient['x'];\n\t\t\t\tclient['y'] = getClient['y'];\n\t\t\t\tif (!cShow) {\n\t\t\t\t\tcontrolBarShow(true);\n\t\t\t\t}\n\t\t\t\tthisTemp.sendJS('mouse',client);\n\t\t\t};\n\t\t\tthis.addListenerInside('mousemove', cdMove, thisTemp.CD);\n\t\t\tthis.addListenerInside('ended', cdMove);\n\t\t\tthis.addListenerInside('resize', cdMove, window);\n\t\t\tif (hide === true) {\n\t\t\t\tcShow = true;\n\t\t\t\tforce = true;\n\t\t\t\tcontrolBarShow(false);\n\t\t\t}\n\t\t\tif (hide === false) {\n\t\t\t\tcShow = false;\n\t\t\t\tforce = true;\n\t\t\t\tcontrolBarShow(true);\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册键盘按键事件\n\t\t*/\n\t\tkeypress: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar keyDown = function(eve) {\n\t\t\t\tvar keycode = eve.keyCode || eve.which;\n\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tswitch (keycode) {\n\t\t\t\t\tcase 32:\n\t\t\t\t\t\tthisTemp.playOrPause();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 37:\n\t\t\t\t\t\tthisTemp.fastBack();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 39:\n\t\t\t\t\t\tthisTemp.fastNext();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 38:\n\t\t\t\t\t\tnow = thisTemp.volume + thisTemp.ckConfig['config']['volumeJump'];\n\t\t\t\t\t\tthisTemp.changeVolume(now > 1 ? 1 : now);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 40:\n\t\t\t\t\t\tnow = thisTemp.volume - thisTemp.ckConfig['config']['volumeJump'];\n\t\t\t\t\t\tthisTemp.changeVolume(now < 0 ? 0 : now);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('keydown', keyDown, window || document);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册倍速相关\n\t\t*/\n\t\tplaybackRate: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['playbackRate']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['playbackrate'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar thisTemp = this;\n\t\t\tvar dArr = this.playbackRateArr;\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的倍速\n\t\t\tvar i = 0,nowI=0;\n\t\t\tnowD = dArr[this.playbackRateDefault][1];\n\t\t\tnowI=this.playbackRateDefault;\n\t\t\tthis.removeChildAll(this.CB['playbackrateP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['playbackratePB']=document.createElement('div'),this.CB['playbackratePC']=document.createElement('div');\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackratePB']);\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackratePC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['playbackratePC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['playbackrateP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['playbackratePB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i][1];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['playbackrateP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['playbackrateP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['playbackratePC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['playbackratePC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar subClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newPlaybackrate(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', subClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['playbackrateTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackrateTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['playbackrateTriangle'],cssTemp);\n\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = nowD;\n\t\t\t} else {\n\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = this.ckLanguage['playbackrate'];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册切换倍速播放相关事件\n\t\t*/\n\t\taddPlaybackrate: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['playbackrateP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['playbackratePC'])){\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'],'display','block');\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['playbackrate']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackratePB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['playbackratePC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['playbackratePC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['playbackratePC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['playbackratePC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['playbackratePB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['playbackrate']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['playbackrateP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['playbackrateP']);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t切换倍速后发生的动作\n\t\t*/\n\t\tnewPlaybackrate: function(title) {\n\t\t\tvar vArr = this.playbackRateArr;\n\t\t\tvar nVArr = [];\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[1] == title) {\n\t\t\t\t\tthis.playbackRateDefault = i;\n\t\t\t\t\tthis.V.playbackRate = v[0];\n\t\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = v[1];\n\t\t\t\t\t\tthis.playbackRate();\n\t\t\t\t\t}\n\t\t\t\t\tthis.sendJS('playbackRate', v);\n\t\t\t\t\tthis.playbackRateTemp=v[0];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册多字幕切换相关\n\t\t*/\n\t\tsubtitleSwitch: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['subtitle']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar dArr = this.vars['cktrack'];//字幕数组\n\t\t\tif(this.varType(dArr)!='array'){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(dArr[0][1]==''){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['subtitle'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的字幕\n\t\t\tvar i = 0,nowI=0;\n\t\t\t\n\t\t\tif(this.subtitlesTemp==-1 && dArr.length>0){\n\t\t\t\tthis.subtitlesTemp=dArr.length-1;\n\t\t\t}\n\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\tif(this.subtitlesTemp==i){\n\t\t\t\t\tnowD=dArr[i][1];\n\t\t\t\t\tnowI=i;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!nowD) {\n\t\t\t\tnowD = dArr[0][1];\n\t\t\t}\n\t\t\tthis.removeChildAll(this.CB['subtitlesP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['subtitlesPB']=document.createElement('div'),this.CB['subtitlesPC']=document.createElement('div');\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesPB']);\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesPC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['subtitlesPC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['subtitlesP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['subtitlesPB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i][1];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['subtitlesP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['subtitlesP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['subtitlesPC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['subtitlesPC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar subClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newSubtitles(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', subClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['subtitlesTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['subtitlesTriangle'],cssTemp);\n\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = nowD;\n\t\t\t} else {\n\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = this.ckLanguage['subtitle'];\n\t\t\t}\n\t\t\t\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册多字幕切换事件\n\t\t*/\n\t\taddSubtitles:function(){\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['subtitlesP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['subtitlesPC'])){\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['subtitle']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'],'display','block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesPB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['subtitlesPC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['subtitlesPC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['subtitlesPC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['subtitlesPC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['subtitlesPB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['subtitles']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['subtitlesP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['subtitlesP']);\n\t\t},\n\t\t/*\n\t\t\t接口函数:修改字幕，按数组编号来\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeSubtitles: function(n) {\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar vArr = this.vars['cktrack'];//字幕数组\n\t\t\tif(this.varType(vArr)!='array'){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeSubtitles(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (vArr.length > n) {\n\t\t\t\tvar arr = vArr[n];\n\t\t\t\tif (arr.length > 2) {\n\t\t\t\t\tvar title = arr[1];\n\t\t\t\t\tif (title) {\n\t\t\t\t\t\tthis.newSubtitles(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数：修改字幕大小\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeSubtitlesSize:function(n,m){\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeSubtitlesSize(n,m);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.ckStyle['cktrack']['size']=n;\n\t\t\tif(!this.isUndefined(m)){\n\t\t\t\tthis.ckStyle['cktrack']['leading']=m;\n\t\t\t}\n\t\t\tthis.trackShowAgain();\n\t\t},\n\t\t/*\n\t\t\t当切换字幕时的动作 \n\t\t*/\n\t\tnewSubtitles:function(title){\n\t\t\tvar vArr = this.vars['cktrack'];//字幕数组\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[1] == title) {\n\t\t\t\t\tthis.subtitlesTemp=i;\n\t\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = v[1];\n\t\t\t\t\t\tthis.subtitleSwitch();\n\t\t\t\t\t\tthis.loadTrack(i);\n\t\t\t\t\t}\n\t\t\t\t\tthis.sendJS('subtitles', v);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建清晰度按钮及切换事件(Click事件)\n\t\t*/\n\t\tdefinition: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['definition']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['definition'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar thisTemp = this;\n\t\t\tvar vArr = this.VA;\n\t\t\tvar dArr = [];\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的清晰度\n\t\t\tvar i = 0,nowI=0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar d = vArr[i][2];\n\t\t\t\tif (dArr.indexOf(d) == -1) {\n\t\t\t\t\tdArr.push(d);\n\t\t\t\t}\n\t\t\t\tif (this.V) {\n\t\t\t\t\tif (vArr[i][0] == this.V.currentSrc) {\n\t\t\t\t\t\tnowD = d;\n\t\t\t\t\t\tnowI = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!nowD) {\n\t\t\t\tnowD = dArr[0];\n\t\t\t}\n\t\t\tthis.removeChildAll(this.CB['definitionP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['definitionPB']=document.createElement('div'),this.CB['definitionPC']=document.createElement('div');\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionPB']);\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionPC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['definitionPC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['definitionP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['definitionPB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['definitionP'],dArr[i],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['definitionP'],dArr[i],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['definitionPC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['definitionPC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar defClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newDefinition(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', defClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['definitionTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['definitionTriangle'],cssTemp);\n\t\t\t\tthis.CB['defaultButtonText'].innerHTML = nowD;\n\t\t\t\tthis.css(this.CB['definition'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.CB['defaultButtonText'].innerHTML = this.ckLanguage['definition'];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除节点内容\n\t\t*/\n\t\tremoveChildAll:function(ele){\n\t\t\tfor(var i=ele.childNodes.length-1;i>=0;i--){\n\t\t\t\tvar childNode=ele.childNodes[i];\n\t\t\t\tele.removeChild(childNode);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册清晰度相关事件\n\t\t*/\n\t\taddDefListener: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['definitionP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['definitionPC'])){\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'],'display','block');\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['definition']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionPB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['definitionPC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['definitionPC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['definitionPC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['definitionPC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['definitionPB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['definition']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['definitionP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['definitionP']);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeDefinition: function(n) {\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeDefinition(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.VA.length > n) {\n\t\t\t\tvar arr = this.VA[n];\n\t\t\t\tif (arr.length > 3) {\n\t\t\t\t\tvar title = arr[2];\n\t\t\t\t\tif (title) {\n\t\t\t\t\t\tthis.newDefinition(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t切换清晰度后发生的动作\n\t\t*/\n\t\tnewDefinition: function(title) {\n\t\t\tvar vArr = this.VA;\n\t\t\tvar nVArr = [];\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[2] == title) {\n\t\t\t\t\tnVArr.push(v);\n\t\t\t\t\tthis.sendJS('definitionChange', i + '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (nVArr.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V != null && this.needSeek == 0) {\n\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t}\n\t\t\tif (this.getFileExt(nVArr[0][0]) != '.m3u8') {\n\t\t\t\tthis.isM3u8 = false;\n\t\t\t}\n\t\t\tif (!this.isM3u8) {\n\t\t\t\tif (nVArr.length == 1) {\n\t\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\t\tthis.V.src = nVArr[0][0];\n\t\t\t\t\tthis.V.currentSrc = nVArr[0][0];\n\t\t\t\t} else {\n\t\t\t\t\tvar source = '';\n\t\t\t\t\tnVArr = this.arrSort(nVArr);\n\t\t\t\t\tfor (i = 0; i < nVArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = nVArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + va[0] + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\tthis.V.innerHTML = source;\n\t\t\t\t\tthis.V.currentSrc = nVArr[0][0];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.embedHls(vArr[0][0], this.vars['autoplay']);\n\t\t\t}\n\t\t\tthis.V.autoplay = 'autoplay';\n\t\t\tthis.V.load();\n\t\t\tif (this.playbackRateTemp!=1) {\n\t\t\t\tthis.V.playbackRate = this.playbackRateTemp; //定义倍速\n\t\t\t}\n\t\t\tthis.timerErrorFun();\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t播放hls\n\t\t*/\n\t\tembedHls: function(url, autoplay) {\n\t\t\tvar thisTemp = this;\n\t\t\tthisTemp.hlsAutoPlay=autoplay;\n\t\t\tif (Hls.isSupported()) {\n\t\t\t\tvar hls = new Hls();\n\t\t\t\thls.loadSource(url);\n\t\t\t\thls.attachMedia(this.V);\n\t\t\t\thls.on(Hls.Events.MANIFEST_PARSED,\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.playerLoad();\n\t\t\t\t\tif (autoplay) {\n\t\t\t\t\t\tthisTemp.videoPlay();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建提示点\n\t\t*/\n\t\tprompt: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar prompt = this.vars['promptSpot'];\n\t\t\tif (prompt == null || this.promptArr.length > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar showPrompt = function(event) {\n\t\t\t\tif (thisTemp.promptElement == null) {\n\t\t\t\t\tvar random2 = 'prompte-' + thisTemp.randomString(5);\n\t\t\t\t\tvar ele2 = document.createElement('div');\n\t\t\t\t\tele2.className = random2;\n\t\t\t\t\tthisTemp.PD.appendChild(ele2);\n\t\t\t\t\tthisTemp.promptElement = thisTemp.getByElement(random2);\n\t\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\t\toverflowX: 'hidden',\n\t\t\t\t\t\tlineHeight: thisTemp.ckStyle['previewPrompt']['lineHeight']+'px',\n\t\t\t\t\t\tfontFamily: thisTemp.ckStyle['previewPrompt']['font'],\n\t\t\t\t\t\tfontSize: thisTemp.ckStyle['previewPrompt']['size']+'px',\n\t\t\t\t\t\tcolor: thisTemp.ckStyle['previewPrompt']['color'].replace('0x','#'),\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\tzIndex: '90'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tvar pcon = thisTemp.getPromptTest();\n\t\t\t\tvar pW = pcon['pW'],\n\t\t\t\tpT = pcon['pT'],\n\t\t\t\tpL = parseInt(thisTemp.css(this, 'left')) - parseInt(pW * 0.5);\n\t\t\t\tif (pcon['pL'] > 10) {\n\t\t\t\t\tpL = pcon['pL'];\n\t\t\t\t}\n\t\t\t\tif (pL < 0) {\n\t\t\t\t\tpL = 0;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\twidth: pW + 'px',\n\t\t\t\t\tleft: ( - pW - 10) + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptElement.innerHTML = thisTemp.getDataset(this, 'words');\n\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\tleft: pL + 'px',\n\t\t\t\t\ttop: (pT - thisTemp.promptElement.offsetHeight-thisTemp.ckStyle['previewPrompt']['marginBottom']) + 'px'\n\t\t\t\t});\n\t\t\t};\n\t\t\tvar hidePrompt = function(event) {\n\t\t\t\tif (thisTemp.promptElement != null) {\n\t\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\t\tdisplay: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < prompt.length; i++) {\n\t\t\t\tvar pr = prompt[i];\n\t\t\t\tvar words = pr['words'];\n\t\t\t\tvar time = pr['time'];\n\t\t\t\tvar random = 'prompttitle-' + this.randomString(5);\n\t\t\t\tvar ele = document.createElement('div');\n\t\t\t\tele.className = random;\n\t\t\t\tthis.CB['timeBoBg'].appendChild(ele);\n\t\t\t\tvar div = this.getByElement(random);\n\t\t\t\ttry{\n\t\t\t\t\tdiv.setAttribute('data-time', time);\n\t\t\t\t\tif(this.ckConfig['config']['promptSpotTime']){\n\t\t\t\t\t\twords=this.formatTime(time,0,this.ckLanguage['timeSliderOver'])+' '+words;\n\t\t\t\t\t}\n\t\t\t\t\tdiv.setAttribute('data-words', words);\n\t\t\t\t}\n\t\t\t\tcatch(event){}\n\t\t\t\tvar pCss=this.getEleCss(this.ckStyle['promptSpotH5'],{marginY:-10000,zIndex: 1});\n\t\t\t\ttry{\n\t\t\t\t\tthis.css(div, pCss);\n\t\t\t\t}\n\t\t\t\tcatch(event){}\n\t\t\t\tthis.addListenerInside('mouseover', showPrompt, div);\n\t\t\t\tthis.addListenerInside('mouseout', hidePrompt, div);\n\t\t\t\tthis.promptArr.push(div);\n\t\t\t}\n\t\t\tthis.changePrompt();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t计算提示文本的位置\n\t\t*/\n\t\tgetPromptTest: function() {\n\t\t\tvar pW = this.previewWidth,\n\t\t\tpT = this.getCoor(this.CB['timeProgressBg'])['y'],\n\t\t\tpL = 0;\n\t\t\tif (this.previewTop != null) {\n\t\t\t\tpT = parseInt(this.css(this.previewTop, 'top'));\n\t\t\t\tpL = parseInt(this.css(this.previewTop, 'left'));\n\t\t\t} else {\n\t\t\t\tpT -= 35;\n\t\t\t}\n\t\t\tpL += 2;\n\t\t\tif (pL < 0) {\n\t\t\t\tpL = 0;\n\t\t\t}\n\t\t\tif (pL > this.PD.offsetWidth - pW) {\n\t\t\t\tpL = this.PD.offsetWidth - pW;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tpW: pW,\n\t\t\t\tpT: pT,\n\t\t\t\tpL: pL\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除提示点\n\t\t*/\n\t\tdeletePrompt: function() {\n\t\t\tvar arr = this.promptArr;\n\t\t\tif (arr.length > 0) {\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i]) {\n\t\t\t\t\t\tthis.deleteChild(arr[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.promptArr = [];\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t计算提示点坐标\n\t\t*/\n\t\tchangePrompt: function() {\n\t\t\tif (this.promptArr.length == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = this.promptArr;\n\t\t\tvar duration = this.getMetaDate()['duration'];\n\t\t\tvar bw = this.CB['timeBoBg'].offsetWidth;\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar time = parseInt(this.getDataset(arr[i], 'time'));\n\t\t\t\tvar left = parseInt(time * bw / duration) - parseInt(arr[i].offsetWidth * 0.5);\n\t\t\t\tif (left < 0) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\t\t\t\tif (left > bw - parseInt(arr[i].offsetWidth * 0.5)) {\n\t\t\t\t\tleft = bw - parseInt(arr[i].offsetWidth * 0.5);\n\t\t\t\t}\n\t\t\t\tthis.css(arr[i], {\n\t\t\t\t\tleft: left + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建预览图片效果\n\t\t*/\n\t\tpreview: function(obj) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar preview = {\n\t\t\t\tfile: null,\n\t\t\t\tscale: 0\n\t\t\t};\n\t\t\tpreview = this.standardization(preview, this.vars['preview']);\n\t\t\tif (preview['file'] == null || preview['scale'] <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar srcArr = preview['file'];\n\t\t\tif (this.previewStart == 0) { //如果还没有构建，则先进行构建\n\t\t\t\tthis.previewStart = 1;\n\t\t\t\tif (srcArr.length > 0) {\n\t\t\t\t\tvar i = 0;\n\t\t\t\t\tvar imgW = 0,\n\t\t\t\t\timgH = 0;\n\t\t\t\t\tvar random = 'preview-'+thisTemp.randomString(10);\n\t\t\t\t\tvar loadNum = 0;\n\t\t\t\t\tvar loadImg = function(i) {\n\t\t\t\t\t\tsrcArr[i] = thisTemp.getNewUrl(srcArr[i]);\n\t\t\t\t\t\tvar n = 0;\n\t\t\t\t\t\tvar img = new Image();\n\t\t\t\t\t\timg.src = srcArr[i];\n\t\t\t\t\t\timg.className = random + i;\n\t\t\t\t\t\timg.onload = function(event) {\n\t\t\t\t\t\t\tloadNum++;\n\t\t\t\t\t\t\tif (thisTemp.previewDiv == null) { //如果没有建立DIV，则建\n\t\t\t\t\t\t\t\timgW = img.width;\n\t\t\t\t\t\t\t\timgH = img.height;\n\t\t\t\t\t\t\t\tthisTemp.previewWidth = parseInt(imgW * 0.1);\n\t\t\t\t\t\t\t\tvar ele = document.createElement('div');\n\t\t\t\t\t\t\t\tele.className = random;\n\t\t\t\t\t\t\t\tthisTemp.PD.appendChild(ele);\n\t\t\t\t\t\t\t\tthisTemp.previewDiv = thisTemp.getByElement(random);\n\t\t\t\t\t\t\t\tvar eleTop = 0;\n\t\t\t\t\t\t\t\teleTop=thisTemp.PD.offsetHeight -thisTemp.ckStyle['preview']['bottom'];\n\t\t\t\t\t\t\t\tthisTemp.css(thisTemp.previewDiv, {\n\t\t\t\t\t\t\t\t\twidth: srcArr.length * imgW * 10 + 'px',\n\t\t\t\t\t\t\t\t\theight: parseInt(imgH * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\tbackgroundColor: '#000000',\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\t\t\ttop: eleTop + 'px',\n\t\t\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t\t\tzIndex: '80'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tele.setAttribute('data-x', '0');\n\t\t\t\t\t\t\t\tele.setAttribute('data-y', eleTop);\n\t\t\t\t\t\t\t\tvar ele2 = document.createElement('div');\n\t\t\t\t\t\t\t\tele2.className = random + 'd2';\n\t\t\t\t\t\t\t\tthisTemp.PD.appendChild(ele2);\n\t\t\t\t\t\t\t\tthisTemp.previewTop = thisTemp.getByElement(ele2.className);\n\t\t\t\t\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\t\t\t\t\twidth: parseInt(imgW * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\theight: parseInt(imgH * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\tborder: thisTemp.ckStyle['preview']['border']+'px solid ' + thisTemp.ckStyle['preview']['borderColor'].replace('0x','#'),\n\t\t\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\t\t\ttop: eleTop + 'px',\n\t\t\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t\t\tzIndex: '81'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tvar html = '';\n\t\t\t\t\t\t\t\tfor (n = 0; n < srcArr.length; n++) {\n\t\t\t\t\t\t\t\t\thtml += thisTemp.newCanvas(random + n, imgW * 10, parseInt(imgH * 0.1))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisTemp.previewDiv.innerHTML = html;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.previewDiv.appendChild(img);\n\t\t\t\t\t\t\tvar cimg = thisTemp.getByElement(img.className);\n\t\t\t\t\t\t\tvar canvas = thisTemp.getByElement(img.className + '-canvas');\n\t\t\t\t\t\t\tvar context = canvas.getContext('2d');\n\t\t\t\t\t\t\tvar sx = 0,\n\t\t\t\t\t\t\tsy = 0,\n\t\t\t\t\t\t\tx = 0,\n\t\t\t\t\t\t\th = parseInt(imgH * 0.1);\n\t\t\t\t\t\t\tfor (n = 0; n < 100; n++) {\n\t\t\t\t\t\t\t\tx = parseInt(n * imgW * 0.1);\n\t\t\t\t\t\t\t\tcontext.drawImage(cimg, sx, sy, parseInt(imgW * 0.1), h, x, 0, parseInt(imgW * 0.1), h);\n\t\t\t\t\t\t\t\tsx += parseInt(imgW * 0.1);\n\t\t\t\t\t\t\t\tif (sx >= imgW) {\n\t\t\t\t\t\t\t\t\tsx = 0;\n\t\t\t\t\t\t\t\t\tsy += h;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisTemp.css(cimg, 'display', 'none');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (loadNum == srcArr.length) {\n\t\t\t\t\t\t\t\tthisTemp.previewStart = 2;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t\t\tloadImg(i);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tloadImg(i);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.previewStart == 2) {\n\t\t\t\tvar isTween = true;\n\t\t\t\tvar nowNum = parseInt(obj['time'] / this.vars['preview']['scale']);\n\t\t\t\tvar numTotal = parseInt(thisTemp.getMetaDate()['duration'] / this.vars['preview']['scale']);\n\t\t\t\tif (thisTemp.css(thisTemp.previewDiv, 'display') == 'none') {\n\t\t\t\t\tisTween = false;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'display', 'block');\n\t\t\t\tvar imgWidth = thisTemp.previewDiv.offsetWidth * 0.01 / srcArr.length;\n\t\t\t\tvar left = (imgWidth * nowNum) - obj['x'] + parseInt(imgWidth * 0.5),\n\t\t\t\ttop=thisTemp.PD.offsetHeight- thisTemp.previewDiv.offsetHeight -thisTemp.ckStyle['preview']['bottom'];\n\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'top', top + 2 + 'px');\n\t\t\t\tvar topLeft = obj['x'] - parseInt(imgWidth * 0.5);\n\t\t\t\tvar timepieces = 0;\n\t\t\t\tif (topLeft < 0) {\n\t\t\t\t\ttopLeft = 0;\n\t\t\t\t\ttimepieces = obj['x'] - topLeft - imgWidth * 0.5;\n\t\t\t\t}\n\t\t\t\tif (topLeft > thisTemp.PD.offsetWidth - imgWidth) {\n\t\t\t\t\ttopLeft = thisTemp.PD.offsetWidth - imgWidth;\n\t\t\t\t\ttimepieces = obj['x'] - topLeft - imgWidth * 0.5;\n\t\t\t\t}\n\t\t\t\tif (left < 0) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\t\t\t\tif (left > numTotal * imgWidth - thisTemp.PD.offsetWidth) {\n\t\t\t\t\tleft = numTotal * imgWidth - thisTemp.PD.offsetWidth;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\tleft: topLeft + 'px',\n\t\t\t\t\ttop: top + 2 + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t\tif (thisTemp.previewTop.offsetHeight > thisTemp.previewDiv.offsetHeight) {\n\t\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\t\theight: thisTemp.previewDiv.offsetHeight - (thisTemp.previewTop.offsetHeight - thisTemp.previewDiv.offsetHeight) + 'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (this.previewTween != null) {\n\t\t\t\t\tthis.animatePause(this.previewTween);\n\t\t\t\t\tthis.previewTween = null\n\t\t\t\t}\n\t\t\t\tvar nowLeft = parseInt(thisTemp.css(thisTemp.previewDiv, 'left'));\n\t\t\t\tvar leftC = nowLeft + left;\n\t\t\t\tif (nowLeft == -(left + timepieces)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (isTween) {\n\t\t\t\t\tvar obj = {\n\t\t\t\t\t\telement: thisTemp.previewDiv,\n\t\t\t\t\t\tstart: null,\n\t\t\t\t\t\tend: -(left + timepieces),\n\t\t\t\t\t\tspeed: 0.3\n\t\t\t\t\t};\n\t\t\t\t\tthis.previewTween = this.animate(obj);\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'left', -(left + timepieces) + 'px')\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除预览图节点\n\t\t*/\n\t\tdeletePreview: function() {\n\t\t\tif (this.previewDiv != null) {\n\t\t\t\tthis.deleteChild(this.previewDiv);\n\t\t\t\tthis.previewDiv = null;\n\t\t\t\tthis.previewStart = 0;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t修改视频地址，属性\n\t\t*/\n\t\tchangeVideo: function() {\n\t\t\tif (!this.html5Video) {\n\t\t\t\tthis.getVarsObject();\n\t\t\t\tthis.V.newVideo(this.vars);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar vArr = this.VA;\n\t\t\tvar v = this.vars;\n\t\t\tvar i = 0;\n\t\t\tif (vArr.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V != null && this.needSeek == 0) {\n\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t}\n\t\t\tif (v['poster']) {\n\t\t\t\tthis.V.poster = v['poster'];\n\t\t\t} else {\n\t\t\t\tthis.V.removeAttribute('poster');\n\t\t\t}\n\t\t\tif (v['loop']) {\n\t\t\t\tthis.V.loop = 'loop';\n\t\t\t} else {\n\t\t\t\tthis.V.removeAttribute('loop');\n\t\t\t}\n\t\t\tif (v['seek'] > 0) {\n\t\t\t\tthis.needSeek = v['seek'];\n\t\t\t} else {\n\t\t\t\tthis.needSeek = 0;\n\t\t\t}\n\t\t\tif (this.getFileExt(vArr[0][0]) != '.m3u8') {\n\t\t\t\tthis.isM3u8 = false;\n\t\t\t}\n\t\t\tif (!this.isM3u8) {\n\t\t\t\tif (vArr.length == 1) {\n\t\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\t\tthis.V.src = vArr[0][0];\n\t\t\t\t} else {\n\t\t\t\t\tvar source = '';\n\t\t\t\t\tvArr = this.arrSort(vArr);\n\t\t\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = vArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + va[0] + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\tthis.V.innerHTML = source;\n\t\t\t\t}\n\t\t\t\t//分析视频地址结束\n\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\tthis.V.autoplay = 'autoplay';\n\t\t\t\t} else {\n\t\t\t\t\tthis.V.removeAttribute('autoplay');\n\t\t\t\t}\n\t\t\t\tthis.V.load();\n\t\t\t} else {\n\t\t\t\tthis.embedHls(vArr[0][0], v['autoplay']);\n\t\t\t}\n\t\t\tif (!this.isUndefined(v['volume'])) {\n\t\t\t\tthis.changeVolume(v['volume']);\n\t\t\t}\n\t\t\tthis.resetPlayer(); //重置界面元素\n\t\t\tthis.timerErrorFun();\n\t\t\t//如果存在字幕则加载\n\t\t\tif (this.vars['cktrack']) {\n\t\t\t\tthis.loadTrack();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t调整中间暂停按钮,缓冲loading，错误提示文本框的位置\n\t\t*/\n\t\telementCoordinate: function() {\n\t\t\tthis.pdCoor = this.getXY(this.PD);\n\t\t\tvar cssTemp=null;\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['centerPlay'],{cursor:'pointer'});\n\t\t\t\tthis.css(this.CB['pauseCenter'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['loading']);\n\t\t\t\tthis.css(this.CB['loading'],cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['error']);\n\t\t\t\tthis.css(this.CB['errorText'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['logo']);\n\t\t\t\tthis.css(this.CB['logo'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\tthis.checkBarWidth();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t控制栏内各按钮的位置\n\t\t*/\n\t\tcarbarButton:function(){\n\t\t\tvar styleC=this.ckStyle['controlBar'];\n\t\t\tvar styleCB=styleC['button'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\tvar cssSup2={overflow: 'hidden',cursor: 'default',zIndex: 1};\n\t\t\tvar cssSup4={overflow: 'hidden',cursor: 'pointer',display: 'none',zIndex: 995};\n\t\t\t//播放/暂停按钮\n\t\t\tcssTemp=this.getEleCss(styleCB['play'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['play'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['pause'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['pause'],cssTemp);\n\t\t\t//设置静音/取消静音的按钮样式\n\t\t\tcssTemp=this.getEleCss(styleCB['mute'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['mute'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['escMute'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['escMute'],cssTemp);\n\t\t\t//设置全屏/退出全屏按钮样式\n\t\t\tcssTemp=this.getEleCss(styleCB['full'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['full'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['escFull'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['escFull'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleC['timeText']['vod'],cssSup2,this.CB['controlBarBg']);\n \t\t\tthis.css(this.CB['timeText'], cssTemp);\n \t\t\t//音量调节框\n \t\t\tvar volumeSchedule=this.newObj(styleC['volumeSchedule']);\n \t\t\tvolumeSchedule['backgroundImg']='';\n\t\t\tcssTemp=this.getEleCss(volumeSchedule,cssSup2,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['volume'],cssTemp);\n\t\t\tcssTemp= {\n\t\t\t\twidth: cssTemp['width'],\n\t\t\t\theight: styleC['volumeSchedule']['backgroundHeight']+'px',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tbackgroundRepeat:'no-repeat',\n\t\t\t\tbackgroundPosition:'left center'\n\t\t\t};\n\t\t\tif(this.ckConfig['config']['buttonMode']['volumeSchedule']){\n\t\t\t\tcssTemp['cursor']='pointer';\n\t\t\t}\n\t\t\tthis.css(this.CB['volumeBg'],cssTemp);\n\t\t\tthis.css(this.CB['volumeBg'], {\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t\tcssTemp['width']=(this.CB['volumeBO'].offsetWidth*0.5+parseInt(this.css(this.CB['volumeBO'],'left')))+'px';\n\t\t\tthis.css(this.CB['volumeUp'],cssTemp);\n\t\t\tthis.css(this.CB['volumeBg'], 'backgroundImage', 'url('+styleC['volumeSchedule']['backgroundImg']+')');\n\t\t\tthis.css(this.CB['volumeUp'], 'backgroundImage', 'url('+styleC['volumeSchedule']['maskImg']+')');\n\t\t\t//音量调节按钮\n\t\t\tcssTemp=this.getEleCss(styleC['volumeSchedule']['button'],{overflow: 'hidden',cursor: 'pointer',backgroundRepeat:'no-repeat',backgroundPosition:'left center'});\n\t\t\tthis.css(this.CB['volumeBO'],cssTemp);\n\t\t\t//倍速容器\n\t\t\tif(this.ckConfig['config']['playbackRate']){\n\t\t\t\tif(!this.CB['playbackrateButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['playbackrate'],styleC['playbackrate']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['playbackrate']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['playbackrate'],'playbackrateButtonText');\n\t\t\t\t}\n\t\t\t\tcssTemp=this.getEleCss(styleC['playbackrate']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['playbackrate'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['playbackrateP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['playbackrate']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['playbackrateP'], cssTemp);\n\t\t\t}\n\t\t\t//初始化清晰度按钮\n\t\t\tif(this.ckConfig['config']['definition']){\n\t\t\t\tif(!this.CB['defaultButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['definition'],styleC['definition']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['definition']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['definition'],'defaultButtonText');\n\t\t\t\t}\n\t\t\t\tcssTemp=this.getEleCss(styleC['definition']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['definition'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['definitionP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['definition']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['definitionP'], cssTemp);\n\t\t\t}\n\t\t\t//初始化字幕切换按钮\n\t\t\tif(this.ckConfig['config']['subtitle']){\n\t\t\t\tif(!this.CB['subtitleButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['subtitles'],styleC['subtitle']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['subtitle']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['subtitle'],'subtitleButtonText');\n\t\t\t\t}\n\t\t\t\t//字幕按钮列表容器样式\n\t\t\t\tcssTemp=this.getEleCss(styleC['subtitle']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['subtitles'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['subtitlesP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['subtitle']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['subtitlesP'], cssTemp);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t构造一个文字按钮\n\t\t \tele:当前按钮\n\t\t \tcss:样式\n\t\t \tcssSup:补充样式\n\t\t \tupEle：上一级容器对象\n\t\t \ttext:显示的文本\n\t\t \tnewName:文本框名称\n\t\t*/\n\t\ttextButton:function(ele,css,cssSup,upEle,text,newName){\n\t\t\tvar thisTemp=this;\n\t\t\tvar bgCss={\n\t\t\t\twidth:css['width'],\n\t\t\t\theight:css['height']\n\t\t\t};\n\t\t\tif(cssSup){\n\t\t\t\tbgCss={\n\t\t\t\t\twidth:css['width'],\n\t\t\t\t\theight:css['height'],\n\t\t\t\t\talign:cssSup['align'],\n\t\t\t\t\tvAlign:cssSup['vAlign'],\n\t\t\t\t\tmarginX: cssSup['marginX'],\n\t\t\t\t\tmarginY: cssSup['marginY'],\n\t\t\t\t\toffsetX: cssSup['offsetX'],\n\t\t\t\t\toffsetY: cssSup['offsetY'],\n\t\t\t\t\tzIndex:2\n\t\t\t\t};\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(bgCss,null,upEle);\n\t\t\tthisTemp.css(ele, cssTemp);\n\t\t\tvar outCss=this.newObj(css);\n\t\t\tvar overCss=this.newObj(css);\n\t\t\tvar textOutCss=this.newObj(css);\n\t\t\tvar textOverCss=this.newObj(css);\n\t\t\tvar cssTemp=null;\n\t\t\toutCss['alpha']=css['backgroundAlpha'];\n\t\t\toverCss['backgroundColor']=css['overBackgroundColor'];\n\t\t\toverCss['alpha']=css['backgroundAlpha'];\n\t\t\ttextOutCss['color']=css['textColor'];\n\t\t\ttextOverCss['color']=css['overTextColor'];\n\t\t\ttextOutCss['textAlign']=css['align'];\n\t\t\ttextOverCss['textAlign']=css['align'];\n\t\t\t//修正文字\n\t\t\ttextOutCss['backgroundColor']=textOverCss['backgroundColor']='';\n\t\t\tvar bgEle=document.createElement('div');//按钮背景层\n\t\t\tthis.removeChildAll(ele);\n\t\t\tele.appendChild(bgEle);\n\t\t\tif(newName){\n\t\t\t\tthis.CB[newName]=document.createElement('div');//文字层\n\t\t\t\tele.appendChild(this.CB[newName]);\n\t\t\t\tthis.CB[newName].innerHTML=text;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar newEle=document.createElement('div');//文字层\n\t\t\t\tele.appendChild(newEle);\n\t\t\t\tnewEle.innerHTML=text;\n\t\t\t}\n\t\t\tvar outFun=function(){\n\t\t\t\tcssTemp=thisTemp.getEleCss(outCss,{cursor: 'pointer',zIndex:1},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tthisTemp.css(bgEle, cssTemp);\n\t\t\t\tcssTemp=thisTemp.getEleCss(textOutCss,{cursor: 'pointer',zIndex:2},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tif(newName){\n\t\t\t\t\tthisTemp.css(thisTemp.CB[newName], cssTemp,bgEle);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(newEle, cssTemp,bgEle);\n\t\t\t\t}\n\t\t\t\tthisTemp.buttonHide=true;//显示的列表框需要隐藏\n\t\t\t\tif(thisTemp.timeButtonOver){\n\t\t\t\t\twindow.clearTimeout(thisTemp.timeButtonOver);\n\t\t\t\t\tthisTemp.timeButtonOver=null;\n\t\t\t\t}\n\t\t\t\tthisTemp.timeButtonOver=window.setTimeout(function(){thisTemp.buttonListHide()},1000);\n\t\t\t};\n\t\t\tvar overFun=function(){\n\t\t\t\tcssTemp=thisTemp.getEleCss(overCss,{zIndex:1},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tthisTemp.css(bgEle, cssTemp);\n\t\t\t\tcssTemp=thisTemp.getEleCss(textOverCss,{zIndex:2},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tif(newName){\n\t\t\t\t\tthisTemp.css(thisTemp.CB[newName], cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(newEle, cssTemp);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t};\n\t\t\toutFun();\n\t\t\tthis.addListenerInside('mouseout', outFun, ele);\n\t\t\tthis.addListenerInside('mouseover', overFun, ele);\n\t\t},\n\t\t/*\n\t\t\t隐藏所有的列表框 \n\t\t*/\n\t\tbuttonListHide:function(){\n\t\t\tif(this.buttonHide){\n\t\t\t\tthis.css([this.CB['definitionP'],this.CB['subtitlesP'],this.CB['playbackrateP']],'display','none');\n\t\t\t}\n\t\t\tif(this.timeButtonOver){\n\t\t\t\twindow.clearTimeout(this.timeButtonOver);\n\t\t\t\tthis.timeButtonOver=null;\n\t\t\t}\n\t\t\tthis.buttonHide=false;\n\t\t},\n\t\t/*\n\t\t \t计算视频的宽高\n\t\t*/\n\t\tvideoCss:function(){\n\t\t\tvar cssTemp={};\n\t\t\t\n\t\t\tif(this.css(this.CB['controlBar'],'display')=='none'){\n\t\t\t\tcssTemp=this.ckStyle['video']['controlBarHideReserve'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tcssTemp=this.ckStyle['video']['reserve'];\n\t\t\t}\n\t\t\tvar spacingBottom=cssTemp['spacingBottom'];\n\t\t\tif(this.V.controls && this.isMobile()){\n\t\t\t\tspacingBottom-=40;\n\t\t\t}\n\t\t\tvar pW=this.PD.offsetWidth,pH=this.PD.offsetHeight;\n\t\t\tvar vW=pW-cssTemp['spacingLeft']-cssTemp['spacingRight'];\n\t\t\tvar vH=pH-cssTemp['spacingTop']-spacingBottom;\n\t\t\tif(!this.MD){\n\t\t\t\tthis.css(this.V,{\n\t\t\t\t\twidth:vW+'px',\n\t\t\t\t\theight:vH+'px',\n\t\t\t\t\tmarginLeft:cssTemp['spacingLeft']+'px',\n\t\t\t\t\tmarginTop:cssTemp['spacingTop']+'px'\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.css([this.MD,this.MDC],{\n\t\t\t\t\twidth:vW+'px',\n\t\t\t\t\theight:vH+'px',\n\t\t\t\t\tmarginLeft:cssTemp['spacingLeft']+'px',\n\t\t\t\t\tmarginTop:cssTemp['spacingTop']+'px'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t播放器界面自定义元素\n\t\t*/\n\t\tplayerCustom:function(){\n\t\t\tvar custom=this.ckStyle['custom'];\n\t\t\tvar button=custom['button'];\n\t\t\tvar images=custom['images'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup=null;\n\t\t\tvar k='',tempID='';\n\t\t\tvar b={};\n\t\t\tvar tempDiv;\n\t\t\tvar i=0;\n\t\t\tfor(k in button){\n\t\t\t\tb=button[k];\n\t\t\t\tcssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'player-button',name:k});\n\t\t\t\tthis.PD.appendChild(tempDiv);\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\ttempDiv.dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tthis.buttonEventFun(tempDiv,b);\n\t\t\t}\n\t\t\tfor(k in images){\n\t\t\t\tb=images[k];\n\t\t\t\tcssSup={overflow: 'hidden',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'player-images',name:k});\n\t\t\t\tthis.PD.appendChild(tempDiv);\n\t\t\t\tvar img=new Image();\n\t\t\t\timg.src=images[k]['img'];\n\t\t\t\ttempDiv.appendChild(img);\n\t\t\t\ti++\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素\n\t\t*/\n\t\tcarbarCustom:function(){\n\t\t\tvar custom=this.ckStyle['controlBar']['custom'];\n\t\t\tvar button=custom['button'];\n\t\t\tvar images=custom['images'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup=null;\n\t\t\tvar k='',tempID='';\n\t\t\tvar b={};\n\t\t\tvar tempDiv;\n\t\t\tvar i=0;\n\t\t\tfor(k in button){\n\t\t\t\tb=button[k];\n\t\t\t\tcssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup,this.CB['controlBarBg']);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'controlBar-button',name:k});\n\t\t\t\tthis.CB['controlBar'].appendChild(tempDiv);\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\ttempDiv.dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tthis.buttonEventFun(tempDiv,b);\n\t\t\t}\n\t\t\tfor(k in images){\n\t\t\t\tb=images[k];\n\t\t\t\tcssSup={overflow: 'hidden',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup,this.CB['controlBarBg']);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'controlBar-images',name:k});\n\t\t\t\tthis.CB['controlBar'].appendChild(tempDiv);\n\t\t\t\tvar img=new Image();\n\t\t\t\timg.src=images[k]['img'];\n\t\t\t\ttempDiv.appendChild(img);\n\t\t\t\ti++;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素的位置\n\t\t*/\n\t\tcustomCoor:function(){\n\t\t\tvar cssTemp=null;\n\t\t\tif(this.customeElement.length>0){\n\t\t\t\tfor(var i=0;i<this.customeElement.length;i++){\n\t\t\t\t\tif(this.customeElement[i]['type']=='controlBar'){\n\t\t\t\t\t\tcssTemp=this.getEleCss(this.customeElement[i]['css'],this.customeElement[i]['cssSup'],this.CB['controlBarBg']);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tcssTemp=this.getEleCss(this.customeElement[i]['css'],this.customeElement[i]['cssSup']);\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(this.customeElement[i]['ele'],cssTemp);\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素的显示和隐藏，只对播放器界面的有效，作用是当播放视频广告时隐藏，广告播放完成后显示\n\t\t*/\n\t\tcustomShow:function(show){\n\t\t\tif(this.customeElement.length>0){\n\t\t\t\tfor(var i=0;i<this.customeElement.length;i++){\n\t\t\t\t\tif(this.customeElement[i]['type']=='player'){\n\t\t\t\t\t\tthis.css(this.customeElement[i]['ele'],'display',show?'block':'none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t},\n\t\t/*\n\t\t \t广告控制栏样式\n\t\t*/\n\t\tadvertisementStyle:function(){\n\t\t\tvar asArr=['muteButton','escMuteButton','adLinkButton','closeButton','skipAdButton','countDown','countDownText','skipDelay','skipDelayText'];\n\t\t\tvar eleArr=['adMute','adEscMute','adLink','adPauseClose','adSkipButton','adTime','adTimeText','adSkip','adSkipText'];\n\t\t\tfor(var i=0;i<eleArr.length;i++){\n\t\t\t\tvar cssUp={overflow: 'hidden',zIndex: 999};\n\t\t\t\tif(i<5){\n\t\t\t\t\tcssUp['cursor']='pointer';\n\t\t\t\t}\n\t\t\t\tvar cssTemp=this.getEleCss(this.ckStyle['advertisement'][asArr[i]],cssUp);\n\t\t\t\tthis.css(this.CB[eleArr[i]],cssTemp);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t当播放器尺寸变化时，显示和隐藏相关节点\n\t\t*/\n\t\tcheckBarWidth: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t初始化暂停或播放按钮\n\t\t*/\n\t\tinitPlayPause: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.vars['autoplay']) {\n\t\t\t\tthis.css([this.CB['play'], this.CB['pauseCenter']], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'block');\n\t\t\t\tif (this.css(this.CB['errorText'], 'display') == 'none') {\n\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'block');\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'none');\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t\t下面为监听事件\n\t\t\t内部函数\n\t\t\t监听元数据已加载\n\t\t*/\n\t\tloadedHandler: function() {\n\t\t\tthis.loaded = true;\n\t\t\tif (this.vars['loaded'] != '') {\n\t\t\t\ttry {\n\t\t\t\t\teval(this.vars['loaded'] + '(\\''+this.vars['variable']+'\\')');\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放\n\t\t*/\n\t\tplayingHandler: function() {\n\t\t\tthis.playShow(true);\n\t\t\t//如果是第一次播放\n\t\t\tif (this.isFirstTimePlay && !this.isUndefined(this.advertisements['front'])) {\n\t\t\t\tthis.isFirstTimePlay = false;\n\t\t\t\t//调用播放前置广告组件\n\t\t\t\tthis.adI = 0;\n\t\t\t\tthis.adType = 'front';\n\t\t\t\tthis.adMuteInto();\n\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\tthis.adPlayStart = true;\n\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\tthis.videoPause();\n\t\t\t\tthis.advertisementsTime();\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\t//调用播放前置广告组件结束\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//判断第一次播放结束\n\t\t\tif (this.needSeek > 0) {\n\t\t\t\tthis.videoSeek(this.needSeek);\n\t\t\t\tthis.needSeek = 0;\n\t\t\t}\n\t\t\tif (this.animatePauseArray.length > 0) {\n\t\t\t\tthis.animateResume('pause');\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video' && this.V != null && this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\tthis.sendVCanvas();\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['pause']) && !this.adPlayStart) { //如果存在暂停广告\n\t\t\t\tthis.closePauseAd();\n\t\t\t}\n\t\t},\n\t\t/*暂停时播放暂停广告*/\n\t\tadPausePlayer: function() {\n\t\t\tthis.adI = 0;\n\t\t\tthis.adType = 'pause';\n\t\t\tthis.adPauseShow = true;\n\t\t\tthis.loadAdPause();\n\t\t\tthis.sendJS('pauseAd','play');\n\t\t},\n\t\tloadAdPause: function() {\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tvar thisTemp = this;\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tif (this.isStrImage(type) && this.adPauseShow) {\n\t\t\t\tthis.css(this.CB['adElement'], 'display', 'block');\n\t\t\t\tvar imgClass = 'adimg' + this.randomString(10);\n\t\t\t\tvar imgHtml = '<img src=\"' + ad['file'] + '\" class=\"' + imgClass + '\">';\n\t\t\t\tif (ad['link']) {\n\t\t\t\t\timgHtml = '<a href=\"' + ad['link'] + '\" target=\"_blank\">' + imgHtml + '</a>';\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = imgHtml;\n\t\t\t\tthis.addListenerInside('load',\n\t\t\t\tfunction() {\n\t\t\t\t\tvar imgObj = new Image();\n\t\t\t\t\timgObj.src = this.src;\n\t\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\t\tthisTemp.css([thisTemp.getByElement(imgClass), thisTemp.CB['adElement']], {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\tborder: '0px'\n\t\t\t\t\t});\n\t\t\t\t\tif (thisTemp.ckStyle['advertisement']['closeButtonShow'] && thisTemp.adPauseShow) {\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['adPauseClose'], {\n\t\t\t\t\t\t\tdisplay: 'block'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\t\tthisTemp.adPauseCoor();\n\t\t\t\t},\n\t\t\t\tthis.getByElement(imgClass));\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adElement']);\n\t\t\t\tvar newI = this.adI;\n\t\t\t\tif (this.adI < this.advertisements['pause'].length - 1) {\n\t\t\t\t\tnewI++;\n\t\t\t\t} else {\n\t\t\t\t\tnewI = 0;\n\t\t\t\t}\n\t\t\t\tif (ad['time'] > 0) {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tif (thisTemp.adPauseShow) {\n\t\t\t\t\t\t\tthisTemp.adI = newI;\n\t\t\t\t\t\t\tthisTemp.loadAdPause();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tad['time'] * 1000);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*调整暂停广告的位置*/\n\t\tadPauseCoor: function() {\n\t\t\tif (this.css(this.CB['adElement'], 'display') == 'block') {\n\t\t\t\tvar w = this.CB['adElement'].offsetWidth,\n\t\t\t\th = this.CB['adElement'].offsetHeight;\n\t\t\t\tvar pw = this.PD.offsetWidth,\n\t\t\t\tph = this.PD.offsetHeight;\n\t\t\t\tthis.css(this.CB['adElement'], {\n\t\t\t\t\ttop: (ph - h) * 0.5 + 'px',\n\t\t\t\t\tleft: (pw - w) * 0.5 + 'px'\n\t\t\t\t});\n\t\t\t\tif (this.css(this.CB['adPauseClose'], 'display') == 'block') {\n\t\t\t\t\tvar rr=this.ckStyle['advertisement']['closeButton'];\n\t\t\t\t\tvar cxy =  this.getPosition(rr,this.CB['adElement']);\n\t\t\t\t\tthis.css(this.CB['adPauseClose'], {\n\t\t\t\t\t\ttop: cxy['y'] + 'px',\n\t\t\t\t\t\tleft: cxy['x'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t关闭暂停广告\n\t\t*/\n\t\tclosePauseAd: function() {\n\t\t\tthis.CB['adElement'].innerHTML = '';\n\t\t\tthis.css([this.CB['adElement'], this.CB['adPauseClose']], 'display', 'none');\n\t\t\tthis.adPauseShow = false;\n\t\t\tthis.sendJS('pauseAd','ended');\n\t\t},\n\t\t/*计算广告时间*/\n\t\tadvertisementsTime: function(nt) {\n\t\t\tif (this.isUndefined(nt)) {\n\t\t\t\tnt = 0;\n\t\t\t}\n\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\tif (nt > 0) {\n\t\t\t\tad[this.adI]['time'] = Math.ceil(nt);\n\t\t\t}\n\t\t\tthis.adTimeAllTotal = 0;\n\t\t\tfor (var i = this.adI; i < ad.length; i++) {\n\t\t\t\tif (!this.isUndefined(ad[i]['time'])) {\n\t\t\t\t\tthis.adTimeAllTotal += Math.ceil(ad[i]['time']);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.adTimeAllTotal > 0) {\n\t\t\t\tthis.CB['adTimeText'].innerHTML = this.ckLanguage['adCountdown'].replace('[$second]', this.adTimeAllTotal).replace('[$Second]', this.adTimeAllTotal > 9 ? this.adTimeAllTotal: '0' + this.adTimeAllTotal);\n\t\t\t}\n\t\t\tif (this.adPauseShow) {\n\t\t\t\tthis.closePauseAd();\n\t\t\t}\n\t\t\tthis.adOtherCloseAll();\n\t\t\tthis.adTimeTotal = -1;\n\t\t},\n\t\t/*判断是否需要显示跳过广告按钮*/\n\t\tadSkipButtonShow: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar skipConfig = this.ckStyle['advertisement'];\n\t\t\tvar delayTimeTemp = skipConfig[this.adType + 'SkipButtonDelay'];\n\t\t\tvar timeFun = function() {\n\t\t\t\tif (delayTimeTemp >= 0) {\n\t\t\t\t\tthisTemp.CB['adSkipText'].innerHTML = thisTemp.ckLanguage['skipDelay'].replace('[$second]', delayTimeTemp).replace('[$Second]', delayTimeTemp > 9 ? delayTimeTemp: '0' + delayTimeTemp);\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','none');\n\t\t\t\t\tsetTimeout(timeFun, 1000);\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','none');\n\t\t\t\t\tif(thisTemp.css(thisTemp.CB['adTime'],'display')=='block'){\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','block');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tdelayTimeTemp--;\n\t\t\t};\n\t\t\tif (skipConfig['skipButtonShow']) {\n\t\t\t\tif (skipConfig[this.adType + 'SkipButtonDelay'] > 0 && this.isUndefined(this.adSkipButtonTime)) {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']], 'display', 'block');\n\t\t\t\t\ttimeFun();\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','none');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','block');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*播放广告*/\n\t\tadvertisementsPlay: function() {\n\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText'], this.CB['adSkip'], this.CB['adSkipText'],this.CB['adSkipButton'], this.CB['adLink']], 'display', 'none');\n\t\t\tthis.adPlayerPlay = false;\n\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\tif (this.adI == 0 && (this.adType == 'front' || this.adType == 'insert' || this.adType == 'end')) {\n\t\t\t\tthis.sendJS('process', this.adType + ' ad play');\n\t\t\t\tthis.sendJS(this.adType+'Ad','play');\n\t\t\t}\n\t\t\tthis.trackHide();\n\t\t\tif (this.adI < ad.length) {\n\t\t\t\tif (!this.isUndefined(ad[this.adI]['time'])) {\n\t\t\t\t\tthis.adTimeTotal = parseInt(ad[this.adI]['time']);\n\t\t\t\t}\n\t\t\t\tthis.loadAdvertisements();\n\t\t\t} else {\n\t\t\t\tthis.adEnded();\n\t\t\t}\n\t\t},\n\t\t/*清除当前所有广告*/\n\t\teliminateAd: function() {\n\t\t\tif (this.adType) {\n\t\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\t\tthis.adI = ad.length;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t}\n\n\t\t},\n\t\t/*广告播放结束*/\n\t\tadEnded: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.adPlayStart = false;\n\t\t\tif(this.adType=='front'){\n\t\t\t\tthis.time=0;\n\t\t\t}\n\t\t\tthis.adPlayerPlay = false;\n\t\t\tif (this.adVideoPlay) {\n\t\t\t\tif (this.videoTemp['src'] != '') {\n\t\t\t\t\tthis.V.src = this.videoTemp['src'];\n\t\t\t\t} else {\n\t\t\t\t\tif (this.V.src) {\n\t\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['source'] != '') {\n\t\t\t\t\tthis.V.innerHTML = this.videoTemp['source'];\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['currentSrc'] != '') {\n\t\t\t\t\tthis.V.src = this.videoTemp['currentSrc'];\n\t\t\t\t\tthis.V.currentSrc = this.videoTemp['currentSrc'];\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['loop']) {\n\t\t\t\t\tthis.V.loop = true;\n\t\t\t\t\tthis.videoTemp['loop'] = false;\n\t\t\t\t}\n\t\t\t\tif (this.adType == 'end') {\n\t\t\t\t\tthis.endedHandler();\n\t\t\t\t} else {\n\t\t\t\t\tthis.videoPlay();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.videoPlay();\n\t\t\t}\n\t\t\tthis.changeVolume(this.vars['volume']);\n\t\t\tthis.sendJS('process', this.adType + ' ad ended');\n\t\t\tthis.sendJS(this.adType+'Ad','ended');\n\t\t\tthis.changeControlBarShow(true);\n\t\t\tthis.css(this.CB['logo'], 'display','block');\n\t\t\tthis.customShow(true);\n\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText'], this.CB['adSkip'], this.CB['adSkipText'],this.CB['adSkipButton'], this.CB['adLink'],this.CB['adMute'], this.CB['adEscMute']], 'display', 'none');\n\t\t},\n\t\t/*加载广告*/\n\t\tloadAdvertisements: function() {\n\t\t\t//this.videoTemp\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tvar thisTemp = this;\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tthis.changeControlBarShow(false);\n\t\t\tthis.adPlayerPlay = true;\n\t\t\tthis.css(this.CB['logo'], 'display','none');\n\t\t\tthis.customShow(false);\n\t\t\tif (this.isStrImage(type)) {\n\t\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText']], 'display', 'block');\n\t\t\t\tthis.css([this.CB['adMute'], this.CB['adEscMute']], 'display', 'none');\n\t\t\t\tvar imgClass = 'adimg' + this.randomString(10);\n\t\t\t\tvar imgHtml = '<img src=\"' + ad['file'] + '\" class=\"' + imgClass + '\">';\n\t\t\t\tif (ad['link']) {\n\t\t\t\t\timgHtml = '<a href=\"' + ad['link'] + '\" target=\"_blank\">' + imgHtml + '</a>';\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = imgHtml;\n\t\t\t\tthis.addListenerInside('load',\n\t\t\t\tfunction() {\n\t\t\t\t\tvar imgObj = new Image();\n\t\t\t\t\timgObj.src = this.src;\n\t\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\t\tthisTemp.css(thisTemp.getByElement(imgClass), {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\tborder: '0px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adElement'], {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\ttop: (height - imgWH['height']) * 0.5 + 'px',\n\t\t\t\t\t\tleft: (width - imgWH['width']) * 0.5 + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.getByElement(imgClass));\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adElement']);\n\t\t\t\tif (!this.isUndefined(ad['time'])) {\n\t\t\t\t\tthis.adCountDown();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.css([this.CB['adTime'], this.CB['adTimeText']], 'display', 'block');\n\t\t\t\t//判断是否静音\n\t\t\t\tif (this.adVideoMute) {\n\t\t\t\t\tthis.css(this.CB['adEscMute'], 'display', 'block');\n\t\t\t\t\tthis.css(this.CB['adMute'], 'display', 'none');\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.CB['adEscMute'], 'display', 'none');\n\t\t\t\t\tthis.css(this.CB['adMute'], 'display', 'block');\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = '';\n\t\t\t\tif (this.videoTemp['currentSrc'] == '') {\n\t\t\t\t\tthis.videoTemp['currentSrc'] = this.getCurrentSrc();\n\t\t\t\t}\n\t\t\t\tif (this.V.loop) {\n\t\t\t\t\tthis.videoTemp['loop'] = true;\n\t\t\t\t\tthis.V.loop = false;\n\t\t\t\t}\n\t\t\t\tif (this.V != null && this.V.currentTime > 0 && this.adIsVideoTime && this.adType!='front') { //当有视频广告时而又没有记录下已播放的时间则进行记录\n\t\t\t\t\tthis.adIsVideoTime = false;\n\t\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t\t}\n\t\t\t\tthis.V.src = ad['file'];\n\t\t\t\tthis.V.currentSrc = ad['file'];\n\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\tthis.V.play();\n\t\t\t\tthis.adVideoPlay = true;\n\t\t\t\tthis.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\tif (!this.adVideoMute) {\n\t\t\t\t\tthis.escAdMute();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ad['link']) {\n\t\t\t\tthis.css(this.CB['adLink'], 'display', 'block');\n\t\t\t\tvar adLinkClick = function(event) {\n\t\t\t\t\tthisTemp.sendJS('clickEvent', 'javaScript->adLinkClick');\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', adLinkClick, this.CB['adLink']);\n\t\t\t\tthis.adLinkTemp=ad['link'];\n\t\t\t\tvar linkTemp = '<a href=\"' + ad['link'] + '\" target=\"_blank\" class=\"ckadmorelink\"><img src=\"' + this.ckStyle['png-1-1'] + '\" width=\"'+this.ckStyle['advertisement']['adLinkButton']['width']+'\" height=\"'+this.ckStyle['advertisement']['adLinkButton']['height']+'\"></a>';\n\t\t\t\tthis.CB['adLink'].innerHTML = linkTemp;\n\t\t\t\tthis.css(this.getByElement('ckadmorelink'), {\n\t\t\t\t\tcolor: '#FFFFFF',\n\t\t\t\t\ttextDecoration: 'none'\n\t\t\t\t});\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adLink']);\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['adLink'], 'display', 'none');\n\t\t\t}\n\n\t\t},\n\t\t/*普通广告倒计时*/\n\t\tadCountDown: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.adTimeTotal > 0) {\n\t\t\t\tif (!this.adIsPause) {\n\t\t\t\t\tthis.adTimeTotal--;\n\t\t\t\t\tthis.showAdTime();\n\t\t\t\t\tthis.adCountDownObj = null;\n\t\t\t\t\tthis.adCountDownObj = setTimeout(function() {\n\t\t\t\t\t\tthisTemp.adCountDown();\n\t\t\t\t\t},\n\t\t\t\t\t1000);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.adI++;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t}\n\t\t},\n\t\t/*视频广告倒计时*/\n\t\tadPlayerTimeHandler: function(time) {\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tif (this.isStrImage(type)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adTimeTotal != parseInt(time)) {\n\t\t\t\tthis.adTimeTotal = parseInt(time);\n\t\t\t\tthis.showAdTime();\n\t\t\t}\n\t\t},\n\t\t/*格式化广告倒计时显示*/\n\t\tshowAdTime: function() {\n\t\t\tthis.adTimeAllTotal--;\n\t\t\tvar n = this.adTimeAllTotal;\n\t\t\tif (n < 0) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tthis.CB['adTimeText'].innerHTML = this.ckLanguage['adCountdown'].replace('[$second]', n).replace('[$Second]', n < 10 ? '0' + n: n);\n\t\t},\n\t\t/*\n\t\t\t单独监听其它广告\n\t\t*/\n\t\tcheckAdOther: function(t) {\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar adTime = this.advertisements['othertime'];\n\t\t\tvar adPlay = this.advertisements['otherPlay'];\n\t\t\tfor (var i = 0; i < adTime.length; i++) {\n\t\t\t\tif (t >= adTime[i] && !adPlay[i]) { //如果播放时间大于广告时间而该广告还没有播放，则开始播放\n\t\t\t\t\tadPlay[i] = true;\n\t\t\t\t\tthis.newAdOther(i);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t新建其它广告 \n\t\t*/\n\t\tnewAdOther: function(i) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar ad = this.advertisements['other'][i];\n\t\t\tvar randomS = this.randomString(10); //获取一个随机字符串\n\t\t\tvar adDivID = 'adother' + randomS; //广告容器\n\t\t\timgClassName = 'adimgother' + randomS;\n\t\t\tvar adDiv = document.createElement('div');\n\t\t\tadDiv.className = adDivID;\n\t\t\tthis.PD.appendChild(adDiv);\n\t\t\tad['div'] = adDivID;\n\t\t\tad['element'] = imgClassName;\n\t\t\tvar adHtml='<img src=\"' + ad['file'] + '\" class=\"' + imgClassName + '\">';\n\t\t\tif(ad['link']){\n\t\t\t\tadHtml='<a href=\"' + ad['link'] + '\" target=\"blank\">'+adHtml+'</a>';\n\t\t\t}\n\t\t\tthis.getByElement(adDivID).innerHTML =adHtml;\n\t\t\tthis.css(adDivID, {\n\t\t\t\tposition: 'absolute',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tzIndex: '996',\n\t\t\t\ttop: '-600px',\n\t\t\t\tleft: '-600px',\n\t\t\t\tcursor: 'pointer'\n\t\t\t});\n\t\t\tif (this.ckStyle['advertisement']['closeOtherButtonShow']) {\n\t\t\t\tvar closeAdDivID = 'adotherclose-' + randomS; //广告容器\n\t\t\t\tvar closeAdDiv = document.createElement('div');\n\t\t\t\tcloseAdDiv.className = closeAdDivID;\n\t\t\t\tthis.PD.appendChild(closeAdDiv);\n\t\t\t\tad['closeDiv'] = closeAdDivID;\n\t\t\t\tad['close'] = false;\n\t\t\t\tvar closeAdDivCss=this.getEleCss(this.ckStyle['advertisement']['closeOtherButton'],{offsetX:-10000,offsetY:-10000,cursor: 'pointer',zIndex: 997});\t\t\t\t\n\t\t\t\tthis.css(closeAdDivID, closeAdDivCss);\t\t\t\n\t\t\t\tvar adOtherCloseOver = function() {\n\t\t\t\t\tthisTemp.loadImgBg(closeAdDivID,thisTemp.ckStyle['advertisement']['closeOtherButton']['mouseOver']);\n\t\t\t\t};\n\t\t\t\tvar adOtherCloseOut = function() {\n\t\t\t\t\tthisTemp.loadImgBg(closeAdDivID,thisTemp.ckStyle['advertisement']['closeOtherButton']['mouseOut']);\n\t\t\t\t};\n\t\t\t\tadOtherCloseOut();\n\t\t\t\tthis.addListenerInside('mouseover', adOtherCloseOver, this.getByElement(closeAdDivID));\n\t\t\t\tthis.addListenerInside('mouseout', adOtherCloseOut, this.getByElement(closeAdDivID));\n\t\t\t}\n\t\t\tthis.addListenerInside('load',\n\t\t\tfunction() {\n\t\t\t\tvar imgObj = new Image();\n\t\t\t\timgObj.src = this.src;\n\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\tthisTemp.css([thisTemp.getByElement(imgClassName), thisTemp.getByElement(adDivID)], {\n\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\tborder: '0px'\n\t\t\t\t});\n\t\t\t\tthisTemp.advertisements['other'][i] = ad;\n\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\tthisTemp.adOtherCoor();\n\t\t\t},\n\t\t\tthis.getByElement(imgClassName));\n\t\t\tthis.addListenerInside('click',\n\t\t\tfunction() {\n\t\t\t\tthisTemp.adOtherClose(i);\n\t\t\t},\n\t\t\tthis.getByElement(closeAdDivID));\n\t\t\tthis.addListenerInside('click',\n\t\t\tfunction() {\n\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t},\n\t\t\tthis.getByElement(imgClassName));\n\t\t\tif (ad['time'] > 0) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthisTemp.adOtherClose(i);\n\t\t\t\t},\n\t\t\t\tad['time'] * 1000);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t关闭其它广告\n\t\t*/\n\t\tadOtherClose: function(i) {\n\t\t\tvar ad = this.advertisements['other'][i];\n\t\t\tif (!this.isUndefined(ad['close'])) {\n\t\t\t\tif (!ad['close']) {\n\t\t\t\t\tad['close'] = true;\n\t\t\t\t\tthis.PD.removeChild(this.getByElement(ad['div']));\n\t\t\t\t\tthis.PD.removeChild(this.getByElement(ad['closeDiv']));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tadOtherCloseAll: function() {\n\t\t\tif (!this.isUndefined(this.advertisements['other'])) {\n\t\t\t\tvar ad = this.advertisements['other'];\n\t\t\t\tfor (var i = 0; i < ad.length; i++) {\n\t\t\t\t\tthis.adOtherClose(i);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t计算其它广告的坐标\n\t\t*/\n\t\tadOtherCoor: function() {\n\t\t\tif (!this.isUndefined(this.advertisements['other'])) {\n\t\t\t\tvar arr = this.advertisements['other'];\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tvar ad = arr[i];\n\t\t\t\t\tif (!this.isUndefined(ad['close'])) {\n\t\t\t\t\t\tif (!ad['close']) {\n\t\t\t\t\t\t\tvar rr=this.ckStyle['advertisement']['closeOtherButton'];\n\t\t\t\t\t\t\tvar coor = this.getPosition(ad);\n\t\t\t\t\t\t\tvar x = coor['x'],\n\t\t\t\t\t\t\ty = coor['y'];\n\t\t\t\t\t\t\tthis.css(this.getByElement(ad['div']), {\n\t\t\t\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\t\t\t\ttop: y + 'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tvar cxy =  this.getPosition(rr,this.getByElement(ad['div']));\n\t\t\t\t\t\t\tif (!this.isUndefined(ad['closeDiv'])) {\n\t\t\t\t\t\t\t\tthis.css(this.getByElement(ad['closeDiv']), {\n\t\t\t\t\t\t\t\t\tleft: cxy['x'] + 'px',\n\t\t\t\t\t\t\t\t\ttop: cxy['y'] + 'px'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t单独监听中间插入广告\n\t\t*/\n\t\tcheckAdInsert: function(t) {\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar adTime = this.advertisements['inserttime'];\n\t\t\tvar adPlay = this.advertisements['insertPlay'];\n\t\t\tvar duration = this.getMetaDate()['duration'];\n\t\t\tfor (var i = adTime.length - 1; i > -1; i--) {\n\t\t\t\tif (t >= adTime[i] && t < duration - 2 && t > 1 && !adPlay[i]) { //如果播放时间大于广告时间而该广告还没有播放，则开始播放\n\t\t\t\t\tthis.adI = 0;\n\t\t\t\t\tthis.adType = 'insert';\n\t\t\t\t\tthis.adMuteInto();\n\t\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\t\tthis.adPlayStart = true;\n\t\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\t\tthis.videoPause();\n\t\t\t\t\tthis.advertisementsTime();\n\t\t\t\t\tthis.advertisementsPlay();\n\t\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\t\tadPlay[i] = true;\n\t\t\t\t\tfor (var n = 0; n < i + 1; n++) {\n\t\t\t\t\t\tadPlay[n] = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*格式化中间插入广告的播放时间*/\n\t\tformatInserttime: function(duration) {\n\t\t\tif (!this.isUndefined(this.advertisements['inserttime'])) {\n\t\t\t\tvar arr = this.advertisements['inserttime'];\n\t\t\t\tvar newArr = [];\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i].toString().substr( - 1) == '%') {\n\t\t\t\t\t\tnewArr.push(parseInt(duration * parseInt(arr[i]) * 0.01));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewArr.push(parseInt(arr[i]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.advertisements['inserttime'] = newArr;\n\t\t\t}\n\t\t},\n\t\t/*获取当前的广告*/\n\t\tgetNowAdvertisements: function() {\n\t\t\tif (this.adI == -1) {\n\t\t\t\treturn {\n\t\t\t\t\tfile: '',\n\t\t\t\t\ttime: 0,\n\t\t\t\t\tlink: ''\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn this.advertisements[this.adType][this.adI];\n\t\t},\n\t\t/*根据元件尺寸和播放器尺寸调整大小*/\n\t\tadjustmentWH: function(w, h) {\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tvar nw = 0,\n\t\t\tnh = 0;\n\t\t\tif (w >= width || h >= height) {\n\t\t\t\tif (width / w > height / h) {\n\t\t\t\t\tnh = height - 20;\n\t\t\t\t\tnw = w * nh / h;\n\t\t\t\t} else {\n\t\t\t\t\tnw = width - 20;\n\t\t\t\t\tnh = h * nw / w;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnw = w;\n\t\t\t\tnh = h;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\twidth: nw,\n\t\t\t\theight: nh\n\t\t\t}\n\t\t},\n\t\t/*单独请求一次地址，但不处理返回的数据*/\n\t\tajaxSuccessNull: function(url) {\n\t\t\tif (!this.isUndefined(url)) {\n\t\t\t\tvar ajaxObj = {\n\t\t\t\t\turl: url,\n\t\t\t\t\tsuccess: function(data) {}\n\t\t\t\t};\n\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t运行指定函数\n\t\t*/\n\t\trunFunction: function(s) {\n\t\t\ttry {\n\t\t\t\tvar arr = s.split('->');\n\t\t\t\tif(arr.length==2){\n\t\t\t\t\tswitch (arr[0]) {\n\t\t\t\t\t\tcase 'javaScript':\n\t\t\t\t\t\t\tif(arr[1].substr(0,11)!='[flashvars]'){\n\t\t\t\t\t\t\t\teval(arr[1] + '()');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\teval(this.vars[arr[1].substr(11)] + '()');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'actionScript':\n\t\t\t\t\t\t\teval('this.' + arr[1] + '()');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.sendJS('clickEvent', s);\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t使用画布附加视频\n\t\t*/\n\t\tsendVCanvas: function() {\n\t\t\tif (this.timerVCanvas == null) {\n\t\t\t\tthis.css(this.V, 'display', 'none');\n\t\t\t\tthis.css(this.MD, 'display', 'block');\n\t\t\t\tvar thisTemp = this;\n\t\t\t\tvar videoCanvas = function() {\n\t\t\t\t\tif (thisTemp.MDCX.width != thisTemp.MD.offsetWidth) {\n\t\t\t\t\t\tthisTemp.MDC.width = thisTemp.MD.offsetWidth;\n\t\t\t\t\t}\n\t\t\t\t\tif (thisTemp.MDCX.height != thisTemp.MD.offsetHeight) {\n\t\t\t\t\t\tthisTemp.MDC.height = thisTemp.MD.offsetHeight;\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.MDCX.clearRect(0, 0, thisTemp.MDCX.width, thisTemp.MDCX.height);\n\t\t\t\t\tvar coor = thisTemp.getProportionCoor(thisTemp.PD.offsetWidth, thisTemp.PD.offsetHeight, thisTemp.V.videoWidth, thisTemp.V.videoHeight);\n\t\t\t\t\tthisTemp.MDCX.drawImage(thisTemp.V, 0, 0, thisTemp.V.videoWidth, thisTemp.V.videoHeight, coor['x'], coor['y'], coor['width'], coor['height']);\n\t\t\t\t};\n\t\t\t\tthis.timerVCanvas = new this.timer(0, videoCanvas);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听暂停\n\t\t*/\n\t\tpauseHandler: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.playShow(false);\n\t\t\tif (this.animatePauseArray.length > 0) {\n\t\t\t\tthis.animatePause('pause');\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video' && this.V != null && this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\tthis.stopVCanvas();\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['pause']) && !this.adPlayStart && !this.adPauseShow) { //如果存在暂停广告\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['pause']) && !thisTemp.adPlayStart && !thisTemp.adPauseShow && thisTemp.time > 1) { //如果存在暂停广告\n\t\t\t\t\t\tthisTemp.adPausePlayer();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t300);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t停止画布\n\t\t*/\n\t\tstopVCanvas: function() {\n\t\t\tif (this.timerVCanvas != null) {\n\t\t\t\tthis.css(this.V, 'display', 'block');\n\t\t\t\tthis.css(this.MD, 'display', 'none');\n\t\t\t\tif (this.timerVCanvas.runing) {\n\t\t\t\t\tthis.timerVCanvas.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerVCanvas = null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据当前播放还是暂停确认图标显示\n\t\t*/\n\t\tplayShow: function(b) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (b) {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'block');\n\t\t\t\tif (this.css(this.CB['errorText'], 'display') == 'none') {\n\t\t\t\t\tif (!this.adPlayerPlay) {\n\t\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'block');\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'none');\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'none');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听seek结束\n\t\t*/\n\t\tseekedHandler: function() {\n\t\t\tthis.resetTrack();\n\t\t\tthis.isTimeButtonMove = true;\n\t\t\tif (this.V.paused) {\n\t\t\t\tif(this.hlsAutoPlay){\n\t\t\t\t\tthis.videoPlay();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.hlsAutoPlay=true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放结束\n\t\t*/\n\t\tendedHandler: function() {\n\t\t\tthis.sendJS('ended');\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adI++;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.endAdPlay && !this.isUndefined(this.advertisements['end'])) {\n\t\t\t\tthis.endAdPlay = true;\n\t\t\t\tthis.adI = 0;\n\t\t\t\tthis.adType = 'end';\n\t\t\t\tthis.adMuteInto();\n\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\tthis.adPlayStart = true;\n\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\tthis.videoPause();\n\t\t\t\tthis.advertisementsTime();\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\tthis.adReset = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.endedAdReset();\n\t\t\tif (this.vars['loop']) {\n\t\t\t\tthis.videoSeek(0);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t重置结束后相关的设置\n\t\t*/\n\t\tendedAdReset: function() {\n\t\t\tvar arr = [];\n\t\t\tvar i = 0;\n\t\t\tif (!this.isUndefined(this.advertisements['insertPlay'])) {\n\t\t\t\tarr = this.advertisements['insertPlay'];\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tthis.advertisements['insertPlay'][i] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['otherPlay'])) {\n\t\t\t\tarr = this.advertisements['otherPlay'];\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tthis.advertisements['otherPlay'][i] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//this.endAdPlay=false;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听音量改变\n\t\t*/\n\t\tvolumechangeHandler: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ((this.ckConfig['config']['mobileVolumeBarShow'] || !this.isMobile()) && this.css(this.CB['volume'], 'display') != 'none') {\n\t\t\t\ttry {\n\t\t\t\t\tvar volume=this.volume || this.V.volume;\n\t\t\t\t\tif (volume > 0) {\n\t\t\t\t\t\tthis.css(this.CB['mute'], 'display', 'block');\n\t\t\t\t\t\tthis.css(this.CB['escMute'], 'display', 'none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.css(this.CB['mute'], 'display', 'none');\n\t\t\t\t\t\tthis.css(this.CB['escMute'], 'display', 'block');\n\t\t\t\t\t}\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放时间调节进度条\n\t\t*/\n\t\ttimeUpdateHandler: function() {\n\t\t\tvar duration = 0;\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\ttry {\n\t\t\t\t\tduration = this.V.duration;\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tif (duration > 0) {\n\t\t\t\tthis.time = this.V.currentTime;\n\t\t\t\tthis.timeTextHandler();\n\t\t\t\tthis.trackShowHandler();\n\t\t\t\tif (this.isTimeButtonMove) {\n\t\t\t\t\tthis.timeProgress(this.time, duration);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t改变控制栏坐标\n\t\t*/\n\t\tcontrolBar:function(){\n\t\t\t//控制栏背景\n\t\t\tvar cb=this.ckStyle['controlBar'];\n\t\t\tvar cssObjTemp={\n\t\t\t\talign:cb['align'],\n\t\t\t\tvAlign:cb['vAlign'],\n\t\t\t\twidth:cb['width'],\n\t\t\t\theight:cb['height'],\n\t\t\t\toffsetX:cb['offsetX'],\n\t\t\t\toffsetY:cb['offsetY']\n\t\t\t\t\n\t\t\t};\n\t\t\tvar bgCss={\n\t\t\t\tbackgroundColor:cb['background']['backgroundColor'],\n\t\t\t\tbackgroundImg:cb['background']['backgroundImg'],\n\t\t\t\talpha:cb['background']['alpha']\n\t\t\t};\n\t\t\tvar cssTemp=this.getEleCss(this.objectAssign(cssObjTemp,bgCss),{zIndex:888});\n\t\t\tthis.css(this.CB['controlBarBg'], cssTemp);\n\t\t\t//控制栏容器\n\t\t\tcssTemp=this.getEleCss(cssObjTemp,{zIndex:889});\n\t\t\tthis.css(this.CB['controlBar'], cssTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t按时间改变进度条\n\t\t*/\n\t\ttimeProgress: function(time, duration) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar timeProgressBgW = this.CB['timeProgressBg'].offsetWidth;\n\t\t\tvar timeBOW = parseInt((time * timeProgressBgW / duration) - (this.CB['timeButton'].offsetWidth * 0.5));\n\t\t\tif (timeBOW > timeProgressBgW - this.CB['timeButton'].offsetWidth) {\n\t\t\t\ttimeBOW = timeProgressBgW - this.CB['timeButton'].offsetWidth;\n\t\t\t}\n\t\t\tif (timeBOW < 0) {\n\t\t\t\ttimeBOW = 0;\n\t\t\t}\n\t\t\tthis.css(this.CB['timeProgress'], 'width', timeBOW + 'px');\n\t\t\tthis.css(this.CB['timeButton'], 'left', parseInt(timeBOW) + 'px');\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放时间改变时间显示文本框\n\t\t*/\n\t\ttimeTextHandler: function() { //显示时间/总时间\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar duration = this.V.duration;\n\t\t\tvar time = this.V.currentTime;\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tthis.CB['timeText'].innerHTML = this.formatTime(time,duration,this.ckLanguage['vod']);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听是否是缓冲状态\n\t\t*/\n\t\tbufferEdHandler: function() {\n\t\t\tif (!this.conBarShow || this.playerType == 'flashplayer') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar clearTimerBuffer = function() {\n\t\t\t\tif (thisTemp.timerBuffer != null) {\n\t\t\t\t\tif (thisTemp.timerBuffer.runing) {\n\t\t\t\t\t\tthisTemp.sendJS('buffer', 100);\n\t\t\t\t\t\tthisTemp.timerBuffer.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerBuffer = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tclearTimerBuffer();\n\t\t\tvar bufferFun = function() {\n\t\t\t\tif (!thisTemp.isUndefined(thisTemp.V) && thisTemp.V.buffered.length > 0) {\n\t\t\t\t\tvar duration = thisTemp.V.duration;\n\t\t\t\t\tvar len = thisTemp.V.buffered.length;\n\t\t\t\t\tvar bufferStart = thisTemp.V.buffered.start(len - 1);\n\t\t\t\t\tvar bufferEnd = thisTemp.V.buffered.end(len - 1);\n\t\t\t\t\tvar loadTime = bufferStart + bufferEnd;\n\t\t\t\t\tvar loadProgressBgW = thisTemp.CB['timeProgressBg'].offsetWidth;\n\t\t\t\t\tvar timeButtonW = thisTemp.CB['timeButton'].offsetWidth;\n\t\t\t\t\tvar loadW = parseInt((loadTime * loadProgressBgW / duration) + timeButtonW);\n\t\t\t\t\tif (loadW >= loadProgressBgW) {\n\t\t\t\t\t\tloadW = loadProgressBgW;\n\t\t\t\t\t\tclearTimerBuffer();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.changeLoad(loadTime);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerBuffer = new this.timer(200, bufferFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t单独计算加载进度\n\t\t*/\n\t\tchangeLoad: function(loadTime) {\n\t\t\tif (this.V == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar loadProgressBgW = this.CB['timeProgressBg'].offsetWidth;\n\t\t\tvar timeButtonW = this.CB['timeButton'].offsetWidth;\n\t\t\tvar duration = this.V.duration;\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tif (this.isUndefined(loadTime)) {\n\t\t\t\tloadTime = this.loadTime;\n\t\t\t} else {\n\t\t\t\tthis.loadTime = loadTime;\n\t\t\t}\n\t\t\tvar loadW = parseInt((loadTime * loadProgressBgW / duration) + timeButtonW);\n\t\t\tthis.css(this.CB['loadProgress'], 'width', loadW + 'px');\n\t\t\tthis.sendJS('loadTime',loadTime);\n\t\t\tthis.loadTimeTemp=loadTime;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否是直播\n\t\t*/\n\t\tjudgeIsLive: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.timerError != null) {\n\t\t\t\tif (this.timerError.runing) {\n\t\t\t\t\tthis.timerError.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerError = null;\n\t\t\t}\n\t\t\tthis.error = false;\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.css(this.CB['errorText'], 'display', 'none');\n\t\t\t}\n\t\t\tvar timeupdate = function(event) {\n\t\t\t\tthisTemp.timeUpdateHandler();\n\t\t\t};\n\t\t\tif (!this.vars['live']) {\n\t\t\t\tif (this.V != null && this.playerType == 'html5video') {\n\t\t\t\t\tthis.addListenerInside('timeupdate', timeupdate);\n\t\t\t\t\tthisTemp.timeTextHandler();\n\t\t\t\t\tthisTemp.prompt(); //添加提示点\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tthisTemp.bufferEdHandler();\n\t\t\t\t\t},\n\t\t\t\t\t200);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('timeupdate', timeupdate);\n\t\t\t\tif (this.timerTime != null) {\n\t\t\t\t\twindow.clearInterval(this.timerTime);\n\t\t\t\t\ttimerTime = null;\n\t\t\t\t}\n\t\t\t\tif (this.timerTime != null) {\n\t\t\t\t\tif (this.timerTime.runing) {\n\t\t\t\t\t\tthis.timerTime.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthis.timerTime = null;\n\t\t\t\t}\n\t\t\t\tvar timeFun = function() {\n\t\t\t\t\tif (thisTemp.V != null && !thisTemp.V.paused && thisTemp.conBarShow) {\n\t\t\t\t\t\tthisTemp.CB['timeText'].innerHTML = thisTemp.formatTime(0,0,thisTemp.ckLanguage['live']); //时间显示框默认显示内容\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.timerTime = new this.timer(1000, timeFun);\n\t\t\t\t//timerTime.start();\n\t\t\t}\n\t\t\tthis.definition();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载字幕\n\t\t*/\n\t\tloadTrack: function(def) {\n\t\t\tif (this.playerType == 'flashplayer' || this.vars['flashplayer'] == true) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(def)){\n\t\t\t\tdef=-1;\n\t\t\t}\n\t\t\tvar track = this.vars['cktrack'];\n\t\t\tvar loadTrackUrl='';\n\t\t\tvar type=this.varType(track);\n\t\t\tvar thisTemp = this;\n\t\t\tif(type=='array'){\n\t\t\t\tif(def==-1){\n\t\t\t\t\tvar index=0;\n\t\t\t\t\tvar indexN=0;\n\t\t\t\t\tfor(var i=0;i<track.length;i++){\n\t\t\t\t\t\tvar li=track[i];\n\t\t\t\t\t\tif(li.length==3 && li[2]>indexN){\n\t\t\t\t\t\t\tindexN=li[2];\n\t\t\t\t\t\t\tindex=i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tindex=def;\n\t\t\t\t}\n\t\t\t\tloadTrackUrl=track[index][0];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tloadTrackUrl=track;\n\t\t\t}\n\t\t\tvar obj = {\n\t\t\t\tmethod: 'get',\n\t\t\t\tdataType: 'text',\n\t\t\t\turl: loadTrackUrl,\n\t\t\t\tcharset: 'utf-8',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tif(data){\n\t\t\t\t\t\tthisTemp.track = thisTemp.parseSrtSubtitles(data);\n\t\t\t\t\t\tthisTemp.trackIndex = 0;\n\t\t\t\t\t\tthisTemp.nowTrackShow = {\n\t\t\t\t\t\t\tsn: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.ajax(obj);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重置字幕\n\t\t*/\n\t\tresetTrack: function() {\n\t\t\tthis.trackIndex = 0;\n\t\t\tthis.nowTrackShow = {\n\t\t\t\tsn: ''\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据时间改变读取显示字幕\n\t\t*/\n\t\ttrackShowHandler: function() {\n\t\t\tif (!this.conBarShow || this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.track.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.trackIndex >= this.track.length) {\n\t\t\t\tthis.trackIndex = 0;\n\t\t\t}\n\t\t\tvar nowTrack = this.track[this.trackIndex]; //当前编号对应的字幕内容\n\t\t\t/*\n\t\t\t\tthis.nowTrackShow=当前显示在界面上的内容\n\t\t\t\t如果当前时间正好在nowTrack时间内，则需要判断\n\t\t\t*/\n\t\t\tif (this.time >= nowTrack['startTime'] && this.time <= nowTrack['endTime']) {\n\t\t\t\t/*\n\t\t\t\t \t如果当前显示的内容不等于当前需要显示的内容时，则需要显示正确的内容\n\t\t\t\t*/\n\t\t\t\tvar nowShow = this.nowTrackShow;\n\t\t\t\tif (nowShow['sn'] != nowTrack['sn']) {\n\t\t\t\t\tthis.trackHide();\n\t\t\t\t\tthis.trackShow(nowTrack);\n\t\t\t\t\tthis.nowTrackTemp=nowTrack;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/*\n\t\t\t\t  如果当前播放时间不在当前编号字幕内，则需要先清空当前的字幕内容，再显示新的字幕内容\n\t\t\t\t*/\n\t\t\t\tthis.trackHide();\n\t\t\t\tthis.checkTrack();\n\t\t\t}\n\t\t},\n\t\ttrackShowAgain:function(){\n\t\t\tthis.trackHide();\n\t\t\tthis.trackShow(this.nowTrackTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示字幕内容\n\t\t*/\n\t\ttrackShow: function(track) {\n\t\t\tthis.nowTrackShow = track;\n\t\t\tvar arr = track['content'];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar obj = {\n\t\t\t\t\tlist: [{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\ttext: arr[i],\n\t\t\t\t\t\tcolor: this.ckStyle['cktrack']['color'],\n\t\t\t\t\t\tsize: this.ckStyle['cktrack']['size'],\n\t\t\t\t\t\tfontFamily: this.ckStyle['cktrack']['font'],\n\t\t\t\t\t\tlineHeight: this.ckStyle['cktrack']['leading']+'px'\n\t\t\t\t\t}],\n\t\t\t\t\tposition: [1, 2, null, -(arr.length - i) * this.ckStyle['cktrack']['leading'] - this.ckStyle['cktrack']['marginBottom']]\n\t\t\t\t};\n\t\t\t\tvar ele = this.addElement(obj);\n\t\t\t\tthis.trackElement.push(ele);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t隐藏字幕内容\n\t\t*/\n\t\ttrackHide: function() {\n\t\t\tfor (var i = 0; i < this.trackElement.length; i++) {\n\t\t\t\tthis.deleteElement(this.trackElement[i]);\n\t\t\t}\n\t\t\tthis.trackElement = [];\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重新计算字幕的编号\n\t\t*/\n\t\tcheckTrack: function() {\n\t\t\tvar num = this.trackIndex;\n\t\t\tvar arr = this.track;\n\t\t\tvar i = 0;\n\t\t\tfor (i = num; i < arr.length; i++) {\n\t\t\t\tif (this.time >= arr[i]['startTime'] && this.time <= arr[i]['endTime']) {\n\t\t\t\t\tthis.trackIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t-----------------------------------------------------------------------------接口函数开始\n\t\t\t接口函数\n\t\t\t在播放和暂停之间切换\n\t\t*/\n\t\tplayOrPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.playOrPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V.paused) {\n\t\t\t\tthis.videoPlay();\n\t\t\t} else {\n\t\t\t\tthis.videoPause();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t播放动作\n\t\t*/\n\t\tvideoPlay: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.eliminateAd(); //清除广告\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (this.V.currentSrc) {\n\t\t\t\t\tthis.V.play();\n\t\t\t\t}\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t暂停动作\n\t\t*/\n\t\tvideoPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.V.pause();\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t跳转时间动作\n\t\t*/\n\t\tvideoSeek: function(time) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoSeek(time);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar duration = this.V.duration>0.2?this.V.duration:this.getMetaDate()['duration'];\n\t\t\tif (duration > 0 && time > duration) {\n\t\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\t\ttime=0;\n\t\t\t\t\tthis.sendJS('ended');\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ttime = duration-0.1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (time >= 0) {\n\t\t\t\tthis.V.currentTime = time;\n\t\t\t\tthis.sendJS('seekTime', time);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t调节音量/获取音量\n\t\t*/\n\t\tchangeVolume: function(vol, bg, button) {\t\t\t\n\t\t\tif (this.loaded) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tthis.V.changeVolume(vol);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isNaN(vol) || this.isUndefined(vol)) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (!this.loaded) {\n\t\t\t\tthis.vars['volume'] = vol;\n\t\t\t}\n\t\t\tif (!this.html5Video) {\n\t\t\t\tthis.V.changeVolume(vol);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (this.isUndefined(bg)) {\n\t\t\t\t\tbg = true;\n\t\t\t\t}\n\t\t\t} catch(e) {}\n\t\t\ttry {\n\t\t\t\tif (this.isUndefined(button)) {\n\t\t\t\t\tbutton = true;\n\t\t\t\t}\n\t\t\t} catch(e) {}\n\t\t\tif (!vol) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (vol < 0) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (vol > 1) {\n\t\t\t\tvol = 1;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.V.volume = vol;\n\t\t\t} catch(error) {}\n\t\t\tthis.volume = vol;\n\t\t\tif (bg && this.conBarShow) {\n\t\t\t\tvar bgW = vol * this.CB['volumeBg'].offsetWidth;\n\t\t\t\tif (bgW < 0) {\n\t\t\t\t\tbgW = 0;\n\t\t\t\t}\n\t\t\t\tif (bgW > this.CB['volumeBg'].offsetWidth) {\n\t\t\t\t\tbgW = this.CB['volumeBg'].offsetWidth;\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['volumeUp'], 'width', bgW + 'px');\n\t\t\t}\n\n\t\t\tif (button && this.conBarShow) {\n\t\t\t\tvar buLeft = parseInt(this.CB['volumeUp'].offsetWidth - (this.CB['volumeBO'].offsetWidth * 0.5));\n\t\t\t\tif (buLeft > this.CB['volumeBg'].offsetWidth - this.CB['volumeBO'].offsetWidth) {\n\t\t\t\t\tbuLeft = this.CB['volumeBg'].offsetWidth - this.CB['volumeBO'].offsetWidth\n\t\t\t\t}\n\t\t\t\tif (buLeft < 0) {\n\t\t\t\t\tbuLeft = 0;\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['volumeBO'], 'left', buLeft + 'px');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t静音\n\t\t*/\n\t\tvideoMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoMute();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.volumeTemp = this.V ? (this.V.volume > 0 ? this.V.volume: this.vars['volume']) : this.vars['volume'];\n\t\t\tthis.changeVolume(0);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t取消静音\n\t\t*/\n\t\tvideoEscMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoEscMute();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.changeVolume(this.volumeTemp > 0 ? this.volumeTemp: this.vars['volume']);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t视频广告静音\n\t\t*/\n\t\tadMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.changeVolume(0);\n\t\t\tthis.adVideoMute = true;\n\t\t\tthis.css(this.CB['adEscMute'], 'display', 'block');\n\t\t\tthis.css(this.CB['adMute'], 'display', 'none');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t视频广告取消静音\n\t\t*/\n\t\tescAdMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar v = this.ckStyle['advertisement']['videoVolume'];\n\t\t\tthis.changeVolume(v);\n\t\t\tthis.adMuteInto();\n\t\t},\n\t\t/*\n\t\t \t初始化广告的音量按钮\n\t\t*/\n\t\tadMuteInto: function() {\n\t\t\tthis.adVideoMute = false;\n\t\t\tthis.css(this.CB['adEscMute'], 'display', 'none');\n\t\t\tthis.css(this.CB['adMute'], 'display', 'block');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t快退\n\t\t*/\n\t\tfastBack: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.fastBack();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = this.time - this.ckConfig['config']['timeJump'];\n\t\t\tif (time < 0) {\n\t\t\t\ttime = 0;\n\t\t\t}\n\t\t\tthis.videoSeek(time);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t快进\n\t\t*/\n\t\tfastNext: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.fastNext();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = this.time + this.ckConfig['config']['timeJump'];\n\t\t\tif (time > this.V.duration) {\n\t\t\t\ttime = this.V.duration;\n\t\t\t}\n\t\t\tthis.videoSeek(time);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t获取当前播放的地址\n\t\t*/\n\t\tgetCurrentSrc: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getCurrentSrc();\n\t\t\t}\n\t\t\treturn this.V.currentSrc;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t全屏/退出全屏动作，该动作只能是用户操作才可以触发，比如用户点击按钮触发该事件\n\t\t*/\n\t\tswitchFull: function() {\n\t\t\tif (this.full) {\n\t\t\t\tthis.quitFullScreen();\n\t\t\t} else {\n\t\t\t\tthis.fullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t全屏动作，该动作只能是用户操作才可以触发，比如用户点击按钮触发该事件\n\t\t*/\n\t\tfullScreen: function() {\n\t\t\tif (this.html5Video && this.playerType == 'html5video') {\n\t\t\t\tvar element = this.PD;\n\t\t\t\tif (element.requestFullscreen) {\n\t\t\t\t\telement.requestFullscreen();\n\t\t\t\t} else if (element.mozRequestFullScreen) {\n\t\t\t\t\telement.mozRequestFullScreen();\n\t\t\t\t} else if (element.webkitRequestFullscreen) {\n\t\t\t\t\telement.webkitRequestFullscreen();\n\t\t\t\t} else if (element.msRequestFullscreen) {\n\t\t\t\t\telement.msRequestFullscreen();\n\t\t\t\t} else if (element.oRequestFullscreen) {\n\t\t\t\t\telement.oRequestFullscreen();\n\t\t\t\t}\n\t\t\t\tthis.judgeFullScreen();\n\t\t\t} else {\n\t\t\t\t//this.V.fullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t退出全屏动作\n\t\t*/\n\t\tquitFullScreen: function() {\n\t\t\tif (this.html5Video && this.playerType == 'html5video') {\n\t\t\t\tif (document.exitFullscreen) {\n\t\t\t\t\tdocument.exitFullscreen();\n\t\t\t\t} else if (document.msExitFullscreen) {\n\t\t\t\t\tdocument.msExitFullscreen();\n\t\t\t\t} else if (document.mozCancelFullScreen) {\n\t\t\t\t\tdocument.mozCancelFullScreen();\n\t\t\t\t} else if (document.oRequestFullscreen) {\n\t\t\t\t\tdocument.oCancelFullScreen();\n\t\t\t\t} else if (document.requestFullscreen) {\n\t\t\t\t\tdocument.requestFullscreen();\n\t\t\t\t} else if (document.webkitExitFullscreen) {\n\t\t\t\t\tdocument.webkitExitFullscreen();\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(document.documentElement, 'cssText', '');\n\t\t\t\t\tthis.css(document.document.body, 'cssText', '');\n\t\t\t\t\tthis.css(this.PD, 'cssText', '');\n\t\t\t\t}\n\t\t\t\tthis.judgeFullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t 下面列出只有flashplayer里支持的 \n\t\t */\n\t\tvideoRotation: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoRotation(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(n)) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tvar tf = this.css(this.V, 'transform');\n\t\t\tif (this.isUndefined(tf) && !tf) {\n\t\t\t\ttf = 'rotate(0deg)';\n\t\t\t}\n\t\t\tvar reg = tf.match(/rotate\\([^)]+\\)/);\n\t\t\treg = reg ? reg[0].replace('rotate(', '').replace('deg)', '') : '';\n\t\t\tif (reg == '') {\n\t\t\t\treg = 0;\n\t\t\t} else {\n\t\t\t\treg = parseInt(reg);\n\t\t\t}\n\t\t\tif (n == -1) {\n\t\t\t\treg -= 90;\n\t\t\t} else if (n == 1) {\n\t\t\t\treg += 90;\n\t\t\t} else {\n\t\t\t\tif (n != 90 && n != 180 && n != 270 && n != -90 && n != -180 && n != -270) {\n\t\t\t\t\treg = 0;\n\t\t\t\t} else {\n\t\t\t\t\treg = n;\n\t\t\t\t}\n\t\t\t}\n\t\t\tn = reg;\n\t\t\tvar y90 = n % 90,\n\t\t\ty180 = n % 180,\n\t\t\ty270 = n % 270;\n\t\t\tvar ys = false;\n\t\t\tif (y90 == 0 && y180 == 90 && y270 == 90) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == 0 && y180 == 90 && y270 == 0) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == -0 && y180 == -90 && y270 == -90) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == -0 && y180 == -90 && y270 == -0) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\ttf = tf.replace(/rotate\\([^)]+\\)/, '').replace(/scale\\([^)]+\\)/, '') + ' rotate(' + n + 'deg)';\n\t\t\tvar cdW = this.CD.offsetWidth,\n\t\t\tcdH = this.CD.offsetHeight,\n\t\t\tvW = this.V.videoWidth,\n\t\t\tvH = this.V.videoHeight;\n\t\t\tif (vW > 0 && vH > 0) {\n\t\t\t\tif (ys) {\n\t\t\t\t\tif (cdW / cdH > vH / vW) {\n\t\t\t\t\t\tnH = cdH;\n\t\t\t\t\t\tnW = vH * nH / vW;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnW = cdW;\n\t\t\t\t\t\tnH = vW * nW / vH;\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(this.V, 'transform', 'rotate(0deg)');\n\t\t\t\t\tthis.css(this.V, 'transform', 'scale(' + nH / cdW + ',' + nW / cdH + ')' + tf);\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\t}\n\t\t\treturn;\n\t\t},\n\t\tvideoBrightness: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoBrightness(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoContrast: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoContrast(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoSaturation: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoSaturation(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoHue: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoHue(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoZoom: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoZoom(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(n)) {\n\t\t\t\tn = 1;\n\t\t\t}\n\t\t\tif (n < 0) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tif (n > 2) {\n\t\t\t\tn = 2;\n\t\t\t}\n\t\t\tvar tf = this.css(this.V, 'transform');\n\t\t\ttf = tf.replace(/scale\\([^)]+\\)/, '') + ' scale(' + n + ')';\n\t\t\tthis.videoScale = n;\n\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\treturn;\n\t\t},\n\t\tvideoProportion: function(w, h) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoProportion(w, h);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tadPlay: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.adPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adIsPause = false;\n\t\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\t\tvar type = ad['type'];\n\t\t\t\tif (this.isStrImage(type)) {\n\t\t\t\t\tthis.adCountDown();\n\t\t\t\t} else {\n\t\t\t\t\tthis.V.play();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tadPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.adPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adIsPause = true;\n\t\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\t\tvar type = ad['type'];\n\t\t\t\tif (type != 'jpg' && type != 'jpeg' && type != 'png' && type != 'svg' && type != 'gif') {\n\t\t\t\t\tthis.videoPause();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tvideoError: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoError(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tchangeConfig: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\tswitch(args.length){\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tthis.V.changeConfig(args[0]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 7:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar obj = this.ckConfig;\n\t\t\tvar arg = arguments;\n\t\t\tfor (var i = 0; i < arg.length - 1; i++) {\n\t\t\t\tif (obj.hasOwnProperty(arg[i])) {\n\t\t\t\t\tobj = obj[arg[i]];\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar val = arg[arg.length - 1];\n\t\t\tswitch (arg.length) {\n\t\t\t\tcase 2:\n\t\t\t\t\tthis.ckConfig[arg[0]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 7:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 9:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]][arg[7]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 10:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]][arg[7]][arg[8]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.sendJS('configChange', this.ckConfig);\n\t\t},\n\t\tcustom: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.custom(arguments);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(arguments)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar type='',name='',display='';\n\t\t\tif(arguments.length==4){//控制栏\n\t\t\t\ttype='controlBar-'+arguments[1];\n\t\t\t\tname=arguments[2];\n\t\t\t\tdisplay=arguments[3]?'block':'none';\n\t\t\t}\n\t\t\telse if(arguments.length==3){//播放器\n\t\t\t\ttype='player-'+arguments[0];\n\t\t\t\tname=arguments[1];\n\t\t\t\tdisplay=arguments[2]?'block':'none';\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor(var k in this.customeElement){\n\t\t\t\tvar obj=this.customeElement[k];\n\t\t\t\tif(obj['type']==type && obj['name']==name){\n\t\t\t\t\tthis.css(obj['ele'],'display',display);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetConfig: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getConfig(arguments);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar temp=this.ckConfig;\n\t\t\t\tfor(var index in arguments) {  \n\t\t\t        try{\n\t\t\t        \ttemp=temp[arguments[index]];\n\t\t\t        }\n\t\t\t        catch(error){\n\t\t\t        \ttemp=null;\n\t\t\t        }\n\t\t\t    }; \n\t\t\t\treturn temp;\n\t\t\t}\n\t\t},\n\t\topenUrl: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.openUrl(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t清除视频\n\t\t*/\n\t\tvideoClear: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoClear();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.V.innerHTML='';\n\t\t\tthis.V.src='';\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t向播放器传递新的视频地址\n\t\t*/\n\t\tnewVideo: function(c) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.newVideo(c);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.embed(c);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t截图\n\t\t*/\n\t\tscreenshot: function(obj, save, name) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.screenshot(obj, save, name);\n\t\t\t\t} catch(error) {\n\t\t\t\t\tthis.log(error);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (obj == 'video') {\n\t\t\t\tvar newCanvas = document.createElement('canvas');\n\t\t\t\tnewCanvas.width = this.V.videoWidth;\n\t\t\t\tnewCanvas.height = this.V.videoHeight;\n\t\t\t\tnewCanvas.getContext('2d').drawImage(this.V, 0, 0, this.V.videoWidth, this.V.videoHeight);\n\t\t\t\ttry {\n\t\t\t\t\tvar base64 = newCanvas.toDataURL('image/jpeg');\n\t\t\t\t\tthis.sendJS('screenshot', {\n\t\t\t\t\t\tobject: obj,\n\t\t\t\t\t\tsave: save,\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tbase64: base64\n\t\t\t\t\t});\n\t\t\t\t} catch(error) {\n\t\t\t\t\tthis.log(error);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t改变播放器尺寸\n\t\t*/\n\t\tchangeSize: function(w, h) {\n\t\t\tif (this.isUndefined(w)) {\n\t\t\t\tw = 0;\n\t\t\t}\n\t\t\tif (this.isUndefined(h)) {\n\t\t\t\th = 0;\n\t\t\t}\n\t\t\tif (w > 0) {\n\t\t\t\tthis.css(this.CD, 'width', w + 'px');\n\t\t\t}\n\t\t\tif (h > 0) {\n\t\t\t\tthis.css(this.CD, 'height', h + 'px');\n\t\t\t}\n\t\t\tif (this.html5Video) {\n\t\t\t\tthis.playerResize();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t重置播放器界面\n\t\t*/\n\t\tplayerResize:function(){\n\t\t\tthis.controlBar();//控制栏按钮\n\t\t\tthis.elementCoordinate();\n\t\t\tthis.carbarButton();\n\t\t\tthis.customCoor();//自定义元件的位置重置\n\t\t\tthis.timeProgressDefault();//进度条默认样式\n\t\t\tthis.videoCss();//计算video的宽高和位置\n\t\t\tthis.timeUpdateHandler();//修改进度条样式\n\t\t\tthis.changeElementCoor(); //修改新加元件的坐标\n\t\t\tthis.changePrompt();//重置提示点\n\t\t\tthis.advertisementStyle();//广告控制样式\n\t\t\tthis.adPauseCoor();\n\t\t\tthis.adOtherCoor();\n\t\t\tthis.changeLoad();\n\t\t\tthis.sendJS('resize');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t改变视频播放速度\n\t\t*/\n\t\tchangePlaybackRate: function(n) {\n\t\t\tif (this.html5Video) {\n\t\t\t\tvar arr = this.playbackRateArr;\n\t\t\t\tn = parseInt(n);\n\t\t\t\tif (n < arr.length) {\n\t\t\t\t\tthis.newPlaybackrate(arr[n][1]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册控制控制栏显示与隐藏函数\n\t\t*/\n\t\tchangeControlBarShow: function(show) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeControlBarShow(show);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (show) {\n\t\t\t\tthis.controlBarIsShow = true;\n\t\t\t\tthis.controlBarHide(false);\n\t\t\t} else {\n\t\t\t\tthis.controlBarIsShow = false;\n\t\t\t\tthis.controlBarHide(true);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t-----------------------------------------------------------------------\n\t\t\t调用flashplayer\n\t\t*/\n\t\tembedSWF: function() {\n\t\t\tvar vid = 'ckplayer-'+this.randomString();\n\t\t\tvar flashvars = this.getFlashVars();\n\t\t\tvar param = this.getFlashplayerParam();\n\t\t\tvar flashplayerUrl = 'http://www.macromedia.com/go/getflashplayer';\n\t\t\tvar html = '',\n\t\t\tsrc = this.ckplayerPath + 'ckplayer.swf';\n\t\t\tid = 'id=\"' + vid + '\" name=\"' + vid + '\" ';\n\t\t\thtml += '<object pluginspage=\"' + flashplayerUrl + '\" classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=11,3,0,0\" width=\"100%\" height=\"100%\" ' + id + ' align=\"middle\" wmode=\"transparent\">';\n\t\t\thtml += param['v'];\n\t\t\thtml += '<param name=\"movie\" value=\"' + src + '\">';\n\t\t\thtml += '<param name=\"flashvars\" value=\"' + flashvars + '\">';\n\t\t\thtml += '<param name=\"wmode\" value=\"transparent\">';\n\t\t\thtml += '<embed wmode=\"transparent\" ' + param['w'] + ' src=\"' + src + '\" flashvars=\"' + flashvars + '\" width=\"100%\" height=\"100%\" ' + id + ' align=\"middle\" type=\"application/x-shockwave-flash\" pluginspage=\"' + flashplayerUrl + '\" />';\n\t\t\thtml += '</object>';\n\t\t\tthis.PD.innerHTML = html;\n\t\t\tthis.V = this.getObjectById(vid); //V：定义播放器对象全局变量\n\t\t\tthis.playerType = 'flashplayer';\n\t\t},\n\t\t/*\n\t\t\t判断浏览器是否支持flashplayer \n\t\t*/\n\t\tcheckShockwaveFlash:function(){\n\t\t\tif(window.ActiveXObject) {\n\t\t\t\ttry {\n\t\t\t\t\tvar s = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n\t\t\t\t\tif(s) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {}\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tvar s = navigator.plugins['Shockwave Flash'];\n\t\t\t\t\tif(s) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将vars对象转换成字符\n\t\t*/\n\t\tgetFlashVars: function() {\n\t\t\tthis.getVarsObject();\n\t\t\tvar v = this.vars;\n\t\t\tvar z = '';\n\t\t\tfor (k in v) {\n\t\t\t\tif (k != 'flashplayer' && k != 'container' && v[k] != '') {\n\t\t\t\t\tif (z != '') {\n\t\t\t\t\t\tz += '&';\n\t\t\t\t\t}\n\t\t\t\t\tvar vk = v[k];\n\t\t\t\t\tif (vk == true) {\n\t\t\t\t\t\tvk = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (vk == false) {\n\t\t\t\t\t\tvk = 0;\n\t\t\t\t\t}\n\t\t\t\t\tz += k + '=' + vk;\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (!v.hasOwnProperty('volume') || !v['volume']) {\n\t\t\t\tif (z != '') {\n\t\t\t\t\tz += '&';\n\t\t\t\t}\n\t\t\t\tz += 'volume=0';\n\t\t\t}\n\t\t\treturn z;\n\t\t},\n\t\t/*判断字符串是否是图片*/\n\t\tisStrImage: function(s) {\n\t\t\tif (s == 'jpg' || s == 'jpeg' || s == 'png' || s == 'svg' || s == 'gif') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将vars格式化成flash能接受的对象。再由getFlashVars函数转化成字符串或由newVideo直接使用\n\t\t*/\n\t\tgetVarsObject: function() {\n\t\t\tvar v = this.vars;\n\t\t\tvar f = '',\n\t\t\td = '',\n\t\t\tw = ''; //f=视频地址，d=清晰度地址,w=权重，z=最终地址\n\t\t\tvar arr = this.VA;\n\t\t\tvar prompt = v['promptSpot'];\n\t\t\tvar i = 0;\n\t\t\tvar video = this.vars['video'];\n\t\t\tif (this.varType(video) == 'array') { //对象或数组\n\t\t\t\tvar arr = video;\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tvar arr2 = arr[i];\n\t\t\t\t\tif (arr2) {\n\t\t\t\t\t\tif (f != '') {\n\t\t\t\t\t\t\tf += this.ckConfig['config']['split'];\n\t\t\t\t\t\t\td += ',';\n\t\t\t\t\t\t\tw += ',';\n\t\t\t\t\t\t\tv['type'] += this.ckConfig['config']['split'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tf += encodeURIComponent(decodeURIComponent(arr2[0]));\n\t\t\t\t\t\td += arr2[2];\n\t\t\t\t\t\tw += arr2[3];\n\t\t\t\t\t\tv['type'] += arr2[1].replace('video/', '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (this.varType(video) == 'object') { //对象或数组\n\t\t\t\tf = encodeURIComponent(decodeURIComponent(video['file']));\n\t\t\t\tif (!this.isUndefined(video['type'])) {\n\t\t\t\t\tv['type'] = video['type'];\n\t\t\t\t}\n\t\t\t\td = '';\n\t\t\t\tw = '';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tf = encodeURIComponent(decodeURIComponent(video));\n\t\t\t}\n\t\t\tif (v['preview'] != null) {\n\t\t\t\tv['previewscale'] = v['preview']['scale'];\n\t\t\t\tv['preview'] = v['preview']['file'].join(',');\n\n\t\t\t}\n\t\t\tif (prompt != null) {\n\t\t\t\tv['promptspot'] = '';\n\t\t\t\tv['promptspottime'] = '';\n\t\t\t\tfor (i = 0; i < prompt.length; i++) {\n\t\t\t\t\tif (v['promptspot'] != '') {\n\t\t\t\t\t\tv['promptspot'] += ',';\n\t\t\t\t\t\tv['promptspottime'] += ',';\n\t\t\t\t\t}\n\t\t\t\t\tv['promptspot'] += prompt[i]['words'];\n\t\t\t\t\tv['promptspottime'] += prompt[i]['time'];\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (f != '') {\n\t\t\t\tv['video'] = f;\n\t\t\t\tv['definition'] = d;\n\t\t\t\tv['weight'] = w;\n\t\t\t}\n\t\t\tif (!v['volume']) {\n\t\t\t\tv['volume'] = 0;\n\t\t\t}\n\t\t\tvar newV = {};\n\n\t\t\tfor (var k in v) {\n\t\t\t\tif (v[k] != null) {\n\t\t\t\t\tnewV[k] = v[k];\n\t\t\t\t}\n\t\t\t\tif (k == 'type') {\n\t\t\t\t\tnewV[k] = v[k].replace('video/m3u8', 'm3u8');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.vars = newV;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将embedSWF里的param的对象进行转换\n\t\t*/\n\t\tgetFlashplayerParam: function() {\n\t\t\tvar w = '',\n\t\t\tv = '',\n\t\t\to = {\n\t\t\t\tallowScriptAccess: 'always',\n\t\t\t\tallowFullScreen: true,\n\t\t\t\tquality: 'high',\n\t\t\t\tbgcolor: '#000'\n\t\t\t};\n\t\t\tfor (var e in o) {\n\t\t\t\tw += e + '=\"' + o[e] + '\" ';\n\t\t\t\tv += '<param name=\"' + e + '\" value=\"' + o[e] + '\" />';\n\t\t\t}\n\t\t\tw = w.replace('movie=', 'src=');\n\t\t\treturn {\n\t\t\t\tw: w,\n\t\t\t\tv: v\n\t\t\t};\n\t\t},\n\n\t\t/*\n\t\t\t操作动作结束\n\t\t\t-----------------------------------------------------------------------\n\t\t\t\n\t\t\t接口函数\n\t\t\t获取元数据部分\n\t\t*/\n\t\tgetMetaDate: function() {\n\t\t\tif (!this.loaded || this.V == null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\tvar duration = 0;\n\t\t\t\ttry {\n\t\t\t\t\tduration = !isNaN(this.V.duration) ? this.V.duration: 0;\n\t\t\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\t\t\tif(this.vars['duration']>0){\n\t\t\t\t\t\t\tduration=this.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t\tvar data = {\n\t\t\t\t\tduration: duration,\n\t\t\t\t\tvolume: this.V.volume,\n\t\t\t\t\tplaybackRate: this.V.playbackRate,\n\t\t\t\t\twidth: this.PD.offsetWidth || this.V.offsetWidth || this.V.width,\n\t\t\t\t\theight: this.PD.offsetHeight || this.V.offsetHeight || this.V.height,\n\t\t\t\t\tstreamWidth: this.V.videoWidth,\n\t\t\t\t\tstreamHeight: this.V.videoHeight,\n\t\t\t\t\tvideoWidth: this.V.offsetWidth,\n\t\t\t\t\tvideoHeight: this.V.offsetHeight,\n\t\t\t\t\tpaused: this.V.paused,\n\t\t\t\t\tloadTime:this.loadTimeTemp\n\t\t\t\t};\n\t\t\t\treturn data;\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\treturn this.V.getMetaDate();\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t取当前提供给播放器播放的视频列表\n\t\t*/\n\t\tgetVideoUrl: function() {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getVideoUrl();\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (this.V.src) {\n\t\t\t\tarr.push(this.V.src);\n\t\t\t} else {\n\t\t\t\tvar uArr = this.V.childNodes;\n\t\t\t\tfor (var i = 0; i < uArr.length; i++) {\n\t\t\t\t\tarr.push(uArr[i].src);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t格式化函数\n\t\t*/\n\t\tclickEvent: function(call) {\n\t\t\tif (call == 'none' || call == '' || call == null) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'none'\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar callArr = call.split('->');\n\t\t\tvar type = '',\n\t\t\tfun = '',\n\t\t\tlink = '',\n\t\t\ttarget = '';\n\t\t\tif (callArr.length == 2) {\n\t\t\t\tvar callM = callArr[0];\n\t\t\t\tvar callE = callArr[1];\n\t\t\t\tif (!callE) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'none'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tvar val = '';\n\t\t\t\tvar eArr = [];\n\t\t\t\ttype = callM;\n\t\t\t\tswitch (callM) {\n\t\t\t\tcase 'actionScript':\n\t\t\t\t\t//trace(THIS.hasOwnProperty(callE));\n\t\t\t\t\tif (callE.indexOf('(') > -1) {\n\t\t\t\t\t\teArr = callE.split('(');\n\t\t\t\t\t\tcallE = eArr[0];\n\t\t\t\t\t\tval = eArr[1].replace(')', '');\n\t\t\t\t\t}\n\t\t\t\t\tif (val == '') {\n\t\t\t\t\t\tfun = 'thisTemp.' + callE + '()';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfun = 'thisTemp.' + callE + '(' + val + ')';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javaScript':\n\t\t\t\t\tif (callE.substr(0, 11) == '[flashvars]') {\n\t\t\t\t\t\tcallE = callE.substr(11);\n\t\t\t\t\t\tif (this.vars.hasOwnProperty(callE)) {\n\t\t\t\t\t\t\tcallE = this.vars[callE];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (callE.indexOf('(') > -1) {\n\t\t\t\t\t\teArr = callE.split('(');\n\t\t\t\t\t\tcallE = eArr[0];\n\t\t\t\t\t\tval = eArr[1].replace(')', '');\n\t\t\t\t\t}\n\t\t\t\t\tif (val == '') {\n\t\t\t\t\t\tfun = callE + '()';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfun = callE + '(' + val + ')';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"link\":\n\t\t\t\t\tvar callLink = (callE + ',').split(',');\n\t\t\t\t\tif (callLink[0].substr(0, 11) == '[flashvars]') {\n\t\t\t\t\t\tvar fl = callLink[0].replace('[flashvars]', '');\n\t\t\t\t\t\tif (this.vars.hasOwnProperty(fl)) {\n\t\t\t\t\t\t\tcallLink[0] = this.vars[fl];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!callLink[1]) {\n\t\t\t\t\t\tcallLink[1] = '_blank';\n\t\t\t\t\t}\n\t\t\t\t\tlink = callLink[0];\n\t\t\t\t\ttarget = callLink[1];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttype: type,\n\t\t\t\tfun: fun,\n\t\t\t\tlink: link,\n\t\t\t\ttarget: target\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据指定的align,valign,offsetX,offsetY计算坐标\n\t\t*/\n\t\tgetPosition: function(obj,rEle) {\n\t\t\t/*\n\t\t\t{\n\t            \"align\": \"right\",\n\t            \"vAlign\": \"right\",\n\t            \"offsetX\": -60,\n\t            \"offsetY\": -60\n\t        } \n\t\t\t*/\n\t\t\tvar pw = this.PD.offsetWidth,\n\t\t\tph = this.PD.offsetHeight;\n\t\t\tvar x = 0,\n\t\t\ty = 0;\n\t\t\tvar left=0,top=0,rw=0,rh=0;\n\t\t\tif(!this.isUndefined(rEle)){\n\t\t\t\tleft=parseInt(this.css(rEle,'left')),top=parseInt(this.css(rEle,'top')),rw=rEle.offsetWidth,rh=rEle.offsetHeight;\n\t\t\t}\n\t\t\tswitch (obj['align']) {\n\t\t\t\tcase 'left':\n\t\t\t\t\tx = obj['offsetX']+left;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'center':\n\t\t\t\t\tx = pw * 0.5 + obj['offsetX'];\n\t\t\t\t\tif(left){\n\t\t\t\t\t\tx-=(pw*0.5-rw*0.5-left);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tx = pw + obj['offsetX'];\n\t\t\t\t\tif(left){\n\t\t\t\t\t\tx-=(pw-left-rw);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tswitch (obj['vAlign']) {\n\t\t\t\tcase 'top':\n\t\t\t\t\ty = obj['offsetY']+top;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'middle':\n\t\t\t\t\ty = ph * 0.5 + obj['offsetY']-top-(rh*0.5);\n\t\t\t\t\tif(top){\n\t\t\t\t\t\tx-=(ph*0.5-rh*0.5-top);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'bottom':\n\t\t\t\t\ty = ph + obj['offsetY'];\n\t\t\t\t\tif(top){\n\t\t\t\t\t\ty-=(ph-top-rh);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t向播放器界面添加一个文本\n\t\t*/\n\t\taddElement: function(attribute) {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.addElement(attribute);\n\t\t\t}\n\t\t\tvar i = 0;\n\t\t\tvar obj = {\n\t\t\t\tlist: null,\n\t\t\t\tx: '100%',\n\t\t\t\ty: \"50%\",\n\t\t\t\tposition: null,\n\t\t\t\talpha: 1,\n\t\t\t\tbackgroundColor: '',\n\t\t\t\tbackAlpha: 1,\n\t\t\t\tbackRadius: 0,\n\t\t\t\tclickEvent: ''\n\t\t\t};\n\t\t\tobj = this.standardization(obj, attribute);\n\t\t\tvar list = obj['list'];\n\t\t\tif (list == null) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tvar id = 'element-' + this.randomString(10);\n\t\t\tvar ele = document.createElement('div');\n\t\t\tele.className = id;\n\t\t\tif (obj['x']) {\n\t\t\t\tele.setAttribute('data-x', obj['x']);\n\t\t\t}\n\t\t\tif (obj['y']) {\n\t\t\t\tele.setAttribute('data-y', obj['y']);\n\t\t\t}\n\t\t\tif (obj['position'] != null) {\n\t\t\t\tele.setAttribute('data-position', obj['position'].join(','));\n\t\t\t}\n\n\t\t\tthis.PD.appendChild(ele);\n\t\t\tthis.css(ele, {\n\t\t\t\tposition: 'absolute',\n\t\t\t\tfilter: 'alpha(opacity:' + obj['alpha'] + ')',\n\t\t\t\topacity: obj['alpha'].toString(),\n\t\t\t\twidth: '800px',\n\t\t\t\tzIndex: '20'\n\t\t\t});\n\t\t\tvar bgid = 'elementbg' + this.randomString(10);\n\t\t\tvar bgAlpha = obj['alpha'].toString();\n\t\t\tvar bgColor = obj['backgroundColor'].replace('0x', '#');\n\t\t\tvar html = '';\n\t\t\tvar idArr = [];\n\t\t\tvar clickArr = [];\n\t\t\tif (!this.isUndefined(list) && list.length > 0) {\n\t\t\t\tvar textObj, returnObj, clickEvent;\n\t\t\t\tfor (i = 0; i < list.length; i++) {\n\t\t\t\t\tvar newEleid = 'elementnew' + this.randomString(10);\n\t\t\t\t\tswitch (list[i]['type']) {\n\t\t\t\t\tcase 'image':\n\t\t\t\t\tcase 'png':\n\t\t\t\t\tcase 'jpg':\n\t\t\t\t\tcase 'jpeg':\n\t\t\t\t\tcase 'gif':\n\t\t\t\t\t\ttextObj = {\n\t\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\t\tfile: '',\n\t\t\t\t\t\t\tradius: 0,//圆角弧度\n\t\t\t\t\t\t\twidth: 30,//定义宽，必需要定义\n\t\t\t\t\t\t\theight: 30,//定义高，必需要定义\n\t\t\t\t\t\t\talpha: 1,//透明度\n\t\t\t\t\t\t\tpaddingLeft: 0,//左边距离\n\t\t\t\t\t\t\tpaddingRight: 0,//右边距离\n\t\t\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\t\t\tmarginLeft: 0,\n\t\t\t\t\t\t\tmarginRight: 0,\n\t\t\t\t\t\t\tmarginTop: 0,\n\t\t\t\t\t\t\tmarginBottom: 0,\n\t\t\t\t\t\t\tbackgroundColor: '',\n\t\t\t\t\t\t\tclickEvent: ''\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tlist[i] = this.standardization(textObj, list[i]);\n\t\t\t\t\t\tclickEvent = this.clickEvent(list[i]['clickEvent']);\n\t\t\t\t\t\tclickArr.push(clickEvent);\n\t\t\t\t\t\tif (clickEvent['type'] == 'link') {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><a href=\"' + clickEvent['link'] + '\" target=\"' + clickEvent['target'] + '\"><img class=\"' + newEleid + '_image\" src=\"' + list[i]['file'] + '\" style=\"border:0;\"></a></div>';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><img class=\"' + newEleid + '_image\" src=\"' + list[i]['file'] + '\" style=\"border:0;\"></div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'text':\n\t\t\t\t\t\ttextObj = {\n\t\t\t\t\t\t\ttype: 'text',//说明是文本\n\t\t\t\t\t\t\ttext: '',//文本内容\n\t\t\t\t\t\t\tcolor: '0xFFFFFF',\n\t\t\t\t\t\t\tsize: 14,\n\t\t\t\t\t\t\tfontFamily: this.fontFamily,\n\t\t\t\t\t\t\tleading: 0,\n\t\t\t\t\t\t\talpha: 1,//透明度\n\t\t\t\t\t\t\tpaddingLeft: 0,//左边距离\n\t\t\t\t\t\t\tpaddingRight: 0,//右边距离\n\t\t\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\t\t\tmarginLeft: 0,\n\t\t\t\t\t\t\tmarginRight: 0,\n\t\t\t\t\t\t\tmarginTop: 0,\n\t\t\t\t\t\t\tmarginBottom: 0,\n\t\t\t\t\t\t\tbackgroundColor: '',\n\t\t\t\t\t\t\tbackAlpha: 1,\n\t\t\t\t\t\t\tbackRadius: 0,//背景圆角弧度，支持数字统一设置，也支持分开设置[30,20,20,50]，对应上左，上右，下右，下左\n\t\t\t\t\t\t\tclickEvent: ''\n\t\t\t\t\t\t};\n\t\t\t\t\t\tlist[i] = this.standardization(textObj, list[i]);\n\t\t\t\t\t\tclickEvent = this.clickEvent(list[i]['clickEvent']);\n\t\t\t\t\t\tclickArr.push(clickEvent);\n\t\t\t\t\t\tif (clickEvent['type'] == 'link') {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><div class=\"' + newEleid + '_bg\"></div><div class=\"' + newEleid + '_text\"><a href=\"' + clickEvent['link'] + '\" target=\"' + clickEvent['target'] + '\">' + list[i]['text'] + '</a></div></div>';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thtml += '<div  class=\"' + newEleid + '\" data-i=\"' + i + '\"><div class=\"' + newEleid + '_bg\"></div><div class=\"' + newEleid + '_text\">' + list[i]['text'] + '</div></div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tidArr.push(newEleid);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar objClickEvent = this.clickEvent(obj['clickEvent']);\n\t\t\tele.innerHTML = '<div class=\"' + bgid + '\"></div><div class=\"' + bgid + '_c\">' + html + '</div>';\n\t\t\tif (objClickEvent['type'] == 'javaScript' || objClickEvent['type'] == 'actionScript') {\n\t\t\t\tvar objClickHandler = function() {\n\t\t\t\t\teval(objClickEvent['fun']);\n\t\t\t\t\tthisTemp.sendJS('clickEvent', clk['type'] + '->' + clk['fun'].replace('thisTemp.', '').replace('()', ''));\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', objClickHandler, this.getByElement(bgid + '_c'))\n\t\t\t}\n\t\t\tthis.css(bgid + '_c', {\n\t\t\t\tposition: 'absolute',\n\t\t\t\tzIndex: '2'\n\t\t\t});\n\t\t\tfor (i = 0; i < idArr.length; i++) {\n\t\t\t\tvar clk = clickArr[i];\n\t\t\t\tif (clk['type'] == 'javaScript' || clk['type'] == 'actionScript') {\n\t\t\t\t\tvar clickHandler = function() {\n\t\t\t\t\t\t//clk = clickArr[this.getAttribute('data-i')];\n\t\t\t\t\t\tclk = clickArr[thisTemp.getDataset(this,'i')];\n\t\t\t\t\t\teval(clk['fun']);\n\t\t\t\t\t\tthisTemp.sendJS('clickEvent', clk['type'] + '->' + clk['fun'].replace('thisTemp.', '').replace('()', ''));\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', clickHandler, this.getByElement(idArr[i]))\n\t\t\t\t}\n\t\t\t\tswitch (list[i]['type']) {\n\t\t\t\tcase 'image':\n\t\t\t\tcase 'png':\n\t\t\t\tcase 'jpg':\n\t\t\t\tcase 'jpeg':\n\t\t\t\tcase 'gif':\n\t\t\t\t\tthis.css(idArr[i], {\n\t\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t\twidth: list[i]['width'] + 'px',\n\t\t\t\t\t\theight: list[i]['height'] + 'px',\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['alpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['alpha'].toString(),\n\t\t\t\t\t\tmarginLeft: list[i]['marginLeft'] + 'px',\n\t\t\t\t\t\tmarginRight: list[i]['marginRight'] + 'px',\n\t\t\t\t\t\tmarginTop: list[i]['marginTop'] + 'px',\n\t\t\t\t\t\tmarginBottom: list[i]['marginBottom'] + 'px',\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px',\n\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i] + '_image', {\n\t\t\t\t\t\twidth: list[i]['width'] + 'px',\n\t\t\t\t\t\theight: list[i]['height'] + 'px',\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'text':\n\t\t\t\t\tthis.css(idArr[i] + '_text', {\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['alpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['alpha'].toString(),\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px',\n\t\t\t\t\t\tfontFamily: list[i]['font'],\n\t\t\t\t\t\tfontSize: list[i]['size'] + 'px',\n\t\t\t\t\t\tcolor: list[i]['color'].replace('0x', '#'),\n\t\t\t\t\t\tlineHeight: list[i]['leading'] > 0 ? list[i]['leading'] + 'px': '',\n\t\t\t\t\t\tpaddingLeft: list[i]['paddingLeft'] + 'px',\n\t\t\t\t\t\tpaddingRight: list[i]['paddingRight'] + 'px',\n\t\t\t\t\t\tpaddingTop: list[i]['paddingTop'] + 'px',\n\t\t\t\t\t\tpaddingBottom: list[i]['paddingBottom'] + 'px',\n\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tzIndex: '3',\n\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i], {\n\t\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t\twidth: this.getByElement(idArr[i] + '_text').offsetWidth + 'px',\n\t\t\t\t\t\theight: this.getByElement(idArr[i] + '_text').offsetHeight + 'px',\n\t\t\t\t\t\tmarginLeft: list[i]['marginLeft'] + 'px',\n\t\t\t\t\t\tmarginRight: list[i]['marginRight'] + 'px',\n\t\t\t\t\t\tmarginTop: list[i]['marginTop'] + 'px',\n\t\t\t\t\t\tmarginBottom: list[i]['marginBottom'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i] + '_bg', {\n\t\t\t\t\t\twidth: this.getByElement(idArr[i] + '_text').offsetWidth + 'px',\n\t\t\t\t\t\theight: this.getByElement(idArr[i] + '_text').offsetHeight + 'px',\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['backAlpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['backAlpha'].toString(),\n\t\t\t\t\t\tborderRadius: list[i]['backRadius'] + 'px',\n\t\t\t\t\t\tbackgroundColor: list[i]['backgroundColor'].replace('0x', '#'),\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tzIndex: '2'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.css(bgid, {\n\t\t\t\twidth: this.getByElement(bgid + '_c').offsetWidth + 'px',\n\t\t\t\theight: this.getByElement(bgid + '_c').offsetHeight + 'px',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tfilter: 'alpha(opacity:' + bgAlpha + ')',\n\t\t\t\topacity: bgAlpha,\n\t\t\t\tbackgroundColor: bgColor.replace('0x', '#'),\n\t\t\t\tborderRadius: obj['backRadius'] + 'px',\n\t\t\t\tzIndex: '1'\n\t\t\t});\n\t\t\tthis.css(ele, {\n\t\t\t\twidth: this.getByElement(bgid).offsetWidth + 'px',\n\t\t\t\theight: this.getByElement(bgid).offsetHeight + 'px'\n\t\t\t});\n\t\t\tvar eidCoor = this.calculationCoor(ele);\n\t\t\tthis.css(ele, {\n\t\t\t\tleft: eidCoor['x'] + 'px',\n\t\t\t\ttop: eidCoor['y'] + 'px'\n\t\t\t});\n\n\t\t\tthis.elementArr.push(ele.className);\n\t\t\treturn ele;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t获取元件的属性，包括x,y,width,height,alpha\n\t\t*/\n\t\tgetElement: function(element) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getElement(element);\n\t\t\t}\n\t\t\tvar ele = element;\n\t\t\tif (this.varType(element) == 'string') {\n\t\t\t\tele = this.getByElement(element);\n\t\t\t}\n\t\t\tvar coor = this.getCoor(ele);\n\t\t\treturn {\n\t\t\t\tx: coor['x'],\n\t\t\t\ty: coor['y'],\n\t\t\t\twidth: ele.offsetWidth,\n\t\t\t\theight: ele.offsetHeight,\n\t\t\t\talpha: !this.isUndefined(this.css(ele, 'opacity')) ? parseFloat(this.css(ele, 'opacity')) : 1,\n\t\t\t\tshow: this.css(ele, 'display') == 'none' ? false: true\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t控制元件显示和隐藏\n\t\t*/\n\t\telementShow: function(element, show) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.elementShow(element, show);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(element) == 'string') {\n\t\t\t\tif (element) {\n\t\t\t\t\tthis.css(ele, 'display', show == true ? 'block': 'none');\n\t\t\t\t} else {\n\t\t\t\t\tvar arr = this.elementTempArr;\n\t\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\t\tthis.css(arr[i], 'display', show == true ? 'block': 'none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据节点的x,y计算在播放器里的坐标\n\t\t*/\n\t\tcalculationCoor: function(ele) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.calculationCoor(ele);\n\t\t\t}\n\t\t\tif(this.isUndefined(ele)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (ele == []) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar x, y, position = [];\n\t\t\tvar w = this.PD.offsetWidth,\n\t\t\th = this.PD.offsetHeight;\n\t\t\tvar ew = ele.offsetWidth,\n\t\t\teh = ele.offsetHeight;\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'x'))) {\n\t\t\t\tx = this.getDataset(ele, 'x');\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'y'))) {\n\t\t\t\ty = this.getDataset(ele, 'y');\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'position'))) {\n\t\t\t\ttry {\n\t\t\t\t\tposition = this.getDataset(ele, 'position').toString().split(',');\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t\tif (position.length > 0) {\n\t\t\t\tposition.push(null, null, null, null);\n\t\t\t\tvar i = 0;\n\t\t\t\tfor (i = 0; i < position.length; i++) {\n\t\t\t\t\tif (this.isUndefined(position[i]) || position[i] == null || position[i] == 'null' || position[i] == '') {\n\t\t\t\t\t\tposition[i] = null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition[i] = parseFloat(position[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (position[2] == null) {\n\t\t\t\t\tswitch (position[0]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tx = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tx = parseInt((w - ew) * 0.5);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tx = w - ew;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (position[0]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tx = position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tx = parseInt(w * 0.5) + position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tx = w + position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (position[3] == null) {\n\t\t\t\t\tswitch (position[1]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\ty = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ty = parseInt((h - eh) * 0.5);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ty = h - eh;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (position[1]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\ty = position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ty = parseInt(h * 0.5) + position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ty = h + position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (x.substring(x.length - 1, x.length) == '%') {\n\t\t\t\t\tx = Math.floor(parseInt(x.substring(0, x.length - 1)) * w * 0.01);\n\t\t\t\t}\n\t\t\t\tif (y.substring(y.length - 1, y.length) == '%') {\n\t\t\t\t\ty = Math.floor(parseInt(y.substring(0, y.length - 1)) * h * 0.01);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t修改新增元件的坐标\n\t\t*/\n\t\tchangeElementCoor: function() {\n\t\t\tfor (var i = 0; i < this.elementArr.length; i++) {\n\t\t\t\tif(!this.isUndefined(this.getByElement(this.elementArr[i]))){\n\t\t\t\t\tif (this.getByElement(this.elementArr[i]) != []) {\n\t\t\t\t\t\tvar c = this.calculationCoor(this.getByElement(this.elementArr[i]));\n\t\t\t\t\t\tif (c['x'] && c['y']) {\n\t\t\t\t\t\t\tthis.css(this.elementArr[i], {\n\t\t\t\t\t\t\t\ttop: c['y'] + 'px',\n\t\t\t\t\t\t\t\tleft: c['x'] + 'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t缓动效果集\n\t\t*/\n\t\ttween: function() {\n\t\t\tvar Tween = {\n\t\t\t\tNone: { //均速运动\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuadratic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * (t /= d) * (t - 2) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t + b;\n\t\t\t\t\t\treturn - c / 2 * ((--t) * (t - 2) - 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tCubic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * t + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * t + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuartic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * ((t = t / d - 1) * t * t * t - 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;\n\t\t\t\t\t\treturn - c / 2 * ((t -= 2) * t * t * t - 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuintic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tSine: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * Math.sin(t / d * (Math.PI / 2)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tExponential: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn (t == 0) ? b: c * Math.pow(2, 10 * (t / d - 1)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn (t == d) ? b + c: c * ( - Math.pow(2, -10 * t / d) + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif (t == d) return b + c;\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n\t\t\t\t\t\treturn c / 2 * ( - Math.pow(2, -10 * --t) + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tCircular: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return - c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n\t\t\t\t\t\treturn c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tElastic: {\n\t\t\t\t\teaseIn: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\t\t\tif (!p) p = d * .3;\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\treturn - (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\t\t\tif (!p) p = d * .3;\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\treturn (a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b);\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d / 2) == 2) return b + c;\n\t\t\t\t\t\tif (!p) p = d * (.3 * 1.5);\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\tif (t < 1) return - .5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tBack: {\n\t\t\t\t\teaseIn: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\treturn c * (t /= d) * t * ((s + 1) * t - s) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tBounce: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c - Tween.Bounce.easeOut(d - t, 0, c, d) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d) < (1 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * t * t) + b;\n\t\t\t\t\t\t} else if (t < (2 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (1.5 / 2.75)) * t + .75) + b;\n\t\t\t\t\t\t} else if (t < (2.5 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (2.25 / 2.75)) * t + .9375) + b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (2.625 / 2.75)) * t + .984375) + b;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif (t < d / 2) return Tween.Bounce.easeIn(t * 2, 0, c, d) * .5 + b;\n\t\t\t\t\t\telse return Tween.Bounce.easeOut(t * 2 - d, 0, c, d) * .5 + c * .5 + b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn Tween;\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t缓动效果\n\t\t\tele:Object=需要缓动的对象,\n\t\t\tparameter:String=需要改变的属性：x,y,width,height,alpha,\n\t\t\teffect:String=效果名称,\n\t\t\tstart:Int=起始值,\n\t\t\tend:Int=结束值,\n\t\t\tspeed:Number=运动的总秒数，支持小数\n\t\t*/\n\t\tanimate: function(attribute) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.animate(attribute);\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar animateId = 'animate_' + this.randomString();\n\t\t\tvar obj = {\n\t\t\t\telement: null,\n\t\t\t\tparameter: 'x',\n\t\t\t\tstatic: false,\n\t\t\t\teffect: 'None.easeIn',\n\t\t\t\tstart: null,\n\t\t\t\tend: null,\n\t\t\t\tspeed: 0,\n\t\t\t\toverStop: false,\n\t\t\t\tpauseStop: false,\n\t\t\t\t//暂停播放时缓动是否暂停\n\t\t\t\tcallBack: null\n\t\t\t};\n\t\t\tobj = this.standardization(obj, attribute);\n\t\t\tif (obj['element'] == null || obj['speed'] == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar w = this.PD.offsetWidth,\n\t\t\th = this.PD.offsetHeight;\n\t\t\tvar effArr = (obj['effect'] + '.').split('.');\n\t\t\tvar tweenFun = this.tween()[effArr[0]][effArr[1]];\n\t\t\tvar eleCoor = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t\tif (this.isUndefined(tweenFun)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t//先将该元件从元件数组里删除，让其不再跟随播放器的尺寸改变而改变位置\n\t\t\tvar def = this.arrIndexOf(this.elementArr, obj['element'].className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementTempArr.push(obj['element'].className);\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\t//var run = true;\n\t\t\tvar css = {};\n\t\t\t//对传递的参数进行转化，x和y转化成left,top\n\t\t\tvar pm = this.getElement(obj['element']); //包含x,y,width,height,alpha属性\n\t\t\tvar t = 0; //当前时间\n\t\t\tvar b = 0; //初始值\n\t\t\tvar c = 0; //变化量\n\t\t\tvar d = obj['speed'] * 1000; //持续时间\n\t\t\tvar timerTween = null;\n\t\t\tvar tweenObj = null;\n\t\t\tvar start = obj['start'] == null ? '': obj['start'].toString();\n\t\t\tvar end = obj['end'] == null ? '': obj['end'].toString();\n\t\t\tswitch (obj['parameter']) {\n\t\t\tcase 'x':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['x'];\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(start) * w * 0.01;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(start);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['x'] - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) * w * 0.01 - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(end);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'y':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['y'];\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(start) * h * 0.01;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(start);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['y'] - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) * h * 0.01 - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(end);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'alpha':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['alpha'] * 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(obj['start']);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(obj['start'] * 100);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['alpha'] * 100 - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) * 100 - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) * 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(obj['end']) * 100 - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar callBack = function() {\n\t\t\t\tvar index = thisTemp.arrIndexOf(thisTemp.animateElementArray, animateId);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthisTemp.animateArray.splice(index, 1);\n\t\t\t\t\tthisTemp.animateElementArray.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tindex = thisTemp.arrIndexOf(thisTemp.animatePauseArray, animateId);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthisTemp.animatePauseArray.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tif (obj['callBack'] != null && obj['element'] && obj['callBack'] != 'callBack' && obj['callBack'] != 'tweenX' && obj['tweenY'] != 'callBack' && obj['callBack'] != 'tweenAlpha') {\n\t\t\t\t\tvar cb = eval(obj['callBack']);\n\t\t\t\t\tcb(obj['element']);\n\t\t\t\t\tobj['callBack'] = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar stopTween = function() {\n\t\t\t\tif (timerTween != null) {\n\t\t\t\t\tif (timerTween.runing) {\n\t\t\t\t\t\ttimerTween.stop();\n\t\t\t\t\t}\n\t\t\t\t\ttimerTween = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenX = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\tleft: Math.ceil(tweenFun(t, b, c, d)) + 'px'\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['top'] = eleCoor['y'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defX = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defX > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defX, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenY = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\ttop: Math.ceil(tweenFun(t, b, c, d)) + 'px'\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['left'] = eleCoor['x'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defY = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defY > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defY, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenAlpha = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\tvar ap = Math.ceil(tweenFun(t, b, c, d)) * 0.01;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + ap + ')',\n\t\t\t\t\t\topacity: ap.toString()\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['top'] = eleCoor['y'] + 'px';\n\t\t\t\t\t\tcss['left'] = eleCoor['x'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defA = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defA > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defA, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tswitch (obj['parameter']) {\n\t\t\t\tcase 'x':\n\t\t\t\t\ttweenObj = tweenX;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'y':\n\t\t\t\t\ttweenObj = tweenY;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'alpha':\n\t\t\t\t\ttweenObj = tweenAlpha;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\ttimerTween = new thisTemp.timer(10, tweenObj);\n\t\t\ttimerTween.callBackFunction = callBack;\n\t\t\tif (obj['overStop']) {\n\t\t\t\tvar mouseOver = function() {\n\t\t\t\t\tif (timerTween != null && timerTween.runing) {\n\t\t\t\t\t\ttimerTween.stop();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('mouseover', mouseOver, obj['element']);\n\t\t\t\tvar mouseOut = function() {\n\t\t\t\t\tvar start = true;\n\t\t\t\t\tif (obj['pauseStop'] && thisTemp.getMetaDate()['paused']) {\n\t\t\t\t\t\tstart = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (timerTween != null && !timerTween.runing && start) {\n\t\t\t\t\t\ttimerTween.start();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('mouseout', mouseOut, obj['element']);\n\t\t\t}\n\n\t\t\tthis.animateArray.push(timerTween);\n\t\t\tthis.animateElementArray.push(animateId);\n\t\t\tif (obj['pauseStop']) {\n\t\t\t\tthis.animatePauseArray.push(animateId);\n\t\t\t}\n\t\t\treturn animateId;\n\t\t},\n\t\t/*\n\t\t\t接口函数函数\n\t\t\t继续运行animate\n\t\t*/\n\t\tanimateResume: function(id) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.animateResume(this.isUndefined(id) ? '': id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (id != '' && !this.isUndefined(id) && id != 'pause') {\n\t\t\t\tarr.push(id);\n\t\t\t} else {\n\t\t\t\tif (id === 'pause') {\n\t\t\t\t\tarr = this.animatePauseArray;\n\t\t\t\t} else {\n\t\t\t\t\tarr = this.animateElementArray;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar index = this.arrIndexOf(this.animateElementArray, arr[i]);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.animateArray[index].start();\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t暂停运行animate\n\t\t*/\n\t\tanimatePause: function(id) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.animatePause(this.isUndefined(id) ? '': id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (id != '' && !this.isUndefined(id) && id != 'pause') {\n\t\t\t\tarr.push(id);\n\t\t\t} else {\n\t\t\t\tif (id === 'pause') {\n\t\t\t\t\tarr = this.animatePauseArray;\n\t\t\t\t} else {\n\t\t\t\t\tarr = this.animateElementArray;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar index = this.arrIndexOf(this.animateElementArray, arr[i]);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.animateArray[index].stop();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据ID删除数组里对应的内容\n\t\t*/\n\t\tdeleteAnimate: function(id) {\n\t\t\tif (this.playerType == 'flashplayer' && this.V) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.deleteAnimate(id);\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar index = this.arrIndexOf(this.animateElementArray, id);\n\t\t\tif (index > -1) {\n\t\t\t\tthis.animateArray[index].callBackFunction();\n\t\t\t\tthis.animateArray.splice(index, 1);\n\t\t\t\tthis.animateElementArray.splice(index, 1);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t删除外部新建的元件\n\t\t*/\n\t\tdeleteElement: function(ele) {\n\t\t\tif (this.playerType == 'flashplayer' && this.V) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.deleteElement(ele);\n\t\t\t\t} catch(event) {}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//先将该元件从元件数组里删除，让其不再跟随播放器的尺寸改变而改变位置\n\t\t\tvar def = this.arrIndexOf(this.elementArr, ele.className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdef = this.arrIndexOf(this.elementTempArr, ele.className);\n\t\t\t\tif (def > -1) {\n\t\t\t\t\tthis.elementTempArr.splice(def, 1);\n\t\t\t\t}\n\t\t\t} catch(event) {}\n\t\t\tthis.deleteAnimate(ele.className);\n\t\t\tthis.deleteChild(ele);\n\t\t},\n\t\t/*\n\t\t\t--------------------------------------------------------------\n\t\t\t共用函数部分\n\t\t\t以下函数并非只能在本程序中使用，也可以在页面其它项目中使用\n\t\t\t根据ID或className获取元素对象\n\t\t*/\n\t\tgetByElement: function(obj, parent) {\n\t\t\tif (this.isUndefined(parent)) {\n\t\t\t\tparent = document;\n\t\t\t}\n\t\t\tvar num = obj.substr(0, 1);\n\t\t\tvar res = [];\n\t\t\tif (num != '#') {\n\t\t\t\tif (num == '.') {\n\t\t\t\t\tobj = obj.substr(1, obj.length);\n\t\t\t\t}\n\t\t\t\tif (parent.getElementsByClassName) {\n\t\t\t\t\tres = parent.getElementsByClassName(obj);\n\t\t\t\t\tif(!res.length){\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar reg = new RegExp(' ' + obj + ' ', 'i');\n\t\t\t\t\tvar ele = parent.getElementsByTagName('*');\n\t\t\t\t\tfor (var i = 0; i < ele.length; i++) {\n\t\t\t\t\t\tif (reg.test(' ' + ele[i].className + ' ')) {\n\t\t\t\t\t\t\tres.push(ele[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (res.length > 0) {\n\t\t\t\t\tres=res[0];\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tres=null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (num == '#') {\n\t\t\t\t\tobj = obj.substr(1, obj.length);\n\t\t\t\t}\n\t\t\t\ttry{\n\t\t\t\t\tres=document.getElementById(obj);\n\t\t\t\t}\n\t\t\t\tcatch(event){\n\t\t\t\t\tres=null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t/*\n\t\t \t共用函数\n\t\t\t功能：修改样式或获取指定样式的值，\n\t\t\t\telem：ID对象或ID对应的字符，如果多个对象一起设置，则可以使用数组\n\t\t\t\tattribute：样式名称或对象，如果是对象，则省略掉value值\n\t\t\t\tvalue：attribute为样式名称时，定义的样式值\n\t\t\t\t示例一：\n\t\t\t\tthis.css(ID,'width','100px');\n\t\t\t\t示例二：\n\t\t\t\tthis.css('id','width','100px');\n\t\t\t\t示例三：\n\t\t\t\tthis.css([ID1,ID2,ID3],'width','100px');\n\t\t\t\t示例四：\n\t\t\t\tthis.css(ID,{\n\t\t\t\t\twidth:'100px',\n\t\t\t\t\theight:'100px'\n\t\t\t\t});\n\t\t\t\t示例五(获取宽度)：\n\t\t\t\tvar width=this.css(ID,'width');\n\t\t*/\n\t\tcss: function(elem, attribute, value) {\n\t\t\tvar i = 0;\n\t\t\tvar k = '';\n\t\t\tif (this.varType(elem) == 'array') { //数组\n\t\t\t\tfor (i = 0; i < elem.length; i++) {\n\t\t\t\t\t\tvar el;\n\t\t\t\t\t\tif (typeof(elem[i]) == 'string') {\n\t\t\t\t\t\t\tel = this.getByElement(elem[i])\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel = elem[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof(attribute) != 'object') {\n\t\t\t\t\t\t\tif (!this.isUndefined(value)) {\n\t\t\t\t\t\t\t\tel.style[attribute] = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (k in attribute) {\n\t\t\t\t\t\t\t\tif (!this.isUndefined(attribute[k])) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tel.style[k] = attribute[k];\n\t\t\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\t\t\tthis.log(event);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\n\t\t\t}\n\t\t\tif (this.varType(elem) == 'string') {\n\t\t\t\telem = this.getByElement(elem);\n\t\t\t}\n\t\t\tif (this.varType(attribute) != 'object') {\n\t\t\t\tif (!this.isUndefined(value)) {\n\t\t\t\t\telem.style[attribute] = value;\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.isUndefined(this.getStyle(elem, attribute))) {\n\t\t\t\t\t\treturn this.getStyle(elem, attribute);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (k in attribute) {\n\t\t\t\t\tif (!this.isUndefined(attribute[k])) {\n\t\t\t\t\t\telem.style[k] = attribute[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t兼容型获取style\n\t\t*/\n\t\tgetStyle: function(obj, attr) {\n\t\t\tif (!this.isUndefined(obj.style[attr])) {\n\t\t\t\treturn obj.style[attr];\n\t\t\t} else {\n\t\t\t\tif (obj.currentStyle) {\n\t\t\t\t\treturn obj.currentStyle[attr];\n\t\t\t\t} else {\n\t\t\t\t\treturn getComputedStyle(obj, false)[attr];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断变量是否存在或值是否为undefined\n\t\t*/\n\t\tisUndefined: function(value) {\n\t\t\ttry {\n\t\t\t\tif (value === 'undefined' || value === undefined || value === null || value === 'NaN' || value === NaN) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} catch(event) {\n\t\t\t\tthis.log(event);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t \t共用函数\n\t\t\t外部监听函数\n\t\t*/\n\t\taddListener: function(name, funName) {\n\t\t\tif (name && funName) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tvar ff = ''; //定义用来向flashplayer传递的函数字符\n\t\t\t\t\tif (this.varType(funName) == 'function') {\n\t\t\t\t\t\tff = this.getParameterNames(funName);\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.addListener(name, ff);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar have = false;\n\t\t\t\tfor (var i = 0; i < this.listenerJsArr.length; i++) {\n\t\t\t\t\tvar arr = this.listenerJsArr[i];\n\t\t\t\t\tif (arr[0] == name && arr[1] == funName) {\n\t\t\t\t\t\thave = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!have) {\n\t\t\t\t\tthis.listenerJsArr.push([name, funName]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t外部删除监听函数\n\t\t*/\n\t\tremoveListener: function(name, funName) {\n\t\t\tif (name && funName) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tvar ff = ''; //定义用来向flashplayer传递的函数字符\n\t\t\t\t\tif (this.varType(funName) == 'function') {\n\t\t\t\t\t\tff = this.getParameterNames(funName);\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeListener(name, ff);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfor (var i = 0; i < this.listenerJsArr.length; i++) {\n\t\t\t\t\tvar arr = this.listenerJsArr[i];\n\t\t\t\t\tif (arr[0] == name && arr[1] == funName) {\n\t\t\t\t\t\tthis.listenerJsArr.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部监听函数，调用方式：\n\t\t\tthis.addListenerInside('click',function(event){},[ID]);\n\t\t\td值为空时，则表示监听当前的视频播放器\n\t\t*/\n\t\taddListenerInside: function(e, f, d, t) {\n\t\t\tif (this.isUndefined(t)) {\n\t\t\t\tt = false;\n\t\t\t}\n\t\t\tvar o = this.V;\n\t\t\tif (!this.isUndefined(d)) {\n\t\t\t\to = d;\n\t\t\t}\n\t\t\tif (o.addEventListener) {\n\t\t\t\ttry {\n\t\t\t\t\to.addEventListener(e, f, t);\n\t\t\t\t} catch(event) {this.log(event)}\n\t\t\t} else if (o.attachEvent) {\n\t\t\t\ttry {\n\t\t\t\t\to.attachEvent('on' + e, f);\n\t\t\t\t} catch(event) {this.log(event)}\n\t\t\t} else {\n\t\t\t\to['on' + e] = f;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t删除内部监听函数，调用方式：\n\t\t\tthis.removeListenerInside('click',function(event){}[,ID]);\n\t\t\td值为空时，则表示监听当前的视频播放器\n\t\t*/\n\t\tremoveListenerInside: function(e, f, d, t) {\n\t\t\t/*if(this.playerType=='flashplayer' && this.getParameterNames(f) && this.isUndefined(d)) {\n\t\t\t\treturn;\n\t\t\t}*/\n\t\t\tif (this.isUndefined(t)) {\n\t\t\t\tt = false;\n\t\t\t}\n\t\t\tvar o = this.V;\n\t\t\tif (!this.isUndefined(d)) {\n\t\t\t\to = d;\n\t\t\t}\n\t\t\tif (o.removeEventListener) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.addNum--;\n\t\t\t\t\to.removeEventListener(e, f, t);\n\t\t\t\t} catch(e) {}\n\t\t\t} else if (o.detachEvent) {\n\t\t\t\ttry {\n\t\t\t\t\to.detachEvent('on' + e, f);\n\t\t\t\t} catch(e) {}\n\t\t\t} else {\n\t\t\t\to['on' + e] = null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t统一分配监听，以达到跟as3同样效果\n\t\t*/\n\t\tsendJS: function(name, val) {\n\t\t\tif (this.adPlayerPlay && name.substr( - 2) != 'Ad') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(name)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar list = this.listenerJsArr;\n\t\t\tvar obj = this.vars['variable'];\n\t\t\tif(this.vars['debug']){\n\t\t\t\tthis.log(name+':'+val);\n\t\t\t}\n\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\tvar arr = list[i];\t\t\t\t\n\t\t\t\tif (arr[0] == name) {\n\t\t\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\t\t\tswitch (arr[1].length) {\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\tarr[1](val);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tarr[1](val, obj);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tarr[1]();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarr[1](obj);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取函数名称，如 function ckplayer(){} var fun=ckplayer，则getParameterNames(fun)=ckplayer\n\t\t*/\n\t\tgetParameterNames: function(fn) {\n\t\t\tif (this.varType(fn) !== 'function') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\n\t\t\tvar code = fn.toString().replace(COMMENTS, '');\n\t\t\tvar result = code.slice(code.indexOf(' ') + 1, code.indexOf('('));\n\t\t\treturn result === null ? false: result;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t时间替换\n\t\t*/\n\t\treplaceTime:function(str,obj){\n\t\t\t//var timeStrArr = ['[$timeh]', '[$timei]', '[$timeI]', '[$times]', '[$timeS]', '[$durationh]', '[$durationi]', '[$durationI]', '[$durations]', '[$durationS]','[$liveTimey]', '[$liveTimeY]', '[$liveTimem]', '[$liveTimed]', '[$liveTimeh]', '[$liveTimei]', '[$liveTimes]', '[$liveLanguage]'];\n\t\t\tfor(var k in obj){\n\t\t\t\tstr=str.replace('[$'+k+']',obj[k])\n\t\t\t}\n\t\t\treturn str;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t格式化时分秒\n\t\t\tt:Int：秒数,dt:总时间的秒数\n\t\t*/\n\t\tformatTime: function(t,dt,str) {\n\t\t\tif (this.isUndefined(t) || isNaN(t)) {\n\t\t\t\tseconds = 0;\n\t\t\t}\n\t\t\tif (this.isUndefined(dt) || isNaN(dt)) {\n\t\t\t\tdt = 0;\n\t\t\t}\n\t\t\tvar minuteS=Math.floor(t/60);//将秒数直接转化成分钟取整，这个可以得到如80分钟\n\t\t\tvar minute=minuteS;//获取准确的分钟\n\t\t\tvar hourS=Math.floor(t/3600);//将秒数直接转化成小时取整，这个可以得到100小时\n\t\t\tvar second=t %60;\n\t\t\tif(minuteS>=60){\n\t\t\t\tminute=Math.floor(minuteS%60);\n\t\t\t}\n\t\t\t//总时间\n\t\t\tvar hminuteS=Math.floor(dt/60);//将秒数直接转化成分钟取整，这个可以得到如80分钟\n\t\t\tvar hminute=hminuteS;//获取准确的分钟\n\t\t\tvar hhourS=Math.floor(dt/3600);//将秒数直接转化成小时取整，这个可以得到100小时\n\t\t\tvar hsecond=dt %60;\n\t\t\tif(hminuteS>=60){\n\t\t\t\thminute=Math.floor(hminuteS%60);\n\t\t\t}\n\t\t\t//当前时间\n\t\t\tvar nowDate = new Date();\n\t\t\tvar obj={\n\t\t\t\ttimeh:hourS,//时\n\t\t\t\ttimei:minute,//分\n\t\t\t\ttimeI:minuteS,//只有分\n\t\t\t\ttimes:second,//秒\n\t\t\t\ttimeS:t,//只有秒\n\t\t\t\tdurationh:hhourS,//时\n\t\t\t\tdurationi:hminute,//分\n\t\t\t\tdurationI:hminuteS,//只有分\n\t\t\t\tdurations:hsecond,//秒\n\t\t\t\tdurationS:dt,//只有秒\n\t\t\t\tliveTimey:nowDate.getYear(),//获取当前年份(2位)\n\t\t\t\tliveTimeY:nowDate.getFullYear(),//获取完整的年份(4位,1970-????)\n\t\t\t\tliveTimem:nowDate.getMonth()+1,//获取当前月份(0-11,0代表1月)\n\t\t\t\tliveTimed:nowDate.getDate(),// 获取当前日(1-31)\n\t\t\t\tliveTimeh:nowDate.getHours(),    // 获取当前小时数(0-23)\n\t\t\t\tliveTimei:nowDate.getMinutes(),// 获取当前分钟数(0-59)\n\t\t\t\tliveTimes:nowDate.getSeconds()// 获取当前秒数(0-59)\n\t\t\t};\n\t\t\tfor(var k in obj){\n\t\t\t\tif(obj[k]<10){\n\t\t\t\t\tobj[k]='0'+Math.floor(obj[k]);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tobj[k]=Math.floor(obj[k]).toString();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.replaceTime(str,obj);\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取一个随机字符\n\t\t\tlen：随机字符长度\n\t\t*/\n\t\trandomString: function(len) {\n\t\t\tlen = len || 16;\n\t\t\tvar chars = 'abcdefghijklmnopqrstuvwxyz';\n\t\t\tvar maxPos = chars.length;\n\t\t\tvar val = '';\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tval += chars.charAt(Math.floor(Math.random() * maxPos));\n\t\t\t}\n\t\t\treturn 'ch' + val;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取字符串长度,中文算两,英文数字算1\n\t\t*/\n\t\tgetStringLen: function(str) {\n\t\t\tif(this.isUndefined(str)){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tvar len = 0;\n\t\t\tfor (var i = 0; i < str.length; i++) {\n\t\t\t\tif (str.charCodeAt(i) > 127 || str.charCodeAt(i) == 94) {\n\t\t\t\t\tlen += 2;\n\t\t\t\t} else {\n\t\t\t\t\tlen++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn len;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t用来为ajax提供支持\n\t\t*/\n\t\tcreateXHR: function() {\n\t\t\tif (window.XMLHttpRequest) {\n\t\t\t\t//IE7+、Firefox、Opera、Chrome 和Safari\n\t\t\t\treturn new XMLHttpRequest();\n\t\t\t} else if (window.ActiveXObject) {\n\t\t\t\t//IE6 及以下\n\t\t\t\ttry {\n\t\t\t\t\treturn new ActiveXObject('Microsoft.XMLHTTP');\n\t\t\t\t} catch(event) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn new ActiveXObject('Msxml2.XMLHTTP');\n\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\tthis.eject(this.errorList[7]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.eject(this.errorList[8]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\tajax调用\n\t\t*/\n\t\tajax: function(cObj) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar callback = null;\n\t\t\tvar obj = {\n\t\t\t\tmethod: 'get',//请求类型\n\t\t\t\tdataType: 'json',//请求的数据类型\n\t\t\t\tcharset: 'utf-8',\n\t\t\t\tasync: false,//true表示异步，false表示同步\n\t\t\t\turl: '',\n\t\t\t\tdata: null,\n\t\t\t\tsuccess: null,\n\t\t\t\terror:null\n\t\t\t};\n\t\t\tif (this.varType(cObj) != 'object') {\n\t\t\t\tthis.eject(this.errorList[9]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tobj = this.standardization(obj, cObj);\n\t\t\tif (obj.dataType === 'json' || obj.dataType === 'text' || obj.dataType === 'html' || obj.dataType === 'xml') {\n\t\t\t\tvar xhr = this.createXHR();\n\t\t\t\tcallback = function() {\n\t\t\t\t\t//判断http的交互是否成功\n\t\t\t\t\tif (xhr.status == 200) {\n\t\t\t\t\t\tif (thisTemp.isUndefined(obj.success)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (obj.dataType === 'json') {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tobj.success(eval('(' + xhr.responseText + ')')); //回调传递参数\n\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\tif(!thisTemp.isUndefined(obj['error'])){\n\t\t\t\t\t\t\t\t\tobj.error(event);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj.success(xhr.responseText); //回调传递参数\n\t\t\t\t\t\t}\n\t\t\t\t\t} \n\t\t\t\t\telse {\n\t\t\t\t\t\tobj.success(null);\n\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[10], 'Ajax.status:' + xhr.status);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tobj.url = obj.url.indexOf('?') == -1 ? obj.url + '?rand=' + this.randomString(6) : obj.url;\n\t\t\t\tobj.data = this.formatParams(obj.data); //通过params()将名值对转换成字符串\n\t\t\t\tif (obj.method === 'get' && !this.isUndefined(obj.data)) {\n\t\t\t\t\tif (obj.data != '') {\n\t\t\t\t\t\tif (obj.url.indexOf('?') == -1) {\n\t\t\t\t\t\t\tobj.url += '?' + obj.data\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj.url += '&' + obj.data;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (obj.async === true) { //true表示异步，false表示同步\n\t\t\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t\t\tif (xhr.readyState == 4 && callback != null) { //判断对象的状态是否交互完成\n\t\t\t\t\t\t\tcallback(); //回调\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\txhr.open(obj.method, obj.url, obj.async);\n\t\t\t\tif (obj.method === 'post') {\n\t\t\t\t\ttry{\n\t\t\t\t\t\txhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\t\t\t\t\t\txhr.setRequestHeader('charset', obj['charset']);\n\t\t\t\t\t\txhr.send(obj.data);\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttry{\n\t\t\t\t\t\txhr.send(null); //get方式则填null\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (obj.async === false) { //同步\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t}\n\t\t\telse if (obj.dataType === 'jsonp') {\n\t\t\t\tvar oHead = document.getElementsByTagName('head')[0];\n\t\t\t\tvar oScript = document.createElement('script');\n\t\t\t\tvar callbackName = 'callback' + new Date().getTime();\n\t\t\t\tvar params = this.formatParams(obj.data) + '&callback=' + callbackName; //按时间戳拼接字符串\n\t\t\t\tcallback = obj.success;\n\t\t\t\t//拼接好src\n\t\t\t\toScript.src = obj.url.split('?') + '?' + params;\n\t\t\t\t//插入script标签\n\t\t\t\toHead.insertBefore(oScript, oHead.firstChild);\n\t\t\t\t//jsonp的回调函数\n\t\t\t\twindow[callbackName] = function(json) {\n\t\t\t\t\tcallback(json);\n\t\t\t\t\toHead.removeChild(oScript);\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t动态加载js\n\t\t*/\n\t\tloadJs: function(path, success) {\n\t\t\tvar oHead = document.getElementsByTagName('HEAD').item(0);\n\t\t\tvar oScript = document.createElement('script');\n\t\t\toScript.type = 'text/javascript';\n\t\t\toScript.src = this.getNewUrl(path);\n\t\t\toHead.appendChild(oScript);\n\t\t\toScript.onload = function() {\n\t\t\t\tsuccess();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t排除IE6-9\n\t\t*/\n\t\tisMsie: function() {\n\t\t\tvar browser = navigator.appName;\n\t\t\tvar b_version = navigator.appVersion;\n\t\t\tvar version = b_version.split(';');\n\t\t\tvar trim_Version = '';\n\t\t\tif (version.length > 1) {\n\t\t\t\ttrim_Version = version[1].replace(/[ ]/g, '');\n\t\t\t}\n\t\t\tif (browser == 'Microsoft Internet Explorer' && (trim_Version == 'MSIE6.0' || trim_Version == 'MSIE7.0' || trim_Version == 'MSIE8.0' || trim_Version == 'MSIE9.0' || trim_Version == 'MSIE10.0')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断是否安装了flashplayer\n\t\t*/\n\t\tuploadFlash: function() {\n\t\t\tvar swf;\n\t\t\tif (navigator.userAgent.indexOf('MSIE') > 0) {\n\t\t\t\ttry {\n\t\t\t\t\tvar swf = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n\t\t\t\t\treturn true;\n\t\t\t\t} catch(e) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (navigator.userAgent.indexOf('Firefox') > 0) {\n\t\t\t\tswf = navigator.plugins['Shockwave Flash'];\n\t\t\t\tif (swf) {\n\t\t\t\t\treturn true\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t检测浏览器是否支持HTML5-Video\n\t\t*/\n\t\tsupportVideo: function() {\n\t\t\tif (!this.isMsie()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif ( !! document.createElement('video').canPlayType) {\n\t\t\t\tvar vidTest = document.createElement('video');\n\t\t\t\tvar oggTest;\n\t\t\t\ttry {\n\t\t\t\t\toggTest = vidTest.canPlayType('video/ogg; codecs=\"theora, vorbis\"');\n\t\t\t\t} catch(error) {\n\t\t\t\t\toggTest = false;\n\t\t\t\t}\n\t\t\t\tif (!oggTest) {\n\t\t\t\t\tvar h264Test;\n\t\t\t\t\ttry {\n\t\t\t\t\t\th264Test = vidTest.canPlayType('video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"');\n\t\t\t\t\t} catch(error) {\n\t\t\t\t\t\th264Test = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (!h264Test) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (h264Test == \"probably\") {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (oggTest == \"probably\") {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取属性值\n\t\t*/\n\t\tgetDataset: function(ele, z) {\n\t\t\ttry {\n\t\t\t\treturn ele.dataset[z];\n\t\t\t} catch(error) {\n\t\t\t\ttry {\n\t\t\t\t\treturn ele.getAttribute('data-' + z)\n\t\t\t\t} catch(error) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t返回flashplayer的对象\n\t\t*/\n\t\tgetObjectById: function(id) {\n\t\t\tvar x = null;\n\t\t\tvar y = this.getByElement('#' + id);\n\t\t\tvar r = 'embed';\n\t\t\tif (y && y.nodeName == 'OBJECT') {\n\t\t\t\tif (this.varType(y.SetVariable) != 'undefined') {\n\t\t\t\t\tx = y;\n\t\t\t\t} else {\n\t\t\t\t\tvar z = y.getElementsByTagName(r)[0];\n\t\t\t\t\tif (z) {\n\t\t\t\t\t\tx = z;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn x;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t对象转地址字符串\n\t\t*/\n\t\tformatParams: function(data) {\n\t\t\tvar arr = [];\n\t\t\tfor (var i in data) {\n\t\t\t\tarr.push(encodeURIComponent(i) + '=' + encodeURIComponent(data[i]));\n\t\t\t}\n\t\t\treturn arr.join('&');\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t对地址进行冒泡排序\n\t\t*/\n\t\tarrSort: function(arr) {\n\t\t\tvar temp = [];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tfor (var j = 0; j < arr.length - i; j++) {\n\t\t\t\t\tif (!this.isUndefined(arr[j + 1]) && arr[j][3] < arr[j + 1][3]) {\n\t\t\t\t\t\ttemp = arr[j + 1];\n\t\t\t\t\t\tarr[j + 1] = arr[j];\n\t\t\t\t\t\tarr[j] = temp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取文件名称\n\t\t*/\n\t\tgetFileName: function(filepath) {\n\t\t\tif(!filepath) return '';\n\t\t\treturn filepath.replace(/(.*\\/)*([^.]+).*/ig,'$2');\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t判断文件后缀\n\t\t*/\n\t\tgetFileExt: function(filepath) {\n\t\t\tif (filepath != '' && !this.isUndefined(filepath)) {\n\t\t\t\tif (filepath.indexOf('?') > -1) {\n\t\t\t\t\tfilepath = filepath.split('?')[0];\n\t\t\t\t}\n\t\t\t\tvar pos = '.' + filepath.replace(/.+\\./, '');\n\t\t\t\treturn pos.toLowerCase();\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t判断是否是移动端\n\t\t*/\n\t\tisMobile: function() {\n\t\t\tif (navigator.userAgent.toLowerCase().match(/(iphone|ipad|ipod|android|ios|midp|windows mobile|windows ce|rv:1.2.3.4|ucweb)/i)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t搜索字符串str是否包含key\n\t\t*/\n\t\tisContains: function(str, key) {\n\t\t\treturn str.indexOf(key) > -1;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t给地址添加随机数\n\t\t*/\n\t\tgetNewUrl: function(url) {\n\t\t\tif (this.isContains(url, '?')) {\n\t\t\t\treturn url += '&' + this.randomString(8) + '=' + this.randomString(8);\n\t\t\t} else {\n\t\t\t\treturn url += '?' + this.randomString(8) + '=' + this.randomString(8);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取clientX和clientY\n\t\t*/\n\t\tclient: function(event) {\n\t\t\tvar eve = event || window.event;\n\t\t\tif (this.isUndefined(eve)) {\n\t\t\t\teve = {\n\t\t\t\t\tclientX: 0,\n\t\t\t\t\tclientY: 0\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: eve.clientX + (document.documentElement.scrollLeft || this.body.scrollLeft) - this.pdCoor['x'],\n\t\t\t\ty: eve.clientY + (document.documentElement.scrollTop || this.body.scrollTop) - this.pdCoor['y']\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t获取节点的绝对坐标\n\t\t*/\n\t\tgetCoor: function(obj) {\n\t\t\tvar coor = this.getXY(obj);\n\t\t\treturn {\n\t\t\t\tx: coor['x'] - this.pdCoor['x'],\n\t\t\t\ty: coor['y'] - this.pdCoor['y']\n\t\t\t};\n\t\t},\n\t\tgetXY: function(obj) {\n\t\t\tvar parObj = obj;\n\t\t\tvar left = obj.offsetLeft;\n\t\t\tvar top = obj.offsetTop;\n\t\t\t\n\t\t\twhile (parObj = parObj.offsetParent) {\n\t\t\t\tleft += parObj.offsetLeft;\n\t\t\t\ttop += parObj.offsetTop;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: left,\n\t\t\t\ty: top\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t删除本对象的所有属性\n\t\t*/\n\t\tremoveChild: function() {\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\t//删除计时器\n\t\t\t\tvar i = 0;\n\t\t\t\tvar timerArr = [this.timerError, this.timerFull, this.timerTime, this.timerBuffer, this.timerClick, this.timerCBar, this.timerVCanvas];\n\t\t\t\tfor (i = 0; i < timerArr.length; i++) {\n\t\t\t\t\tif (timerArr[i] != null) {\n\t\t\t\t\t\tif (timerArr[i].runing) {\n\t\t\t\t\t\t\ttimerArr[i].stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttimerArr[i] = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//删除事件监听\n\t\t\t\tvar ltArr = this.listenerJsArr;\n\t\t\t\tfor (i = 0; i < ltArr.length; i++) {\n\t\t\t\t\tthis.removeListener(ltArr[i][0], ltArr[i][1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.playerType == '';\n\t\t\tthis.V = null;\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.deleteChild(this.CB['menu']);\n\t\t\t}\n\t\t\tthis.deleteChild(this.PD);\n\t\t\tthis.CD.innerHTML = '';\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t画封闭的图形\n\t\t*/\n\t\tcanvasFill: function(name, path) {\n\t\t\tname.beginPath();\n\t\t\tfor (var i = 0; i < path.length; i++) {\n\t\t\t\tvar d = path[i];\n\t\t\t\tif (i > 0) {\n\t\t\t\t\tname.lineTo(d[0], d[1]);\n\t\t\t\t} else {\n\t\t\t\t\tname.moveTo(d[0], d[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tname.closePath();\n\t\t\tname.fill();\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t画矩形\n\t\t*/\n\t\tcanvasFillRect: function(name, path) {\n\t\t\tfor (var i = 0; i < path.length; i++) {\n\t\t\t\tvar d = path[i];\n\t\t\t\tname.fillRect(d[0], d[1], d[2], d[3]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t删除容器节点\n\t\t*/\n\t\tdeleteChild: function(f) {\n\t\t\tvar def = this.arrIndexOf(this.elementArr, f.className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\tvar childs = f.childNodes;\n\t\t\tfor (var i = childs.length - 1; i >= 0; i--) {\n\t\t\t\tf.removeChild(childs[i]);\n\t\t\t}\n\n\t\t\tif (f && f != null && f.parentNode) {\n\t\t\t\ttry {\n\t\t\t\t\tif (f.parentNode) {\n\t\t\t\t\t\tf.parentNode.removeChild(f);\n\n\t\t\t\t\t}\n\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t \t根据容器的宽高,内部节点的宽高计算出内部节点的宽高及坐标\n\t\t*/\n\t\tgetProportionCoor: function(stageW, stageH, vw, vh) {\n\t\t\tvar w = 0,\n\t\t\th = 0,\n\t\t\tx = 0,\n\t\t\ty = 0;\n\t\t\tif (stageW / stageH < vw / vh) {\n\t\t\t\tw = stageW;\n\t\t\t\th = w * vh / vw;\n\t\t\t} else {\n\t\t\t\th = stageH;\n\t\t\t\tw = h * vw / vh;\n\t\t\t}\n\t\t\tx = (stageW - w) * 0.5;\n\t\t\ty = (stageH - h) * 0.5;\n\t\t\treturn {\n\t\t\t\twidth: parseInt(w),\n\t\t\t\theight: parseInt(h),\n\t\t\t\tx: parseInt(x),\n\t\t\t\ty: parseInt(y)\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将字幕文件内容转换成数组\n\t\t*/\n\t\tparseSrtSubtitles: function(srt) {\n\t\t\tvar subtitlesArr = [];\n\t\t\tvar textSubtitles = [];\n\t\t\tvar i = 0;\n\t\t\tvar arrs = srt.split('\\n');\n\t\t\tvar arr = [];\n\t\t\tvar delHtmlTag = function(str) {\n\t\t\t\treturn str.replace(/<[^>]+>/g, ''); //去掉所有的html标记\n\t\t\t};\n\t\t\tfor (i = 0; i < arrs.length; i++) {\n\t\t\t\tif (arrs[i].replace(/\\s/g, '').length > 0) {\n\t\t\t\t\tarr.push(arrs[i]);\n\t\t\t\t} else {\n\t\t\t\t\tif (arr.length > 0) {\n\t\t\t\t\t\ttextSubtitles.push(arr);\n\t\t\t\t\t}\n\t\t\t\t\tarr = [];\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (i = 0; i < textSubtitles.length; ++i) {\n\t\t\t\tvar textSubtitle = textSubtitles[i];\n\t\t\t\tif (textSubtitle.length >= 2) {\n\t\t\t\t\tvar sn = textSubtitle[0]; // 字幕的序号\n\t\t\t\t\tvar startTime = this.toSeconds(this.trim(textSubtitle[1].split(' --> ')[0])); // 字幕的开始时间\n\t\t\t\t\tvar endTime = this.toSeconds(this.trim(textSubtitle[1].split(' --> ')[1])); // 字幕的结束时间\n\t\t\t\t\tvar content = [delHtmlTag(textSubtitle[2])]; // 字幕的内容\n\t\t\t\t\tvar cktrackdelay=this.vars['cktrackdelay'];\n\t\t\t\t\tif(cktrackdelay!=0){\n\t\t\t\t\t\tstartTime+=cktrackdelay;\n\t\t\t\t\t\tendTime+=cktrackdelay;\n\t\t\t\t\t}\n\t\t\t\t\t// 字幕可能有多行\n\t\t\t\t\tif (textSubtitle.length > 2) {\n\t\t\t\t\t\tfor (var j = 3; j < textSubtitle.length; j++) {\n\t\t\t\t\t\t\tcontent.push(delHtmlTag(textSubtitle[j]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// 字幕对象\n\t\t\t\t\tvar subtitle = {\n\t\t\t\t\t\tsn: sn,\n\t\t\t\t\t\tstartTime: startTime,\n\t\t\t\t\t\tendTime: endTime,\n\t\t\t\t\t\tcontent: content\n\t\t\t\t\t};\n\t\t\t\t\tsubtitlesArr.push(subtitle);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn subtitlesArr;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t计时器,该函数模拟as3中的timer原理\n\t\t\ttime:计时时间,单位:毫秒\n\t\t\tfun:接受函数\n\t\t\tnumber:运行次数,不设置则无限运行\n\t\t*/\n\t\ttimer: function(time, fun, number) {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.time = 10; //运行间隔\n\t\t\tthis.fun = null; //监听函数\n\t\t\tthis.timeObj = null; //setInterval对象\n\t\t\tthis.number = 0; //已运行次数\n\t\t\tthis.numberTotal = null; //总至需要次数\n\t\t\tthis.runing = false; //当前状态\n\t\t\tthis.startFun = function() {\n\t\t\t\tthisTemp.number++;\n\t\t\t\tthisTemp.fun();\n\t\t\t\tif (thisTemp.numberTotal != null && thisTemp.number >= thisTemp.numberTotal) {\n\t\t\t\t\tthisTemp.stop();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.start = function() {\n\t\t\t\tif (!thisTemp.runing) {\n\t\t\t\t\tthisTemp.runing = true;\n\t\t\t\t\tthisTemp.timeObj = window.setInterval(thisTemp.startFun, time);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.stop = function() {\n\t\t\t\tif (thisTemp.runing) {\n\t\t\t\t\tthisTemp.runing = false;\n\t\t\t\t\twindow.clearInterval(thisTemp.timeObj);\n\t\t\t\t\tthisTemp.timeObj = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (time) {\n\t\t\t\tthis.time = time;\n\t\t\t}\n\t\t\tif (fun) {\n\t\t\t\tthis.fun = fun;\n\t\t\t}\n\t\t\tif (number) {\n\t\t\t\tthis.numberTotal = number;\n\t\t\t}\n\t\t\tthis.start();\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将时分秒转换成秒\n\t\t*/\n\t\ttoSeconds: function(t) {\n\t\t\tvar s = 0.0;\n\t\t\tif (t) {\n\t\t\t\tvar p = t.split(':');\n\t\t\t\tfor (i = 0; i < p.length; i++) {\n\t\t\t\t\ts = s * 60 + parseFloat(p[i].replace(',', '.'));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn s;\n\t\t},\n\t\t/*将字符变成数字形式的数组*/\n\t\tarrayInt: function(str) {\n\t\t\tvar a = str.split(',');\n\t\t\tvar b = [];\n\t\t\tfor (var i = 0; i < a.length; i++) {\n\t\t\t\tif (this.isUndefined(a[i])) {\n\t\t\t\t\ta[i] = 0;\n\t\t\t\t}\n\t\t\t\tif (a[i].substr( - 1) != '%') {\n\t\t\t\t\ta[i] = parseInt(a[i]);\n\t\t\t\t}\n\t\t\t\tb.push(a[i]);\n\t\t\t}\n\t\t\treturn b;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将对象Object标准化\n\t\t*/\n\t\tstandardization: function(o, n) { //n替换进o\n\t\t\tvar h = {};\n\t\t\tvar k;\n\t\t\tfor (k in o) {\n\t\t\t\th[k] = o[k];\n\t\t\t}\n\t\t\tfor (k in n) {\n\t\t\t\tvar type ='';\n\t\t\t\tif(h[k]){\n\t\t\t\t\ttype = this.varType(h[k]);\n\t\t\t\t}\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'number':\n\t\t\t\t\t\th[k] = parseFloat(n[k]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\th[k] = n[k];\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn h;\n\t\t},\n\t\tobjectAssign:function(o,n) {\n\t\t\tif(this.varType(o)!='object' || this.varType(n)!='object'){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar obj1=this.newObj(o),obj2=this.newObj(n);\n\t\t\tfor(var k in obj2){\n\t\t\t\tif(this.varType(obj2[k])=='object'){\n\t\t\t\t\tif(this.varType(obj1[k])!='object'){\n\t\t\t\t\t\tobj1[k]={};\n\t\t\t\t\t}\n\t\t\t\t\tobj1[k]=this.objectAssign(obj1[k],obj2[k]);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tobj1[k]=obj2[k];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn obj1;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t搜索数组\n\t\t */\n\t\tarrIndexOf: function(arr, key) {\n\t\t\tif(this.isUndefined(arr) || this.isUndefined(key)){\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tvar re = new RegExp(key, ['']);\n\t\t\treturn (arr.toString().replace(re, '┢').replace(/[^,┢]/g, '')).indexOf('┢');\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t去掉空格\n\t\t */\n\t\ttrim: function(str) {\n\t\t\tif (str != '') {\n\t\t\t\treturn str.replace(/(^\\s*)|(\\s*$)/g, '');\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t输出内容到控制台\n\t\t*/\n\t\tlog: function(val) {\n\t\t\ttry {\n\t\t\t\tconsole.log(val);\n\t\t\t} catch(e) {}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t弹出提示\n\t\t*/\n\t\teject: function(er, val) {\n\t\t\tif (!this.vars['debug']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar errorVal = er[1];\n\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\terrorVal = errorVal.replace('[error]', val);\n\t\t\t}\n\t\t\tvar value = 'error ' + er[0] + ':' + errorVal;\n\t\t\ttry {\n\t\t\t\tthis.log(value);\n\t\t\t} catch(e) {}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t系统错误\n\t\t*/\n\t\tsysError: function(er, val) {\n\t\t\tvar ele= this.getByElement(this.vars['container']);\n\t\t\tvar errorVal = er[1];\n\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\terrorVal = errorVal.replace('[error]', val);\n\t\t\t}\n\t\t\tvar value = 'error ' + er[0] + ':' + errorVal;\n\t\t\tele.innerHTML=value;\n\t\t\tthis.css(ele,{\n\t\t\t\tbackgroundColor: '#000',\n\t\t\t\tcolor:'#FFF',\n\t\t\t\ttextAlign:'center',\n\t\t\t\tlineHeight:ele.offsetHeight+'px'\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断变量类型\n\t\t*/\n\t\tvarType:function(val){\n\t\t\tif(val===null){\n\t\t\t\treturn 'string';\n\t\t\t}\n\t\t\tvar type = typeof(val);\n\t\t\tswitch(type) {\n\t\t\t\tcase 'string':\n\t\t\t\t\treturn 'string';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'number':\n\t\t\t\t\treturn 'number';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'boolean':\n\t\t\t\t\treturn 'boolean';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'function':\n\t\t\t\t\treturn 'function';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'symbol':\n\t\t\t\t\treturn 'symbol';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'object':\n\t\t\t\t\tif(!this.isUndefined(typeof(val.length))) {\n\t\t\t\t\t\treturn 'array';\n\t\t\t\t\t}\n\t\t\t\t\treturn 'object';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'undefined':\n\t\t\t\t\treturn 'undefined';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn typeof(val);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t获取此js文件所在路径\n\t\t*/\n\t\tgetPath:function(){\n\t\t\tvar scriptList = document.scripts,\n\t\t\tthisPath = scriptList[scriptList.length - 1].src;\n\t\t\tfor(var i=0;i<scriptList.length;i++){\n\t\t\t\tvar scriptName=scriptList[i].getAttribute('name') || scriptList[i].getAttribute('data-name');\n\t\t\t\tvar src=scriptList[i].src.slice(scriptList[i].src.lastIndexOf('/') + 1,scriptList[i].src.lastIndexOf('.'));\n\t\t\t\tif((scriptName && (scriptName=='ckplayer' || scriptName=='ckplayer.min')) || (scriptList[i].src && (src=='ckplayer' || src=='ckplayer.min'))){\n\t\t\t\t\tthisPath = scriptList[i].src;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn thisPath.substring(0, thisPath.lastIndexOf('/') + 1);\n\t\t},\n\t\tgetConfigObject:function(){\n\t\t\treturn this.jsonConfig;\n\t\t},\n\t\tgetStyleObject:function(){\n\t\t\treturn this.jsonStyle;\n\t\t},\n\t\tgetLanguageObject:function(){\n\t\t\treturn this.jsongLanguage;\n\t\t}\n\t};\n\twindow.ckplayer = ckplayer;\n})();","date":"2022-12-11T10:09:15.717Z","updated":"2022-12-11T10:08:59.259Z","path":"js/ckplayer1.js","layout":"false","title":"","comments":1,"_id":"clbj7iclr0002m0lm9ac7305o","content":"/*\n\t软件名称：ckplayer\n\t软件版本：X2\n\t软件作者：niandeng\n\t软件网站：http://www.ckplayer.com\n\t--------------------------------------------------------------------------------------------------------------------\n\t开发说明：\n\t使用的主要程序语言：javascript(js)及actionscript3.0(as3.0)(as3.0主要用于flashplayer部分的开发，不在该页面呈现)\n\t功能：播放视频\n\t特点：兼容HTML5-VIDEO(优先)以及FlashPlayer\n\t--------------------------------------------------------------------------------------------------------------------\n\t使用开源代码部分：\n\t1：flashls-http://flashls.org/\n\t=====================================================================================================================\n*/\n\n!(function() {\n\tvar ckplayer = function(obj) {\n\t\t/*\n\t\t\tjavascript部分开发所用的注释说明：\n\t\t\t1：初始化-程序调用时即运行的代码部分\n\t\t\t2：定义样式-定义容器（div,p,canvas等）的样式表，即css\n\t\t\t3：监听动作-监听元素节点（单击-click，鼠标进入-mouseover，鼠标离开-mouseout，鼠标移动-mousemove等）事件\n\t\t\t4：监听事件-监听视频的状态（播放，暂停，全屏，音量调节等）事件\n\t\t\t5：共用函数-这类函数在外部也可以使用\n\t\t\t6：全局变量-定义成全局使用的变量\n\t\t\t7：其它相关注释\n\t\t\t全局变量说明：\n\t\t\t在本软件中所使用到的全局变量（变量（类型）包括Boolean，String，Int，Object（包含元素对象和变量对象），Array，Function等）\n\t\t\t下面列出重要的全局变量：\n\t\t\t\tV:Object：视频对象\n\t\t\t\tVA:Array：视频列表（包括视频地址，类型，清晰度说明）\n\t\t\t\tID:String：视频ID\n\t\t\t\tCB:Object：控制栏各元素的集合对象\n\t\t\t\tPD:Object：内部视频容器对象\n\t\t\t---------------------------------------------------------------------------------------------\n\t\t\t程序开始\n\t\t\t下面为需要初始化配置的全局变量\n\t\t*/\n\t\t//全局变量：播放器默认配置，在外部传递过来相应配置后，则进行相关替换\n\t\tthis.varsDefault = {\n\t\t\tplayerID: '',//播放器ID\n\t\t\tcontainer: '',//视频容器的ID\n\t\t\tvariable: 'ckplayer',//播放函数(变量)名称\n\t\t\tvolume: 0.8,//默认音量，范围0-1\n\t\t\tposter: '',//封面图片地址\n\t\t\tautoplay: false,//是否自动播放\n\t\t\tloop: false,//是否需要循环播放\n\t\t\tlive: false,//是否是直播\n\t\t\tduration: 0,//指定总时间\n\t\t\tforceduration:0,//强制使用该时间为总时间\n\t\t\tseek: 0,//默认需要跳转的秒数\n\t\t\tdrag: '',//拖动时支持的前置参数\n\t\t\tfront: '',//前一集按钮动作\n\t\t\tnext: '',//下一集按钮动作\n\t\t\tloaded: '',//加载播放器后调用的函数\n\t\t\tflashplayer: false,//设置成true则强制使用flashplayer\n\t\t\thtml5m3u8: false,//PC平台上是否使用h5播放器播放m3u8\n\t\t\ttrack: null,//字幕轨道\n\t\t\tcktrack: null,//ck字幕\n\t\t\tcktrackdelay:0,//字幕显示延迟时间\n\t\t\tpreview: null,//预览图片对象\n\t\t\tprompt: null,//提示点功能\n\t\t\tvideo: null,//视频地址\n\t\t\tconfig: '',//调用配置函数名称\n\t\t\ttype: '',//视频格式\n\t\t\tcrossorigin: '',//设置html5视频的crossOrigin属性\n\t\t\tcrossdomain: '',//安全策略文件地址\n\t\t\tunescape: false,//默认flashplayer里需要解码\n\t\t\tmobileCkControls: false,//移动端h5显示控制栏\n\t\t\tmobileAutoFull: true,//移动端是否默认全屏播放\n\t\t\tplaybackrate: 1,//默认倍速\n\t\t\th5container: '',//h5环境中使用自定义容器\n\t\t\tdebug: false,//是否开启调试模式\n\t\t\toverspread:true,//是否让视频铺满播放器\n\t\t\tlanguage:'',//语言文件路径\n\t\t\tstyle:'',//风格文件路径\n\t\t\t//以下为广告相关配置\n\t\t\tadfront: '',\n\t\t\tadfronttime: '',\n\t\t\tadfrontlink: '',\n\t\t\tadpause: '',\n\t\t\tadpausetime: '',\n\t\t\tadpauselink: '',\n\t\t\tadinsert: '',\n\t\t\tadinserttime: '',\n\t\t\tadinsertlink: '',\n\t\t\tinserttime: '',\n\t\t\tadend: '',\n\t\t\tadendtime: '',\n\t\t\tadendlink: '',\n\t\t\tadvertisements: ''\n\t\t};\n\t\t//全局变量:vars\n\t\tthis.vars = {};\n\t\t//全局变量：配置文件函数\n\t\tthis.ckConfig = {};\n\t\tthis.jsonConfig = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：语言配置\n\t\tthis.ckLanguage = {};\n\t\tthis.jsonLanguage = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：语言配置\n\t\tthis.ckStyle = {};\n\t\tthis.jsonStyle = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：右键菜单：[菜单标题,类型(link:链接，default:灰色，function：调用函数，javascript:调用js函数),执行内容(包含链接地址，函数名称),[line(间隔线)]]\n\t\tthis.contextMenu = [['ckplayer', 'link', 'http://www.ckplayer.com', '_blank'], ['version:X2', 'default', 'line']];\n\t\t//全局变量：错误提示列表\n\t\tthis.errorList = [\n\t\t\t['000', 'Object does not exist'], \n\t\t\t['001', 'Variables type is not a object'], \n\t\t\t['002', 'Video object does not exist'],\n\t\t\t['003', 'Video object format error'], \n\t\t\t['004', 'Video object format error'], \n\t\t\t['005', 'Video object format error'], \n\t\t\t['006', '[error] does not exist'], \n\t\t\t['007', 'Ajax error'],\n\t\t\t['008', 'Ajax error'],\n\t\t\t['009', 'Ajax object format error'],\n\t\t\t['010', 'Ajax.status:[error]'],\n\t\t\t['011', '[error] File loading failed or error'],\n\t\t\t['012', '[error]']\n\t\t];\n\t\t//全局变量：HTML5变速播放的值数组/如果不需要可以设置成null\n\t\tthis.playbackRateArr = [[0.5, '0.5X'], [1, '1X'], [1.25, '1.25X'], [1.5, '1.5X'], [2, '2X'], [4, '4X']];\n\t\t//全局变量：保存倍速\n\t\tthis.playbackRateTemp=1;\n\t\t//全局变量：HTML5默认变速播放的值\n\t\tthis.playbackRateDefault = 1;\n\t\t//全局变量：HTML5当前显示的字幕编号\n\t\tthis.subtitlesTemp=-1;\n\t\t//全局变量：定义logo\n\t\tthis.logo = '';\n\t\t//全局变量：是否加载了播放器\n\t\tthis.loaded = false;\n\t\t//全局变量：计时器，监听视频加载出错的状态\n\t\tthis.timerError = null;\n\t\t//全局变量：是否出错\n\t\tthis.error = false;\n\t\t//全局变量：出错地址的数组\n\t\tthis.errorUrl = [];\n\t\t//全局变量：计时器，监听全屏与非全屏状态\n\t\tthis.timerFull = null;\n\t\t//全局变量：是否全屏状态\n\t\tthis.full = false;\n\t\t//全局变量：计时器，监听当前的月/日 时=分=秒\n\t\tthis.timerTime = null;\n\t\t//全局变量：计时器，监听视频加载\n\t\tthis.timerBuffer = null;\n\t\t//全局变量：设置进度按钮及进度条是否跟着时间变化，该属性主要用来在按下进度按钮时暂停进度按钮移动和进度条的长度变化\n\t\tthis.isTimeButtonMove = true;\n\t\t//全局变量：进度栏是否有效，如果是直播，则不需要监听时间让进度按钮和进度条变化\n\t\tthis.isTimeButtonDown = false;\n\t\t//全局变量：计时，用来计算鼠标离开清晰度或字幕或倍速按钮后的计算时间标准\n\t\tthis.timeButtonOver=null;\n\t\t//全局变量：鼠标离开清晰度或字幕或倍速是否需要隐藏\n\t\tthis.buttonHide=false;\n\t\t//全局变量：用来模拟双击功能的判断\n\t\tthis.isClick = false;\n\t\t//全局变量：计时器，用来模拟双击功能的计时器\n\t\tthis.timerClick = null;\n\t\t//全局变量：计时器，监听鼠标在视频上移动显示控制栏\n\t\tthis.timerCBar = null;\n\t\t//全局变量：播放视频时如果该变量的值大于0，则进行跳转后设置该值为0\n\t\tthis.needSeek = 0;\n\t\t//全局变量：当前音量\n\t\tthis.volume = 0;\n\t\t//全局变量：静音时保存临时音量\n\t\tthis.volumeTemp = 0;\n\t\t//全局变量/变量类型：Number/功能：当前播放时间\n\t\tthis.time = 0;\n\t\t//全局变量：定义首次调用\n\t\tthis.isFirst = true;\n\t\t//全局变量：是否使用HTML5-VIDEO播放\n\t\tthis.html5Video = true;\n\t\t//全局变量记录视频容器节点的x;y\n\t\tthis.pdCoor = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\t//全局变量：判断当前使用的播放器类型，html5video或flashplayer\n\t\tthis.playerType = '';\n\t\t//全局变量：加载进度条的长度\n\t\tthis.loadTime = 0;\n\t\t//全局变量：body对象\n\t\tthis.body = document.body || document.documentElement;\n\t\t//全局变量：播放器\n\t\tthis.V = null;\n\t\t//全局变量：保存外部js监听事件数组\n\t\tthis.listenerJsArr = [];\n\t\t//全局变量：保存控制栏显示元素的总宽度\n\t\tthis.buttonLen = 0;\n\t\t//全局变量：保存控制栏显示元素的数组\n\t\tthis.buttonArr = [];\n\t\t//全局变量：保存播放器上新增元件的数组\n\t\tthis.elementArr = [];\n\t\t//全局变量：保存播放器上弹幕的临时数组\n\t\tthis.elementTempArr = [];\n\t\t//全局变量：字幕内容\n\t\tthis.track = [];\n\t\t//全局变量：字幕索引\n\t\tthis.trackIndex = 0;\n\t\t//全局变量：当前显示的字幕内容\n\t\tthis.nowTrackShow = {\n\t\t\tsn: ''\n\t\t};\n\t\t//全局变量：保存字幕元件数组\n\t\tthis.trackElement = [];\n\t\t//全局变量：将视频转换为图片\n\t\tthis.timerVCanvas = null;\n\t\t//全局变量：animate，缓动对象数组\n\t\tthis.animateArray = [];\n\t\t//全局变量：保存animate的元件\n\t\tthis.animateElementArray = [];\n\t\t//全局变量：保存需要在暂停时停止缓动的数组\n\t\tthis.animatePauseArray = [];\n\t\t//全局变量：预览图片加载状态/0=没有加载，1=正在加载，2=加载完成\n\t\tthis.previewStart = 0;\n\t\t//全局变量：预览图片容器\n\t\tthis.previewDiv = null;\n\t\t//全局变量：预览框\n\t\tthis.previewTop = null;\n\t\t//全局变量：预览框的宽\n\t\tthis.previewWidth = 120;\n\t\t//全局变量：预览图片容器缓动函数\n\t\tthis.previewTween = null;\n\t\t//全局变量：是否是m3u8格式，是的话则可以加载hls.js\n\t\tthis.isM3u8 = false;\n\t\t//全局变量：保存提示点数组\n\t\tthis.promptArr = [];\n\t\t//全局变量：显示提示点文件的容器\n\t\tthis.promptElement = null;\n\t\t//全局变量：控制栏是否显示\n\t\tthis.conBarShow = true;\n\t\t//全局变量：是否监听过h5的错误\n\t\tthis.errorAdd = false;\n\t\t//全局变量：是否发送了错误\n\t\tthis.errorSend = false;\n\t\t//全局变量：控制栏是否隐藏\n\t\tthis.controlBarIsShow = true;\n\t\t//全局变量，保存当前缩放比例\n\t\tthis.videoScale = 1;\n\t\t//全局变量：设置字体\n\t\tthis.fontFamily = '\"Microsoft YaHei\"; YaHei; \"\\5FAE\\8F6F\\96C5\\9ED1\"; SimHei; \"\\9ED1\\4F53\";Arial';\n\t\t//全局变量：记录第一次拖动进度按钮时的位置\n\t\tthis.timeSliderLeftTemp = 0;\n\t\t//全局变量：判断是否记录了总时间\n\t\tthis.durationSendJS = false;\n\t\t//全局变量：初始化广告分析是否结束设置\n\t\tthis.adAnalysisEnd = false;\n\t\t//全局变量：广告变量\n\t\tthis.advertisements = {};\n\t\t//全局变量：是否是第一次播放视频\n\t\tthis.isFirstTimePlay = true;\n\t\t//全局变量：当前需要播放的广告类型\n\t\tthis.adType = '';\n\t\t//全局变量：播放广告计数\n\t\tthis.adI = 0;\n\t\t//全局变量：要播放的临时地址\n\t\tthis.videoTemp = {\n\t\t\tsrc: '',\n\t\t\tsource: '',\n\t\t\tcurrentSrc: '',\n\t\t\tloop: false\n\t\t};\n\t\t//全局变量：当前要播放的广告组总时间\n\t\tthis.adTimeAllTotal = 0;\n\t\t//全局变量：肖前要播放的广告时间\n\t\tthis.adTimeTotal = 0;\n\t\t//全局变量：用来做倒计时\n\t\tthis.adCountDownObj = null;\n\t\t//全局变量：前置，中插，结尾广告是否已开始运行\n\t\tthis.adPlayStart = false;\n\t\t//全局变量：目前是否在播放广告\n\t\tthis.adPlayerPlay = false;\n\t\t//全局变量：当前广告是否暂停\n\t\tthis.adIsPause = false;\n\t\t//全局变量：视频广告是否静音\n\t\tthis.adVideoMute = false;\n\t\t//全局变量：是否需要记录当前播放的时间供广告播放结束后进行跳转\n\t\tthis.adIsVideoTime = false;\n\t\t//全局变量：后置广告是否播放\n\t\tthis.endAdPlay = false;\n\t\t//全局变量：暂停广告是否在显示\n\t\tthis.adPauseShow = false;\n\t\t//全局变量：是否需要重置广告以实现重新播放时再播放一次\n\t\tthis.adReset = false;\n\t\t//全局变量：记录鼠标在视频上点击时的坐标\n\t\tthis.videoClickXy={x:0,y:0};\n\t\t//全局变量：是否在播放广告时播放过视频广告\n\t\tthis.adVideoPlay = false;\n\t\t\n\t\t//全局变量：临时存储已加载时间的变量\n\t\tthis.loadTimeTemp=0;\n\t\t//全局变量，临时存储hls形式下首次加载时是否需要暂停或播放的判断\n\t\tthis.hlsAutoPlay=true;\n\t\t//全局变量，loading是否显示\n\t\tthis.loadingShow=false;\n\t\t//全局变量，保存视频地址字符串的\n\t\tthis.videoString='';\n\t\t//全局变量，保存所有自定义元件的数组\n\t\tthis.customeElement=[];\n\t\t//全局变量，保存PD的宽高\n\t\tthis.cdWH={w:0,h:0};\n\t\t//全局变量，保存所有的元素变量\n\t\tthis.CB={};\n\t\t//全局变量，调用当前路径\n\t\tthis.ckplayerPath=this.getPath();\n\t\tif (obj) {\n\t\t\tthis.embed(obj);\n\t\t}\n\t};\n\tckplayer.prototype = {\n\t\t/*\n\t\t\t主要函数部分开始\n\t\t\t主接口函数：\n\t\t\t调用播放器需初始化该函数\n\t\t*/\n\t\tembed: function(c) {\n\t\t\t//c:Object：是调用接口传递的属性对象\n\t\t\tif (window.location.href.substr(0, 7) == 'file://') {//如果是使用的file协议打网页则弹出提示\n\t\t\t\talert('Please use the HTTP protocol to open the page');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(c)) {\n\t\t\t\tthis.eject(this.errorList[0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(c) != 'object') {\n\t\t\t\tthis.eject(this.errorList[1]);\n\t\t\t}\n\t\t\tthis.vars = this.standardization(this.varsDefault, c);\n\t\t\tif (!this.vars['mobileCkControls'] && this.isMobile()) {\n\t\t\t\tthis.vars['flashplayer'] = false;\n\t\t\t\tthis.conBarShow = false;\n\t\t\t}\n\t\t\tvar videoStringTemp = this.vars['video'];\n\t\t\tif (!videoStringTemp) {\n\t\t\t\tthis.eject(this.errorList[2]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(videoStringTemp) == 'string') {\n\t\t\t\tif (videoStringTemp.substr(0, 3) == 'CK:' || videoStringTemp.substr(0, 3) == 'CE:' || videoStringTemp.substr(8, 3) == 'CK:' || videoStringTemp.substr(8, 3) == 'CE:') {\n\t\t\t\t\tthis.vars['flashplayer'] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.varType(videoStringTemp) == 'object') {\n\t\t\t\tif (videoStringTemp.length > 1) {\n\t\t\t\t\tif (videoStringTemp[0][0].substr(0, 3) == 'CK:' || videoStringTemp[0][0].substr(0, 3) == 'CE:' || videoStringTemp[0][0].substr(8, 3) == 'CK:' || videoStringTemp[0][0].substr(8, 3) == 'CE:') {\n\t\t\t\t\t\tthis.vars['flashplayer'] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.videoString=videoStringTemp;\n\t\t\tthis.checkUpConfig();\t\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载config文件\n\t\t*/\n\t\tcheckUpConfig:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar configPath='';\n\t\t\tvar jsTemp=null;\n\t\t\tif (this.vars['config']) {\n\t\t\t\tif (this.vars['config'].substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp= eval(this.vars['config'] + '()');\n\t\t\t\t\tif(!this.isUndefined(jsTemp)){\n\t\t\t\t\t\tthis.ckConfig=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.jsonConfig=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.loadConfig(null);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadConfig(this.ckplayerPath+this.vars['config']);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadConfig(this.ckplayerPath+this.vars['config'].substr(8));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t\t\tvar isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerConfig)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp= ckplayerConfig();\n\t\t\t          \tif(jsTemp){\n\t\t\t          \t\tthis.ckConfig=this.newObj(jsTemp);\n\t\t\t          \t\tthis.jsonConfig=this.newObj(jsTemp);\n\t\t\t          \t\tthis.loadConfig(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthis.loadConfig(this.ckplayerPath+'ckplayer.json');\n\t\t\t\t\t\t}\n\t\t\t        }\n\t\t\t        else {\n\t\t\t           this.loadConfig(this.ckplayerPath+'ckplayer.json');\n\t\t\t        }\n\t\t\t    } catch(e) {\n\t\t\t    \tthisTemp.sysError(thisTemp.errorList[12],e);//系统错误\n\t\t\t    }\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadConfig:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.ckConfig=data;\n\t\t\t\t\t\t\tthisTemp.jsonConfig=thisTemp.newObj(data);\n\t\t\t\t\t\t\tif(!thisTemp.isUndefined(data['flashvars'])){\n\t\t\t\t\t\t\t\tthisTemp.vars=thisTemp.objectAssign(data['flashvars'],thisTemp.vars);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.checkUpLanguage();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'Config');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.checkUpLanguage();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载语言文件\n\t\t*/\n\t\tcheckUpLanguage:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar languagePath='';\n\t\t\tvar jsTemp=null;\n\t\t\tif (this.vars['language']) {\n\t\t\t\tlanguagePath=this.vars['language'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif (this.ckConfig['languagePath']) {\n\t\t\t\t\tlanguagePath=this.ckConfig['languagePath'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (languagePath) {\n\t\t\t\tif (languagePath.substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp = eval(languagePath + '()');\n\t\t\t\t\tif(jsTemp){\n\t\t\t\t\t\tthis.ckLanguage=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.jsonLanguage=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.loadLanguage(null);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadLanguage(this.ckplayerPath+languagePath);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadLanguage(this.ckplayerPath+languagePath.substr(8));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t\t\tvar isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerLanguage)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp = ckplayerLanguage();\n\t\t\t          \tif(jsTemp){\n\t\t\t          \t\tthis.ckLanguage=this.newObj(jsTemp);\n\t\t\t          \t\tthis.jsonLanguage=this.newObj(jsTemp);\n\t\t\t          \t\tthis.loadLanguage(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t this.loadLanguage(this.ckplayerPath+'language.json');\n\t\t\t\t\t\t}\n\t\t\t        }\n\t\t\t        else {\n\t\t\t           this.loadLanguage(this.ckplayerPath+'language.json');\n\t\t\t        }\n\t\t\t    } catch(e) {\n\t\t\t    \tthisTemp.sysError(thisTemp.errorList[12],e);//系统错误\n\t\t\t    }\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadLanguage:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.ckLanguage=data;\n\t\t\t\t\t\t\tthisTemp.jsonLanguage=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.checkUpStyle();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'language.json');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.checkUpStyle();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载皮肤文件\n\t\t*/\n\t\tcheckUpStyle:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar stylePath='';\n\t\t\tvar jsTemp=null;\n\t\t\tvar configJs=this.newObj(this.ckConfig);\n\t\t\tif (this.vars['style']) {\n\t\t\t\tstylePath=this.vars['style'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif (this.ckConfig['stylePath']) {\n\t\t\t\t\tstylePath=''+this.ckConfig['stylePath'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (stylePath) {\n\t\t\t\tif (stylePath.substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp = eval(stylePath + '()');\n\t\t\t\t\tif(!this.isUndefined(jsTemp)){\n\t\t\t          \tthis.jsonStyle=this.newObj(jsTemp);\n\t\t\t          \tthis.ckStyle=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.ckStyle['advertisement']=this.objectAssign(configJs['style']['advertisement'],this.ckStyle['advertisement']);\n\t\t\t\t\t\tthis.ckStyle=this.objectAssign(configJs['style'],this.ckStyle);\n\t\t\t\t\t\tthis.loadStyle(null);\n\t\t\t        }\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadStyle(this.ckplayerPath+stylePath);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadStyle(this.ckplayerPath+stylePath.substr(8));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t       var isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerStyle)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){isFun=false;}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp= ckplayerStyle();\n\t\t\t          \tif(!this.isUndefined(jsTemp)){\n\t\t\t          \t\tthis.jsonStyle=this.newObj(jsTemp);\n\t\t\t          \t\tthis.ckStyle=this.newObj(jsTemp);\n\t\t\t\t\t\t\tthis.ckStyle['advertisement']=this.objectAssign(configJs['style']['advertisement'],this.ckStyle['advertisement']);\n\t\t\t\t\t\t\tthis.ckStyle=this.objectAssign(configJs['style'],this.ckStyle);\n\t\t\t\t\t\t\tthis.loadStyle(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthis.loadStyle(this.ckplayerPath+'style.json');\n\t\t\t\t\t\t}\n\t\t\t\t    }\n\t\t\t        else {\n\t\t\t           this.loadStyle(this.ckplayerPath+'style.json');\n\t\t\t        }\n\t\t\t    } catch(e) {}\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadStyle:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tvar configJs=this.newObj(this.ckConfig);\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.jsonStyle=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.ckStyle=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.ckStyle['advertisement']=thisTemp.objectAssign(configJs['style']['advertisement'],thisTemp.ckStyle['advertisement']);\n\t\t\t\t\t\t\tthisTemp.ckStyle=thisTemp.objectAssign(configJs['style'],thisTemp.ckStyle);\n\t\t\t\t\t\t\tthisTemp.loadConfigHandler();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'Style');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.loadConfigHandler();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t当config,language,style三个文件或函数处理完成后执行的动作\n\t\t*/\n\t\tloadConfigHandler:function(){\n\t\t\tif ((!this.supportVideo() && this.vars['flashplayer'] != '') || (this.vars['flashplayer'] && this.uploadFlash()) || !this.isMsie()) {\n\t\t\t\tthis.html5Video = false;\n\t\t\t\tthis.getVideo();\n\t\t\t} \n\t\t\telse if (this.videoString) {\n\t\t\t\t//判断视频数据类型\n\t\t\t\tthis.analysedVideoUrl(this.videoString);\n\t\t\t} \n\t\t\telse {\n\t\t\t\tthis.eject(this.errorList[2]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据外部传递过来的video开始分析视频地址\n\t\t*/\n\t\tanalysedVideoUrl: function(video) {\n\t\t\tvar i = 0,\n\t\t\ty = 0;\n\t\t\tvar thisTemp = this;\n\t\t\tthis.VA = [];//定义全局变量VA：视频列表（包括视频地址，类型，清晰度说明）\n\t\t\tif (this.varType(video) == 'string') { //如果是字符形式的则判断后缀进行填充\n\t\t\t\tif (video.substr(0, 8) != 'website:') {\n\t\t\t\t\tthis.VA = [[video, '', '', 0]];\n\t\t\t\t\tvar fileExt = this.getFileExt(video);\n\t\t\t\t\tswitch (fileExt) {\n\t\t\t\t\tcase '.mp4':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/mp4';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '.ogg':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/ogg';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '.webm':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/webm';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tthis.getVideo();\n\t\t\t\t} else {\n\t\t\t\t\tif (this.html5Video) {\n\t\t\t\t\t\tvar ajaxObj = {\n\t\t\t\t\t\t\turl: video.substr(8),\n\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\t\t\tthisTemp.analysedUrl(data);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[5]);\n\t\t\t\t\t\t\t\t\tthis.VA = video;\n\t\t\t\t\t\t\t\t\tthisTemp.getVideo();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror:function(data){\n\t\t\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.VA = video;\n\t\t\t\t\t\tthis.getVideo();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t} \n\t\t\telse if(this.varType(video)=='array'){//如果视频地址是数组\n\t\t\t\tif (this.varType(video[0])=='array') { //如果视频地址是二维数组\n\t\t\t\t\tthis.VA = video;\n\t\t\t\t}\n\t\t\t\tthis.getVideo();\n\t\t\t}\n\t\t\telse if(this.varType(video)=='object'){\n\t\t\t\t/*\n\t\t\t\t\t如果video格式是对象形式，则分二种\n\t\t\t\t\t如果video对象里包含type，则直接播放\n\t\t\t\t*/\n\t\t\t\tif (!this.isUndefined(video['type'])) {\n\t\t\t\t\tthis.VA.push([video['file'], video['type'], '', 0]);\n\t\t\t\t\tthis.getVideo();\n\t\t\t\t} else {\n\t\t\t\t\tthis.eject(this.errorList[5]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.eject(this.errorList[4]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t对请求到的视频地址进行重新分析\n\t\t*/\n\t\tanalysedUrl: function(data) {\n\t\t\tthis.vars = this.standardization(this.vars, data);\n\t\t\tif (!this.isUndefined(data['video'])) {\n\t\t\t\tthis.vars['video'] = data['video'];\n\t\t\t}\n\t\t\tthis.analysedVideoUrl(this.vars['video']);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t检查浏览器支持的视频格式，如果是则将支持的视频格式重新分组给播放列表\n\t\t*/\n\t\tgetHtml5Video: function() {\n\t\t\tvar va = this.VA;\n\t\t\tvar nva = [];\n\t\t\tvar mobile = this.isMobile();\n\t\t\tvar video = document.createElement('video');\n\t\t\tvar codecs = function(type) {\n\t\t\t\tvar cod = '';\n\t\t\t\tswitch (type) {\n\t\t\t\tcase 'video/mp4':\n\t\t\t\t\tcod = 'avc1.4D401E, mp4a.40.2';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video/ogg':\n\t\t\t\t\tcod = 'theora, vorbis';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video/webm':\n\t\t\t\t\tcod = 'vp8.0, vorbis';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn cod;\n\t\t\t};\n\t\t\tvar supportType = function(vidType, codType) {\n\t\t\t\tif (!video.canPlayType) {\n\t\t\t\t\tthis.html5Video = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar isSupp = video.canPlayType(vidType + ';codecs=\"' + codType + '\"');\n\t\t\t\tif (isSupp == '') {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tif (this.vars['flashplayer'] || !this.isMsie()) {\n\t\t\t\tthis.html5Video = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (var i = 0; i < va.length; i++) {\n\t\t\t\tvar v = va[i];\n\t\t\t\tif (v) {\n\t\t\t\t\tif (v[1] != '' && !mobile && supportType(v[1], codecs(v[1])) && v[0].substr(0, 4) != 'rtmp') {\n\t\t\t\t\t\tnva.push(v);\n\t\t\t\t\t}\n\t\t\t\t\tif ((this.getFileExt(v[0]) == '.m3u8' || this.vars['type'] == 'video/m3u8' || this.vars['type'] == 'm3u8' || v[1] == 'video/m3u8' || v[1] == 'm3u8') && this.vars['html5m3u8'] && !mobile) {\n\t\t\t\t\t\tthis.isM3u8 = true;\n\t\t\t\t\t\tnva.push(v);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (nva.length > 0) {\n\t\t\t\tthis.VA = nva;\n\t\t\t} else {\n\t\t\t\tif (!mobile) {\n\t\t\t\t\tthis.html5Video = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据视频地址开始构建播放器\n\t\t*/\n\t\tgetVideo: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar v = this.vars;\n\t\t\t//如果存在广告字段则开始分析广告\n\t\t\tif (!this.adAnalysisEnd && (v['adfront'] != '' || v['adpause'] != '' || v['adinsert'] != '' || v['adend'] != '' || v['advertisements'] != '')) {\n\t\t\t\tthis.adAnalysisEnd = true;\n\t\t\t\tthis.adAnalysis();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//如果存在字幕则加载\n\t\t\tif (this.V) { //如果播放器已存在，则认为是从newVideo函数发送过来的请求\n\t\t\t\tthis.changeVideo();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.vars['cktrack']) {\n\t\t\t\tthis.loadTrack();\n\t\t\t}\n\t\t\tif (this.supportVideo() && !this.vars['flashplayer']) {\n\t\t\t\tthis.getHtml5Video(); //判断浏览器支持的视频格式\n\t\t\t}\n\t\t\tvar src = '',\n\t\t\tsource = '',\n\t\t\tposter = '',\n\t\t\tloop = '',\n\t\t\tautoplay = '',\n\t\t\ttrack = '',\n\t\t\tcrossorigin='';\n\t\t\tvar video = v['video'];\n\t\t\tvar i = 0;\n\t\t\tvar vBg=this.ckStyle['background']['backgroundColor'].replace('0x','#');\n\t\t\tthis.CD = this.getByElement(v['container']);\n\t\t\tvolume = v['volume'];\n\t\t\tif (this.isUndefined(this.CD)) {\n\t\t\t\tthis.eject(this.errorList[6], v['container']);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\t//开始构建播放器容器\n\t\t\tthis.V = undefined;\n\t\t\tvar thisPd = null;\n\t\t\tif (v['h5container'] != '') {\n\t\t\t\tthisPd = this.getByElement(v['h5container']);\n\t\t\t\tif (this.isUndefined(thisPd)) {\n\t\t\t\t\tthisPd = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar isVideoH5 = null; //isUndefined  thisPd\n\t\t\tif (v['playerID'] != '') {\n\t\t\t\tisVideoH5 = this.getByElement('#' + v['playerID']);\n\t\t\t\tif (this.isUndefined(isVideoH5)) {\n\t\t\t\t\tisVideoH5 = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (thisPd != null && isVideoH5 != null) {\n\t\t\t\tthis.PD = thisPd; //PD:定义播放器容器对象全局变量\n\t\t\t} else {\n\t\t\t\tvar playerID = 'ckplayer-' + this.randomString();\n\t\t\t\tvar playerDiv = document.createElement('div');\n\t\t\t\tplayerDiv.className = playerID;\n\t\t\t\tthis.CD.innerHTML = '';\n\t\t\t\tthis.CD.appendChild(playerDiv);\n\t\t\t\tthis.PD = playerDiv; //PD:定义播放器容器对象全局变量\n\t\t\t}\n\t\t\tthis.css(this.CD, {\n\t\t\t\tbackgroundColor: vBg,\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tposition: 'relative'\n\t\t\t});\n\t\t\tthis.css(this.PD, {\n\t\t\t\tbackgroundColor: vBg,\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '100%',\n\t\t\t\tfontFamily: this.fontFamily\n\t\t\t});\n\t\t\tif (this.html5Video) { //如果支持HTML5-VIDEO则默认使用HTML5-VIDEO播放器\n\t\t\t\t\n\t\t\t\t//禁止播放器容器上鼠标选择文本\n\t\t\t\tthis.PD.onselectstart = this.PD.ondrag = function() {\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t\t//播放器容器构建完成并且设置好样式\n\t\t\t\t//构建播放器\n\t\t\t\tif (this.VA.length == 1) {\n\t\t\t\t\tthis.videoTemp['src'] = decodeURIComponent(this.VA[0][0]);\n\t\t\t\t\tsrc = ' src=\"' + this.videoTemp['src'] + '\"';\n\n\t\t\t\t} else {\n\t\t\t\t\tvar videoArr = this.VA.slice(0);\n\t\t\t\t\tvideoArr = this.arrSort(videoArr);\n\t\t\t\t\tfor (i = 0; i < videoArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = videoArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t\tif (type == ' type=\"video/m3u8\"' || type == ' type=\"m3u8\"') {\n\t\t\t\t\t\t\t\ttype = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + decodeURIComponent(va[0]) + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.videoTemp['source'] = source;\n\t\t\t\t}\n\t\t\t\t//分析视频地址结束\n\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\tautoplay = ' autoplay=\"autoplay\"';\n\t\t\t\t}\n\t\t\t\tif (v['poster']) {\n\t\t\t\t\tposter = ' poster=\"' + v['poster'] + '\"';\n\t\t\t\t}\n\t\t\t\tif (v['loop']) {\n\t\t\t\t\tloop = ' loop=\"loop\"';\n\t\t\t\t}\n\t\t\t\tif (v['seek'] > 0) {\n\t\t\t\t\tthis.needSeek = v['seek'];\n\t\t\t\t}\n\t\t\t\tif (v['track'] != null && v['cktrack'] == null) {\n\t\t\t\t\tvar trackArr = v['track'];\n\t\t\t\t\tvar trackDefault = '';\n\t\t\t\t\tvar defaultHave = false;\n\t\t\t\t\tfor (i = 0; i < trackArr.length; i++) {\n\t\t\t\t\t\tvar trackObj = trackArr[i];\n\t\t\t\t\t\tif (trackObj['default'] && !defaultHave) {\n\t\t\t\t\t\t\ttrackDefault = ' default';\n\t\t\t\t\t\t\tdefaultHave = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttrackDefault = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttrack += '<track kind=\"' + trackObj['kind'] + '\" src=\"' + trackObj['src'] + '\" srclang=\"' + trackObj['srclang'] + '\" label=\"' + trackObj['label'] + '\"' + trackDefault + '>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(v['crossorigin']){\n\t\t\t\t\tcrossorigin=' crossorigin=\"'+v['crossorigin']+'\"';\n\t\t\t\t}\n\t\t\t\tvar autoLoad = this.ckConfig['config']['autoLoad'];\n\t\t\t\tvar preload = '';\n\t\t\t\tif (!autoLoad) {\n\t\t\t\t\tpreload = ' preload=\"meta\"';\n\t\t\t\t}\n\t\t\t\tvar vid = this.randomString();\n\t\t\t\tvar controls = '';\n\t\t\t\tvar mobileAutoFull = v['mobileAutoFull'];\n\t\t\t\tvar mobileautofull = '';\n\t\t\t\tif (!mobileAutoFull) {\n\t\t\t\t\tmobileautofull = ' x-webkit-airplay=\"true\" playsinline  webkit-playsinline=\"true\"  x5-video-player-type=\"h5\"';\n\t\t\t\t}\n\t\t\t\tif(this.isMobile()){\n\t\t\t\t\tcontrols = ' controls=\"controls\"';\n\t\t\t\t}\n\t\t\t\tif (isVideoH5 != null && thisPd != null) {\n\t\t\t\t\tthis.V = isVideoH5;\n\t\t\t\t\tif (v['poster']) {\n\t\t\t\t\t\tthis.V.poster = v['poster'];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar html = '';\n\t\t\t\t\tif (!this.isM3u8) {\n\t\t\t\t\t\thtml = '<video id=\"' + vid + '\"' + src + ' controlslist=\"nodownload\" width=\"100%\" height=\"100%\"' + autoplay + poster + loop + preload + controls + mobileautofull + track + crossorigin+'>' + source + '</video>';\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml = '<video id=\"' + vid + '\" controlslist=\"nodownload\" width=\"100%\" height=\"100%\"' + poster + loop + preload + controls + mobileautofull + track + crossorigin+'></video>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.PD.innerHTML = html;\n\t\t\t\t\tthis.V = this.getByElement('#' + vid); //V：定义播放器对象全局变量\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.volume = volume; //定义音量\n\t\t\t\t\tif (this.playbackRateArr && this.vars['playbackrate'] > -1) {\n\t\t\t\t\t\tif (this.vars['playbackrate'] < this.playbackRateArr.length) {\n\t\t\t\t\t\t\tthis.playbackRateDefault = this.vars['playbackrate'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.V.playbackRate = this.playbackRateArr[this.playbackRateDefault][0]; //定义倍速\n\t\t\t\t\t}\n\t\t\t\t} catch(error) {}\n\t\t\t\tthis.css(this.V, {\n\t\t\t\t\tbackgroundColor: vBg,\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100%'\n\t\t\t\t});\n\t\t\t\tif (this.isM3u8) {\n\t\t\t\t\tvar loadJsHandler = function() {\n\t\t\t\t\t\tthisTemp.embedHls(thisTemp.VA[0][0], v['autoplay']);\n\t\t\t\t\t};\n\t\t\t\t\tthis.loadJs(this.ckplayerPath + 'hls/hls.min.js', loadJsHandler);\n\t\t\t\t}\n\t\t\t\tthis.css(this.V, 'backgroundColor', vBg);\n\t\t\t\t//创建一个画布容器\n\t\t\t\tif (this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\t\tvar canvasDiv = document.createElement('div');\n\t\t\t\t\tthis.PD.appendChild(canvasDiv);\n\t\t\t\t\tthis.MD = canvasDiv; //定义画布存储容器\n\t\t\t\t\tthis.css(this.MD, {\n\t\t\t\t\t\tbackgroundColor: vBg,\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\ttop: '0px',\n\t\t\t\t\t\tzIndex: '10'\n\t\t\t\t\t});\n\t\t\t\t\tvar cvid = 'ccanvas' + this.randomString();\n\t\t\t\t\tthis.MD.innerHTML = this.newCanvas(cvid, this.MD.offsetWidth, this.MD.offsetHeight);\n\t\t\t\t\tthis.MDC = this.getByElement(cvid + '-canvas');\n\t\t\t\t\tthis.MDCX = this.MDC.getContext('2d');\n\t\t\t\t}\n\t\t\t\tthis.playerType = 'html5video';\n\t\t\t\t//播放器构建完成并且设置好样式\n\t\t\t\t//建立播放器的监听函数，包含操作监听及事件监听\n\t\t\t\tthis.addVEvent();\n\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t//根据清晰度的值构建清晰度切换按钮\n\t\t\t\t\tthis.definition();\n\t\t\t\t\tif (!this.vars['live'] && this.playbackRateArr && this.vars['playbackrate'] > -1) {\n\t\t\t\t\t\tthis.playbackRate();\n\t\t\t\t\t}\n\t\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\t\tthis.loadingStart(true);\n\t\t\t\t\t}\n\t\t\t\t\tthis.subtitleSwitch();\n\t\t\t\t}\n\t\t\t\tthis.playerLoad();\n\t\t\t} else { //如果不支持HTML5-VIDEO则调用flashplayer\n\t\t\t\tthis.embedSWF();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t分析广告数据\n\t\t*/\n\t\tadAnalysis: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar v = this.vars;\n\t\t\tvar isAdvShow = [];\n\t\t\tvar i = 0;\n\t\t\tif (v['advertisements'] != '' && v['advertisements'].substr(0, 8) == 'website:') {\n\t\t\t\tvar ajaxObj = {\n\t\t\t\t\turl: v['advertisements'].substr(8),\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\tvar newData = {};\n\t\t\t\t\t\t\tvar val = null;\n\t\t\t\t\t\t\t//对广告进行分析\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(data['front']) || !thisTemp.isUndefined(data['pause']) || !thisTemp.isUndefined(data['end']) || !thisTemp.isUndefined(data['insert']) || !thisTemp.isUndefined(data['other'])) {\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['front']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['front'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['pause']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['pause'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['insert']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['insert'] = val;\n\t\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(data['inserttime'])) {\n\t\t\t\t\t\t\t\t\t\t\tnewData['inserttime'] = thisTemp.arrayInt(data['inserttime']);\n\t\t\t\t\t\t\t\t\t\t\tisAdvShow = [];\n\t\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < newData['inserttime'].length; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\tisAdvShow.push(false);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tnewData['insertPlay'] = isAdvShow;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['end']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['end'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['other']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['other'] = val;\n\t\t\t\t\t\t\t\t\t\tisAdvShow = [];\n\t\t\t\t\t\t\t\t\t\tvar arrTemp = [];\n\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < val.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\tisAdvShow.push(false);\n\t\t\t\t\t\t\t\t\t\t\tarrTemp.push(parseInt('0' + val[i]['startTime']));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnewData['othertime'] = arrTemp;\n\t\t\t\t\t\t\t\t\t\tnewData['otherPlay'] = isAdvShow;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\tthisTemp.log(event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.advertisements = newData;\n\t\t\t\t\t\t\t//对广告进行分析结束\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisTemp.getVideo();\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){}\n\t\t\t\t};\n\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t} else {\n\t\t\t\t//根据广告分析\n\t\t\t\tthis.adAnalysisOne('front', 'adfront', 'adfronttime', 'adfrontlink', 'adfronttype');\n\t\t\t\tthis.adAnalysisOne('pause', 'adpause', 'adpausetime', 'adpauselink', 'adpausetype');\n\t\t\t\tthis.adAnalysisOne('insert', 'adinsert', 'adinserttime', 'adinsertlink', 'adinserttype');\n\t\t\t\tthis.adAnalysisOne('end', 'adend', 'adendtime', 'adendlink', 'adendtype');\n\t\t\t\tif (!this.isUndefined(this.advertisements['insert'])) {\n\t\t\t\t\tif (!this.isUndefined(v['inserttime'])) {\n\t\t\t\t\t\tthisTemp.advertisements['inserttime'] = v['inserttime'];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!this.isUndefined(thisTemp.advertisements['inserttime'])) {\n\t\t\t\t\tthisTemp.advertisements['inserttime'] = thisTemp.arrayInt(thisTemp.advertisements['inserttime']);\n\t\t\t\t\tisInsert = [];\n\t\t\t\t\tfor (i = 0; i < thisTemp.advertisements['inserttime'].length; i++) {\n\t\t\t\t\t\tisInsert.push(false);\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.advertisements['insertPlay'] = isInsert;\n\t\t\t\t}\n\t\t\t\tthisTemp.getVideo();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t将广告数组数据里不是视频和图片的去除\n\t\t*/\n\t\tarrayDel: function(arr) {\n\t\t\tif(this.isUndefined(arr)){\n\t\t\t\treturn arr;\n\t\t\t}\n\t\t\tif (arr.length == 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar newArr = [];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar type = arr[i]['type'];\n\t\t\t\tif (type == 'mp4' || type == 'mov' || this.isStrImage(type)) {\n\t\t\t\t\tnewArr.push(arr[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (newArr.length > 0) {\n\t\t\t\treturn newArr;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\t/*分析单个类型的广告*/\n\t\tadAnalysisOne: function(adType, adName, adTime, adLink, adStype) {\n\t\t\tvar v = this.vars;\n\t\t\tif (this.isUndefined(v[adName])) {\n\t\t\t\tv[adName] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adTime])) {\n\t\t\t\tv[adTime] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adLink])) {\n\t\t\t\tv[adLink] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adStype])) {\n\t\t\t\tv[adStype] = '';\n\t\t\t}\n\t\t\tif (v[adName] != '') {\n\t\t\t\tvar adList = [];\n\t\t\t\tvar ad = v[adName].split(',');\n\t\t\t\tvar adtime = v[adTime].split(',');\n\t\t\t\tvar adlink = v[adLink].split(',');\n\t\t\t\tvar adstype = v[adStype].split(',');\n\t\t\t\tvar i = 0;\n\t\t\t\tif (ad.length > 0) {\n\t\t\t\t\tvar adLinkLen = adlink.length,\n\t\t\t\t\tadTimeLen = adtime.length;\n\t\t\t\t\tif (v[adLink] == '') {\n\t\t\t\t\t\tadLinkLen = 0;\n\t\t\t\t\t\tadlink = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (v[adTime] == '') {\n\t\t\t\t\t\tadTimeLen = 0;\n\t\t\t\t\t\tadtime = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (adLinkLen < ad.length) {\n\t\t\t\t\t\tfor (i = adLinkLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadlink.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (adTimeLen < ad.length) {\n\t\t\t\t\t\tfor (i = adTimeLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadtime.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar adstypeLen = adstype.length;\n\t\t\t\t\tif (v[adStype] == '') {\n\t\t\t\t\t\tadstypeLen = 0;\n\t\t\t\t\t\tadstype = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (adstypeLen < ad.length) {\n\t\t\t\t\t\tfor (i = adstypeLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadstype.push(this.getFileExt(ad[i]).replace('.', ''));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (i = 0; i < ad.length; i++) {\n\t\t\t\t\t\tvar type = adstype[i];\n\t\t\t\t\t\tif (type == 'mp4' || type == 'mov' || this.isStrImage(type)) {\n\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\tfile: ad[i],\n\t\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t\t\ttime: parseInt(adtime[i]) > 0 ? parseInt(adtime[i]) : this.ckStyle['advertisement']['time'],\n\t\t\t\t\t\t\t\tlink: adlink[i]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tadList.push(obj);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (this.isUndefined(this.advertisements)) {\n\t\t\t\t\t\tthis.advertisements = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (adList.length > 0) {\n\t\t\t\t\t\tthis.advertisements[adType] = adList;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t发送播放器加载成功的消息\n\t\t*/\n\t\tplayerLoad: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.isFirst) {\n\t\t\t\tthis.isFirst = false;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthisTemp.loadedHandler();\n\t\t\t\t},1);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t建立播放器的监听函数，包含操作监听及事件监听\n\t\t*/\n\t\taddVEvent: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar duration=0;\n\t\t\t//监听视频单击事件\n\t\t\tvar eventVideoClick = function(event) {\n\t\t\t\tthisTemp.videoClickXy={x:event.clientX,y:event.clientY};\n\t\t\t\tthisTemp.videoClick();\n\t\t\t};\n\t\t\tthis.addListenerInside('click', eventVideoClick);\n\t\t\tthis.addListenerInside('click', eventVideoClick, this.MDC);\n\t\t\t//延迟计算加载失败事件\n\t\t\tthis.timerErrorFun();\n\t\t\t//监听视频加载到元数据事件\n\t\t\tvar eventJudgeIsLive = function(event) {\n\t\t\t\tthisTemp.sendJS('loadedmetadata');\n\t\t\t\tif (thisTemp.varType(thisTemp.V.duration) == 'number' && thisTemp.V.duration > 1) {\n\t\t\t\t\tduration = thisTemp.V.duration;\n\t\t\t\t\tif(!duration){\n\t\t\t\t\t\tif(thisTemp.vars['duration']>0){\n\t\t\t\t\t\t\tduration=thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.sendJS('duration', duration);\n\t\t\t\t\tthisTemp.formatInserttime(duration);\n\t\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\t\tthisTemp.advertisementsTime(duration + 1);\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.durationSendJS = true;\n\t\t\t\t}\n\t\t\t\tif (thisTemp.conBarShow) {\n\t\t\t\t\tthisTemp.V.controls=null;\n\t\t\t\t\tthisTemp.videoCss();\n\t\t\t\t}\n\t\t\t\tthisTemp.judgeIsLive();\n\t\t\t};\n\t\t\t//监听视频播放事件\n\t\t\tvar eventPlaying = function(event) {\n\t\t\t\tthisTemp.playingHandler();\n\t\t\t\tthisTemp.sendJS('play');\n\t\t\t\tthisTemp.sendJS('paused', false);\n\t\t\t\tif (!thisTemp.durationSendJS && thisTemp.varType(thisTemp.V.duration) == 'number' && thisTemp.V.duration > 0) {\n\t\t\t\t\tduration = thisTemp.V.duration;\n\t\t\t\t\tif(!duration){\n\t\t\t\t\t\tif(thisTemp.vars['duration']>0){\n\t\t\t\t\t\t\tduration=thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.durationSendJS = true;\n\t\t\t\t\tthisTemp.sendJS('duration', duration);\n\t\t\t\t\tthisTemp.formatInserttime(duration);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('playing', eventPlaying);\n\t\t\t//监听视频暂停事件\n\t\t\tvar eventPause = function(event) {\n\t\t\t\tthisTemp.pauseHandler();\n\t\t\t\tthisTemp.sendJS('pause');\n\t\t\t\tthisTemp.sendJS('paused', true);\n\t\t\t};\n\t\t\tthis.addListenerInside('pause', eventPause);\n\t\t\t//监听视频播放结束事件\n\t\t\tvar eventEnded = function(event) {\n\t\t\t\tthisTemp.endedHandler();\n\t\t\t};\n\t\t\tthis.addListenerInside('ended', eventEnded);\n\t\t\t//监听视频播放时间事件\n\t\t\tvar eventTimeupdate = function(event) {\n\t\t\t\tif (thisTemp.loadingShow) {\n\t\t\t\t\tthisTemp.loadingStart(false);\n\t\t\t\t}\n\t\t\t\tif (thisTemp.time) {\n\t\t\t\t\tif (!thisTemp.adPlayerPlay) {\n\t\t\t\t\t\tthisTemp.sendJS('time', thisTemp.time);\n\t\t\t\t\t\t//监听中间插入广告是否需要播放\n\t\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['insert'])) {\n\t\t\t\t\t\t\tthisTemp.checkAdInsert(thisTemp.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//监听其它广告\n\t\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['other'])) {\n\t\t\t\t\t\t\tthisTemp.checkAdOther(thisTemp.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (thisTemp.time < 3 && thisTemp.adReset) {\n\t\t\t\t\t\t\tthisTemp.adReset = false;\n\t\t\t\t\t\t\tthisTemp.endedAdReset();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { //如果是广告则进行广告倒计时\n\t\t\t\t\t\tthisTemp.adPlayerTimeHandler(thisTemp.time);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('timeupdate', eventTimeupdate);\n\t\t\t//监听视频缓冲事件\n\t\t\tvar eventWaiting = function(event) {\n\t\t\t\tthisTemp.loadingStart(true);\n\t\t\t};\n\t\t\tthis.addListenerInside('waiting', eventWaiting);\n\t\t\t//监听视频seek开始事件\n\t\t\tvar eventSeeking = function(event) {\n\t\t\t\tthisTemp.sendJS('seek', 'start');\n\t\t\t};\n\t\t\tthis.addListenerInside('seeking', eventSeeking);\n\t\t\t//监听视频seek结束事件\n\t\t\tvar eventSeeked = function(event) {\n\t\t\t\tthisTemp.seekedHandler();\n\t\t\t\tthisTemp.sendJS('seek', 'ended');\n\t\t\t};\n\t\t\tthis.addListenerInside('seeked', eventSeeked);\n\t\t\t//监听视频音量\n\t\t\tvar eventVolumeChange = function(event) {\n\t\t\t\ttry {\n\t\t\t\t\tthisTemp.volumechangeHandler();\n\t\t\t\t\tthisTemp.sendJS('volume', thisTemp.volume || thisTemp.V.volume);\n\t\t\t\t} catch(event) {}\n\t\t\t};\n\t\t\tthis.addListenerInside('volumechange', eventVolumeChange);\n\t\t\t//监听全屏事件\n\t\t\tvar eventFullChange = function(event) {\n\t\t\t\tvar fullState = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen;\n\t\t\t\tthisTemp.sendJS('full', fullState);\n\t\t\t};\n\t\t\tthis.addListenerInside('fullscreenchange', eventFullChange);\n\t\t\tthis.addListenerInside('webkitfullscreenchange', eventFullChange);\n\t\t\tthis.addListenerInside('mozfullscreenchange', eventFullChange);\n\t\t\t//建立界面\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.interFace();\n\t\t\t}\n\t\t\tthis.addListenerInside('loadedmetadata', eventJudgeIsLive);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重置界面元素\n\t\t*/\n\t\tresetPlayer: function() {\n\t\t\tthis.timeTextHandler();\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.timeProgress(0, 1); //改变时间进度条宽\n\t\t\t\tthis.changeLoad(0);\n\t\t\t\tthis.initPlayPause(); //判断显示播放或暂停按钮\n\t\t\t\tthis.definition(); //构建清晰度按钮\n\t\t\t\tthis.deletePrompt(); //删除提示点\n\t\t\t\tthis.deletePreview(); //删除预览图\n\t\t\t\tthis.trackHide(); //重置字幕\n\t\t\t\tthis.resetTrack();\n\t\t\t\tthis.trackElement = [];\n\t\t\t\tthis.track = [];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建界面元素\n\t\t */\n\t\tinterFace: function() {\n\t\t\tthis.conBarShow = true;\n\t\t\tvar thisTemp = this;\n\t\t\tvar html = ''; //控制栏内容\n\t\t\tvar i = 0;\n\t\t\tvar thisStyle=this.ckStyle;\n\t\t\tvar styleC=thisStyle['controlBar'];\n\t\t\tvar styleCB=styleC['button'];\n\t\t\tvar styleAS=thisStyle['advertisement'];\n\t\t\tvar styleDF=styleC['definition'];\n\t\t\tvar bWidth = 38;//按钮的宽\n\t\t\tvar timeInto = this.formatTime(0,this.vars['duration'],this.ckLanguage['vod']); //时间显示框默认显示内容\t\t\t\n\t\t\t/*\n\t\t\t\t构建一些PD（播放器容器）里使用的元素\n\t\t\t*/\n\t\t\t/*\n\t\t\t \t构建播放器内的元素\n\t\t\t*/\n\t\t\tthis.CB={menu:null};\n\t\t\tvar divEle={\n\t\t\t\tcontrolBarBg:null,\n\t\t\t\tcontrolBar:null,\n\t\t\t\tpauseCenter:null,\n\t\t\t\terrorText:null,\n\t\t\t\tpromptBg:null,\n\t\t\t\tprompt:null,\n\t\t\t\tpromptTriangle:null,\n\t\t\t\tdefinitionP:null,\n\t\t\t\tplaybackrateP:null,\n\t\t\t\tsubtitlesP:null,\n\t\t\t\tloading:null,\n\t\t\t\tlogo:null,\n\t\t\t\tadBackground:null,\n\t\t\t\tadElement:null,\n\t\t\t\tadLink:null,\n\t\t\t\tadPauseClose:null,\n\t\t\t\tadTime:null,\n\t\t\t\tadTimeText:null,\n\t\t\t\tadMute:null,\n\t\t\t\tadEscMute:null,\n\t\t\t\tadSkip:null,\n\t\t\t\tadSkipText:null,\n\t\t\t\tadSkipButton:null\n\t\t\t};\n\t\t\tvar k='';\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.PD.appendChild(this.CB[k]);\n\t\t\t}\n\t\t\t/*\n\t\t\t\t构建鼠标右键容器\n\t\t\t*/\n\t\t\tthis.CB['menu']=document.createElement('div');\n\t\t\tthis.body.appendChild(this.CB['menu']);\n\t\t\tif (this.vars['live']) { //如果是直播，时间显示文本框里显示当前系统时间\n\t\t\t\ttimeInto = this.formatTime(0,0,this.ckLanguage['live']); //时间显示框默认显示内容\n\t\t\t}\n\t\t\t/*\n\t\t\t\t构建控制栏的按钮\n\t\t\t*/\n\t\t\tdivEle={\n\t\t\t\tplay:null,\n\t\t\t\tpause:null,\n\t\t\t\tmute:null,\n\t\t\t\tescMute:null,\n\t\t\t\tfull:null,\n\t\t\t\tescFull:null,\n\t\t\t\tdefinition:null,\n\t\t\t\tplaybackrate:null,\n\t\t\t\tsubtitles:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\tthis.CB[k].dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\tthis.CB['controlBar'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tdivEle={\n\t\t\t\ttimeProgressBg:null,\n\t\t\t\ttimeBoBg:null,\n\t\t\t\tvolume:null,\n\t\t\t\ttimeText:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['controlBar'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['timeText'].innerHTML=timeInto;//初始化时间\n\t\t\tdivEle={\n\t\t\t\tloadProgress:null,\n\t\t\t\ttimeProgress:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['timeProgressBg'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['timeButton']=document.createElement('div');\n\t\t\tthis.CB['timeBoBg'].appendChild(this.CB['timeButton']);\n\t\t\tdivEle={\n\t\t\t\tvolumeBg:null,\n\t\t\t\tvolumeBO:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['volume'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['volumeUp']=document.createElement('div');\n\t\t\tthis.CB['volumeBg'].appendChild(this.CB['volumeUp']);\n\t\t\t//构建loading图标\n\t\t\tvar imgTemp=null;\n\t\t\tvar imgFile='';\n\t\t\tvar imgFile=thisStyle['loading']['file'];\n\t\t\tif(!this.isUndefined(thisStyle['loading']['fileH5'])){\n\t\t\t\timgFile=thisStyle['loading']['fileH5'];\n\t\t\t}\n\t\t\tif(imgFile){\n\t\t\t\timgTemp=document.createElement('img');\n\t\t\t\timgTemp.src=imgFile;\n\t\t\t\timgTemp.border=0;\n\t\t\t\tthis.CB['loading'].appendChild(imgTemp);\n\t\t\t}\n\t\t\t//构建logo图标\n\t\t\timgFile=thisStyle['logo']['file'];\n\t\t\tif(!this.isUndefined(thisStyle['logo']['fileH5'])){\n\t\t\t\timgFile=thisStyle['logo']['fileH5'];\n\t\t\t}\n\t\t\tif(imgFile){\n\t\t\t\timgTemp=document.createElement('img');\n\t\t\t\timgTemp.src=imgFile;\n\t\t\t\timgTemp.border=0;\n\t\t\t\tthis.CB['logo'].appendChild(imgTemp);\n\t\t\t}\t\t\t\n\t\t\t//定义界面元素的样式\n\t\t\tif(this.ckConfig['config']['buttonMode']['player']){\n\t\t\t\tthis.css(this.PD, {cursor: 'pointer'});\n\t\t\t}\n\t\t\t//控制栏背景\n\t\t\tthis.controlBar(); //改变控制栏\n\t\t\tvar cssTemp=null;\n\t\t\t//定义提示语的样式\n\t\t\tvar promptCss=thisStyle['prompt'];\n\t\t\tcssTemp=this.getEleCss(promptCss,{overflow: 'hidden',zIndex: 900,display:'none'});\n\t\t\tthis.css(this.CB['promptBg'],cssTemp);\n\t\t\tthis.css(this.CB['promptBg'],'padding','0px');\n\t\t\tcssTemp['backgroundColor']='';\n\t\t\tcssTemp['border']='';\n\t\t\tcssTemp['borderRadius']='';\n\t\t\tcssTemp['whiteSpace']='nowrap';\n\t\t\tthis.css(this.CB['prompt'],cssTemp);\n\t\t\t//定义提示语下方的三解形的样式\n\t\t\tcssTemp={\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t\tborderLeft: promptCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\tborderRight: promptCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\tborderTop: promptCss['triangleHeight']+'px solid '+promptCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\toverflow: 'hidden',\n\t\t\t\topacity:promptCss['triangleAlpha'],\n\t\t\t\tfilter:'alpha(opacity:'+promptCss['triangleAlpha']+')',\n\t\t\t\tposition:'absolute',\n\t\t\t\tleft:'0px',\n\t\t\t\ttop:'0px',\n\t\t\t\tzIndex: 900,\n\t\t\t\tdisplay:'none'\n\t\t\t};\n\t\t\tthis.css(this.CB['promptTriangle'],cssTemp);\n\t\t\tthis.elementCoordinate();//中间播放按钮，出错文本框，logo，loading\n\t\t\tthis.css([this.CB['pauseCenter'],this.CB['loading'],this.CB['errorText']],'display','none');\n\t\t\tthis.carbarButton();//控制栏按钮\n\t\t\tthis.playerCustom();//播放器界面自定义元件\n\t\t\tthis.carbarCustom();//控制栏自定义元件\n\t\t\tthis.timeProgressDefault();//进度条默认样式\n\t\t\tthis.videoCss();//计算video的宽高和位置\n\t\t\t//初始化判断播放/暂停按钮隐藏项\n\t\t\tthis.initPlayPause();\n\t\t\tif (this.vars['volume'] > 0) {\n\t\t\t\tthis.css(this.CB['escMute'], 'display', 'none');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['mute'], 'display', 'none');\n\t\t\t}\n\t\t\tif (!this.ckConfig['config']['mobileVolumeBarShow'] && this.isMobile()) {\n\t\t\t\tthis.css([this.CB['mute'], this.CB['escMute'], this.CB['volume']], {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.css(this.CB['escFull'],'display', 'none');\n\t\t\t//设置广告背景层样式\n\t\t\tvar cssObj={\n\t\t\t\talign: 'top',\n\t\t\t\tvAlign:'left',\n\t\t\t\twidth:'100%',\n\t\t\t\theight:'100%',\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\tzIndex: 910,\n\t\t\t\tdisplay: 'none'\n\t\t\t};\n\t\t\tcssTemp=this.getEleCss(styleAS['background'],cssObj);\n\t\t\tthis.css(this.CB['adBackground'],cssTemp);\n\t\t\tthis.css(this.CB['adElement'], {\n\t\t\t\tposition: 'absolute',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\ttop: '0px',\n\t\t\t\tzIndex: 911,\n\t\t\t\tfloat: 'center',\n\t\t\t\tdisplay: 'none'\n\t\t\t});\n\t\t\t//广告控制各元素样式，用一个函数单独定义，这样在播放器尺寸变化时可以重新设置样式\n\t\t\tthis.advertisementStyle();\n\t\t\t//初始化广告控制各元素-隐藏\n\t\t\tthis.css([this.CB['adTime'],this.CB['adTimeText'],this.CB['adMute'],this.CB['adEscMute'],this.CB['adSkip'],this.CB['adSkipText'],this.CB['adSkipButton'],this.CB['adLink'],this.CB['adPauseClose']],'display','none');\n\t\t\t//定义鼠标经过控制栏只显示完整的进度条，鼠标离开进度条则显示简单的进度条\n\t\t\tvar timeProgressOut = function(event) {\n\t\t\t\tthisTemp.timeProgressMouseOut();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', timeProgressOut, this.CB['timeBoBg']);\n\t\t\tvar timeProgressOver = function(event) {\n\t\t\t\tthisTemp.timeProgressDefault();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', timeProgressOver, this.CB['controlBar']);\n\t\t\t//定义各按钮鼠标经过时的切换样式\n\t\t\tthis.buttonEventFun(this.CB['play'],styleCB['play']);//播放按钮\n\t\t\tthis.buttonEventFun(this.CB['pause'],styleCB['pause']);//暂停按钮\n\t\t\tthis.buttonEventFun(this.CB['mute'],styleCB['mute']);//静音按钮\n\t\t\tthis.buttonEventFun(this.CB['escMute'],styleCB['escMute']);//恢复音量按钮\n\t\t\tthis.buttonEventFun(this.CB['full'],styleCB['full']);//全屏按钮\n\t\t\tthis.buttonEventFun(this.CB['escFull'],styleCB['escFull']);//退出全屏按钮\n\t\t\tthis.buttonEventFun(this.CB['adMute'],styleAS['muteButton']);//广告静音按钮\n\t\t\tthis.buttonEventFun(this.CB['adEscMute'],styleAS['escMuteButton']);//恢复广告音量按钮\n\t\t\tthis.buttonEventFun(this.CB['adSkipButton'],styleAS['skipAdButton']);//跳过广告按钮\n\t\t\tthis.buttonEventFun(this.CB['adLink'],styleAS['adLinkButton']);//广告查看详情按钮\n\t\t\tthis.buttonEventFun(this.CB['adPauseClose'],styleAS['closeButton']);//播放暂停时的广告的关闭按钮\n\t\t\tthis.buttonEventFun(this.CB['pauseCenter'],thisStyle['centerPlay']);//播放器中间暂停时的播放按钮\n\t\t\tthis.buttonEventFun(this.CB['volumeBO'],styleC['volumeSchedule']['button']);//音量调节框按钮样式\n\t\t\tthis.buttonEventFun(this.CB['timeButton'],styleC['timeSchedule']['button']);//时间进度调节框按钮样式\n\n\t\t\tthis.addButtonEvent(); //注册按钮及音量调节，进度操作事件\n\t\t\tthis.controlBarHide(); //单独注册控制栏隐藏事件\n\t\t\tthis.newMenu(); //设置右键的样式和事件\n\t\t\tthis.keypress(); //注册键盘事件\n\t\t\t//初始化音量调节框\n\t\t\tthis.changeVolume(this.vars['volume']);\n\t\t\tsetTimeout(function() {\n\t\t\t\tthisTemp.elementCoordinate(); //调整中间暂停按钮/loading的位置/error的位置\n\t\t\t},\n\t\t\t100);\n\t\t\tthis.checkBarWidth();\n\t\t\tvar resize = function() {\n\t\t\t\tthisTemp.log('window.resize');\n\t\t\t\tthisTemp.playerResize();\n\t\t\t};\n\t\t\tvar MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n\t\t\tvar observer = new MutationObserver(function(){\n\t\t\t\tthisTemp.log('video.resize');\n\t\t\t\tvar cdW=parseInt(thisTemp.css(thisTemp.CD,'width')),cdH=parseInt(thisTemp.css(thisTemp.CD,'height'));\n\t\t\t\tif(cdW!=thisTemp.cdWH['w'] || cdH!=thisTemp.cdWH['h']){\n\t\t\t\t\tthisTemp.cdWH={\n\t\t\t\t\t\tw:cdW,\n\t\t\t\t\t\th:cdH\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.changeSize(cdW,cdH);\n\t\t\t\t}\n\t\t\t});\n\t\t\tobserver.observe(this.CD, {attributes: true, attributeFilter: ['style'], attributeOldValue: true });\n\t\t\tthis.addListenerInside('resize', resize, window);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t进间进度条默认样式\n\t\t*/\n\t\ttimeProgressDefault:function(){\n\t\t\tvar styleCT=this.ckStyle['controlBar']['timeSchedule'];\n\t\t\tvar cssObj=this.newObj(styleCT['default']);\n\t\t\tvar loadBackImg=cssObj['loadProgressImg'],playBackImg=cssObj['playProgressImg'];\n\t\t\tvar cssTemp=null;\n\t\t\tthis.css(this.CB['timeBoBg'],'display','block');\n\t\t\t//时间进度条背景容器\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow: 'hidden',zIndex: 2},this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['timeProgressBg'], cssTemp);\n\t\t\t//加载进度\n\t\t\tcssObj={\n\t\t\t\talign:'left',\n\t\t\t\tvAlign:'top',\n\t\t\t\twidth:1,\n\t\t\t\theight:cssObj['height'],\n\t\t\t\tbackgroundImg:loadBackImg\n\t\t\t};\n\t\t\t//加载进度和时间进度\n\t\t\tif(this.CB['loadProgress'].offsetWidth>1){\n\t\t\t\tcssObj['width']=this.CB['loadProgress'].offsetWidth;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow:'hidden',zIndex:1},this.CB['timeProgressBg']);\n\t\t\tthis.css(this.CB['loadProgress'],cssTemp);\n\t\t\tcssObj['width']=0;\n\t\t\tif(this.CB['timeProgress'].offsetWidth>1 && parseInt(this.css(this.CB['timeButton'],'left'))>0){\n\t\t\t\tcssObj['width']=this.CB['timeProgress'].offsetWidth;\n\t\t\t\t\n\t\t\t}\n\t\t\tcssObj['backgroundImg']=playBackImg;\n\t\t\tcssTemp=this.getEleCss(cssObj,{overflow:'hidden',zIndex:2});\n\t\t\tthis.css(this.CB['timeProgress'],cssTemp);\n\t\t\t//时间进度按钮容器\n\t\t\tcssTemp=this.getEleCss(styleCT['buttonContainer'],{position: 'absolute',overflow: 'hidden',zIndex: 3},this.CB['controlBar']);\n\t\t\tif(this.ckConfig['config']['buttonMode']['timeSchedule']){\n\t\t\t\tcssTemp['cursor']='pointer';\n\t\t\t}\n\t\t\tthis.css(this.CB['timeBoBg'],cssTemp);\n\t\t\t//时间进度按钮\n\t\t\tcssTemp=this.getEleCss(styleCT['button'],{cursor: 'pointer',overflow: 'hidden',zIndex: 4},this.CB['timeBoBg']);\n\t\t\tthis.css(this.CB['timeButton'], cssTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t进间进度条鼠标离开样式\n\t\t*/\n\t\ttimeProgressMouseOut:function(){\n\t\t\tvar styleCT=this.ckStyle['controlBar']['timeSchedule'];\n\t\t\tvar cssObj=this.newObj(styleCT['mouseOut']);\n\t\t\tvar loadBackImg=cssObj['loadProgressImg'],playBackImg=cssObj['playProgressImg'];\n\t\t\tvar cssTemp=null;\n\t\t\tthis.css(this.CB['timeBoBg'],'display','block');\n\t\t\t//时间进度条背景容器\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow: 'hidden',zIndex: 2},this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['timeProgressBg'], cssTemp);\n\t\t\t//加载进度\n\t\t\tcssObj={\n\t\t\t\talign:'left',\n\t\t\t\tvAlign:'top',\n\t\t\t\twidth:1,\n\t\t\t\theight:cssObj['height'],\n\t\t\t\tbackgroundImg:loadBackImg\n\t\t\t};\n\t\t\t//加载进度和时间进度\n\t\t\tif(this.CB['loadProgress'].offsetWidth>1){\n\t\t\t\tcssObj['width']=this.CB['loadProgress'].offsetWidth;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow:'hidden',zIndex:1},this.CB['timeProgressBg']);\n\t\t\tthis.css(this.CB['loadProgress'],cssTemp);\n\t\t\tcssObj['width']=1;\n\t\t\tif(this.CB['timeProgress'].offsetWidth>1 && parseInt(this.css(this.CB['timeButton'],'left'))>0){\n\t\t\t\tcssObj['width']=this.CB['timeProgress'].offsetWidth;\n\t\t\t\tcssObj['backgroundImg']=playBackImg;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(cssObj,{overflow:'hidden',zIndex:2});\n\t\t\tthis.css(this.CB['timeProgress'],cssTemp);\t\t\t\n\t\t\tthis.css(this.CB['timeBoBg'],'display','none');\t\t\t\n\t\t},\n\t\t/*\n\t\t\t统一注册按钮鼠标经过和离开时的切换动作\n\t\t*/\n\t\tbuttonEventFun:function(ele,cssEle){\n\t\t\tvar thisTemp=this;\n\t\t\tvar overFun = function(event) {\n\t\t\t\tthisTemp.css(ele,{\n\t\t\t\t\tbackgroundImage:'url('+cssEle['mouseOver']+')'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptShow(ele);\n\t\t\t};\n\t\t\tvar outFun = function(event) {\n\t\t\t\tthisTemp.css(ele,{\n\t\t\t\t\tbackgroundImage:'url('+cssEle['mouseOut']+')'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t};\n\t\t\toutFun();\n\t\t\tthis.addListenerInside('mouseover', overFun, ele);\n\t\t\tthis.addListenerInside('mouseout', outFun, ele);\n\t\t\tif(!this.isUndefined(cssEle['clickEvent'])){\n\t\t\t\tvar clickFun=function(event){\n\t\t\t\t\tthisTemp.runFunction(cssEle['clickEvent']);\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', clickFun, ele);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化样式用的数字\n\t\t*/\n\t\tformatNumPx:function(str,z){\n\t\t\tif(!str){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(str.toString().indexOf('%')>-1){//说明是根据百分比来计算\n\t\t\t\tif(!this.isUndefined(z)){//如果有值\n\t\t\t\t\treturn parseInt(str)*z*0.01+'px';\n\t\t\t\t}\n\t\t\t\treturn str;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn str+'px';\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化样式用的数字，返回类型必需是数字或百分比\n\t\t*/\n\t\tformatZToNum:function(str,z){\n\t\t\tif(!str){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(str.toString().indexOf('%')>-1){//说明是根据百分比来计算\n\t\t\t\tif(!this.isUndefined(z)){//如果有值\n\t\t\t\t\treturn parseInt(str)*z*0.01;\n\t\t\t\t}\n\t\t\t\treturn str;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn str;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t对对象进行深度复制\n\t\t*/\n\t\tnewObj:function(obj) {\n\t\t\tif(this.isUndefined(obj)){\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t  \tvar str, newobj ={};//constructor 属性返回对创建此对象的数组函数的引用。创建相同类型的空数据\n\t\t  \tif (this.varType(obj) != 'object') {\n\t\t    \treturn obj;\n\t\t  \t}\n\t\t  \telse {\n\t\t    \tfor (var k in obj) {\n\t\t    \t\tif(this.isUndefined(obj[k])){\n\t\t    \t\t\tnewobj[k] = obj[k];\n\t\t    \t\t}\n\t\t    \t\telse{\n\t\t\t      \t\tif(this.varType(obj[k]) == 'object') { //判断对象的这条属性是否为对象\n\t\t\t        \t\tnewobj[k] = this.newObj(obj[k]);//若是对象进行嵌套调用\n\t\t\t      \t\t}\n\t\t\t      \t\telse{\n\t\t\t        \t\tnewobj[k] = obj[k];\n\t\t\t      \t\t}\n\t\t\t      \t}\n\t\t    \t}\n\t\t  \t}\n\t\t  \treturn newobj;//返回深度克隆后的对象\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t统一的显示图片\n\t\t*/\n\t\tloadImgBg:function(eleid,obj){\n\t\t\tthis.css(this.getByElement(eleid),{\n\t\t\t\tbackgroundImage:'url('+obj+')'\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化css\n\t\t\teleObj=样式,\n\t\t\tsupplement=补充样式,\n\t\t\trrEle=参考对象，\n\t\t\t该函数强制使用position定位的元素\n\t\t*/\n\t\tgetEleCss:function(eleObj,supplement,rrEle){\n\t\t\tvar eleName=null;\n\t\t\tvar pdW=this.PD.offsetWidth,pdH=this.PD.offsetHeight;\n\t\t\tif(rrEle){\n\t\t\t\tpdW=rrEle.offsetWidth;\n\t\t\t\tpdH=rrEle.offsetHeight;\n\t\t\t}\n\t\t\tif(this.isUndefined(eleObj)){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\teleName=this.newObj(eleObj);\n\t\t\tvar cssObject={};\n\t\t\tif(!this.isUndefined(eleName['width'])){\n\t\t\t\tcssObject['width']=this.formatZToNum(eleName['width'],pdW)+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['height'])){\n\t\t\t\tcssObject['height']=this.formatZToNum(eleName['height'],pdH)+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['background'])){\n\t\t\t\tvar bg=eleName['background'];\n\t\t\t\tif(!this.isUndefined(bg['backgroundColor'])){\n\t\t\t\t\tcssObject['backgroundColor']=bg['backgroundColor'].replace('0x','#');\n\t\t\t\t}\n\t\t\t\tif(!this.isUndefined(bg['backgroundImg'])){\n\t\t\t\t\tcssObject['backgroundImage']='url('+bg['backgroundImg']+')';\n\t\t\t\t}\n\t\t\t\tif(!this.isUndefined(bg['alpha'])){\n\t\t\t\t\tcssObject['filter']='alpha(opacity:'+bg['alpha']+')';\n\t\t\t\t\tcssObject['opacity']=bg['alpha'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['backgroundColor'])){\n\t\t\t\tcssObject['backgroundColor']=eleName['backgroundColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['backgroundImg'])){\n\t\t\t\tcssObject['backgroundImage']='url('+eleName['backgroundImg']+')';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['color'])){\n\t\t\t\tcssObject['color']=eleName['color'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['font'])){\n\t\t\t\tcssObject['fontFamily']=eleName['font'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['size'])){\n\t\t\t\tcssObject['fontSize']=eleName['size']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['alpha'])){\n\t\t\t\tcssObject['filter']='alpha(opacity:'+eleName['alpha']+')';\n\t\t\t\tcssObject['opacity']=eleName['alpha'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['lineHeight'])){\n\t\t\t\tcssObject['lineHeight']=eleName['lineHeight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['textAlign'])){\n\t\t\t\tcssObject['textAlign']=eleName['textAlign'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderRadius'])){\n\t\t\t\tcssObject['borderRadius']=eleName['borderRadius']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['radius'])){\n\t\t\t\tcssObject['borderRadius']=eleName['radius']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['padding'])){\n\t\t\t\tcssObject['padding']=eleName['padding']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingLeft'])){\n\t\t\t\tcssObject['paddingLeft']=eleName['paddingLeft']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingRight'])){\n\t\t\t\tcssObject['paddingRight']=eleName['paddingRight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingTop'])){\n\t\t\t\tcssObject['paddingTop']=eleName['paddingTop']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingBottom'])){\n\t\t\t\tcssObject['paddingBottom']=eleName['paddingBottom']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['margin'])){\n\t\t\t\tcssObject['margin']=eleName['margin']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginLeft'])){\n\t\t\t\tcssObject['marginLeft']=eleName['marginLeft']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginRight'])){\n\t\t\t\tcssObject['marginRight']=eleName['marginRight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginTop'])){\n\t\t\t\tcssObject['marginTop']=eleName['marginTop']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginBottom'])){\n\t\t\t\tcssObject['marginBottom']=eleName['marginBottom']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['border']) && !this.isUndefined(eleName['borderColor'])){\n\t\t\t\tcssObject['border']=eleName['border']+'px solid '+eleName['borderColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderLeft']) && !this.isUndefined(eleName['borderLeftColor'])){\n\t\t\t\tcssObject['borderLeft']=eleName['borderLeft']+'px solid '+eleName['borderLeftColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderRight']) && !this.isUndefined(eleName['borderRightColor'])){\n\t\t\t\tcssObject['borderRight']=eleName['borderRight']+'px solid '+eleName['borderRightColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderTop']) && !this.isUndefined(eleName['borderTopColor'])){\n\t\t\t\tcssObject['borderTop']=eleName['borderTop']+'px solid '+eleName['borderTopColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderBottom']) && !this.isUndefined(eleName['borderBottomColor'])){\n\t\t\t\tcssObject['borderBottom']=eleName['borderBottom']+'px solid '+eleName['borderBottomColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(supplement)){\n\t\t\t\tfor(var k in supplement){\n\t\t\t\t\tcssObject[k]=supplement[k];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcssObject['position']='absolute';\n\t\t\tvar left=-10000,top=-10000,right=-10000,bottom=-10000;\n\t\t\tvar offsetX=0,offsetY=0;\n\t\t\tif(!this.isUndefined(eleName['offsetX'])){\n\t\t\t\toffsetX=eleName['offsetX'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginX'])){\n\t\t\t\toffsetX=eleName['marginX'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['offsetY'])){\n\t\t\t\toffsetY=eleName['offsetY'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginY'])){\n\t\t\t\toffsetY=eleName['marginY'];\n\t\t\t}\n\t\t\toffsetX=this.formatZToNum(offsetX,pdW);\n\t\t\toffsetY=this.formatZToNum(offsetY,pdH);\n\t\t\tif(!this.isUndefined(eleName['align'])){\n\t\t\t\tleft=0;\n\t\t\t\tswitch (eleName['align']) {\n\t\t\t\t\tcase 'left':\n\t\t\t\t\t\tleft = offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'center':\n\t\t\t\t\t\tleft = pdW * 0.5 + offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\tleft = pdW+offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right2':\n\t\t\t\t\t\tleft = -10000;\n\t\t\t\t\t\tright=offsetX;\n\t\t\t\t\t\tbreak;\t\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['vAlign'])){\n\t\t\t\ttop=0;\n\t\t\t\tswitch (eleName['vAlign']) {\n\t\t\t\t\tcase 'top':\n\t\t\t\t\t\ttop = offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'middle':\n\t\t\t\t\t\ttop=pdH*0.5+offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\ttop =pdH+offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom2':\n\t\t\t\t\t\ttop=-10000;\n\t\t\t\t\t\tbottom =offsetY;\n\t\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(left>-10000){\n\t\t\t\tcssObject['left']=left+'px';\n\t\t\t}\n\t\t\tif(right>-10000){\n\t\t\t\tcssObject['right']=right+'px';\n\t\t\t}\n\t\t\tif(top>-10000){\n\t\t\t\tcssObject['top']=top+'px';\n\t\t\t}\n\t\t\tif(bottom>-10000){\n\t\t\t\tcssObject['bottom']=bottom+'px';\n\t\t\t}\n\t\t\treturn cssObject;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t创建按钮，使用canvas画布\n\t\t*/\n\t\tnewCanvas: function(id, width, height) {\n\t\t\treturn '<canvas class=\"' + id + '-canvas\" width=\"' + width + '\" height=\"' + height + '\"></canvas>';\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册按钮，音量调节框，进度操作框事件\n\t\t*/\n\t\taddButtonEvent: function() {\n\t\t\tvar thisTemp = this;\n\t\t\t//定义按钮的单击事件\n\t\t\t\n\t\t\t//定义各个按钮的鼠标经过/离开事件\n\t\t\tvar promptHide = function(event) {\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t};\n\t\t\tvar definitionOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['definition']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', definitionOver, this.CB['definition']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['definition']);\n\t\t\tvar playbackrateOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['playbackrate']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', playbackrateOver, this.CB['playbackrate']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['playbackrate']);\n\t\t\tvar subtitlesOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['subtitles']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', subtitlesOver, this.CB['subtitles']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['subtitles']);\n\t\t\t//定义音量和进度按钮的滑块事件\n\t\t\tvar volumePrompt = function(vol) {\n\t\t\t\tvar volumeBOXY = thisTemp.getCoor(thisTemp.CB['volumeBO']);\n\t\t\t\tvar promptObj = {\n\t\t\t\t\ttitle:thisTemp.ckLanguage['volumeSliderOver'].replace('[$volume]',vol),\n\t\t\t\t\tx: volumeBOXY['x'] + thisTemp.CB['volumeBO'].offsetWidth * 0.5,\n\t\t\t\t\ty: volumeBOXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, promptObj);\n\t\t\t};\n\t\t\tvar volumeObj = {\n\t\t\t\tslider: this.CB['volumeBO'],\n\t\t\t\tfollow: this.CB['volumeUp'],\n\t\t\t\trefer: this.CB['volumeBg'],\n\t\t\t\tgrossValue: 'volume',\n\t\t\t\tpd: true,\n\t\t\t\tstartFun: function(vol) {},\n\t\t\t\tmonitorFun: function(vol) {\n\t\t\t\t\tthisTemp.changeVolume(vol * 0.01, false, false);\n\t\t\t\t\tvolumePrompt(vol);\n\t\t\t\t},\n\t\t\t\tendFun: function(vol) {},\n\t\t\t\toverFun: function(vol) {\n\t\t\t\t\tvolumePrompt(vol);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.slider(volumeObj);\n\t\t\tvar volumeClickObj = {\n\t\t\t\trefer: this.CB['volumeBg'],\n\t\t\t\tgrossValue: 'volume',\n\t\t\t\tfun: function(vol) {\n\t\t\t\t\tthisTemp.changeVolume(vol * 0.01, true, true);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.progressClick(volumeClickObj);\n\t\t\tthis.timeButtonMouseDown(); //用单击的函数来判断是否需要建立控制栏监听\n\t\t\t//鼠标经过/离开音量调节框时的\n\t\t\tvar volumeBgMove = function(event) {\n\t\t\t\tvar volumeBgXY = thisTemp.getCoor(thisTemp.CB['volumeBg']);\n\t\t\t\tvar eventX = thisTemp.client(event)['x'];\n\t\t\t\tvar eventVolume = parseInt((eventX - volumeBgXY['x']) * 100 / thisTemp.CB['volumeBg'].offsetWidth);\n\t\t\t\tvar buttonPromptObj = {\n\t\t\t\t\ttitle:thisTemp.ckLanguage['volumeSliderOver'].replace('[$volume]',eventVolume),\n\t\t\t\t\tx: eventX,\n\t\t\t\t\ty: volumeBgXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, buttonPromptObj);\n\t\t\t};\n\t\t\tthis.addListenerInside('mousemove', volumeBgMove, this.CB['volumeBg']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['volumeBg']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['volumeBO']);\n\t\t\t//注册清晰度相关事件\n\t\t\tthis.addDefListener();\n\t\t\t//注册倍速相关事件\n\t\t\tthis.addPlaybackrate();\n\t\t\t//注册多字幕事件\n\t\t\tthis.addSubtitles();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册单击视频动作\n\t\t*/\n\t\tvideoClick: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar clearTimerClick = function() {\n\t\t\t\tif (thisTemp.timerClick != null) {\n\t\t\t\t\tif (thisTemp.timerClick.runing) {\n\t\t\t\t\t\tthisTemp.timerClick.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerClick = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timerClickFun = function() {\n\t\t\t\tclearTimerClick();\n\t\t\t\tthisTemp.isClick = false;\n\t\t\t\tthisTemp.sendJS('videoClick',thisTemp.videoClickXy);\n\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\tvar ad = thisTemp.getNowAdvertisements();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (ad['link'] != '') {\n\t\t\t\t\t\t\twindow.open(ad['link']);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.ckConfig['config']['click']) {\n\t\t\t\t\t\tthisTemp.playOrPause();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t};\n\t\t\tclearTimerClick();\n\t\t\tif (this.isClick) {\n\t\t\t\tthis.isClick = false;\n\t\t\t\tthisTemp.sendJS('videoDoubleClick',thisTemp.videoClickXy);\n\t\t\t\tif (thisTemp.ckConfig['config']['doubleClick']) {\n\t\t\t\t\tif (!this.full) {\n\t\t\t\t\t\tthisTemp.fullScreen();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthisTemp.quitFullScreen();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tthis.isClick = true;\n\t\t\t\tthis.timerClick = new this.timer(300, timerClickFun, 1)\n\t\t\t\t//this.timerClick.start();\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册鼠标经过进度滑块的事件\n\t\t*/\n\t\ttimeButtonMouseDown: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar timePrompt = function(time) {\n\t\t\t\tif (isNaN(time)) {\n\t\t\t\t\ttime = 0;\n\t\t\t\t}\n\t\t\t\tvar timeButtonXY = thisTemp.getCoor(thisTemp.CB['timeButton']);\n\t\t\t\tvar promptObj = {\n\t\t\t\t\ttitle: thisTemp.formatTime(time,0,thisTemp.ckLanguage['timeSliderOver']),\n\t\t\t\t\tx: timeButtonXY['x'] - thisTemp.pdCoor['x'] + thisTemp.CB['timeButton'].offsetWidth * 0.5,\n\t\t\t\t\ty: timeButtonXY['y'] - thisTemp.pdCoor['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, promptObj);\n\t\t\t};\n\t\t\tvar timeObj = {\n\t\t\t\tslider: this.CB['timeButton'],\n\t\t\t\tfollow: this.CB['timeProgress'],\n\t\t\t\trefer: this.CB['timeBoBg'],\n\t\t\t\tgrossValue: 'time',\n\t\t\t\tpd: false,\n\t\t\t\tstartFun: function(time) {\n\t\t\t\t\tthisTemp.isTimeButtonMove = false;\n\t\t\t\t},\n\t\t\t\tmonitorFun: function(time) {},\n\t\t\t\tendFun: function(time) {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tif (thisTemp.V.duration > 0) {\n\t\t\t\t\t\t\tthisTemp.needSeek = 0;\n\t\t\t\t\t\t\tthisTemp.videoSeek(parseInt(time));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\toverFun: function(time) {\n\t\t\t\t\ttimePrompt(time);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timeClickObj = {\n\t\t\t\trefer: this.CB['timeBoBg'],\n\t\t\t\tgrossValue: 'time',\n\t\t\t\tfun: function(time) {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tif (thisTemp.V.duration > 0) {\n\t\t\t\t\t\t\tthisTemp.needSeek = 0;\n\t\t\t\t\t\t\tthisTemp.videoSeek(parseInt(time));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timeBoBgmousemove = function(event) {\n\t\t\t\tvar timeBoBgXY = thisTemp.getCoor(thisTemp.CB['timeBoBg']);\n\t\t\t\tvar eventX = thisTemp.client(event)['x'];\n\t\t\t\tvar duration=thisTemp.V.duration;\n\t\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\t\tduration = thisTemp.vars['duration'];\n\t\t\t\t}\n\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t}\n\t\t\t\tvar eventTime = parseInt((eventX - timeBoBgXY['x']) * duration / thisTemp.CB['timeBoBg'].offsetWidth);\n\t\t\t\tvar buttonPromptObj = {\n\t\t\t\t\ttitle: thisTemp.formatTime(eventTime,0,thisTemp.ckLanguage['timeSliderOver']),\n\t\t\t\t\tx: eventX,\n\t\t\t\t\ty: timeBoBgXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, buttonPromptObj);\n\t\t\t\tvar def = false;\n\t\t\t\tif (!thisTemp.isUndefined(thisTemp.CB['definitionP'])) {\n\t\t\t\t\tif (thisTemp.css(thisTemp.CB['definitionP'], 'display') != 'block') {\n\t\t\t\t\t\tdef = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (thisTemp.vars['preview'] != null && def) {\n\t\t\t\t\tbuttonPromptObj['time'] = eventTime;\n\t\t\t\t\tthisTemp.preview(buttonPromptObj);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar promptHide = function(event) {\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\tif (thisTemp.previewDiv != null) {\n\t\t\t\t\tthisTemp.css([thisTemp.previewDiv, thisTemp.previewTop], 'display', 'none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (!this.vars['live']) { //如果不是直播\n\t\t\t\tthis.isTimeButtonDown = true;\n\t\t\t\tthis.addListenerInside('mousemove', timeBoBgmousemove, this.CB['timeBoBg']);\n\t\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['timeBoBg']);\n\t\t\t} else {\n\t\t\t\tthis.isTimeButtonDown = false;\n\t\t\t\ttimeObj['removeListenerInside'] = true;\n\t\t\t\ttimeClickObj['removeListenerInside'] = true;\n\t\t\t}\n\t\t\tthis.slider(timeObj);\n\t\t\tthis.progressClick(timeClickObj);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册调节框上单击事件，包含音量调节框和播放时度调节框\n\t\t*/\n\t\tprogressClick: function(obj) {\n\t\t\t/*\n\t\t\t\trefer:参考对象\n\t\t\t\tfun:返回函数\n\t\t\t\trefer:参考元素，即背景\n\t\t\t\tgrossValue:调用的参考值类型\n\t\t\t\tpd:\n\t\t\t*/\n\t\t\t//建立参考元素的mouseClick事件，用来做为鼠标在其上按下时触发的状态\n\t\t\tvar thisTemp = this;\n\t\t\tvar referMouseClick = function(event) {\n\t\t\t\tvar referX = thisTemp.client(event)['x'] - thisTemp.getCoor(obj['refer'])['x'];\n\t\t\t\tvar rWidth = obj['refer'].offsetWidth;\n\t\t\t\tvar grossValue = 0;\n\t\t\t\tif (obj['grossValue'] == 'volume') {\n\t\t\t\t\tgrossValue = 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tgrossValue = thisTemp.V.duration;\n\t\t\t\t\t\tif (isNaN(grossValue) || parseInt(grossValue) < 0.2) {\n\t\t\t\t\t\t\tgrossValue = thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\t\tgrossValue=thisTemp.vars['forceduration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar nowZ = parseInt(referX * grossValue / rWidth);\n\t\t\t\tif (obj['fun']) {\n\t\t\t\t\tif (obj['grossValue'] === 'time') {\n\t\t\t\t\t\tvar sliderXY = thisTemp.getCoor(thisTemp.CB['timeButton']);\n\t\t\t\t\t\tsliderLeft = sliderXY['x'];\n\t\t\t\t\t\tif (!thisTemp.checkSlideLeft(referX, sliderLeft, rWidth)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar bimeButtonWB = thisTemp.CB['timeButton'].offsetWidth * 0.5;\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['timeButton'], 'left', (referX - bimeButtonWB) + 'px');\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['timeProgress'], 'width', (referX) + 'px');\n\t\t\t\t\t}\n\t\t\t\t\tobj['fun'](nowZ);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (this.isUndefined(obj['removeListenerInside'])) {\n\t\t\t\tthis.addListenerInside('click', referMouseClick, obj['refer']);\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('click', referMouseClick, obj['refer']);\n\t\t\t}\n\n\t\t},\n\n\t\t/*\n\t\t\t内部函数\n\t\t\t共用的注册滑块事件\n\t\t*/\n\t\tslider: function(obj) {\n\t\t\t/*\n\t\t\t\tobj={\n\t\t\t\t\tslider:滑块元素\n\t\t\t\t\tfollow:跟随滑块的元素\n\t\t\t\t\trefer:参考元素，即背景\n\t\t\t\t\tgrossValue:调用的参考值类型\n\t\t\t\t\tstartFun:开始调用的元素\n\t\t\t\t\tmonitorFun:监听函数\n\t\t\t\t\tendFun:结束调用的函数\n\t\t\t\t\toverFun:鼠标放上去后调用的函数\n\t\t\t\t\tpd:是否需要修正\n\t\t\t\t}\n\t\t\t*/\n\t\t\tvar thisTemp = this;\n\t\t\tvar clientX = 0,\n\t\t\tcriterionWidth = 0,\n\t\t\tsliderLeft = 0,\n\t\t\treferLeft = 0;\n\t\t\tvar value = 0;\n\t\t\tvar calculation = function() { //根据滑块的left计算百分比\n\t\t\t\tvar sLeft = parseInt(thisTemp.css(obj['slider'], 'left'));\n\t\t\t\tvar rWidth = obj['refer'].offsetWidth - obj['slider'].offsetWidth;\n\t\t\t\tvar grossValue = 0;\n\t\t\t\tif (thisTemp.isUndefined(sLeft) || isNaN(sLeft)) {\n\t\t\t\t\tsLeft = 0;\n\t\t\t\t}\n\t\t\t\tif (obj['grossValue'] == 'volume') {\n\t\t\t\t\tgrossValue = 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tgrossValue = thisTemp.V.duration;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn parseInt(sLeft * grossValue / rWidth);\n\t\t\t};\n\t\t\tvar mDown = function(event) {\n\t\t\t\tthisTemp.addListenerInside('mousemove', mMove, document);\n\t\t\t\tthisTemp.addListenerInside('mouseup', mUp, document);\n\t\t\t\tvar referXY = thisTemp.getCoor(obj['refer']);\n\t\t\t\tvar sliderXY = thisTemp.getCoor(obj['slider']);\n\t\t\t\tclientX = thisTemp.client(event)['x'];\n\t\t\t\treferLeft = referXY['x'];\n\t\t\t\tsliderLeft = sliderXY['x'];\n\t\t\t\tcriterionWidth = clientX - sliderLeft;\n\t\t\t\tif (obj['startFun']) {\n\t\t\t\t\tobj['startFun'](calculation());\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mMove = function(event) {\n\t\t\t\tclientX = thisTemp.client(event)['x'];\n\t\t\t\tvar newX = clientX - criterionWidth - referLeft;\n\t\t\t\tif (newX < 0) {\n\t\t\t\t\tnewX = 0;\n\t\t\t\t}\n\t\t\t\tif (newX > obj['refer'].offsetWidth - obj['slider'].offsetWidth) {\n\t\t\t\t\tnewX = obj['refer'].offsetWidth - obj['slider'].offsetWidth;\n\t\t\t\t}\n\t\t\t\tif (obj['slider'] === thisTemp.CB['timeButton']) {\n\t\t\t\t\tif (!thisTemp.checkSlideLeft(newX, sliderLeft, obj['refer'].offsetWidth)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisTemp.css(obj['slider'], 'left', newX + 'px');\n\t\t\t\tthisTemp.css(obj['follow'], 'width', (newX + obj['slider'].offsetWidth * 0.5) + 'px');\n\t\t\t\tvar nowZ = calculation();\n\t\t\t\tif (obj['monitorFun']) {\n\t\t\t\t\tobj['monitorFun'](nowZ);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mUp = function(event) {\n\t\t\t\tthisTemp.removeListenerInside('mousemove', mMove, document);\n\t\t\t\tthisTemp.removeListenerInside('mouseup', mUp, document);\n\t\t\t\tif (obj['endFun']) {\n\t\t\t\t\tobj['endFun'](calculation());\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mOver = function(event) {\n\t\t\t\tif (obj['overFun']) {\n\t\t\t\t\tobj['overFun'](calculation());\n\t\t\t\t}\n\n\t\t\t};\n\t\t\tif (this.isUndefined(obj['removeListenerInside'])) {\n\t\t\t\tthis.addListenerInside('mousedown', mDown, obj['slider']);\n\t\t\t\tthis.addListenerInside('mouseover', mOver, obj['slider']);\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('mousedown', mDown, obj['slider']);\n\t\t\t\tthis.removeListenerInside('mouseover', mOver, obj['slider']);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否可以拖动进度按钮或点击进度栏\n\t\t*/\n\t\tcheckSlideLeft: function(newX, sliderLeft, refer) {\n\t\t\tvar timeSA = this.ckConfig['config']['timeScheduleAdjust'];\n\t\t\tswitch (timeSA) {\n\t\t\tcase 0:\n\t\t\t\treturn false;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tif (newX < sliderLeft) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tif (newX > sliderLeft) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tif (!this.timeSliderLeftTemp) {\n\t\t\t\t\tthis.timeSliderLeftTemp = sliderLeft / refer;\n\t\t\t\t}\n\t\t\t\tif (newX < this.timeSliderLeftTemp * refer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tif (!this.timeSliderLeftTemp) {\n\t\t\t\t\tthis.timeSliderLeftTemp = sliderLeft / refer;\n\t\t\t\t} else {\n\t\t\t\t\tvar timeSliderMax = sliderLeft / refer;\n\t\t\t\t\tif (timeSliderMax > this.timeSliderLeftTemp) {\n\t\t\t\t\t\tthis.timeSliderLeftTemp = timeSliderMax;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (newX > this.timeSliderLeftTemp * refer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示loading\n\t\t*/\n\t\tloadingStart: function(rot) {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.isUndefined(rot)) {\n\t\t\t\trot = true;\n\t\t\t}\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.css(thisTemp.CB['loading'], 'display', 'none');\n\t\t\t\tthis.loadingShow=false;\n\t\t\t}\n\t\t\tvar buffer = 0;\n\t\t\tif (rot) {\n\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\tthis.css(thisTemp.CB['loading'], 'display', 'block');\n\t\t\t\t\tthis.loadingShow=true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthisTemp.sendJS('buffer', 100);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示提示语\n\t\t*/\n\t\tpromptShow: function(ele, data) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar obj = {};\n\t\t\tvar eleTitle='';\n\t\t\tif(!this.isUndefined(ele)){\n\t\t\t\teleTitle=this.getDataset(ele, 'title');\n\t\t\t\tif(this.isUndefined(eleTitle)){\n\t\t\t\t\tele=null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ele || data) {\n\t\t\t\tif (!this.isUndefined(data)) {\n\t\t\t\t\tobj = data;\n\t\t\t\t} else {\n\t\t\t\t\tvar offsetCoor = this.getCoor(ele);\n\t\t\t\t\tobj = {\n\t\t\t\t\t\ttitle: eleTitle,\n\t\t\t\t\t\tx: offsetCoor['x'] + ele.offsetWidth * 0.5,\n\t\t\t\t\t\ty: offsetCoor['y']\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthis.CB['prompt'].innerHTML = obj['title'];\n\t\t\t\tthis.css(this.CB['prompt'], 'display', 'block');\n\t\t\t\tvar promptStye=this.ckStyle['prompt'];\n\t\t\t\tvar promoptWidth=this.CB['prompt'].offsetWidth,promoptHeight=this.CB['prompt'].offsetHeight;\n\t\t\t\tthis.css(this.CB['promptBg'], {width:promoptWidth + 'px',height:promoptHeight+'px'});\n\t\t\t\tvar x = obj['x'] - (promoptWidth * 0.5);\n\t\t\t\tvar y = obj['y'] - this.CB['prompt'].offsetHeight-promptStye['marginBottom']-promptStye['triangleHeight'];\n\t\t\t\tif (x < 0) {\n\t\t\t\t\tx = 0;\n\t\t\t\t}\n\t\t\t\tif (x > this.PD.offsetWidth - promoptWidth) {\n\t\t\t\t\tx = this.PD.offsetWidth - promoptWidth;\n\t\t\t\t}\n\t\t\t\tthis.css([this.CB['promptBg'], this.CB['prompt']], {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\ttop: y + 'px'\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['promptTriangle'], {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tleft: x+(promoptWidth-promptStye['triangleWidth'])*0.5+parseInt(promptStye['triangleDeviationX']) + 'px',\n\t\t\t\t\ttop: y +promoptHeight+ 'px'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.css([this.CB['promptBg'], this.CB['prompt'],this.CB['promptTriangle']], {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听错误\n\t\t*/\n\t\ttimerErrorFun: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.errorSend = false;\n\t\t\tvar clearIntervalError = function(event) {\n\t\t\t\tif (thisTemp.timerError != null) {\n\t\t\t\t\tif (thisTemp.timerError.runing) {\n\t\t\t\t\t\tthisTemp.timerError.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerError = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar errorFun = function(event) {\n\t\t\t\tclearIntervalError();\n\t\t\t\tthisTemp.error = true;\n\t\t\t\t//提取错误播放地址\n\t\t\t\tthisTemp.errorUrl = thisTemp.getVideoUrl();\n\t\t\t\t//提取错误播放地址结束\n\t\t\t\tif (!thisTemp.errorSend) {\n\t\t\t\t\tthisTemp.errorSend = true;\n\t\t\t\t\tthisTemp.sendJS('error');\n\t\t\t\t}\n\t\t\t\tif (thisTemp.conBarShow) {\n\t\t\t\t\tthisTemp.CB['errorText'].innerHTML=thisTemp.ckLanguage['error']['streamNotFound'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['errorText'], 'display', 'block');\n\t\t\t\t\tthisTemp.css([thisTemp.CB['pauseCenter'],thisTemp.CB['loading']], 'display', 'none');\n\t\t\t\t}\n\t\t\t\tthisTemp.V.removeAttribute('poster');\n\t\t\t\tthisTemp.resetPlayer();\n\t\t\t};\n\t\t\tvar errorListenerFun = function(event) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif (isNaN(thisTemp.V.duration)) {\n\t\t\t\t\t\terrorFun(event);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tif (!this.errorAdd) {\n\t\t\t\tthis.errorAdd = true;\n\t\t\t\tthis.addListenerInside('error', errorListenerFun);\n\t\t\t}\n\t\t\tclearIntervalError();\n\t\t\tvar timerErrorFun = function() {\n\t\t\t\tif (thisTemp.V && parseInt(thisTemp.V.networkState) == 3) {\n\t\t\t\t\terrorFun();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerError = new this.timer(this.ckConfig['config']['errorTime'], timerErrorFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建判断全屏还是非全屏的判断\n\t\t*/\n\t\tjudgeFullScreen: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.timerFull != null) {\n\t\t\t\tif (this.timerFull.runing) {\n\t\t\t\t\tthis.timerFull.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerFull = null;\n\t\t\t}\n\t\t\tvar fullFun = function() {\n\t\t\t\tthisTemp.isFullScreen();\n\t\t\t};\n\t\t\tthis.timerFull = new this.timer(20, fullFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否是全屏\n\t\t*/\n\t\tisFullScreen: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fullState = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement;\n\t\t\tif (fullState && !this.full) {\n\t\t\t\tthis.full = true;\n\t\t\t\tthis.sendJS('full', true);\n\t\t\t\tthis.elementCoordinate();\n\t\t\t\tthis.carbarButton();\n\t\t\t\tthis.customCoor();//控制栏自定义元件\n\t\t\t\tthis.css(this.CB['full'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['escFull'], 'display', 'block');\n\t\t\t\tif (this.vars['live'] == 0) {\n\t\t\t\t\tthis.timeUpdateHandler();\n\t\t\t\t}\n\t\t\t\tthis.PD.appendChild(this.CB['menu']);\n\t\t\t}\n\t\t\tif (!fullState && this.full) {\n\t\t\t\tthis.full = false;\n\t\t\t\tthis.sendJS('full', false);\n\t\t\t\tthis.elementCoordinate();\n\t\t\t\tthis.carbarButton();\n\t\t\t\tthis.customCoor();//控制栏自定义元件\n\t\t\t\tthis.css(this.CB['full'], 'display', 'block');\n\t\t\t\tthis.css(this.CB['escFull'], 'display', 'none');\n\t\t\t\tif (this.timerFull != null) {\n\t\t\t\t\tif (this.timerFull.runing) {\n\t\t\t\t\t\tthis.timerFull.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthis.timerFull = null;\n\t\t\t\t}\n\t\t\t\tif (this.vars['live'] == 0) {\n\t\t\t\t\tthis.timeUpdateHandler();\n\t\t\t\t}\n\t\t\t\tthis.body.appendChild(this.CB['menu']);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建右键内容及注册相关动作事件\n\t\t*/\n\t\tnewMenu: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar i = 0;\n\t\t\tthis.css(this.CB['menu'], {\n\t\t\t\tbackgroundColor: '#FFFFFF',\n\t\t\t\tpadding: '5px',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tleft: '10px',\n\t\t\t\ttop: '20px',\n\t\t\t\tdisplay: 'none',\n\t\t\t\tzIndex: '999',\n\t\t\t\tcolor: '#A1A9BE',\n\t\t\t\tboxShadow: '2px 2px 3px #AAAAAA'\n\t\t\t});\n\t\t\tvar mArr = this.contextMenu;\n\t\t\tvar cMenu = this.ckConfig['menu'];\n\t\t\tif (cMenu['name']) {\n\t\t\t\tif (cMenu['link']) {\n\t\t\t\t\tmArr[0] = [cMenu['name'], 'link', cMenu['link']];\n\t\t\t\t} else {\n\t\t\t\t\tmArr[0] = [cMenu['name'], 'default'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (cMenu['version']) {\n\t\t\t\tmArr[1] = [cMenu['version'], 'default', 'line'];\n\t\t\t}\n\t\t\tif (cMenu['more']) {\n\t\t\t\tif (this.varType(cMenu['more']) == 'array') {\n\t\t\t\t\tif (cMenu['more'].length > 0) {\n\t\t\t\t\t\tvar moreArr = cMenu['more'];\n\t\t\t\t\t\tfor (i = 0; i < moreArr.length; i++) {\n\t\t\t\t\t\t\tvar mTemp = moreArr[i];\n\t\t\t\t\t\t\tvar arrTemp = [];\n\t\t\t\t\t\t\tif (mTemp['name']) {\n\t\t\t\t\t\t\t\tarrTemp.push(mTemp['name']);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (mTemp['clickEvent'] && mTemp['clickEvent'] != 'none') {\n\t\t\t\t\t\t\t\tvar eveObj = this.clickEvent(mTemp['clickEvent']);\n\t\t\t\t\t\t\t\tarrTemp.push(eveObj['type']);\n\t\t\t\t\t\t\t\tif (eveObj['fun']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(eveObj['fun']);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (eveObj['link']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(eveObj['link']);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (eveObj['target']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(' target=\"' + eveObj['target'] + '\"');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (mTemp['separatorBefore']) {\n\t\t\t\t\t\t\t\tarrTemp.push('line');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmArr.push(arrTemp);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar html = '';\n\t\t\tfor (i = 0; i < mArr.length; i++) {\n\t\t\t\tvar me = mArr[i];\n\t\t\t\tswitch (me[1]) {\n\t\t\t\tcase 'default':\n\t\t\t\t\thtml += '<p>' + me[0] + '</p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'link':\n\t\t\t\t\tif (me[3]) {\n\t\t\t\t\t\tme[3] = 'target=\"' + me[3] + '\"';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '<p><a href=\"' + me[2] + '\"' + me[3] + '>' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javaScript':\n\t\t\t\t\thtml += '<p><a href=\"javascript:' + me[2] + '\">' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'actionScript':\n\t\t\t\t\thtml += '<p><a href=\"javascript:' + this.vars['variable'] + me[2].replace('thisTemp', '') + '\">' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.CB['menu'].innerHTML = html;\n\t\t\tvar pArr = this.CB['menu'].childNodes;\n\t\t\tfor (i = 0; i < pArr.length; i++) {\n\t\t\t\tthis.css(pArr[i], {\n\t\t\t\t\theight: '30px',\n\t\t\t\t\tlineHeight: '30px',\n\t\t\t\t\tmargin: '0px',\n\t\t\t\t\tfontFamily: this.fontFamily,\n\t\t\t\t\tfontSize: '12px',\n\t\t\t\t\tpaddingLeft: '10px',\n\t\t\t\t\tpaddingRight: '30px'\n\t\t\t\t});\n\t\t\t\tif (mArr[i][mArr[i].length - 1] == 'line') {\n\t\t\t\t\tthis.css(pArr[i], 'borderBottom', '1px solid #e9e9e9');\n\t\t\t\t}\n\t\t\t\tvar aArr = pArr[i].childNodes;\n\t\t\t\tfor (var n = 0; n < aArr.length; n++) {\n\t\t\t\t\tif (aArr[n].localName == 'a') {\n\t\t\t\t\t\tthis.css(aArr[n], {\n\t\t\t\t\t\t\tcolor: '#000000',\n\t\t\t\t\t\t\ttextDecoration: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.PD.oncontextmenu = function(event) {\n\t\t\t\tvar eve = event || window.event;\n\t\t\t\tvar client = thisTemp.client(event);\n\t\t\t\tif (eve.button == 2) {\n\t\t\t\t\teve.returnvalue = false;\n\t\t\t\t\tvar x = client['x'] + thisTemp.pdCoor['x'] - 2;\n\t\t\t\t\tvar y = client['y'] + thisTemp.pdCoor['y'] - 2;\n\t\t\t\t\tthisTemp.css(thisTemp.CB['menu'], {\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\t\ttop: y + 'px'\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tvar setTimeOutPClose = function() {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar mouseOut = function(event) {\n\t\t\t\tsetTimeOutPClose();\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['menu'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', mouseOut, thisTemp.CB['menu']);\n\t\t\tvar mouseOver = function(event) {\n\t\t\t\tsetTimeOutPClose();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', mouseOver, thisTemp.CB['menu']);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建控制栏隐藏事件\n\t\t*/\n\t\tcontrolBarHide: function(hide) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar client = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t},\n\t\t\toldClient = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t\tvar cShow = true,\n\t\t\tforce = false;\n\t\t\tvar oldCoor = [0, 0];\n\t\t\tvar controlBarShow = function(show) {\n\t\t\t\tif (show && !cShow && thisTemp.controlBarIsShow) {\n\t\t\t\t\tcShow = true;\n\t\t\t\t\tthisTemp.sendJS('controlBar', true);\n\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBarBg'], 'display', 'block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBar'], 'display', 'block');\n\t\t\t\t\tthisTemp.timeProgressDefault();\n\t\t\t\t\t//thisTemp.css(thisTemp.CB['timeProgressBg'], 'display', 'block');\n\t\t\t\t\t//thisTemp.css(thisTemp.CB['timeBoBg'], 'display', 'block');\n\t\t\t\t\tthisTemp.changeVolume(thisTemp.volume);\n\t\t\t\t\tthisTemp.changeLoad();\n\t\t\t\t\tif (!thisTemp.timerBuffer) {\n\t\t\t\t\t\tthisTemp.bufferEdHandler();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (cShow) {\n\t\t\t\t\t\tcShow = false;\n\t\t\t\t\t\tvar paused = thisTemp.getMetaDate()['paused'];\n\t\t\t\t\t\tif (force) {\n\t\t\t\t\t\t\tpaused = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!paused) {\n\t\t\t\t\t\t\tthisTemp.sendJS('controlBar', false);\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBarBg'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBar'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.promptShow(false);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisTemp.videoCss();//计算video的宽高和位置\n\t\t\t};\n\t\t\tvar cbarFun = function(event) {\n\t\t\t\tif (client['x'] == oldClient['x'] && client['y'] == oldClient['y']) {\n\t\t\t\t\tvar cdH = parseInt(thisTemp.CD.offsetHeight);\n\t\t\t\t\tif ((client['y'] < cdH - 50 || client['y'] > cdH - 2) && cShow && !thisTemp.getMetaDate()['paused']) {\n\t\t\t\t\t\tcontrolBarShow(false);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!cShow) {\n\t\t\t\t\t\tcontrolBarShow(true);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\toldClient = {\n\t\t\t\t\tx: client['x'],\n\t\t\t\t\ty: client['y']\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerCBar = new this.timer(2000, cbarFun);\n\t\t\tvar cdMove = function(event) {\n\t\t\t\tvar getClient = thisTemp.client(event);\n\t\t\t\tclient['x'] = getClient['x'];\n\t\t\t\tclient['y'] = getClient['y'];\n\t\t\t\tif (!cShow) {\n\t\t\t\t\tcontrolBarShow(true);\n\t\t\t\t}\n\t\t\t\tthisTemp.sendJS('mouse',client);\n\t\t\t};\n\t\t\tthis.addListenerInside('mousemove', cdMove, thisTemp.CD);\n\t\t\tthis.addListenerInside('ended', cdMove);\n\t\t\tthis.addListenerInside('resize', cdMove, window);\n\t\t\tif (hide === true) {\n\t\t\t\tcShow = true;\n\t\t\t\tforce = true;\n\t\t\t\tcontrolBarShow(false);\n\t\t\t}\n\t\t\tif (hide === false) {\n\t\t\t\tcShow = false;\n\t\t\t\tforce = true;\n\t\t\t\tcontrolBarShow(true);\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册键盘按键事件\n\t\t*/\n\t\tkeypress: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar keyDown = function(eve) {\n\t\t\t\tvar keycode = eve.keyCode || eve.which;\n\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tswitch (keycode) {\n\t\t\t\t\tcase 32:\n\t\t\t\t\t\tthisTemp.playOrPause();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 37:\n\t\t\t\t\t\tthisTemp.fastBack();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 39:\n\t\t\t\t\t\tthisTemp.fastNext();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 38:\n\t\t\t\t\t\tnow = thisTemp.volume + thisTemp.ckConfig['config']['volumeJump'];\n\t\t\t\t\t\tthisTemp.changeVolume(now > 1 ? 1 : now);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 40:\n\t\t\t\t\t\tnow = thisTemp.volume - thisTemp.ckConfig['config']['volumeJump'];\n\t\t\t\t\t\tthisTemp.changeVolume(now < 0 ? 0 : now);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('keydown', keyDown, window || document);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册倍速相关\n\t\t*/\n\t\tplaybackRate: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['playbackRate']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['playbackrate'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar thisTemp = this;\n\t\t\tvar dArr = this.playbackRateArr;\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的倍速\n\t\t\tvar i = 0,nowI=0;\n\t\t\tnowD = dArr[this.playbackRateDefault][1];\n\t\t\tnowI=this.playbackRateDefault;\n\t\t\tthis.removeChildAll(this.CB['playbackrateP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['playbackratePB']=document.createElement('div'),this.CB['playbackratePC']=document.createElement('div');\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackratePB']);\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackratePC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['playbackratePC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['playbackrateP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['playbackratePB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i][1];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['playbackrateP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['playbackrateP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['playbackratePC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['playbackratePC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar subClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newPlaybackrate(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', subClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['playbackrateTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackrateTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['playbackrateTriangle'],cssTemp);\n\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = nowD;\n\t\t\t} else {\n\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = this.ckLanguage['playbackrate'];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册切换倍速播放相关事件\n\t\t*/\n\t\taddPlaybackrate: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['playbackrateP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['playbackratePC'])){\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'],'display','block');\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['playbackrate']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackratePB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['playbackratePC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['playbackratePC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['playbackratePC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['playbackratePC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['playbackratePB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['playbackrate']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['playbackrateP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['playbackrateP']);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t切换倍速后发生的动作\n\t\t*/\n\t\tnewPlaybackrate: function(title) {\n\t\t\tvar vArr = this.playbackRateArr;\n\t\t\tvar nVArr = [];\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[1] == title) {\n\t\t\t\t\tthis.playbackRateDefault = i;\n\t\t\t\t\tthis.V.playbackRate = v[0];\n\t\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = v[1];\n\t\t\t\t\t\tthis.playbackRate();\n\t\t\t\t\t}\n\t\t\t\t\tthis.sendJS('playbackRate', v);\n\t\t\t\t\tthis.playbackRateTemp=v[0];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册多字幕切换相关\n\t\t*/\n\t\tsubtitleSwitch: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['subtitle']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar dArr = this.vars['cktrack'];//字幕数组\n\t\t\tif(this.varType(dArr)!='array'){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(dArr[0][1]==''){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['subtitle'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的字幕\n\t\t\tvar i = 0,nowI=0;\n\t\t\t\n\t\t\tif(this.subtitlesTemp==-1 && dArr.length>0){\n\t\t\t\tthis.subtitlesTemp=dArr.length-1;\n\t\t\t}\n\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\tif(this.subtitlesTemp==i){\n\t\t\t\t\tnowD=dArr[i][1];\n\t\t\t\t\tnowI=i;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!nowD) {\n\t\t\t\tnowD = dArr[0][1];\n\t\t\t}\n\t\t\tthis.removeChildAll(this.CB['subtitlesP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['subtitlesPB']=document.createElement('div'),this.CB['subtitlesPC']=document.createElement('div');\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesPB']);\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesPC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['subtitlesPC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['subtitlesP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['subtitlesPB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i][1];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['subtitlesP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['subtitlesP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['subtitlesPC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['subtitlesPC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar subClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newSubtitles(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', subClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['subtitlesTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['subtitlesTriangle'],cssTemp);\n\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = nowD;\n\t\t\t} else {\n\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = this.ckLanguage['subtitle'];\n\t\t\t}\n\t\t\t\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册多字幕切换事件\n\t\t*/\n\t\taddSubtitles:function(){\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['subtitlesP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['subtitlesPC'])){\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['subtitle']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'],'display','block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesPB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['subtitlesPC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['subtitlesPC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['subtitlesPC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['subtitlesPC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['subtitlesPB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['subtitles']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['subtitlesP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['subtitlesP']);\n\t\t},\n\t\t/*\n\t\t\t接口函数:修改字幕，按数组编号来\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeSubtitles: function(n) {\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar vArr = this.vars['cktrack'];//字幕数组\n\t\t\tif(this.varType(vArr)!='array'){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeSubtitles(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (vArr.length > n) {\n\t\t\t\tvar arr = vArr[n];\n\t\t\t\tif (arr.length > 2) {\n\t\t\t\t\tvar title = arr[1];\n\t\t\t\t\tif (title) {\n\t\t\t\t\t\tthis.newSubtitles(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数：修改字幕大小\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeSubtitlesSize:function(n,m){\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeSubtitlesSize(n,m);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.ckStyle['cktrack']['size']=n;\n\t\t\tif(!this.isUndefined(m)){\n\t\t\t\tthis.ckStyle['cktrack']['leading']=m;\n\t\t\t}\n\t\t\tthis.trackShowAgain();\n\t\t},\n\t\t/*\n\t\t\t当切换字幕时的动作 \n\t\t*/\n\t\tnewSubtitles:function(title){\n\t\t\tvar vArr = this.vars['cktrack'];//字幕数组\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[1] == title) {\n\t\t\t\t\tthis.subtitlesTemp=i;\n\t\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = v[1];\n\t\t\t\t\t\tthis.subtitleSwitch();\n\t\t\t\t\t\tthis.loadTrack(i);\n\t\t\t\t\t}\n\t\t\t\t\tthis.sendJS('subtitles', v);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建清晰度按钮及切换事件(Click事件)\n\t\t*/\n\t\tdefinition: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['definition']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['definition'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar thisTemp = this;\n\t\t\tvar vArr = this.VA;\n\t\t\tvar dArr = [];\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的清晰度\n\t\t\tvar i = 0,nowI=0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar d = vArr[i][2];\n\t\t\t\tif (dArr.indexOf(d) == -1) {\n\t\t\t\t\tdArr.push(d);\n\t\t\t\t}\n\t\t\t\tif (this.V) {\n\t\t\t\t\tif (vArr[i][0] == this.V.currentSrc) {\n\t\t\t\t\t\tnowD = d;\n\t\t\t\t\t\tnowI = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!nowD) {\n\t\t\t\tnowD = dArr[0];\n\t\t\t}\n\t\t\tthis.removeChildAll(this.CB['definitionP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['definitionPB']=document.createElement('div'),this.CB['definitionPC']=document.createElement('div');\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionPB']);\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionPC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['definitionPC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['definitionP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['definitionPB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['definitionP'],dArr[i],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['definitionP'],dArr[i],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['definitionPC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['definitionPC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar defClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newDefinition(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', defClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['definitionTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['definitionTriangle'],cssTemp);\n\t\t\t\tthis.CB['defaultButtonText'].innerHTML = nowD;\n\t\t\t\tthis.css(this.CB['definition'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.CB['defaultButtonText'].innerHTML = this.ckLanguage['definition'];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除节点内容\n\t\t*/\n\t\tremoveChildAll:function(ele){\n\t\t\tfor(var i=ele.childNodes.length-1;i>=0;i--){\n\t\t\t\tvar childNode=ele.childNodes[i];\n\t\t\t\tele.removeChild(childNode);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册清晰度相关事件\n\t\t*/\n\t\taddDefListener: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['definitionP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['definitionPC'])){\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'],'display','block');\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['definition']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionPB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['definitionPC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['definitionPC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['definitionPC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['definitionPC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['definitionPB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['definition']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['definitionP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['definitionP']);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeDefinition: function(n) {\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeDefinition(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.VA.length > n) {\n\t\t\t\tvar arr = this.VA[n];\n\t\t\t\tif (arr.length > 3) {\n\t\t\t\t\tvar title = arr[2];\n\t\t\t\t\tif (title) {\n\t\t\t\t\t\tthis.newDefinition(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t切换清晰度后发生的动作\n\t\t*/\n\t\tnewDefinition: function(title) {\n\t\t\tvar vArr = this.VA;\n\t\t\tvar nVArr = [];\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[2] == title) {\n\t\t\t\t\tnVArr.push(v);\n\t\t\t\t\tthis.sendJS('definitionChange', i + '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (nVArr.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V != null && this.needSeek == 0) {\n\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t}\n\t\t\tif (this.getFileExt(nVArr[0][0]) != '.m3u8') {\n\t\t\t\tthis.isM3u8 = false;\n\t\t\t}\n\t\t\tif (!this.isM3u8) {\n\t\t\t\tif (nVArr.length == 1) {\n\t\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\t\tthis.V.src = nVArr[0][0];\n\t\t\t\t\tthis.V.currentSrc = nVArr[0][0];\n\t\t\t\t} else {\n\t\t\t\t\tvar source = '';\n\t\t\t\t\tnVArr = this.arrSort(nVArr);\n\t\t\t\t\tfor (i = 0; i < nVArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = nVArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + va[0] + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\tthis.V.innerHTML = source;\n\t\t\t\t\tthis.V.currentSrc = nVArr[0][0];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.embedHls(vArr[0][0], this.vars['autoplay']);\n\t\t\t}\n\t\t\tthis.V.autoplay = 'autoplay';\n\t\t\tthis.V.load();\n\t\t\tif (this.playbackRateTemp!=1) {\n\t\t\t\tthis.V.playbackRate = this.playbackRateTemp; //定义倍速\n\t\t\t}\n\t\t\tthis.timerErrorFun();\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t播放hls\n\t\t*/\n\t\tembedHls: function(url, autoplay) {\n\t\t\tvar thisTemp = this;\n\t\t\tthisTemp.hlsAutoPlay=autoplay;\n\t\t\tif (Hls.isSupported()) {\n\t\t\t\tvar hls = new Hls();\n\t\t\t\thls.loadSource(url);\n\t\t\t\thls.attachMedia(this.V);\n\t\t\t\thls.on(Hls.Events.MANIFEST_PARSED,\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.playerLoad();\n\t\t\t\t\tif (autoplay) {\n\t\t\t\t\t\tthisTemp.videoPlay();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建提示点\n\t\t*/\n\t\tprompt: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar prompt = this.vars['promptSpot'];\n\t\t\tif (prompt == null || this.promptArr.length > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar showPrompt = function(event) {\n\t\t\t\tif (thisTemp.promptElement == null) {\n\t\t\t\t\tvar random2 = 'prompte-' + thisTemp.randomString(5);\n\t\t\t\t\tvar ele2 = document.createElement('div');\n\t\t\t\t\tele2.className = random2;\n\t\t\t\t\tthisTemp.PD.appendChild(ele2);\n\t\t\t\t\tthisTemp.promptElement = thisTemp.getByElement(random2);\n\t\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\t\toverflowX: 'hidden',\n\t\t\t\t\t\tlineHeight: thisTemp.ckStyle['previewPrompt']['lineHeight']+'px',\n\t\t\t\t\t\tfontFamily: thisTemp.ckStyle['previewPrompt']['font'],\n\t\t\t\t\t\tfontSize: thisTemp.ckStyle['previewPrompt']['size']+'px',\n\t\t\t\t\t\tcolor: thisTemp.ckStyle['previewPrompt']['color'].replace('0x','#'),\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\tzIndex: '90'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tvar pcon = thisTemp.getPromptTest();\n\t\t\t\tvar pW = pcon['pW'],\n\t\t\t\tpT = pcon['pT'],\n\t\t\t\tpL = parseInt(thisTemp.css(this, 'left')) - parseInt(pW * 0.5);\n\t\t\t\tif (pcon['pL'] > 10) {\n\t\t\t\t\tpL = pcon['pL'];\n\t\t\t\t}\n\t\t\t\tif (pL < 0) {\n\t\t\t\t\tpL = 0;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\twidth: pW + 'px',\n\t\t\t\t\tleft: ( - pW - 10) + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptElement.innerHTML = thisTemp.getDataset(this, 'words');\n\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\tleft: pL + 'px',\n\t\t\t\t\ttop: (pT - thisTemp.promptElement.offsetHeight-thisTemp.ckStyle['previewPrompt']['marginBottom']) + 'px'\n\t\t\t\t});\n\t\t\t};\n\t\t\tvar hidePrompt = function(event) {\n\t\t\t\tif (thisTemp.promptElement != null) {\n\t\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\t\tdisplay: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < prompt.length; i++) {\n\t\t\t\tvar pr = prompt[i];\n\t\t\t\tvar words = pr['words'];\n\t\t\t\tvar time = pr['time'];\n\t\t\t\tvar random = 'prompttitle-' + this.randomString(5);\n\t\t\t\tvar ele = document.createElement('div');\n\t\t\t\tele.className = random;\n\t\t\t\tthis.CB['timeBoBg'].appendChild(ele);\n\t\t\t\tvar div = this.getByElement(random);\n\t\t\t\ttry{\n\t\t\t\t\tdiv.setAttribute('data-time', time);\n\t\t\t\t\tif(this.ckConfig['config']['promptSpotTime']){\n\t\t\t\t\t\twords=this.formatTime(time,0,this.ckLanguage['timeSliderOver'])+' '+words;\n\t\t\t\t\t}\n\t\t\t\t\tdiv.setAttribute('data-words', words);\n\t\t\t\t}\n\t\t\t\tcatch(event){}\n\t\t\t\tvar pCss=this.getEleCss(this.ckStyle['promptSpotH5'],{marginY:-10000,zIndex: 1});\n\t\t\t\ttry{\n\t\t\t\t\tthis.css(div, pCss);\n\t\t\t\t}\n\t\t\t\tcatch(event){}\n\t\t\t\tthis.addListenerInside('mouseover', showPrompt, div);\n\t\t\t\tthis.addListenerInside('mouseout', hidePrompt, div);\n\t\t\t\tthis.promptArr.push(div);\n\t\t\t}\n\t\t\tthis.changePrompt();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t计算提示文本的位置\n\t\t*/\n\t\tgetPromptTest: function() {\n\t\t\tvar pW = this.previewWidth,\n\t\t\tpT = this.getCoor(this.CB['timeProgressBg'])['y'],\n\t\t\tpL = 0;\n\t\t\tif (this.previewTop != null) {\n\t\t\t\tpT = parseInt(this.css(this.previewTop, 'top'));\n\t\t\t\tpL = parseInt(this.css(this.previewTop, 'left'));\n\t\t\t} else {\n\t\t\t\tpT -= 35;\n\t\t\t}\n\t\t\tpL += 2;\n\t\t\tif (pL < 0) {\n\t\t\t\tpL = 0;\n\t\t\t}\n\t\t\tif (pL > this.PD.offsetWidth - pW) {\n\t\t\t\tpL = this.PD.offsetWidth - pW;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tpW: pW,\n\t\t\t\tpT: pT,\n\t\t\t\tpL: pL\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除提示点\n\t\t*/\n\t\tdeletePrompt: function() {\n\t\t\tvar arr = this.promptArr;\n\t\t\tif (arr.length > 0) {\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i]) {\n\t\t\t\t\t\tthis.deleteChild(arr[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.promptArr = [];\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t计算提示点坐标\n\t\t*/\n\t\tchangePrompt: function() {\n\t\t\tif (this.promptArr.length == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = this.promptArr;\n\t\t\tvar duration = this.getMetaDate()['duration'];\n\t\t\tvar bw = this.CB['timeBoBg'].offsetWidth;\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar time = parseInt(this.getDataset(arr[i], 'time'));\n\t\t\t\tvar left = parseInt(time * bw / duration) - parseInt(arr[i].offsetWidth * 0.5);\n\t\t\t\tif (left < 0) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\t\t\t\tif (left > bw - parseInt(arr[i].offsetWidth * 0.5)) {\n\t\t\t\t\tleft = bw - parseInt(arr[i].offsetWidth * 0.5);\n\t\t\t\t}\n\t\t\t\tthis.css(arr[i], {\n\t\t\t\t\tleft: left + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建预览图片效果\n\t\t*/\n\t\tpreview: function(obj) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar preview = {\n\t\t\t\tfile: null,\n\t\t\t\tscale: 0\n\t\t\t};\n\t\t\tpreview = this.standardization(preview, this.vars['preview']);\n\t\t\tif (preview['file'] == null || preview['scale'] <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar srcArr = preview['file'];\n\t\t\tif (this.previewStart == 0) { //如果还没有构建，则先进行构建\n\t\t\t\tthis.previewStart = 1;\n\t\t\t\tif (srcArr.length > 0) {\n\t\t\t\t\tvar i = 0;\n\t\t\t\t\tvar imgW = 0,\n\t\t\t\t\timgH = 0;\n\t\t\t\t\tvar random = 'preview-'+thisTemp.randomString(10);\n\t\t\t\t\tvar loadNum = 0;\n\t\t\t\t\tvar loadImg = function(i) {\n\t\t\t\t\t\tsrcArr[i] = thisTemp.getNewUrl(srcArr[i]);\n\t\t\t\t\t\tvar n = 0;\n\t\t\t\t\t\tvar img = new Image();\n\t\t\t\t\t\timg.src = srcArr[i];\n\t\t\t\t\t\timg.className = random + i;\n\t\t\t\t\t\timg.onload = function(event) {\n\t\t\t\t\t\t\tloadNum++;\n\t\t\t\t\t\t\tif (thisTemp.previewDiv == null) { //如果没有建立DIV，则建\n\t\t\t\t\t\t\t\timgW = img.width;\n\t\t\t\t\t\t\t\timgH = img.height;\n\t\t\t\t\t\t\t\tthisTemp.previewWidth = parseInt(imgW * 0.1);\n\t\t\t\t\t\t\t\tvar ele = document.createElement('div');\n\t\t\t\t\t\t\t\tele.className = random;\n\t\t\t\t\t\t\t\tthisTemp.PD.appendChild(ele);\n\t\t\t\t\t\t\t\tthisTemp.previewDiv = thisTemp.getByElement(random);\n\t\t\t\t\t\t\t\tvar eleTop = 0;\n\t\t\t\t\t\t\t\teleTop=thisTemp.PD.offsetHeight -thisTemp.ckStyle['preview']['bottom'];\n\t\t\t\t\t\t\t\tthisTemp.css(thisTemp.previewDiv, {\n\t\t\t\t\t\t\t\t\twidth: srcArr.length * imgW * 10 + 'px',\n\t\t\t\t\t\t\t\t\theight: parseInt(imgH * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\tbackgroundColor: '#000000',\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\t\t\ttop: eleTop + 'px',\n\t\t\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t\t\tzIndex: '80'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tele.setAttribute('data-x', '0');\n\t\t\t\t\t\t\t\tele.setAttribute('data-y', eleTop);\n\t\t\t\t\t\t\t\tvar ele2 = document.createElement('div');\n\t\t\t\t\t\t\t\tele2.className = random + 'd2';\n\t\t\t\t\t\t\t\tthisTemp.PD.appendChild(ele2);\n\t\t\t\t\t\t\t\tthisTemp.previewTop = thisTemp.getByElement(ele2.className);\n\t\t\t\t\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\t\t\t\t\twidth: parseInt(imgW * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\theight: parseInt(imgH * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\tborder: thisTemp.ckStyle['preview']['border']+'px solid ' + thisTemp.ckStyle['preview']['borderColor'].replace('0x','#'),\n\t\t\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\t\t\ttop: eleTop + 'px',\n\t\t\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t\t\tzIndex: '81'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tvar html = '';\n\t\t\t\t\t\t\t\tfor (n = 0; n < srcArr.length; n++) {\n\t\t\t\t\t\t\t\t\thtml += thisTemp.newCanvas(random + n, imgW * 10, parseInt(imgH * 0.1))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisTemp.previewDiv.innerHTML = html;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.previewDiv.appendChild(img);\n\t\t\t\t\t\t\tvar cimg = thisTemp.getByElement(img.className);\n\t\t\t\t\t\t\tvar canvas = thisTemp.getByElement(img.className + '-canvas');\n\t\t\t\t\t\t\tvar context = canvas.getContext('2d');\n\t\t\t\t\t\t\tvar sx = 0,\n\t\t\t\t\t\t\tsy = 0,\n\t\t\t\t\t\t\tx = 0,\n\t\t\t\t\t\t\th = parseInt(imgH * 0.1);\n\t\t\t\t\t\t\tfor (n = 0; n < 100; n++) {\n\t\t\t\t\t\t\t\tx = parseInt(n * imgW * 0.1);\n\t\t\t\t\t\t\t\tcontext.drawImage(cimg, sx, sy, parseInt(imgW * 0.1), h, x, 0, parseInt(imgW * 0.1), h);\n\t\t\t\t\t\t\t\tsx += parseInt(imgW * 0.1);\n\t\t\t\t\t\t\t\tif (sx >= imgW) {\n\t\t\t\t\t\t\t\t\tsx = 0;\n\t\t\t\t\t\t\t\t\tsy += h;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisTemp.css(cimg, 'display', 'none');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (loadNum == srcArr.length) {\n\t\t\t\t\t\t\t\tthisTemp.previewStart = 2;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t\t\tloadImg(i);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tloadImg(i);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.previewStart == 2) {\n\t\t\t\tvar isTween = true;\n\t\t\t\tvar nowNum = parseInt(obj['time'] / this.vars['preview']['scale']);\n\t\t\t\tvar numTotal = parseInt(thisTemp.getMetaDate()['duration'] / this.vars['preview']['scale']);\n\t\t\t\tif (thisTemp.css(thisTemp.previewDiv, 'display') == 'none') {\n\t\t\t\t\tisTween = false;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'display', 'block');\n\t\t\t\tvar imgWidth = thisTemp.previewDiv.offsetWidth * 0.01 / srcArr.length;\n\t\t\t\tvar left = (imgWidth * nowNum) - obj['x'] + parseInt(imgWidth * 0.5),\n\t\t\t\ttop=thisTemp.PD.offsetHeight- thisTemp.previewDiv.offsetHeight -thisTemp.ckStyle['preview']['bottom'];\n\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'top', top + 2 + 'px');\n\t\t\t\tvar topLeft = obj['x'] - parseInt(imgWidth * 0.5);\n\t\t\t\tvar timepieces = 0;\n\t\t\t\tif (topLeft < 0) {\n\t\t\t\t\ttopLeft = 0;\n\t\t\t\t\ttimepieces = obj['x'] - topLeft - imgWidth * 0.5;\n\t\t\t\t}\n\t\t\t\tif (topLeft > thisTemp.PD.offsetWidth - imgWidth) {\n\t\t\t\t\ttopLeft = thisTemp.PD.offsetWidth - imgWidth;\n\t\t\t\t\ttimepieces = obj['x'] - topLeft - imgWidth * 0.5;\n\t\t\t\t}\n\t\t\t\tif (left < 0) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\t\t\t\tif (left > numTotal * imgWidth - thisTemp.PD.offsetWidth) {\n\t\t\t\t\tleft = numTotal * imgWidth - thisTemp.PD.offsetWidth;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\tleft: topLeft + 'px',\n\t\t\t\t\ttop: top + 2 + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t\tif (thisTemp.previewTop.offsetHeight > thisTemp.previewDiv.offsetHeight) {\n\t\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\t\theight: thisTemp.previewDiv.offsetHeight - (thisTemp.previewTop.offsetHeight - thisTemp.previewDiv.offsetHeight) + 'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (this.previewTween != null) {\n\t\t\t\t\tthis.animatePause(this.previewTween);\n\t\t\t\t\tthis.previewTween = null\n\t\t\t\t}\n\t\t\t\tvar nowLeft = parseInt(thisTemp.css(thisTemp.previewDiv, 'left'));\n\t\t\t\tvar leftC = nowLeft + left;\n\t\t\t\tif (nowLeft == -(left + timepieces)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (isTween) {\n\t\t\t\t\tvar obj = {\n\t\t\t\t\t\telement: thisTemp.previewDiv,\n\t\t\t\t\t\tstart: null,\n\t\t\t\t\t\tend: -(left + timepieces),\n\t\t\t\t\t\tspeed: 0.3\n\t\t\t\t\t};\n\t\t\t\t\tthis.previewTween = this.animate(obj);\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'left', -(left + timepieces) + 'px')\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除预览图节点\n\t\t*/\n\t\tdeletePreview: function() {\n\t\t\tif (this.previewDiv != null) {\n\t\t\t\tthis.deleteChild(this.previewDiv);\n\t\t\t\tthis.previewDiv = null;\n\t\t\t\tthis.previewStart = 0;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t修改视频地址，属性\n\t\t*/\n\t\tchangeVideo: function() {\n\t\t\tif (!this.html5Video) {\n\t\t\t\tthis.getVarsObject();\n\t\t\t\tthis.V.newVideo(this.vars);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar vArr = this.VA;\n\t\t\tvar v = this.vars;\n\t\t\tvar i = 0;\n\t\t\tif (vArr.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V != null && this.needSeek == 0) {\n\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t}\n\t\t\tif (v['poster']) {\n\t\t\t\tthis.V.poster = v['poster'];\n\t\t\t} else {\n\t\t\t\tthis.V.removeAttribute('poster');\n\t\t\t}\n\t\t\tif (v['loop']) {\n\t\t\t\tthis.V.loop = 'loop';\n\t\t\t} else {\n\t\t\t\tthis.V.removeAttribute('loop');\n\t\t\t}\n\t\t\tif (v['seek'] > 0) {\n\t\t\t\tthis.needSeek = v['seek'];\n\t\t\t} else {\n\t\t\t\tthis.needSeek = 0;\n\t\t\t}\n\t\t\tif (this.getFileExt(vArr[0][0]) != '.m3u8') {\n\t\t\t\tthis.isM3u8 = false;\n\t\t\t}\n\t\t\tif (!this.isM3u8) {\n\t\t\t\tif (vArr.length == 1) {\n\t\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\t\tthis.V.src = vArr[0][0];\n\t\t\t\t} else {\n\t\t\t\t\tvar source = '';\n\t\t\t\t\tvArr = this.arrSort(vArr);\n\t\t\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = vArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + va[0] + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\tthis.V.innerHTML = source;\n\t\t\t\t}\n\t\t\t\t//分析视频地址结束\n\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\tthis.V.autoplay = 'autoplay';\n\t\t\t\t} else {\n\t\t\t\t\tthis.V.removeAttribute('autoplay');\n\t\t\t\t}\n\t\t\t\tthis.V.load();\n\t\t\t} else {\n\t\t\t\tthis.embedHls(vArr[0][0], v['autoplay']);\n\t\t\t}\n\t\t\tif (!this.isUndefined(v['volume'])) {\n\t\t\t\tthis.changeVolume(v['volume']);\n\t\t\t}\n\t\t\tthis.resetPlayer(); //重置界面元素\n\t\t\tthis.timerErrorFun();\n\t\t\t//如果存在字幕则加载\n\t\t\tif (this.vars['cktrack']) {\n\t\t\t\tthis.loadTrack();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t调整中间暂停按钮,缓冲loading，错误提示文本框的位置\n\t\t*/\n\t\telementCoordinate: function() {\n\t\t\tthis.pdCoor = this.getXY(this.PD);\n\t\t\tvar cssTemp=null;\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['centerPlay'],{cursor:'pointer'});\n\t\t\t\tthis.css(this.CB['pauseCenter'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['loading']);\n\t\t\t\tthis.css(this.CB['loading'],cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['error']);\n\t\t\t\tthis.css(this.CB['errorText'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['logo']);\n\t\t\t\tthis.css(this.CB['logo'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\tthis.checkBarWidth();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t控制栏内各按钮的位置\n\t\t*/\n\t\tcarbarButton:function(){\n\t\t\tvar styleC=this.ckStyle['controlBar'];\n\t\t\tvar styleCB=styleC['button'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\tvar cssSup2={overflow: 'hidden',cursor: 'default',zIndex: 1};\n\t\t\tvar cssSup4={overflow: 'hidden',cursor: 'pointer',display: 'none',zIndex: 995};\n\t\t\t//播放/暂停按钮\n\t\t\tcssTemp=this.getEleCss(styleCB['play'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['play'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['pause'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['pause'],cssTemp);\n\t\t\t//设置静音/取消静音的按钮样式\n\t\t\tcssTemp=this.getEleCss(styleCB['mute'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['mute'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['escMute'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['escMute'],cssTemp);\n\t\t\t//设置全屏/退出全屏按钮样式\n\t\t\tcssTemp=this.getEleCss(styleCB['full'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['full'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['escFull'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['escFull'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleC['timeText']['vod'],cssSup2,this.CB['controlBarBg']);\n \t\t\tthis.css(this.CB['timeText'], cssTemp);\n \t\t\t//音量调节框\n \t\t\tvar volumeSchedule=this.newObj(styleC['volumeSchedule']);\n \t\t\tvolumeSchedule['backgroundImg']='';\n\t\t\tcssTemp=this.getEleCss(volumeSchedule,cssSup2,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['volume'],cssTemp);\n\t\t\tcssTemp= {\n\t\t\t\twidth: cssTemp['width'],\n\t\t\t\theight: styleC['volumeSchedule']['backgroundHeight']+'px',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tbackgroundRepeat:'no-repeat',\n\t\t\t\tbackgroundPosition:'left center'\n\t\t\t};\n\t\t\tif(this.ckConfig['config']['buttonMode']['volumeSchedule']){\n\t\t\t\tcssTemp['cursor']='pointer';\n\t\t\t}\n\t\t\tthis.css(this.CB['volumeBg'],cssTemp);\n\t\t\tthis.css(this.CB['volumeBg'], {\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t\tcssTemp['width']=(this.CB['volumeBO'].offsetWidth*0.5+parseInt(this.css(this.CB['volumeBO'],'left')))+'px';\n\t\t\tthis.css(this.CB['volumeUp'],cssTemp);\n\t\t\tthis.css(this.CB['volumeBg'], 'backgroundImage', 'url('+styleC['volumeSchedule']['backgroundImg']+')');\n\t\t\tthis.css(this.CB['volumeUp'], 'backgroundImage', 'url('+styleC['volumeSchedule']['maskImg']+')');\n\t\t\t//音量调节按钮\n\t\t\tcssTemp=this.getEleCss(styleC['volumeSchedule']['button'],{overflow: 'hidden',cursor: 'pointer',backgroundRepeat:'no-repeat',backgroundPosition:'left center'});\n\t\t\tthis.css(this.CB['volumeBO'],cssTemp);\n\t\t\t//倍速容器\n\t\t\tif(this.ckConfig['config']['playbackRate']){\n\t\t\t\tif(!this.CB['playbackrateButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['playbackrate'],styleC['playbackrate']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['playbackrate']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['playbackrate'],'playbackrateButtonText');\n\t\t\t\t}\n\t\t\t\tcssTemp=this.getEleCss(styleC['playbackrate']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['playbackrate'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['playbackrateP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['playbackrate']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['playbackrateP'], cssTemp);\n\t\t\t}\n\t\t\t//初始化清晰度按钮\n\t\t\tif(this.ckConfig['config']['definition']){\n\t\t\t\tif(!this.CB['defaultButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['definition'],styleC['definition']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['definition']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['definition'],'defaultButtonText');\n\t\t\t\t}\n\t\t\t\tcssTemp=this.getEleCss(styleC['definition']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['definition'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['definitionP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['definition']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['definitionP'], cssTemp);\n\t\t\t}\n\t\t\t//初始化字幕切换按钮\n\t\t\tif(this.ckConfig['config']['subtitle']){\n\t\t\t\tif(!this.CB['subtitleButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['subtitles'],styleC['subtitle']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['subtitle']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['subtitle'],'subtitleButtonText');\n\t\t\t\t}\n\t\t\t\t//字幕按钮列表容器样式\n\t\t\t\tcssTemp=this.getEleCss(styleC['subtitle']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['subtitles'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['subtitlesP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['subtitle']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['subtitlesP'], cssTemp);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t构造一个文字按钮\n\t\t \tele:当前按钮\n\t\t \tcss:样式\n\t\t \tcssSup:补充样式\n\t\t \tupEle：上一级容器对象\n\t\t \ttext:显示的文本\n\t\t \tnewName:文本框名称\n\t\t*/\n\t\ttextButton:function(ele,css,cssSup,upEle,text,newName){\n\t\t\tvar thisTemp=this;\n\t\t\tvar bgCss={\n\t\t\t\twidth:css['width'],\n\t\t\t\theight:css['height']\n\t\t\t};\n\t\t\tif(cssSup){\n\t\t\t\tbgCss={\n\t\t\t\t\twidth:css['width'],\n\t\t\t\t\theight:css['height'],\n\t\t\t\t\talign:cssSup['align'],\n\t\t\t\t\tvAlign:cssSup['vAlign'],\n\t\t\t\t\tmarginX: cssSup['marginX'],\n\t\t\t\t\tmarginY: cssSup['marginY'],\n\t\t\t\t\toffsetX: cssSup['offsetX'],\n\t\t\t\t\toffsetY: cssSup['offsetY'],\n\t\t\t\t\tzIndex:2\n\t\t\t\t};\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(bgCss,null,upEle);\n\t\t\tthisTemp.css(ele, cssTemp);\n\t\t\tvar outCss=this.newObj(css);\n\t\t\tvar overCss=this.newObj(css);\n\t\t\tvar textOutCss=this.newObj(css);\n\t\t\tvar textOverCss=this.newObj(css);\n\t\t\tvar cssTemp=null;\n\t\t\toutCss['alpha']=css['backgroundAlpha'];\n\t\t\toverCss['backgroundColor']=css['overBackgroundColor'];\n\t\t\toverCss['alpha']=css['backgroundAlpha'];\n\t\t\ttextOutCss['color']=css['textColor'];\n\t\t\ttextOverCss['color']=css['overTextColor'];\n\t\t\ttextOutCss['textAlign']=css['align'];\n\t\t\ttextOverCss['textAlign']=css['align'];\n\t\t\t//修正文字\n\t\t\ttextOutCss['backgroundColor']=textOverCss['backgroundColor']='';\n\t\t\tvar bgEle=document.createElement('div');//按钮背景层\n\t\t\tthis.removeChildAll(ele);\n\t\t\tele.appendChild(bgEle);\n\t\t\tif(newName){\n\t\t\t\tthis.CB[newName]=document.createElement('div');//文字层\n\t\t\t\tele.appendChild(this.CB[newName]);\n\t\t\t\tthis.CB[newName].innerHTML=text;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar newEle=document.createElement('div');//文字层\n\t\t\t\tele.appendChild(newEle);\n\t\t\t\tnewEle.innerHTML=text;\n\t\t\t}\n\t\t\tvar outFun=function(){\n\t\t\t\tcssTemp=thisTemp.getEleCss(outCss,{cursor: 'pointer',zIndex:1},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tthisTemp.css(bgEle, cssTemp);\n\t\t\t\tcssTemp=thisTemp.getEleCss(textOutCss,{cursor: 'pointer',zIndex:2},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tif(newName){\n\t\t\t\t\tthisTemp.css(thisTemp.CB[newName], cssTemp,bgEle);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(newEle, cssTemp,bgEle);\n\t\t\t\t}\n\t\t\t\tthisTemp.buttonHide=true;//显示的列表框需要隐藏\n\t\t\t\tif(thisTemp.timeButtonOver){\n\t\t\t\t\twindow.clearTimeout(thisTemp.timeButtonOver);\n\t\t\t\t\tthisTemp.timeButtonOver=null;\n\t\t\t\t}\n\t\t\t\tthisTemp.timeButtonOver=window.setTimeout(function(){thisTemp.buttonListHide()},1000);\n\t\t\t};\n\t\t\tvar overFun=function(){\n\t\t\t\tcssTemp=thisTemp.getEleCss(overCss,{zIndex:1},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tthisTemp.css(bgEle, cssTemp);\n\t\t\t\tcssTemp=thisTemp.getEleCss(textOverCss,{zIndex:2},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tif(newName){\n\t\t\t\t\tthisTemp.css(thisTemp.CB[newName], cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(newEle, cssTemp);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t};\n\t\t\toutFun();\n\t\t\tthis.addListenerInside('mouseout', outFun, ele);\n\t\t\tthis.addListenerInside('mouseover', overFun, ele);\n\t\t},\n\t\t/*\n\t\t\t隐藏所有的列表框 \n\t\t*/\n\t\tbuttonListHide:function(){\n\t\t\tif(this.buttonHide){\n\t\t\t\tthis.css([this.CB['definitionP'],this.CB['subtitlesP'],this.CB['playbackrateP']],'display','none');\n\t\t\t}\n\t\t\tif(this.timeButtonOver){\n\t\t\t\twindow.clearTimeout(this.timeButtonOver);\n\t\t\t\tthis.timeButtonOver=null;\n\t\t\t}\n\t\t\tthis.buttonHide=false;\n\t\t},\n\t\t/*\n\t\t \t计算视频的宽高\n\t\t*/\n\t\tvideoCss:function(){\n\t\t\tvar cssTemp={};\n\t\t\t\n\t\t\tif(this.css(this.CB['controlBar'],'display')=='none'){\n\t\t\t\tcssTemp=this.ckStyle['video']['controlBarHideReserve'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tcssTemp=this.ckStyle['video']['reserve'];\n\t\t\t}\n\t\t\tvar spacingBottom=cssTemp['spacingBottom'];\n\t\t\tif(this.V.controls && this.isMobile()){\n\t\t\t\tspacingBottom-=40;\n\t\t\t}\n\t\t\tvar pW=this.PD.offsetWidth,pH=this.PD.offsetHeight;\n\t\t\tvar vW=pW-cssTemp['spacingLeft']-cssTemp['spacingRight'];\n\t\t\tvar vH=pH-cssTemp['spacingTop']-spacingBottom;\n\t\t\tif(!this.MD){\n\t\t\t\tthis.css(this.V,{\n\t\t\t\t\twidth:vW+'px',\n\t\t\t\t\theight:vH+'px',\n\t\t\t\t\tmarginLeft:cssTemp['spacingLeft']+'px',\n\t\t\t\t\tmarginTop:cssTemp['spacingTop']+'px'\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.css([this.MD,this.MDC],{\n\t\t\t\t\twidth:vW+'px',\n\t\t\t\t\theight:vH+'px',\n\t\t\t\t\tmarginLeft:cssTemp['spacingLeft']+'px',\n\t\t\t\t\tmarginTop:cssTemp['spacingTop']+'px'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t播放器界面自定义元素\n\t\t*/\n\t\tplayerCustom:function(){\n\t\t\tvar custom=this.ckStyle['custom'];\n\t\t\tvar button=custom['button'];\n\t\t\tvar images=custom['images'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup=null;\n\t\t\tvar k='',tempID='';\n\t\t\tvar b={};\n\t\t\tvar tempDiv;\n\t\t\tvar i=0;\n\t\t\tfor(k in button){\n\t\t\t\tb=button[k];\n\t\t\t\tcssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'player-button',name:k});\n\t\t\t\tthis.PD.appendChild(tempDiv);\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\ttempDiv.dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tthis.buttonEventFun(tempDiv,b);\n\t\t\t}\n\t\t\tfor(k in images){\n\t\t\t\tb=images[k];\n\t\t\t\tcssSup={overflow: 'hidden',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'player-images',name:k});\n\t\t\t\tthis.PD.appendChild(tempDiv);\n\t\t\t\tvar img=new Image();\n\t\t\t\timg.src=images[k]['img'];\n\t\t\t\ttempDiv.appendChild(img);\n\t\t\t\ti++\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素\n\t\t*/\n\t\tcarbarCustom:function(){\n\t\t\tvar custom=this.ckStyle['controlBar']['custom'];\n\t\t\tvar button=custom['button'];\n\t\t\tvar images=custom['images'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup=null;\n\t\t\tvar k='',tempID='';\n\t\t\tvar b={};\n\t\t\tvar tempDiv;\n\t\t\tvar i=0;\n\t\t\tfor(k in button){\n\t\t\t\tb=button[k];\n\t\t\t\tcssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup,this.CB['controlBarBg']);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'controlBar-button',name:k});\n\t\t\t\tthis.CB['controlBar'].appendChild(tempDiv);\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\ttempDiv.dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tthis.buttonEventFun(tempDiv,b);\n\t\t\t}\n\t\t\tfor(k in images){\n\t\t\t\tb=images[k];\n\t\t\t\tcssSup={overflow: 'hidden',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup,this.CB['controlBarBg']);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'controlBar-images',name:k});\n\t\t\t\tthis.CB['controlBar'].appendChild(tempDiv);\n\t\t\t\tvar img=new Image();\n\t\t\t\timg.src=images[k]['img'];\n\t\t\t\ttempDiv.appendChild(img);\n\t\t\t\ti++;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素的位置\n\t\t*/\n\t\tcustomCoor:function(){\n\t\t\tvar cssTemp=null;\n\t\t\tif(this.customeElement.length>0){\n\t\t\t\tfor(var i=0;i<this.customeElement.length;i++){\n\t\t\t\t\tif(this.customeElement[i]['type']=='controlBar'){\n\t\t\t\t\t\tcssTemp=this.getEleCss(this.customeElement[i]['css'],this.customeElement[i]['cssSup'],this.CB['controlBarBg']);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tcssTemp=this.getEleCss(this.customeElement[i]['css'],this.customeElement[i]['cssSup']);\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(this.customeElement[i]['ele'],cssTemp);\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素的显示和隐藏，只对播放器界面的有效，作用是当播放视频广告时隐藏，广告播放完成后显示\n\t\t*/\n\t\tcustomShow:function(show){\n\t\t\tif(this.customeElement.length>0){\n\t\t\t\tfor(var i=0;i<this.customeElement.length;i++){\n\t\t\t\t\tif(this.customeElement[i]['type']=='player'){\n\t\t\t\t\t\tthis.css(this.customeElement[i]['ele'],'display',show?'block':'none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t},\n\t\t/*\n\t\t \t广告控制栏样式\n\t\t*/\n\t\tadvertisementStyle:function(){\n\t\t\tvar asArr=['muteButton','escMuteButton','adLinkButton','closeButton','skipAdButton','countDown','countDownText','skipDelay','skipDelayText'];\n\t\t\tvar eleArr=['adMute','adEscMute','adLink','adPauseClose','adSkipButton','adTime','adTimeText','adSkip','adSkipText'];\n\t\t\tfor(var i=0;i<eleArr.length;i++){\n\t\t\t\tvar cssUp={overflow: 'hidden',zIndex: 999};\n\t\t\t\tif(i<5){\n\t\t\t\t\tcssUp['cursor']='pointer';\n\t\t\t\t}\n\t\t\t\tvar cssTemp=this.getEleCss(this.ckStyle['advertisement'][asArr[i]],cssUp);\n\t\t\t\tthis.css(this.CB[eleArr[i]],cssTemp);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t当播放器尺寸变化时，显示和隐藏相关节点\n\t\t*/\n\t\tcheckBarWidth: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t初始化暂停或播放按钮\n\t\t*/\n\t\tinitPlayPause: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.vars['autoplay']) {\n\t\t\t\tthis.css([this.CB['play'], this.CB['pauseCenter']], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'block');\n\t\t\t\tif (this.css(this.CB['errorText'], 'display') == 'none') {\n\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'block');\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'none');\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t\t下面为监听事件\n\t\t\t内部函数\n\t\t\t监听元数据已加载\n\t\t*/\n\t\tloadedHandler: function() {\n\t\t\tthis.loaded = true;\n\t\t\tif (this.vars['loaded'] != '') {\n\t\t\t\ttry {\n\t\t\t\t\teval(this.vars['loaded'] + '(\\''+this.vars['variable']+'\\')');\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放\n\t\t*/\n\t\tplayingHandler: function() {\n\t\t\tthis.playShow(true);\n\t\t\t//如果是第一次播放\n\t\t\tif (this.isFirstTimePlay && !this.isUndefined(this.advertisements['front'])) {\n\t\t\t\tthis.isFirstTimePlay = false;\n\t\t\t\t//调用播放前置广告组件\n\t\t\t\tthis.adI = 0;\n\t\t\t\tthis.adType = 'front';\n\t\t\t\tthis.adMuteInto();\n\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\tthis.adPlayStart = true;\n\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\tthis.videoPause();\n\t\t\t\tthis.advertisementsTime();\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\t//调用播放前置广告组件结束\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//判断第一次播放结束\n\t\t\tif (this.needSeek > 0) {\n\t\t\t\tthis.videoSeek(this.needSeek);\n\t\t\t\tthis.needSeek = 0;\n\t\t\t}\n\t\t\tif (this.animatePauseArray.length > 0) {\n\t\t\t\tthis.animateResume('pause');\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video' && this.V != null && this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\tthis.sendVCanvas();\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['pause']) && !this.adPlayStart) { //如果存在暂停广告\n\t\t\t\tthis.closePauseAd();\n\t\t\t}\n\t\t},\n\t\t/*暂停时播放暂停广告*/\n\t\tadPausePlayer: function() {\n\t\t\tthis.adI = 0;\n\t\t\tthis.adType = 'pause';\n\t\t\tthis.adPauseShow = true;\n\t\t\tthis.loadAdPause();\n\t\t\tthis.sendJS('pauseAd','play');\n\t\t},\n\t\tloadAdPause: function() {\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tvar thisTemp = this;\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tif (this.isStrImage(type) && this.adPauseShow) {\n\t\t\t\tthis.css(this.CB['adElement'], 'display', 'block');\n\t\t\t\tvar imgClass = 'adimg' + this.randomString(10);\n\t\t\t\tvar imgHtml = '<img src=\"' + ad['file'] + '\" class=\"' + imgClass + '\">';\n\t\t\t\tif (ad['link']) {\n\t\t\t\t\timgHtml = '<a href=\"' + ad['link'] + '\" target=\"_blank\">' + imgHtml + '</a>';\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = imgHtml;\n\t\t\t\tthis.addListenerInside('load',\n\t\t\t\tfunction() {\n\t\t\t\t\tvar imgObj = new Image();\n\t\t\t\t\timgObj.src = this.src;\n\t\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\t\tthisTemp.css([thisTemp.getByElement(imgClass), thisTemp.CB['adElement']], {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\tborder: '0px'\n\t\t\t\t\t});\n\t\t\t\t\tif (thisTemp.ckStyle['advertisement']['closeButtonShow'] && thisTemp.adPauseShow) {\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['adPauseClose'], {\n\t\t\t\t\t\t\tdisplay: 'block'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\t\tthisTemp.adPauseCoor();\n\t\t\t\t},\n\t\t\t\tthis.getByElement(imgClass));\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adElement']);\n\t\t\t\tvar newI = this.adI;\n\t\t\t\tif (this.adI < this.advertisements['pause'].length - 1) {\n\t\t\t\t\tnewI++;\n\t\t\t\t} else {\n\t\t\t\t\tnewI = 0;\n\t\t\t\t}\n\t\t\t\tif (ad['time'] > 0) {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tif (thisTemp.adPauseShow) {\n\t\t\t\t\t\t\tthisTemp.adI = newI;\n\t\t\t\t\t\t\tthisTemp.loadAdPause();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tad['time'] * 1000);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*调整暂停广告的位置*/\n\t\tadPauseCoor: function() {\n\t\t\tif (this.css(this.CB['adElement'], 'display') == 'block') {\n\t\t\t\tvar w = this.CB['adElement'].offsetWidth,\n\t\t\t\th = this.CB['adElement'].offsetHeight;\n\t\t\t\tvar pw = this.PD.offsetWidth,\n\t\t\t\tph = this.PD.offsetHeight;\n\t\t\t\tthis.css(this.CB['adElement'], {\n\t\t\t\t\ttop: (ph - h) * 0.5 + 'px',\n\t\t\t\t\tleft: (pw - w) * 0.5 + 'px'\n\t\t\t\t});\n\t\t\t\tif (this.css(this.CB['adPauseClose'], 'display') == 'block') {\n\t\t\t\t\tvar rr=this.ckStyle['advertisement']['closeButton'];\n\t\t\t\t\tvar cxy =  this.getPosition(rr,this.CB['adElement']);\n\t\t\t\t\tthis.css(this.CB['adPauseClose'], {\n\t\t\t\t\t\ttop: cxy['y'] + 'px',\n\t\t\t\t\t\tleft: cxy['x'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t关闭暂停广告\n\t\t*/\n\t\tclosePauseAd: function() {\n\t\t\tthis.CB['adElement'].innerHTML = '';\n\t\t\tthis.css([this.CB['adElement'], this.CB['adPauseClose']], 'display', 'none');\n\t\t\tthis.adPauseShow = false;\n\t\t\tthis.sendJS('pauseAd','ended');\n\t\t},\n\t\t/*计算广告时间*/\n\t\tadvertisementsTime: function(nt) {\n\t\t\tif (this.isUndefined(nt)) {\n\t\t\t\tnt = 0;\n\t\t\t}\n\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\tif (nt > 0) {\n\t\t\t\tad[this.adI]['time'] = Math.ceil(nt);\n\t\t\t}\n\t\t\tthis.adTimeAllTotal = 0;\n\t\t\tfor (var i = this.adI; i < ad.length; i++) {\n\t\t\t\tif (!this.isUndefined(ad[i]['time'])) {\n\t\t\t\t\tthis.adTimeAllTotal += Math.ceil(ad[i]['time']);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.adTimeAllTotal > 0) {\n\t\t\t\tthis.CB['adTimeText'].innerHTML = this.ckLanguage['adCountdown'].replace('[$second]', this.adTimeAllTotal).replace('[$Second]', this.adTimeAllTotal > 9 ? this.adTimeAllTotal: '0' + this.adTimeAllTotal);\n\t\t\t}\n\t\t\tif (this.adPauseShow) {\n\t\t\t\tthis.closePauseAd();\n\t\t\t}\n\t\t\tthis.adOtherCloseAll();\n\t\t\tthis.adTimeTotal = -1;\n\t\t},\n\t\t/*判断是否需要显示跳过广告按钮*/\n\t\tadSkipButtonShow: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar skipConfig = this.ckStyle['advertisement'];\n\t\t\tvar delayTimeTemp = skipConfig[this.adType + 'SkipButtonDelay'];\n\t\t\tvar timeFun = function() {\n\t\t\t\tif (delayTimeTemp >= 0) {\n\t\t\t\t\tthisTemp.CB['adSkipText'].innerHTML = thisTemp.ckLanguage['skipDelay'].replace('[$second]', delayTimeTemp).replace('[$Second]', delayTimeTemp > 9 ? delayTimeTemp: '0' + delayTimeTemp);\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','none');\n\t\t\t\t\tsetTimeout(timeFun, 1000);\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','none');\n\t\t\t\t\tif(thisTemp.css(thisTemp.CB['adTime'],'display')=='block'){\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','block');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tdelayTimeTemp--;\n\t\t\t};\n\t\t\tif (skipConfig['skipButtonShow']) {\n\t\t\t\tif (skipConfig[this.adType + 'SkipButtonDelay'] > 0 && this.isUndefined(this.adSkipButtonTime)) {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']], 'display', 'block');\n\t\t\t\t\ttimeFun();\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','none');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','block');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*播放广告*/\n\t\tadvertisementsPlay: function() {\n\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText'], this.CB['adSkip'], this.CB['adSkipText'],this.CB['adSkipButton'], this.CB['adLink']], 'display', 'none');\n\t\t\tthis.adPlayerPlay = false;\n\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\tif (this.adI == 0 && (this.adType == 'front' || this.adType == 'insert' || this.adType == 'end')) {\n\t\t\t\tthis.sendJS('process', this.adType + ' ad play');\n\t\t\t\tthis.sendJS(this.adType+'Ad','play');\n\t\t\t}\n\t\t\tthis.trackHide();\n\t\t\tif (this.adI < ad.length) {\n\t\t\t\tif (!this.isUndefined(ad[this.adI]['time'])) {\n\t\t\t\t\tthis.adTimeTotal = parseInt(ad[this.adI]['time']);\n\t\t\t\t}\n\t\t\t\tthis.loadAdvertisements();\n\t\t\t} else {\n\t\t\t\tthis.adEnded();\n\t\t\t}\n\t\t},\n\t\t/*清除当前所有广告*/\n\t\teliminateAd: function() {\n\t\t\tif (this.adType) {\n\t\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\t\tthis.adI = ad.length;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t}\n\n\t\t},\n\t\t/*广告播放结束*/\n\t\tadEnded: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.adPlayStart = false;\n\t\t\tif(this.adType=='front'){\n\t\t\t\tthis.time=0;\n\t\t\t}\n\t\t\tthis.adPlayerPlay = false;\n\t\t\tif (this.adVideoPlay) {\n\t\t\t\tif (this.videoTemp['src'] != '') {\n\t\t\t\t\tthis.V.src = this.videoTemp['src'];\n\t\t\t\t} else {\n\t\t\t\t\tif (this.V.src) {\n\t\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['source'] != '') {\n\t\t\t\t\tthis.V.innerHTML = this.videoTemp['source'];\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['currentSrc'] != '') {\n\t\t\t\t\tthis.V.src = this.videoTemp['currentSrc'];\n\t\t\t\t\tthis.V.currentSrc = this.videoTemp['currentSrc'];\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['loop']) {\n\t\t\t\t\tthis.V.loop = true;\n\t\t\t\t\tthis.videoTemp['loop'] = false;\n\t\t\t\t}\n\t\t\t\tif (this.adType == 'end') {\n\t\t\t\t\tthis.endedHandler();\n\t\t\t\t} else {\n\t\t\t\t\tthis.videoPlay();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.videoPlay();\n\t\t\t}\n\t\t\tthis.changeVolume(this.vars['volume']);\n\t\t\tthis.sendJS('process', this.adType + ' ad ended');\n\t\t\tthis.sendJS(this.adType+'Ad','ended');\n\t\t\tthis.changeControlBarShow(true);\n\t\t\tthis.css(this.CB['logo'], 'display','block');\n\t\t\tthis.customShow(true);\n\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText'], this.CB['adSkip'], this.CB['adSkipText'],this.CB['adSkipButton'], this.CB['adLink'],this.CB['adMute'], this.CB['adEscMute']], 'display', 'none');\n\t\t},\n\t\t/*加载广告*/\n\t\tloadAdvertisements: function() {\n\t\t\t//this.videoTemp\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tvar thisTemp = this;\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tthis.changeControlBarShow(false);\n\t\t\tthis.adPlayerPlay = true;\n\t\t\tthis.css(this.CB['logo'], 'display','none');\n\t\t\tthis.customShow(false);\n\t\t\tif (this.isStrImage(type)) {\n\t\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText']], 'display', 'block');\n\t\t\t\tthis.css([this.CB['adMute'], this.CB['adEscMute']], 'display', 'none');\n\t\t\t\tvar imgClass = 'adimg' + this.randomString(10);\n\t\t\t\tvar imgHtml = '<img src=\"' + ad['file'] + '\" class=\"' + imgClass + '\">';\n\t\t\t\tif (ad['link']) {\n\t\t\t\t\timgHtml = '<a href=\"' + ad['link'] + '\" target=\"_blank\">' + imgHtml + '</a>';\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = imgHtml;\n\t\t\t\tthis.addListenerInside('load',\n\t\t\t\tfunction() {\n\t\t\t\t\tvar imgObj = new Image();\n\t\t\t\t\timgObj.src = this.src;\n\t\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\t\tthisTemp.css(thisTemp.getByElement(imgClass), {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\tborder: '0px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adElement'], {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\ttop: (height - imgWH['height']) * 0.5 + 'px',\n\t\t\t\t\t\tleft: (width - imgWH['width']) * 0.5 + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.getByElement(imgClass));\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adElement']);\n\t\t\t\tif (!this.isUndefined(ad['time'])) {\n\t\t\t\t\tthis.adCountDown();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.css([this.CB['adTime'], this.CB['adTimeText']], 'display', 'block');\n\t\t\t\t//判断是否静音\n\t\t\t\tif (this.adVideoMute) {\n\t\t\t\t\tthis.css(this.CB['adEscMute'], 'display', 'block');\n\t\t\t\t\tthis.css(this.CB['adMute'], 'display', 'none');\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.CB['adEscMute'], 'display', 'none');\n\t\t\t\t\tthis.css(this.CB['adMute'], 'display', 'block');\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = '';\n\t\t\t\tif (this.videoTemp['currentSrc'] == '') {\n\t\t\t\t\tthis.videoTemp['currentSrc'] = this.getCurrentSrc();\n\t\t\t\t}\n\t\t\t\tif (this.V.loop) {\n\t\t\t\t\tthis.videoTemp['loop'] = true;\n\t\t\t\t\tthis.V.loop = false;\n\t\t\t\t}\n\t\t\t\tif (this.V != null && this.V.currentTime > 0 && this.adIsVideoTime && this.adType!='front') { //当有视频广告时而又没有记录下已播放的时间则进行记录\n\t\t\t\t\tthis.adIsVideoTime = false;\n\t\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t\t}\n\t\t\t\tthis.V.src = ad['file'];\n\t\t\t\tthis.V.currentSrc = ad['file'];\n\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\tthis.V.play();\n\t\t\t\tthis.adVideoPlay = true;\n\t\t\t\tthis.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\tif (!this.adVideoMute) {\n\t\t\t\t\tthis.escAdMute();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ad['link']) {\n\t\t\t\tthis.css(this.CB['adLink'], 'display', 'block');\n\t\t\t\tvar adLinkClick = function(event) {\n\t\t\t\t\tthisTemp.sendJS('clickEvent', 'javaScript->adLinkClick');\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', adLinkClick, this.CB['adLink']);\n\t\t\t\tthis.adLinkTemp=ad['link'];\n\t\t\t\tvar linkTemp = '<a href=\"' + ad['link'] + '\" target=\"_blank\" class=\"ckadmorelink\"><img src=\"' + this.ckStyle['png-1-1'] + '\" width=\"'+this.ckStyle['advertisement']['adLinkButton']['width']+'\" height=\"'+this.ckStyle['advertisement']['adLinkButton']['height']+'\"></a>';\n\t\t\t\tthis.CB['adLink'].innerHTML = linkTemp;\n\t\t\t\tthis.css(this.getByElement('ckadmorelink'), {\n\t\t\t\t\tcolor: '#FFFFFF',\n\t\t\t\t\ttextDecoration: 'none'\n\t\t\t\t});\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adLink']);\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['adLink'], 'display', 'none');\n\t\t\t}\n\n\t\t},\n\t\t/*普通广告倒计时*/\n\t\tadCountDown: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.adTimeTotal > 0) {\n\t\t\t\tif (!this.adIsPause) {\n\t\t\t\t\tthis.adTimeTotal--;\n\t\t\t\t\tthis.showAdTime();\n\t\t\t\t\tthis.adCountDownObj = null;\n\t\t\t\t\tthis.adCountDownObj = setTimeout(function() {\n\t\t\t\t\t\tthisTemp.adCountDown();\n\t\t\t\t\t},\n\t\t\t\t\t1000);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.adI++;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t}\n\t\t},\n\t\t/*视频广告倒计时*/\n\t\tadPlayerTimeHandler: function(time) {\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tif (this.isStrImage(type)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adTimeTotal != parseInt(time)) {\n\t\t\t\tthis.adTimeTotal = parseInt(time);\n\t\t\t\tthis.showAdTime();\n\t\t\t}\n\t\t},\n\t\t/*格式化广告倒计时显示*/\n\t\tshowAdTime: function() {\n\t\t\tthis.adTimeAllTotal--;\n\t\t\tvar n = this.adTimeAllTotal;\n\t\t\tif (n < 0) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tthis.CB['adTimeText'].innerHTML = this.ckLanguage['adCountdown'].replace('[$second]', n).replace('[$Second]', n < 10 ? '0' + n: n);\n\t\t},\n\t\t/*\n\t\t\t单独监听其它广告\n\t\t*/\n\t\tcheckAdOther: function(t) {\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar adTime = this.advertisements['othertime'];\n\t\t\tvar adPlay = this.advertisements['otherPlay'];\n\t\t\tfor (var i = 0; i < adTime.length; i++) {\n\t\t\t\tif (t >= adTime[i] && !adPlay[i]) { //如果播放时间大于广告时间而该广告还没有播放，则开始播放\n\t\t\t\t\tadPlay[i] = true;\n\t\t\t\t\tthis.newAdOther(i);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t新建其它广告 \n\t\t*/\n\t\tnewAdOther: function(i) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar ad = this.advertisements['other'][i];\n\t\t\tvar randomS = this.randomString(10); //获取一个随机字符串\n\t\t\tvar adDivID = 'adother' + randomS; //广告容器\n\t\t\timgClassName = 'adimgother' + randomS;\n\t\t\tvar adDiv = document.createElement('div');\n\t\t\tadDiv.className = adDivID;\n\t\t\tthis.PD.appendChild(adDiv);\n\t\t\tad['div'] = adDivID;\n\t\t\tad['element'] = imgClassName;\n\t\t\tvar adHtml='<img src=\"' + ad['file'] + '\" class=\"' + imgClassName + '\">';\n\t\t\tif(ad['link']){\n\t\t\t\tadHtml='<a href=\"' + ad['link'] + '\" target=\"blank\">'+adHtml+'</a>';\n\t\t\t}\n\t\t\tthis.getByElement(adDivID).innerHTML =adHtml;\n\t\t\tthis.css(adDivID, {\n\t\t\t\tposition: 'absolute',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tzIndex: '996',\n\t\t\t\ttop: '-600px',\n\t\t\t\tleft: '-600px',\n\t\t\t\tcursor: 'pointer'\n\t\t\t});\n\t\t\tif (this.ckStyle['advertisement']['closeOtherButtonShow']) {\n\t\t\t\tvar closeAdDivID = 'adotherclose-' + randomS; //广告容器\n\t\t\t\tvar closeAdDiv = document.createElement('div');\n\t\t\t\tcloseAdDiv.className = closeAdDivID;\n\t\t\t\tthis.PD.appendChild(closeAdDiv);\n\t\t\t\tad['closeDiv'] = closeAdDivID;\n\t\t\t\tad['close'] = false;\n\t\t\t\tvar closeAdDivCss=this.getEleCss(this.ckStyle['advertisement']['closeOtherButton'],{offsetX:-10000,offsetY:-10000,cursor: 'pointer',zIndex: 997});\t\t\t\t\n\t\t\t\tthis.css(closeAdDivID, closeAdDivCss);\t\t\t\n\t\t\t\tvar adOtherCloseOver = function() {\n\t\t\t\t\tthisTemp.loadImgBg(closeAdDivID,thisTemp.ckStyle['advertisement']['closeOtherButton']['mouseOver']);\n\t\t\t\t};\n\t\t\t\tvar adOtherCloseOut = function() {\n\t\t\t\t\tthisTemp.loadImgBg(closeAdDivID,thisTemp.ckStyle['advertisement']['closeOtherButton']['mouseOut']);\n\t\t\t\t};\n\t\t\t\tadOtherCloseOut();\n\t\t\t\tthis.addListenerInside('mouseover', adOtherCloseOver, this.getByElement(closeAdDivID));\n\t\t\t\tthis.addListenerInside('mouseout', adOtherCloseOut, this.getByElement(closeAdDivID));\n\t\t\t}\n\t\t\tthis.addListenerInside('load',\n\t\t\tfunction() {\n\t\t\t\tvar imgObj = new Image();\n\t\t\t\timgObj.src = this.src;\n\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\tthisTemp.css([thisTemp.getByElement(imgClassName), thisTemp.getByElement(adDivID)], {\n\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\tborder: '0px'\n\t\t\t\t});\n\t\t\t\tthisTemp.advertisements['other'][i] = ad;\n\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\tthisTemp.adOtherCoor();\n\t\t\t},\n\t\t\tthis.getByElement(imgClassName));\n\t\t\tthis.addListenerInside('click',\n\t\t\tfunction() {\n\t\t\t\tthisTemp.adOtherClose(i);\n\t\t\t},\n\t\t\tthis.getByElement(closeAdDivID));\n\t\t\tthis.addListenerInside('click',\n\t\t\tfunction() {\n\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t},\n\t\t\tthis.getByElement(imgClassName));\n\t\t\tif (ad['time'] > 0) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthisTemp.adOtherClose(i);\n\t\t\t\t},\n\t\t\t\tad['time'] * 1000);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t关闭其它广告\n\t\t*/\n\t\tadOtherClose: function(i) {\n\t\t\tvar ad = this.advertisements['other'][i];\n\t\t\tif (!this.isUndefined(ad['close'])) {\n\t\t\t\tif (!ad['close']) {\n\t\t\t\t\tad['close'] = true;\n\t\t\t\t\tthis.PD.removeChild(this.getByElement(ad['div']));\n\t\t\t\t\tthis.PD.removeChild(this.getByElement(ad['closeDiv']));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tadOtherCloseAll: function() {\n\t\t\tif (!this.isUndefined(this.advertisements['other'])) {\n\t\t\t\tvar ad = this.advertisements['other'];\n\t\t\t\tfor (var i = 0; i < ad.length; i++) {\n\t\t\t\t\tthis.adOtherClose(i);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t计算其它广告的坐标\n\t\t*/\n\t\tadOtherCoor: function() {\n\t\t\tif (!this.isUndefined(this.advertisements['other'])) {\n\t\t\t\tvar arr = this.advertisements['other'];\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tvar ad = arr[i];\n\t\t\t\t\tif (!this.isUndefined(ad['close'])) {\n\t\t\t\t\t\tif (!ad['close']) {\n\t\t\t\t\t\t\tvar rr=this.ckStyle['advertisement']['closeOtherButton'];\n\t\t\t\t\t\t\tvar coor = this.getPosition(ad);\n\t\t\t\t\t\t\tvar x = coor['x'],\n\t\t\t\t\t\t\ty = coor['y'];\n\t\t\t\t\t\t\tthis.css(this.getByElement(ad['div']), {\n\t\t\t\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\t\t\t\ttop: y + 'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tvar cxy =  this.getPosition(rr,this.getByElement(ad['div']));\n\t\t\t\t\t\t\tif (!this.isUndefined(ad['closeDiv'])) {\n\t\t\t\t\t\t\t\tthis.css(this.getByElement(ad['closeDiv']), {\n\t\t\t\t\t\t\t\t\tleft: cxy['x'] + 'px',\n\t\t\t\t\t\t\t\t\ttop: cxy['y'] + 'px'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t单独监听中间插入广告\n\t\t*/\n\t\tcheckAdInsert: function(t) {\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar adTime = this.advertisements['inserttime'];\n\t\t\tvar adPlay = this.advertisements['insertPlay'];\n\t\t\tvar duration = this.getMetaDate()['duration'];\n\t\t\tfor (var i = adTime.length - 1; i > -1; i--) {\n\t\t\t\tif (t >= adTime[i] && t < duration - 2 && t > 1 && !adPlay[i]) { //如果播放时间大于广告时间而该广告还没有播放，则开始播放\n\t\t\t\t\tthis.adI = 0;\n\t\t\t\t\tthis.adType = 'insert';\n\t\t\t\t\tthis.adMuteInto();\n\t\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\t\tthis.adPlayStart = true;\n\t\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\t\tthis.videoPause();\n\t\t\t\t\tthis.advertisementsTime();\n\t\t\t\t\tthis.advertisementsPlay();\n\t\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\t\tadPlay[i] = true;\n\t\t\t\t\tfor (var n = 0; n < i + 1; n++) {\n\t\t\t\t\t\tadPlay[n] = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*格式化中间插入广告的播放时间*/\n\t\tformatInserttime: function(duration) {\n\t\t\tif (!this.isUndefined(this.advertisements['inserttime'])) {\n\t\t\t\tvar arr = this.advertisements['inserttime'];\n\t\t\t\tvar newArr = [];\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i].toString().substr( - 1) == '%') {\n\t\t\t\t\t\tnewArr.push(parseInt(duration * parseInt(arr[i]) * 0.01));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewArr.push(parseInt(arr[i]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.advertisements['inserttime'] = newArr;\n\t\t\t}\n\t\t},\n\t\t/*获取当前的广告*/\n\t\tgetNowAdvertisements: function() {\n\t\t\tif (this.adI == -1) {\n\t\t\t\treturn {\n\t\t\t\t\tfile: '',\n\t\t\t\t\ttime: 0,\n\t\t\t\t\tlink: ''\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn this.advertisements[this.adType][this.adI];\n\t\t},\n\t\t/*根据元件尺寸和播放器尺寸调整大小*/\n\t\tadjustmentWH: function(w, h) {\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tvar nw = 0,\n\t\t\tnh = 0;\n\t\t\tif (w >= width || h >= height) {\n\t\t\t\tif (width / w > height / h) {\n\t\t\t\t\tnh = height - 20;\n\t\t\t\t\tnw = w * nh / h;\n\t\t\t\t} else {\n\t\t\t\t\tnw = width - 20;\n\t\t\t\t\tnh = h * nw / w;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnw = w;\n\t\t\t\tnh = h;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\twidth: nw,\n\t\t\t\theight: nh\n\t\t\t}\n\t\t},\n\t\t/*单独请求一次地址，但不处理返回的数据*/\n\t\tajaxSuccessNull: function(url) {\n\t\t\tif (!this.isUndefined(url)) {\n\t\t\t\tvar ajaxObj = {\n\t\t\t\t\turl: url,\n\t\t\t\t\tsuccess: function(data) {}\n\t\t\t\t};\n\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t运行指定函数\n\t\t*/\n\t\trunFunction: function(s) {\n\t\t\ttry {\n\t\t\t\tvar arr = s.split('->');\n\t\t\t\tif(arr.length==2){\n\t\t\t\t\tswitch (arr[0]) {\n\t\t\t\t\t\tcase 'javaScript':\n\t\t\t\t\t\t\tif(arr[1].substr(0,11)!='[flashvars]'){\n\t\t\t\t\t\t\t\teval(arr[1] + '()');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\teval(this.vars[arr[1].substr(11)] + '()');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'actionScript':\n\t\t\t\t\t\t\teval('this.' + arr[1] + '()');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.sendJS('clickEvent', s);\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t使用画布附加视频\n\t\t*/\n\t\tsendVCanvas: function() {\n\t\t\tif (this.timerVCanvas == null) {\n\t\t\t\tthis.css(this.V, 'display', 'none');\n\t\t\t\tthis.css(this.MD, 'display', 'block');\n\t\t\t\tvar thisTemp = this;\n\t\t\t\tvar videoCanvas = function() {\n\t\t\t\t\tif (thisTemp.MDCX.width != thisTemp.MD.offsetWidth) {\n\t\t\t\t\t\tthisTemp.MDC.width = thisTemp.MD.offsetWidth;\n\t\t\t\t\t}\n\t\t\t\t\tif (thisTemp.MDCX.height != thisTemp.MD.offsetHeight) {\n\t\t\t\t\t\tthisTemp.MDC.height = thisTemp.MD.offsetHeight;\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.MDCX.clearRect(0, 0, thisTemp.MDCX.width, thisTemp.MDCX.height);\n\t\t\t\t\tvar coor = thisTemp.getProportionCoor(thisTemp.PD.offsetWidth, thisTemp.PD.offsetHeight, thisTemp.V.videoWidth, thisTemp.V.videoHeight);\n\t\t\t\t\tthisTemp.MDCX.drawImage(thisTemp.V, 0, 0, thisTemp.V.videoWidth, thisTemp.V.videoHeight, coor['x'], coor['y'], coor['width'], coor['height']);\n\t\t\t\t};\n\t\t\t\tthis.timerVCanvas = new this.timer(0, videoCanvas);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听暂停\n\t\t*/\n\t\tpauseHandler: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.playShow(false);\n\t\t\tif (this.animatePauseArray.length > 0) {\n\t\t\t\tthis.animatePause('pause');\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video' && this.V != null && this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\tthis.stopVCanvas();\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['pause']) && !this.adPlayStart && !this.adPauseShow) { //如果存在暂停广告\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['pause']) && !thisTemp.adPlayStart && !thisTemp.adPauseShow && thisTemp.time > 1) { //如果存在暂停广告\n\t\t\t\t\t\tthisTemp.adPausePlayer();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t300);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t停止画布\n\t\t*/\n\t\tstopVCanvas: function() {\n\t\t\tif (this.timerVCanvas != null) {\n\t\t\t\tthis.css(this.V, 'display', 'block');\n\t\t\t\tthis.css(this.MD, 'display', 'none');\n\t\t\t\tif (this.timerVCanvas.runing) {\n\t\t\t\t\tthis.timerVCanvas.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerVCanvas = null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据当前播放还是暂停确认图标显示\n\t\t*/\n\t\tplayShow: function(b) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (b) {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'block');\n\t\t\t\tif (this.css(this.CB['errorText'], 'display') == 'none') {\n\t\t\t\t\tif (!this.adPlayerPlay) {\n\t\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'block');\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'none');\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'none');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听seek结束\n\t\t*/\n\t\tseekedHandler: function() {\n\t\t\tthis.resetTrack();\n\t\t\tthis.isTimeButtonMove = true;\n\t\t\tif (this.V.paused) {\n\t\t\t\tif(this.hlsAutoPlay){\n\t\t\t\t\tthis.videoPlay();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.hlsAutoPlay=true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放结束\n\t\t*/\n\t\tendedHandler: function() {\n\t\t\tthis.sendJS('ended');\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adI++;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.endAdPlay && !this.isUndefined(this.advertisements['end'])) {\n\t\t\t\tthis.endAdPlay = true;\n\t\t\t\tthis.adI = 0;\n\t\t\t\tthis.adType = 'end';\n\t\t\t\tthis.adMuteInto();\n\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\tthis.adPlayStart = true;\n\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\tthis.videoPause();\n\t\t\t\tthis.advertisementsTime();\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\tthis.adReset = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.endedAdReset();\n\t\t\tif (this.vars['loop']) {\n\t\t\t\tthis.videoSeek(0);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t重置结束后相关的设置\n\t\t*/\n\t\tendedAdReset: function() {\n\t\t\tvar arr = [];\n\t\t\tvar i = 0;\n\t\t\tif (!this.isUndefined(this.advertisements['insertPlay'])) {\n\t\t\t\tarr = this.advertisements['insertPlay'];\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tthis.advertisements['insertPlay'][i] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['otherPlay'])) {\n\t\t\t\tarr = this.advertisements['otherPlay'];\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tthis.advertisements['otherPlay'][i] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//this.endAdPlay=false;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听音量改变\n\t\t*/\n\t\tvolumechangeHandler: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ((this.ckConfig['config']['mobileVolumeBarShow'] || !this.isMobile()) && this.css(this.CB['volume'], 'display') != 'none') {\n\t\t\t\ttry {\n\t\t\t\t\tvar volume=this.volume || this.V.volume;\n\t\t\t\t\tif (volume > 0) {\n\t\t\t\t\t\tthis.css(this.CB['mute'], 'display', 'block');\n\t\t\t\t\t\tthis.css(this.CB['escMute'], 'display', 'none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.css(this.CB['mute'], 'display', 'none');\n\t\t\t\t\t\tthis.css(this.CB['escMute'], 'display', 'block');\n\t\t\t\t\t}\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放时间调节进度条\n\t\t*/\n\t\ttimeUpdateHandler: function() {\n\t\t\tvar duration = 0;\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\ttry {\n\t\t\t\t\tduration = this.V.duration;\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tif (duration > 0) {\n\t\t\t\tthis.time = this.V.currentTime;\n\t\t\t\tthis.timeTextHandler();\n\t\t\t\tthis.trackShowHandler();\n\t\t\t\tif (this.isTimeButtonMove) {\n\t\t\t\t\tthis.timeProgress(this.time, duration);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t改变控制栏坐标\n\t\t*/\n\t\tcontrolBar:function(){\n\t\t\t//控制栏背景\n\t\t\tvar cb=this.ckStyle['controlBar'];\n\t\t\tvar cssObjTemp={\n\t\t\t\talign:cb['align'],\n\t\t\t\tvAlign:cb['vAlign'],\n\t\t\t\twidth:cb['width'],\n\t\t\t\theight:cb['height'],\n\t\t\t\toffsetX:cb['offsetX'],\n\t\t\t\toffsetY:cb['offsetY']\n\t\t\t\t\n\t\t\t};\n\t\t\tvar bgCss={\n\t\t\t\tbackgroundColor:cb['background']['backgroundColor'],\n\t\t\t\tbackgroundImg:cb['background']['backgroundImg'],\n\t\t\t\talpha:cb['background']['alpha']\n\t\t\t};\n\t\t\tvar cssTemp=this.getEleCss(this.objectAssign(cssObjTemp,bgCss),{zIndex:888});\n\t\t\tthis.css(this.CB['controlBarBg'], cssTemp);\n\t\t\t//控制栏容器\n\t\t\tcssTemp=this.getEleCss(cssObjTemp,{zIndex:889});\n\t\t\tthis.css(this.CB['controlBar'], cssTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t按时间改变进度条\n\t\t*/\n\t\ttimeProgress: function(time, duration) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar timeProgressBgW = this.CB['timeProgressBg'].offsetWidth;\n\t\t\tvar timeBOW = parseInt((time * timeProgressBgW / duration) - (this.CB['timeButton'].offsetWidth * 0.5));\n\t\t\tif (timeBOW > timeProgressBgW - this.CB['timeButton'].offsetWidth) {\n\t\t\t\ttimeBOW = timeProgressBgW - this.CB['timeButton'].offsetWidth;\n\t\t\t}\n\t\t\tif (timeBOW < 0) {\n\t\t\t\ttimeBOW = 0;\n\t\t\t}\n\t\t\tthis.css(this.CB['timeProgress'], 'width', timeBOW + 'px');\n\t\t\tthis.css(this.CB['timeButton'], 'left', parseInt(timeBOW) + 'px');\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放时间改变时间显示文本框\n\t\t*/\n\t\ttimeTextHandler: function() { //显示时间/总时间\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar duration = this.V.duration;\n\t\t\tvar time = this.V.currentTime;\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tthis.CB['timeText'].innerHTML = this.formatTime(time,duration,this.ckLanguage['vod']);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听是否是缓冲状态\n\t\t*/\n\t\tbufferEdHandler: function() {\n\t\t\tif (!this.conBarShow || this.playerType == 'flashplayer') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar clearTimerBuffer = function() {\n\t\t\t\tif (thisTemp.timerBuffer != null) {\n\t\t\t\t\tif (thisTemp.timerBuffer.runing) {\n\t\t\t\t\t\tthisTemp.sendJS('buffer', 100);\n\t\t\t\t\t\tthisTemp.timerBuffer.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerBuffer = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tclearTimerBuffer();\n\t\t\tvar bufferFun = function() {\n\t\t\t\tif (!thisTemp.isUndefined(thisTemp.V) && thisTemp.V.buffered.length > 0) {\n\t\t\t\t\tvar duration = thisTemp.V.duration;\n\t\t\t\t\tvar len = thisTemp.V.buffered.length;\n\t\t\t\t\tvar bufferStart = thisTemp.V.buffered.start(len - 1);\n\t\t\t\t\tvar bufferEnd = thisTemp.V.buffered.end(len - 1);\n\t\t\t\t\tvar loadTime = bufferStart + bufferEnd;\n\t\t\t\t\tvar loadProgressBgW = thisTemp.CB['timeProgressBg'].offsetWidth;\n\t\t\t\t\tvar timeButtonW = thisTemp.CB['timeButton'].offsetWidth;\n\t\t\t\t\tvar loadW = parseInt((loadTime * loadProgressBgW / duration) + timeButtonW);\n\t\t\t\t\tif (loadW >= loadProgressBgW) {\n\t\t\t\t\t\tloadW = loadProgressBgW;\n\t\t\t\t\t\tclearTimerBuffer();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.changeLoad(loadTime);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerBuffer = new this.timer(200, bufferFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t单独计算加载进度\n\t\t*/\n\t\tchangeLoad: function(loadTime) {\n\t\t\tif (this.V == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar loadProgressBgW = this.CB['timeProgressBg'].offsetWidth;\n\t\t\tvar timeButtonW = this.CB['timeButton'].offsetWidth;\n\t\t\tvar duration = this.V.duration;\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tif (this.isUndefined(loadTime)) {\n\t\t\t\tloadTime = this.loadTime;\n\t\t\t} else {\n\t\t\t\tthis.loadTime = loadTime;\n\t\t\t}\n\t\t\tvar loadW = parseInt((loadTime * loadProgressBgW / duration) + timeButtonW);\n\t\t\tthis.css(this.CB['loadProgress'], 'width', loadW + 'px');\n\t\t\tthis.sendJS('loadTime',loadTime);\n\t\t\tthis.loadTimeTemp=loadTime;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否是直播\n\t\t*/\n\t\tjudgeIsLive: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.timerError != null) {\n\t\t\t\tif (this.timerError.runing) {\n\t\t\t\t\tthis.timerError.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerError = null;\n\t\t\t}\n\t\t\tthis.error = false;\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.css(this.CB['errorText'], 'display', 'none');\n\t\t\t}\n\t\t\tvar timeupdate = function(event) {\n\t\t\t\tthisTemp.timeUpdateHandler();\n\t\t\t};\n\t\t\tif (!this.vars['live']) {\n\t\t\t\tif (this.V != null && this.playerType == 'html5video') {\n\t\t\t\t\tthis.addListenerInside('timeupdate', timeupdate);\n\t\t\t\t\tthisTemp.timeTextHandler();\n\t\t\t\t\tthisTemp.prompt(); //添加提示点\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tthisTemp.bufferEdHandler();\n\t\t\t\t\t},\n\t\t\t\t\t200);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('timeupdate', timeupdate);\n\t\t\t\tif (this.timerTime != null) {\n\t\t\t\t\twindow.clearInterval(this.timerTime);\n\t\t\t\t\ttimerTime = null;\n\t\t\t\t}\n\t\t\t\tif (this.timerTime != null) {\n\t\t\t\t\tif (this.timerTime.runing) {\n\t\t\t\t\t\tthis.timerTime.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthis.timerTime = null;\n\t\t\t\t}\n\t\t\t\tvar timeFun = function() {\n\t\t\t\t\tif (thisTemp.V != null && !thisTemp.V.paused && thisTemp.conBarShow) {\n\t\t\t\t\t\tthisTemp.CB['timeText'].innerHTML = thisTemp.formatTime(0,0,thisTemp.ckLanguage['live']); //时间显示框默认显示内容\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.timerTime = new this.timer(1000, timeFun);\n\t\t\t\t//timerTime.start();\n\t\t\t}\n\t\t\tthis.definition();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载字幕\n\t\t*/\n\t\tloadTrack: function(def) {\n\t\t\tif (this.playerType == 'flashplayer' || this.vars['flashplayer'] == true) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(def)){\n\t\t\t\tdef=-1;\n\t\t\t}\n\t\t\tvar track = this.vars['cktrack'];\n\t\t\tvar loadTrackUrl='';\n\t\t\tvar type=this.varType(track);\n\t\t\tvar thisTemp = this;\n\t\t\tif(type=='array'){\n\t\t\t\tif(def==-1){\n\t\t\t\t\tvar index=0;\n\t\t\t\t\tvar indexN=0;\n\t\t\t\t\tfor(var i=0;i<track.length;i++){\n\t\t\t\t\t\tvar li=track[i];\n\t\t\t\t\t\tif(li.length==3 && li[2]>indexN){\n\t\t\t\t\t\t\tindexN=li[2];\n\t\t\t\t\t\t\tindex=i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tindex=def;\n\t\t\t\t}\n\t\t\t\tloadTrackUrl=track[index][0];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tloadTrackUrl=track;\n\t\t\t}\n\t\t\tvar obj = {\n\t\t\t\tmethod: 'get',\n\t\t\t\tdataType: 'text',\n\t\t\t\turl: loadTrackUrl,\n\t\t\t\tcharset: 'utf-8',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tif(data){\n\t\t\t\t\t\tthisTemp.track = thisTemp.parseSrtSubtitles(data);\n\t\t\t\t\t\tthisTemp.trackIndex = 0;\n\t\t\t\t\t\tthisTemp.nowTrackShow = {\n\t\t\t\t\t\t\tsn: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.ajax(obj);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重置字幕\n\t\t*/\n\t\tresetTrack: function() {\n\t\t\tthis.trackIndex = 0;\n\t\t\tthis.nowTrackShow = {\n\t\t\t\tsn: ''\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据时间改变读取显示字幕\n\t\t*/\n\t\ttrackShowHandler: function() {\n\t\t\tif (!this.conBarShow || this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.track.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.trackIndex >= this.track.length) {\n\t\t\t\tthis.trackIndex = 0;\n\t\t\t}\n\t\t\tvar nowTrack = this.track[this.trackIndex]; //当前编号对应的字幕内容\n\t\t\t/*\n\t\t\t\tthis.nowTrackShow=当前显示在界面上的内容\n\t\t\t\t如果当前时间正好在nowTrack时间内，则需要判断\n\t\t\t*/\n\t\t\tif (this.time >= nowTrack['startTime'] && this.time <= nowTrack['endTime']) {\n\t\t\t\t/*\n\t\t\t\t \t如果当前显示的内容不等于当前需要显示的内容时，则需要显示正确的内容\n\t\t\t\t*/\n\t\t\t\tvar nowShow = this.nowTrackShow;\n\t\t\t\tif (nowShow['sn'] != nowTrack['sn']) {\n\t\t\t\t\tthis.trackHide();\n\t\t\t\t\tthis.trackShow(nowTrack);\n\t\t\t\t\tthis.nowTrackTemp=nowTrack;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/*\n\t\t\t\t  如果当前播放时间不在当前编号字幕内，则需要先清空当前的字幕内容，再显示新的字幕内容\n\t\t\t\t*/\n\t\t\t\tthis.trackHide();\n\t\t\t\tthis.checkTrack();\n\t\t\t}\n\t\t},\n\t\ttrackShowAgain:function(){\n\t\t\tthis.trackHide();\n\t\t\tthis.trackShow(this.nowTrackTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示字幕内容\n\t\t*/\n\t\ttrackShow: function(track) {\n\t\t\tthis.nowTrackShow = track;\n\t\t\tvar arr = track['content'];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar obj = {\n\t\t\t\t\tlist: [{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\ttext: arr[i],\n\t\t\t\t\t\tcolor: this.ckStyle['cktrack']['color'],\n\t\t\t\t\t\tsize: this.ckStyle['cktrack']['size'],\n\t\t\t\t\t\tfontFamily: this.ckStyle['cktrack']['font'],\n\t\t\t\t\t\tlineHeight: this.ckStyle['cktrack']['leading']+'px'\n\t\t\t\t\t}],\n\t\t\t\t\tposition: [1, 2, null, -(arr.length - i) * this.ckStyle['cktrack']['leading'] - this.ckStyle['cktrack']['marginBottom']]\n\t\t\t\t};\n\t\t\t\tvar ele = this.addElement(obj);\n\t\t\t\tthis.trackElement.push(ele);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t隐藏字幕内容\n\t\t*/\n\t\ttrackHide: function() {\n\t\t\tfor (var i = 0; i < this.trackElement.length; i++) {\n\t\t\t\tthis.deleteElement(this.trackElement[i]);\n\t\t\t}\n\t\t\tthis.trackElement = [];\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重新计算字幕的编号\n\t\t*/\n\t\tcheckTrack: function() {\n\t\t\tvar num = this.trackIndex;\n\t\t\tvar arr = this.track;\n\t\t\tvar i = 0;\n\t\t\tfor (i = num; i < arr.length; i++) {\n\t\t\t\tif (this.time >= arr[i]['startTime'] && this.time <= arr[i]['endTime']) {\n\t\t\t\t\tthis.trackIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t-----------------------------------------------------------------------------接口函数开始\n\t\t\t接口函数\n\t\t\t在播放和暂停之间切换\n\t\t*/\n\t\tplayOrPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.playOrPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V.paused) {\n\t\t\t\tthis.videoPlay();\n\t\t\t} else {\n\t\t\t\tthis.videoPause();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t播放动作\n\t\t*/\n\t\tvideoPlay: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.eliminateAd(); //清除广告\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (this.V.currentSrc) {\n\t\t\t\t\tthis.V.play();\n\t\t\t\t}\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t暂停动作\n\t\t*/\n\t\tvideoPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.V.pause();\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t跳转时间动作\n\t\t*/\n\t\tvideoSeek: function(time) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoSeek(time);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar duration = this.V.duration>0.2?this.V.duration:this.getMetaDate()['duration'];\n\t\t\tif (duration > 0 && time > duration) {\n\t\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\t\ttime=0;\n\t\t\t\t\tthis.sendJS('ended');\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ttime = duration-0.1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (time >= 0) {\n\t\t\t\tthis.V.currentTime = time;\n\t\t\t\tthis.sendJS('seekTime', time);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t调节音量/获取音量\n\t\t*/\n\t\tchangeVolume: function(vol, bg, button) {\t\t\t\n\t\t\tif (this.loaded) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tthis.V.changeVolume(vol);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isNaN(vol) || this.isUndefined(vol)) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (!this.loaded) {\n\t\t\t\tthis.vars['volume'] = vol;\n\t\t\t}\n\t\t\tif (!this.html5Video) {\n\t\t\t\tthis.V.changeVolume(vol);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (this.isUndefined(bg)) {\n\t\t\t\t\tbg = true;\n\t\t\t\t}\n\t\t\t} catch(e) {}\n\t\t\ttry {\n\t\t\t\tif (this.isUndefined(button)) {\n\t\t\t\t\tbutton = true;\n\t\t\t\t}\n\t\t\t} catch(e) {}\n\t\t\tif (!vol) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (vol < 0) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (vol > 1) {\n\t\t\t\tvol = 1;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.V.volume = vol;\n\t\t\t} catch(error) {}\n\t\t\tthis.volume = vol;\n\t\t\tif (bg && this.conBarShow) {\n\t\t\t\tvar bgW = vol * this.CB['volumeBg'].offsetWidth;\n\t\t\t\tif (bgW < 0) {\n\t\t\t\t\tbgW = 0;\n\t\t\t\t}\n\t\t\t\tif (bgW > this.CB['volumeBg'].offsetWidth) {\n\t\t\t\t\tbgW = this.CB['volumeBg'].offsetWidth;\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['volumeUp'], 'width', bgW + 'px');\n\t\t\t}\n\n\t\t\tif (button && this.conBarShow) {\n\t\t\t\tvar buLeft = parseInt(this.CB['volumeUp'].offsetWidth - (this.CB['volumeBO'].offsetWidth * 0.5));\n\t\t\t\tif (buLeft > this.CB['volumeBg'].offsetWidth - this.CB['volumeBO'].offsetWidth) {\n\t\t\t\t\tbuLeft = this.CB['volumeBg'].offsetWidth - this.CB['volumeBO'].offsetWidth\n\t\t\t\t}\n\t\t\t\tif (buLeft < 0) {\n\t\t\t\t\tbuLeft = 0;\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['volumeBO'], 'left', buLeft + 'px');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t静音\n\t\t*/\n\t\tvideoMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoMute();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.volumeTemp = this.V ? (this.V.volume > 0 ? this.V.volume: this.vars['volume']) : this.vars['volume'];\n\t\t\tthis.changeVolume(0);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t取消静音\n\t\t*/\n\t\tvideoEscMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoEscMute();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.changeVolume(this.volumeTemp > 0 ? this.volumeTemp: this.vars['volume']);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t视频广告静音\n\t\t*/\n\t\tadMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.changeVolume(0);\n\t\t\tthis.adVideoMute = true;\n\t\t\tthis.css(this.CB['adEscMute'], 'display', 'block');\n\t\t\tthis.css(this.CB['adMute'], 'display', 'none');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t视频广告取消静音\n\t\t*/\n\t\tescAdMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar v = this.ckStyle['advertisement']['videoVolume'];\n\t\t\tthis.changeVolume(v);\n\t\t\tthis.adMuteInto();\n\t\t},\n\t\t/*\n\t\t \t初始化广告的音量按钮\n\t\t*/\n\t\tadMuteInto: function() {\n\t\t\tthis.adVideoMute = false;\n\t\t\tthis.css(this.CB['adEscMute'], 'display', 'none');\n\t\t\tthis.css(this.CB['adMute'], 'display', 'block');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t快退\n\t\t*/\n\t\tfastBack: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.fastBack();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = this.time - this.ckConfig['config']['timeJump'];\n\t\t\tif (time < 0) {\n\t\t\t\ttime = 0;\n\t\t\t}\n\t\t\tthis.videoSeek(time);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t快进\n\t\t*/\n\t\tfastNext: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.fastNext();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = this.time + this.ckConfig['config']['timeJump'];\n\t\t\tif (time > this.V.duration) {\n\t\t\t\ttime = this.V.duration;\n\t\t\t}\n\t\t\tthis.videoSeek(time);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t获取当前播放的地址\n\t\t*/\n\t\tgetCurrentSrc: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getCurrentSrc();\n\t\t\t}\n\t\t\treturn this.V.currentSrc;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t全屏/退出全屏动作，该动作只能是用户操作才可以触发，比如用户点击按钮触发该事件\n\t\t*/\n\t\tswitchFull: function() {\n\t\t\tif (this.full) {\n\t\t\t\tthis.quitFullScreen();\n\t\t\t} else {\n\t\t\t\tthis.fullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t全屏动作，该动作只能是用户操作才可以触发，比如用户点击按钮触发该事件\n\t\t*/\n\t\tfullScreen: function() {\n\t\t\tif (this.html5Video && this.playerType == 'html5video') {\n\t\t\t\tvar element = this.PD;\n\t\t\t\tif (element.requestFullscreen) {\n\t\t\t\t\telement.requestFullscreen();\n\t\t\t\t} else if (element.mozRequestFullScreen) {\n\t\t\t\t\telement.mozRequestFullScreen();\n\t\t\t\t} else if (element.webkitRequestFullscreen) {\n\t\t\t\t\telement.webkitRequestFullscreen();\n\t\t\t\t} else if (element.msRequestFullscreen) {\n\t\t\t\t\telement.msRequestFullscreen();\n\t\t\t\t} else if (element.oRequestFullscreen) {\n\t\t\t\t\telement.oRequestFullscreen();\n\t\t\t\t}\n\t\t\t\tthis.judgeFullScreen();\n\t\t\t} else {\n\t\t\t\t//this.V.fullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t退出全屏动作\n\t\t*/\n\t\tquitFullScreen: function() {\n\t\t\tif (this.html5Video && this.playerType == 'html5video') {\n\t\t\t\tif (document.exitFullscreen) {\n\t\t\t\t\tdocument.exitFullscreen();\n\t\t\t\t} else if (document.msExitFullscreen) {\n\t\t\t\t\tdocument.msExitFullscreen();\n\t\t\t\t} else if (document.mozCancelFullScreen) {\n\t\t\t\t\tdocument.mozCancelFullScreen();\n\t\t\t\t} else if (document.oRequestFullscreen) {\n\t\t\t\t\tdocument.oCancelFullScreen();\n\t\t\t\t} else if (document.requestFullscreen) {\n\t\t\t\t\tdocument.requestFullscreen();\n\t\t\t\t} else if (document.webkitExitFullscreen) {\n\t\t\t\t\tdocument.webkitExitFullscreen();\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(document.documentElement, 'cssText', '');\n\t\t\t\t\tthis.css(document.document.body, 'cssText', '');\n\t\t\t\t\tthis.css(this.PD, 'cssText', '');\n\t\t\t\t}\n\t\t\t\tthis.judgeFullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t 下面列出只有flashplayer里支持的 \n\t\t */\n\t\tvideoRotation: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoRotation(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(n)) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tvar tf = this.css(this.V, 'transform');\n\t\t\tif (this.isUndefined(tf) && !tf) {\n\t\t\t\ttf = 'rotate(0deg)';\n\t\t\t}\n\t\t\tvar reg = tf.match(/rotate\\([^)]+\\)/);\n\t\t\treg = reg ? reg[0].replace('rotate(', '').replace('deg)', '') : '';\n\t\t\tif (reg == '') {\n\t\t\t\treg = 0;\n\t\t\t} else {\n\t\t\t\treg = parseInt(reg);\n\t\t\t}\n\t\t\tif (n == -1) {\n\t\t\t\treg -= 90;\n\t\t\t} else if (n == 1) {\n\t\t\t\treg += 90;\n\t\t\t} else {\n\t\t\t\tif (n != 90 && n != 180 && n != 270 && n != -90 && n != -180 && n != -270) {\n\t\t\t\t\treg = 0;\n\t\t\t\t} else {\n\t\t\t\t\treg = n;\n\t\t\t\t}\n\t\t\t}\n\t\t\tn = reg;\n\t\t\tvar y90 = n % 90,\n\t\t\ty180 = n % 180,\n\t\t\ty270 = n % 270;\n\t\t\tvar ys = false;\n\t\t\tif (y90 == 0 && y180 == 90 && y270 == 90) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == 0 && y180 == 90 && y270 == 0) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == -0 && y180 == -90 && y270 == -90) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == -0 && y180 == -90 && y270 == -0) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\ttf = tf.replace(/rotate\\([^)]+\\)/, '').replace(/scale\\([^)]+\\)/, '') + ' rotate(' + n + 'deg)';\n\t\t\tvar cdW = this.CD.offsetWidth,\n\t\t\tcdH = this.CD.offsetHeight,\n\t\t\tvW = this.V.videoWidth,\n\t\t\tvH = this.V.videoHeight;\n\t\t\tif (vW > 0 && vH > 0) {\n\t\t\t\tif (ys) {\n\t\t\t\t\tif (cdW / cdH > vH / vW) {\n\t\t\t\t\t\tnH = cdH;\n\t\t\t\t\t\tnW = vH * nH / vW;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnW = cdW;\n\t\t\t\t\t\tnH = vW * nW / vH;\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(this.V, 'transform', 'rotate(0deg)');\n\t\t\t\t\tthis.css(this.V, 'transform', 'scale(' + nH / cdW + ',' + nW / cdH + ')' + tf);\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\t}\n\t\t\treturn;\n\t\t},\n\t\tvideoBrightness: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoBrightness(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoContrast: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoContrast(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoSaturation: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoSaturation(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoHue: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoHue(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoZoom: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoZoom(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(n)) {\n\t\t\t\tn = 1;\n\t\t\t}\n\t\t\tif (n < 0) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tif (n > 2) {\n\t\t\t\tn = 2;\n\t\t\t}\n\t\t\tvar tf = this.css(this.V, 'transform');\n\t\t\ttf = tf.replace(/scale\\([^)]+\\)/, '') + ' scale(' + n + ')';\n\t\t\tthis.videoScale = n;\n\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\treturn;\n\t\t},\n\t\tvideoProportion: function(w, h) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoProportion(w, h);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tadPlay: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.adPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adIsPause = false;\n\t\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\t\tvar type = ad['type'];\n\t\t\t\tif (this.isStrImage(type)) {\n\t\t\t\t\tthis.adCountDown();\n\t\t\t\t} else {\n\t\t\t\t\tthis.V.play();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tadPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.adPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adIsPause = true;\n\t\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\t\tvar type = ad['type'];\n\t\t\t\tif (type != 'jpg' && type != 'jpeg' && type != 'png' && type != 'svg' && type != 'gif') {\n\t\t\t\t\tthis.videoPause();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tvideoError: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoError(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tchangeConfig: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\tswitch(args.length){\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tthis.V.changeConfig(args[0]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 7:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar obj = this.ckConfig;\n\t\t\tvar arg = arguments;\n\t\t\tfor (var i = 0; i < arg.length - 1; i++) {\n\t\t\t\tif (obj.hasOwnProperty(arg[i])) {\n\t\t\t\t\tobj = obj[arg[i]];\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar val = arg[arg.length - 1];\n\t\t\tswitch (arg.length) {\n\t\t\t\tcase 2:\n\t\t\t\t\tthis.ckConfig[arg[0]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 7:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 9:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]][arg[7]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 10:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]][arg[7]][arg[8]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.sendJS('configChange', this.ckConfig);\n\t\t},\n\t\tcustom: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.custom(arguments);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(arguments)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar type='',name='',display='';\n\t\t\tif(arguments.length==4){//控制栏\n\t\t\t\ttype='controlBar-'+arguments[1];\n\t\t\t\tname=arguments[2];\n\t\t\t\tdisplay=arguments[3]?'block':'none';\n\t\t\t}\n\t\t\telse if(arguments.length==3){//播放器\n\t\t\t\ttype='player-'+arguments[0];\n\t\t\t\tname=arguments[1];\n\t\t\t\tdisplay=arguments[2]?'block':'none';\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor(var k in this.customeElement){\n\t\t\t\tvar obj=this.customeElement[k];\n\t\t\t\tif(obj['type']==type && obj['name']==name){\n\t\t\t\t\tthis.css(obj['ele'],'display',display);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetConfig: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getConfig(arguments);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar temp=this.ckConfig;\n\t\t\t\tfor(var index in arguments) {  \n\t\t\t        try{\n\t\t\t        \ttemp=temp[arguments[index]];\n\t\t\t        }\n\t\t\t        catch(error){\n\t\t\t        \ttemp=null;\n\t\t\t        }\n\t\t\t    }; \n\t\t\t\treturn temp;\n\t\t\t}\n\t\t},\n\t\topenUrl: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.openUrl(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t清除视频\n\t\t*/\n\t\tvideoClear: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoClear();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.V.innerHTML='';\n\t\t\tthis.V.src='';\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t向播放器传递新的视频地址\n\t\t*/\n\t\tnewVideo: function(c) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.newVideo(c);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.embed(c);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t截图\n\t\t*/\n\t\tscreenshot: function(obj, save, name) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.screenshot(obj, save, name);\n\t\t\t\t} catch(error) {\n\t\t\t\t\tthis.log(error);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (obj == 'video') {\n\t\t\t\tvar newCanvas = document.createElement('canvas');\n\t\t\t\tnewCanvas.width = this.V.videoWidth;\n\t\t\t\tnewCanvas.height = this.V.videoHeight;\n\t\t\t\tnewCanvas.getContext('2d').drawImage(this.V, 0, 0, this.V.videoWidth, this.V.videoHeight);\n\t\t\t\ttry {\n\t\t\t\t\tvar base64 = newCanvas.toDataURL('image/jpeg');\n\t\t\t\t\tthis.sendJS('screenshot', {\n\t\t\t\t\t\tobject: obj,\n\t\t\t\t\t\tsave: save,\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tbase64: base64\n\t\t\t\t\t});\n\t\t\t\t} catch(error) {\n\t\t\t\t\tthis.log(error);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t改变播放器尺寸\n\t\t*/\n\t\tchangeSize: function(w, h) {\n\t\t\tif (this.isUndefined(w)) {\n\t\t\t\tw = 0;\n\t\t\t}\n\t\t\tif (this.isUndefined(h)) {\n\t\t\t\th = 0;\n\t\t\t}\n\t\t\tif (w > 0) {\n\t\t\t\tthis.css(this.CD, 'width', w + 'px');\n\t\t\t}\n\t\t\tif (h > 0) {\n\t\t\t\tthis.css(this.CD, 'height', h + 'px');\n\t\t\t}\n\t\t\tif (this.html5Video) {\n\t\t\t\tthis.playerResize();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t重置播放器界面\n\t\t*/\n\t\tplayerResize:function(){\n\t\t\tthis.controlBar();//控制栏按钮\n\t\t\tthis.elementCoordinate();\n\t\t\tthis.carbarButton();\n\t\t\tthis.customCoor();//自定义元件的位置重置\n\t\t\tthis.timeProgressDefault();//进度条默认样式\n\t\t\tthis.videoCss();//计算video的宽高和位置\n\t\t\tthis.timeUpdateHandler();//修改进度条样式\n\t\t\tthis.changeElementCoor(); //修改新加元件的坐标\n\t\t\tthis.changePrompt();//重置提示点\n\t\t\tthis.advertisementStyle();//广告控制样式\n\t\t\tthis.adPauseCoor();\n\t\t\tthis.adOtherCoor();\n\t\t\tthis.changeLoad();\n\t\t\tthis.sendJS('resize');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t改变视频播放速度\n\t\t*/\n\t\tchangePlaybackRate: function(n) {\n\t\t\tif (this.html5Video) {\n\t\t\t\tvar arr = this.playbackRateArr;\n\t\t\t\tn = parseInt(n);\n\t\t\t\tif (n < arr.length) {\n\t\t\t\t\tthis.newPlaybackrate(arr[n][1]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册控制控制栏显示与隐藏函数\n\t\t*/\n\t\tchangeControlBarShow: function(show) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeControlBarShow(show);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (show) {\n\t\t\t\tthis.controlBarIsShow = true;\n\t\t\t\tthis.controlBarHide(false);\n\t\t\t} else {\n\t\t\t\tthis.controlBarIsShow = false;\n\t\t\t\tthis.controlBarHide(true);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t-----------------------------------------------------------------------\n\t\t\t调用flashplayer\n\t\t*/\n\t\tembedSWF: function() {\n\t\t\tvar vid = 'ckplayer-'+this.randomString();\n\t\t\tvar flashvars = this.getFlashVars();\n\t\t\tvar param = this.getFlashplayerParam();\n\t\t\tvar flashplayerUrl = 'http://www.macromedia.com/go/getflashplayer';\n\t\t\tvar html = '',\n\t\t\tsrc = this.ckplayerPath + 'ckplayer.swf';\n\t\t\tid = 'id=\"' + vid + '\" name=\"' + vid + '\" ';\n\t\t\thtml += '<object pluginspage=\"' + flashplayerUrl + '\" classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=11,3,0,0\" width=\"100%\" height=\"100%\" ' + id + ' align=\"middle\" wmode=\"transparent\">';\n\t\t\thtml += param['v'];\n\t\t\thtml += '<param name=\"movie\" value=\"' + src + '\">';\n\t\t\thtml += '<param name=\"flashvars\" value=\"' + flashvars + '\">';\n\t\t\thtml += '<param name=\"wmode\" value=\"transparent\">';\n\t\t\thtml += '<embed wmode=\"transparent\" ' + param['w'] + ' src=\"' + src + '\" flashvars=\"' + flashvars + '\" width=\"100%\" height=\"100%\" ' + id + ' align=\"middle\" type=\"application/x-shockwave-flash\" pluginspage=\"' + flashplayerUrl + '\" />';\n\t\t\thtml += '</object>';\n\t\t\tthis.PD.innerHTML = html;\n\t\t\tthis.V = this.getObjectById(vid); //V：定义播放器对象全局变量\n\t\t\tthis.playerType = 'flashplayer';\n\t\t},\n\t\t/*\n\t\t\t判断浏览器是否支持flashplayer \n\t\t*/\n\t\tcheckShockwaveFlash:function(){\n\t\t\tif(window.ActiveXObject) {\n\t\t\t\ttry {\n\t\t\t\t\tvar s = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n\t\t\t\t\tif(s) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {}\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tvar s = navigator.plugins['Shockwave Flash'];\n\t\t\t\t\tif(s) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将vars对象转换成字符\n\t\t*/\n\t\tgetFlashVars: function() {\n\t\t\tthis.getVarsObject();\n\t\t\tvar v = this.vars;\n\t\t\tvar z = '';\n\t\t\tfor (k in v) {\n\t\t\t\tif (k != 'flashplayer' && k != 'container' && v[k] != '') {\n\t\t\t\t\tif (z != '') {\n\t\t\t\t\t\tz += '&';\n\t\t\t\t\t}\n\t\t\t\t\tvar vk = v[k];\n\t\t\t\t\tif (vk == true) {\n\t\t\t\t\t\tvk = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (vk == false) {\n\t\t\t\t\t\tvk = 0;\n\t\t\t\t\t}\n\t\t\t\t\tz += k + '=' + vk;\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (!v.hasOwnProperty('volume') || !v['volume']) {\n\t\t\t\tif (z != '') {\n\t\t\t\t\tz += '&';\n\t\t\t\t}\n\t\t\t\tz += 'volume=0';\n\t\t\t}\n\t\t\treturn z;\n\t\t},\n\t\t/*判断字符串是否是图片*/\n\t\tisStrImage: function(s) {\n\t\t\tif (s == 'jpg' || s == 'jpeg' || s == 'png' || s == 'svg' || s == 'gif') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将vars格式化成flash能接受的对象。再由getFlashVars函数转化成字符串或由newVideo直接使用\n\t\t*/\n\t\tgetVarsObject: function() {\n\t\t\tvar v = this.vars;\n\t\t\tvar f = '',\n\t\t\td = '',\n\t\t\tw = ''; //f=视频地址，d=清晰度地址,w=权重，z=最终地址\n\t\t\tvar arr = this.VA;\n\t\t\tvar prompt = v['promptSpot'];\n\t\t\tvar i = 0;\n\t\t\tvar video = this.vars['video'];\n\t\t\tif (this.varType(video) == 'array') { //对象或数组\n\t\t\t\tvar arr = video;\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tvar arr2 = arr[i];\n\t\t\t\t\tif (arr2) {\n\t\t\t\t\t\tif (f != '') {\n\t\t\t\t\t\t\tf += this.ckConfig['config']['split'];\n\t\t\t\t\t\t\td += ',';\n\t\t\t\t\t\t\tw += ',';\n\t\t\t\t\t\t\tv['type'] += this.ckConfig['config']['split'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tf += encodeURIComponent(decodeURIComponent(arr2[0]));\n\t\t\t\t\t\td += arr2[2];\n\t\t\t\t\t\tw += arr2[3];\n\t\t\t\t\t\tv['type'] += arr2[1].replace('video/', '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (this.varType(video) == 'object') { //对象或数组\n\t\t\t\tf = encodeURIComponent(decodeURIComponent(video['file']));\n\t\t\t\tif (!this.isUndefined(video['type'])) {\n\t\t\t\t\tv['type'] = video['type'];\n\t\t\t\t}\n\t\t\t\td = '';\n\t\t\t\tw = '';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tf = encodeURIComponent(decodeURIComponent(video));\n\t\t\t}\n\t\t\tif (v['preview'] != null) {\n\t\t\t\tv['previewscale'] = v['preview']['scale'];\n\t\t\t\tv['preview'] = v['preview']['file'].join(',');\n\n\t\t\t}\n\t\t\tif (prompt != null) {\n\t\t\t\tv['promptspot'] = '';\n\t\t\t\tv['promptspottime'] = '';\n\t\t\t\tfor (i = 0; i < prompt.length; i++) {\n\t\t\t\t\tif (v['promptspot'] != '') {\n\t\t\t\t\t\tv['promptspot'] += ',';\n\t\t\t\t\t\tv['promptspottime'] += ',';\n\t\t\t\t\t}\n\t\t\t\t\tv['promptspot'] += prompt[i]['words'];\n\t\t\t\t\tv['promptspottime'] += prompt[i]['time'];\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (f != '') {\n\t\t\t\tv['video'] = f;\n\t\t\t\tv['definition'] = d;\n\t\t\t\tv['weight'] = w;\n\t\t\t}\n\t\t\tif (!v['volume']) {\n\t\t\t\tv['volume'] = 0;\n\t\t\t}\n\t\t\tvar newV = {};\n\n\t\t\tfor (var k in v) {\n\t\t\t\tif (v[k] != null) {\n\t\t\t\t\tnewV[k] = v[k];\n\t\t\t\t}\n\t\t\t\tif (k == 'type') {\n\t\t\t\t\tnewV[k] = v[k].replace('video/m3u8', 'm3u8');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.vars = newV;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将embedSWF里的param的对象进行转换\n\t\t*/\n\t\tgetFlashplayerParam: function() {\n\t\t\tvar w = '',\n\t\t\tv = '',\n\t\t\to = {\n\t\t\t\tallowScriptAccess: 'always',\n\t\t\t\tallowFullScreen: true,\n\t\t\t\tquality: 'high',\n\t\t\t\tbgcolor: '#000'\n\t\t\t};\n\t\t\tfor (var e in o) {\n\t\t\t\tw += e + '=\"' + o[e] + '\" ';\n\t\t\t\tv += '<param name=\"' + e + '\" value=\"' + o[e] + '\" />';\n\t\t\t}\n\t\t\tw = w.replace('movie=', 'src=');\n\t\t\treturn {\n\t\t\t\tw: w,\n\t\t\t\tv: v\n\t\t\t};\n\t\t},\n\n\t\t/*\n\t\t\t操作动作结束\n\t\t\t-----------------------------------------------------------------------\n\t\t\t\n\t\t\t接口函数\n\t\t\t获取元数据部分\n\t\t*/\n\t\tgetMetaDate: function() {\n\t\t\tif (!this.loaded || this.V == null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\tvar duration = 0;\n\t\t\t\ttry {\n\t\t\t\t\tduration = !isNaN(this.V.duration) ? this.V.duration: 0;\n\t\t\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\t\t\tif(this.vars['duration']>0){\n\t\t\t\t\t\t\tduration=this.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t\tvar data = {\n\t\t\t\t\tduration: duration,\n\t\t\t\t\tvolume: this.V.volume,\n\t\t\t\t\tplaybackRate: this.V.playbackRate,\n\t\t\t\t\twidth: this.PD.offsetWidth || this.V.offsetWidth || this.V.width,\n\t\t\t\t\theight: this.PD.offsetHeight || this.V.offsetHeight || this.V.height,\n\t\t\t\t\tstreamWidth: this.V.videoWidth,\n\t\t\t\t\tstreamHeight: this.V.videoHeight,\n\t\t\t\t\tvideoWidth: this.V.offsetWidth,\n\t\t\t\t\tvideoHeight: this.V.offsetHeight,\n\t\t\t\t\tpaused: this.V.paused,\n\t\t\t\t\tloadTime:this.loadTimeTemp\n\t\t\t\t};\n\t\t\t\treturn data;\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\treturn this.V.getMetaDate();\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t取当前提供给播放器播放的视频列表\n\t\t*/\n\t\tgetVideoUrl: function() {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getVideoUrl();\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (this.V.src) {\n\t\t\t\tarr.push(this.V.src);\n\t\t\t} else {\n\t\t\t\tvar uArr = this.V.childNodes;\n\t\t\t\tfor (var i = 0; i < uArr.length; i++) {\n\t\t\t\t\tarr.push(uArr[i].src);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t格式化函数\n\t\t*/\n\t\tclickEvent: function(call) {\n\t\t\tif (call == 'none' || call == '' || call == null) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'none'\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar callArr = call.split('->');\n\t\t\tvar type = '',\n\t\t\tfun = '',\n\t\t\tlink = '',\n\t\t\ttarget = '';\n\t\t\tif (callArr.length == 2) {\n\t\t\t\tvar callM = callArr[0];\n\t\t\t\tvar callE = callArr[1];\n\t\t\t\tif (!callE) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'none'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tvar val = '';\n\t\t\t\tvar eArr = [];\n\t\t\t\ttype = callM;\n\t\t\t\tswitch (callM) {\n\t\t\t\tcase 'actionScript':\n\t\t\t\t\t//trace(THIS.hasOwnProperty(callE));\n\t\t\t\t\tif (callE.indexOf('(') > -1) {\n\t\t\t\t\t\teArr = callE.split('(');\n\t\t\t\t\t\tcallE = eArr[0];\n\t\t\t\t\t\tval = eArr[1].replace(')', '');\n\t\t\t\t\t}\n\t\t\t\t\tif (val == '') {\n\t\t\t\t\t\tfun = 'thisTemp.' + callE + '()';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfun = 'thisTemp.' + callE + '(' + val + ')';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javaScript':\n\t\t\t\t\tif (callE.substr(0, 11) == '[flashvars]') {\n\t\t\t\t\t\tcallE = callE.substr(11);\n\t\t\t\t\t\tif (this.vars.hasOwnProperty(callE)) {\n\t\t\t\t\t\t\tcallE = this.vars[callE];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (callE.indexOf('(') > -1) {\n\t\t\t\t\t\teArr = callE.split('(');\n\t\t\t\t\t\tcallE = eArr[0];\n\t\t\t\t\t\tval = eArr[1].replace(')', '');\n\t\t\t\t\t}\n\t\t\t\t\tif (val == '') {\n\t\t\t\t\t\tfun = callE + '()';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfun = callE + '(' + val + ')';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"link\":\n\t\t\t\t\tvar callLink = (callE + ',').split(',');\n\t\t\t\t\tif (callLink[0].substr(0, 11) == '[flashvars]') {\n\t\t\t\t\t\tvar fl = callLink[0].replace('[flashvars]', '');\n\t\t\t\t\t\tif (this.vars.hasOwnProperty(fl)) {\n\t\t\t\t\t\t\tcallLink[0] = this.vars[fl];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!callLink[1]) {\n\t\t\t\t\t\tcallLink[1] = '_blank';\n\t\t\t\t\t}\n\t\t\t\t\tlink = callLink[0];\n\t\t\t\t\ttarget = callLink[1];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttype: type,\n\t\t\t\tfun: fun,\n\t\t\t\tlink: link,\n\t\t\t\ttarget: target\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据指定的align,valign,offsetX,offsetY计算坐标\n\t\t*/\n\t\tgetPosition: function(obj,rEle) {\n\t\t\t/*\n\t\t\t{\n\t            \"align\": \"right\",\n\t            \"vAlign\": \"right\",\n\t            \"offsetX\": -60,\n\t            \"offsetY\": -60\n\t        } \n\t\t\t*/\n\t\t\tvar pw = this.PD.offsetWidth,\n\t\t\tph = this.PD.offsetHeight;\n\t\t\tvar x = 0,\n\t\t\ty = 0;\n\t\t\tvar left=0,top=0,rw=0,rh=0;\n\t\t\tif(!this.isUndefined(rEle)){\n\t\t\t\tleft=parseInt(this.css(rEle,'left')),top=parseInt(this.css(rEle,'top')),rw=rEle.offsetWidth,rh=rEle.offsetHeight;\n\t\t\t}\n\t\t\tswitch (obj['align']) {\n\t\t\t\tcase 'left':\n\t\t\t\t\tx = obj['offsetX']+left;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'center':\n\t\t\t\t\tx = pw * 0.5 + obj['offsetX'];\n\t\t\t\t\tif(left){\n\t\t\t\t\t\tx-=(pw*0.5-rw*0.5-left);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tx = pw + obj['offsetX'];\n\t\t\t\t\tif(left){\n\t\t\t\t\t\tx-=(pw-left-rw);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tswitch (obj['vAlign']) {\n\t\t\t\tcase 'top':\n\t\t\t\t\ty = obj['offsetY']+top;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'middle':\n\t\t\t\t\ty = ph * 0.5 + obj['offsetY']-top-(rh*0.5);\n\t\t\t\t\tif(top){\n\t\t\t\t\t\tx-=(ph*0.5-rh*0.5-top);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'bottom':\n\t\t\t\t\ty = ph + obj['offsetY'];\n\t\t\t\t\tif(top){\n\t\t\t\t\t\ty-=(ph-top-rh);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t向播放器界面添加一个文本\n\t\t*/\n\t\taddElement: function(attribute) {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.addElement(attribute);\n\t\t\t}\n\t\t\tvar i = 0;\n\t\t\tvar obj = {\n\t\t\t\tlist: null,\n\t\t\t\tx: '100%',\n\t\t\t\ty: \"50%\",\n\t\t\t\tposition: null,\n\t\t\t\talpha: 1,\n\t\t\t\tbackgroundColor: '',\n\t\t\t\tbackAlpha: 1,\n\t\t\t\tbackRadius: 0,\n\t\t\t\tclickEvent: ''\n\t\t\t};\n\t\t\tobj = this.standardization(obj, attribute);\n\t\t\tvar list = obj['list'];\n\t\t\tif (list == null) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tvar id = 'element-' + this.randomString(10);\n\t\t\tvar ele = document.createElement('div');\n\t\t\tele.className = id;\n\t\t\tif (obj['x']) {\n\t\t\t\tele.setAttribute('data-x', obj['x']);\n\t\t\t}\n\t\t\tif (obj['y']) {\n\t\t\t\tele.setAttribute('data-y', obj['y']);\n\t\t\t}\n\t\t\tif (obj['position'] != null) {\n\t\t\t\tele.setAttribute('data-position', obj['position'].join(','));\n\t\t\t}\n\n\t\t\tthis.PD.appendChild(ele);\n\t\t\tthis.css(ele, {\n\t\t\t\tposition: 'absolute',\n\t\t\t\tfilter: 'alpha(opacity:' + obj['alpha'] + ')',\n\t\t\t\topacity: obj['alpha'].toString(),\n\t\t\t\twidth: '800px',\n\t\t\t\tzIndex: '20'\n\t\t\t});\n\t\t\tvar bgid = 'elementbg' + this.randomString(10);\n\t\t\tvar bgAlpha = obj['alpha'].toString();\n\t\t\tvar bgColor = obj['backgroundColor'].replace('0x', '#');\n\t\t\tvar html = '';\n\t\t\tvar idArr = [];\n\t\t\tvar clickArr = [];\n\t\t\tif (!this.isUndefined(list) && list.length > 0) {\n\t\t\t\tvar textObj, returnObj, clickEvent;\n\t\t\t\tfor (i = 0; i < list.length; i++) {\n\t\t\t\t\tvar newEleid = 'elementnew' + this.randomString(10);\n\t\t\t\t\tswitch (list[i]['type']) {\n\t\t\t\t\tcase 'image':\n\t\t\t\t\tcase 'png':\n\t\t\t\t\tcase 'jpg':\n\t\t\t\t\tcase 'jpeg':\n\t\t\t\t\tcase 'gif':\n\t\t\t\t\t\ttextObj = {\n\t\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\t\tfile: '',\n\t\t\t\t\t\t\tradius: 0,//圆角弧度\n\t\t\t\t\t\t\twidth: 30,//定义宽，必需要定义\n\t\t\t\t\t\t\theight: 30,//定义高，必需要定义\n\t\t\t\t\t\t\talpha: 1,//透明度\n\t\t\t\t\t\t\tpaddingLeft: 0,//左边距离\n\t\t\t\t\t\t\tpaddingRight: 0,//右边距离\n\t\t\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\t\t\tmarginLeft: 0,\n\t\t\t\t\t\t\tmarginRight: 0,\n\t\t\t\t\t\t\tmarginTop: 0,\n\t\t\t\t\t\t\tmarginBottom: 0,\n\t\t\t\t\t\t\tbackgroundColor: '',\n\t\t\t\t\t\t\tclickEvent: ''\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tlist[i] = this.standardization(textObj, list[i]);\n\t\t\t\t\t\tclickEvent = this.clickEvent(list[i]['clickEvent']);\n\t\t\t\t\t\tclickArr.push(clickEvent);\n\t\t\t\t\t\tif (clickEvent['type'] == 'link') {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><a href=\"' + clickEvent['link'] + '\" target=\"' + clickEvent['target'] + '\"><img class=\"' + newEleid + '_image\" src=\"' + list[i]['file'] + '\" style=\"border:0;\"></a></div>';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><img class=\"' + newEleid + '_image\" src=\"' + list[i]['file'] + '\" style=\"border:0;\"></div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'text':\n\t\t\t\t\t\ttextObj = {\n\t\t\t\t\t\t\ttype: 'text',//说明是文本\n\t\t\t\t\t\t\ttext: '',//文本内容\n\t\t\t\t\t\t\tcolor: '0xFFFFFF',\n\t\t\t\t\t\t\tsize: 14,\n\t\t\t\t\t\t\tfontFamily: this.fontFamily,\n\t\t\t\t\t\t\tleading: 0,\n\t\t\t\t\t\t\talpha: 1,//透明度\n\t\t\t\t\t\t\tpaddingLeft: 0,//左边距离\n\t\t\t\t\t\t\tpaddingRight: 0,//右边距离\n\t\t\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\t\t\tmarginLeft: 0,\n\t\t\t\t\t\t\tmarginRight: 0,\n\t\t\t\t\t\t\tmarginTop: 0,\n\t\t\t\t\t\t\tmarginBottom: 0,\n\t\t\t\t\t\t\tbackgroundColor: '',\n\t\t\t\t\t\t\tbackAlpha: 1,\n\t\t\t\t\t\t\tbackRadius: 0,//背景圆角弧度，支持数字统一设置，也支持分开设置[30,20,20,50]，对应上左，上右，下右，下左\n\t\t\t\t\t\t\tclickEvent: ''\n\t\t\t\t\t\t};\n\t\t\t\t\t\tlist[i] = this.standardization(textObj, list[i]);\n\t\t\t\t\t\tclickEvent = this.clickEvent(list[i]['clickEvent']);\n\t\t\t\t\t\tclickArr.push(clickEvent);\n\t\t\t\t\t\tif (clickEvent['type'] == 'link') {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><div class=\"' + newEleid + '_bg\"></div><div class=\"' + newEleid + '_text\"><a href=\"' + clickEvent['link'] + '\" target=\"' + clickEvent['target'] + '\">' + list[i]['text'] + '</a></div></div>';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thtml += '<div  class=\"' + newEleid + '\" data-i=\"' + i + '\"><div class=\"' + newEleid + '_bg\"></div><div class=\"' + newEleid + '_text\">' + list[i]['text'] + '</div></div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tidArr.push(newEleid);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar objClickEvent = this.clickEvent(obj['clickEvent']);\n\t\t\tele.innerHTML = '<div class=\"' + bgid + '\"></div><div class=\"' + bgid + '_c\">' + html + '</div>';\n\t\t\tif (objClickEvent['type'] == 'javaScript' || objClickEvent['type'] == 'actionScript') {\n\t\t\t\tvar objClickHandler = function() {\n\t\t\t\t\teval(objClickEvent['fun']);\n\t\t\t\t\tthisTemp.sendJS('clickEvent', clk['type'] + '->' + clk['fun'].replace('thisTemp.', '').replace('()', ''));\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', objClickHandler, this.getByElement(bgid + '_c'))\n\t\t\t}\n\t\t\tthis.css(bgid + '_c', {\n\t\t\t\tposition: 'absolute',\n\t\t\t\tzIndex: '2'\n\t\t\t});\n\t\t\tfor (i = 0; i < idArr.length; i++) {\n\t\t\t\tvar clk = clickArr[i];\n\t\t\t\tif (clk['type'] == 'javaScript' || clk['type'] == 'actionScript') {\n\t\t\t\t\tvar clickHandler = function() {\n\t\t\t\t\t\t//clk = clickArr[this.getAttribute('data-i')];\n\t\t\t\t\t\tclk = clickArr[thisTemp.getDataset(this,'i')];\n\t\t\t\t\t\teval(clk['fun']);\n\t\t\t\t\t\tthisTemp.sendJS('clickEvent', clk['type'] + '->' + clk['fun'].replace('thisTemp.', '').replace('()', ''));\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', clickHandler, this.getByElement(idArr[i]))\n\t\t\t\t}\n\t\t\t\tswitch (list[i]['type']) {\n\t\t\t\tcase 'image':\n\t\t\t\tcase 'png':\n\t\t\t\tcase 'jpg':\n\t\t\t\tcase 'jpeg':\n\t\t\t\tcase 'gif':\n\t\t\t\t\tthis.css(idArr[i], {\n\t\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t\twidth: list[i]['width'] + 'px',\n\t\t\t\t\t\theight: list[i]['height'] + 'px',\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['alpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['alpha'].toString(),\n\t\t\t\t\t\tmarginLeft: list[i]['marginLeft'] + 'px',\n\t\t\t\t\t\tmarginRight: list[i]['marginRight'] + 'px',\n\t\t\t\t\t\tmarginTop: list[i]['marginTop'] + 'px',\n\t\t\t\t\t\tmarginBottom: list[i]['marginBottom'] + 'px',\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px',\n\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i] + '_image', {\n\t\t\t\t\t\twidth: list[i]['width'] + 'px',\n\t\t\t\t\t\theight: list[i]['height'] + 'px',\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'text':\n\t\t\t\t\tthis.css(idArr[i] + '_text', {\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['alpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['alpha'].toString(),\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px',\n\t\t\t\t\t\tfontFamily: list[i]['font'],\n\t\t\t\t\t\tfontSize: list[i]['size'] + 'px',\n\t\t\t\t\t\tcolor: list[i]['color'].replace('0x', '#'),\n\t\t\t\t\t\tlineHeight: list[i]['leading'] > 0 ? list[i]['leading'] + 'px': '',\n\t\t\t\t\t\tpaddingLeft: list[i]['paddingLeft'] + 'px',\n\t\t\t\t\t\tpaddingRight: list[i]['paddingRight'] + 'px',\n\t\t\t\t\t\tpaddingTop: list[i]['paddingTop'] + 'px',\n\t\t\t\t\t\tpaddingBottom: list[i]['paddingBottom'] + 'px',\n\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tzIndex: '3',\n\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i], {\n\t\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t\twidth: this.getByElement(idArr[i] + '_text').offsetWidth + 'px',\n\t\t\t\t\t\theight: this.getByElement(idArr[i] + '_text').offsetHeight + 'px',\n\t\t\t\t\t\tmarginLeft: list[i]['marginLeft'] + 'px',\n\t\t\t\t\t\tmarginRight: list[i]['marginRight'] + 'px',\n\t\t\t\t\t\tmarginTop: list[i]['marginTop'] + 'px',\n\t\t\t\t\t\tmarginBottom: list[i]['marginBottom'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i] + '_bg', {\n\t\t\t\t\t\twidth: this.getByElement(idArr[i] + '_text').offsetWidth + 'px',\n\t\t\t\t\t\theight: this.getByElement(idArr[i] + '_text').offsetHeight + 'px',\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['backAlpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['backAlpha'].toString(),\n\t\t\t\t\t\tborderRadius: list[i]['backRadius'] + 'px',\n\t\t\t\t\t\tbackgroundColor: list[i]['backgroundColor'].replace('0x', '#'),\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tzIndex: '2'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.css(bgid, {\n\t\t\t\twidth: this.getByElement(bgid + '_c').offsetWidth + 'px',\n\t\t\t\theight: this.getByElement(bgid + '_c').offsetHeight + 'px',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tfilter: 'alpha(opacity:' + bgAlpha + ')',\n\t\t\t\topacity: bgAlpha,\n\t\t\t\tbackgroundColor: bgColor.replace('0x', '#'),\n\t\t\t\tborderRadius: obj['backRadius'] + 'px',\n\t\t\t\tzIndex: '1'\n\t\t\t});\n\t\t\tthis.css(ele, {\n\t\t\t\twidth: this.getByElement(bgid).offsetWidth + 'px',\n\t\t\t\theight: this.getByElement(bgid).offsetHeight + 'px'\n\t\t\t});\n\t\t\tvar eidCoor = this.calculationCoor(ele);\n\t\t\tthis.css(ele, {\n\t\t\t\tleft: eidCoor['x'] + 'px',\n\t\t\t\ttop: eidCoor['y'] + 'px'\n\t\t\t});\n\n\t\t\tthis.elementArr.push(ele.className);\n\t\t\treturn ele;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t获取元件的属性，包括x,y,width,height,alpha\n\t\t*/\n\t\tgetElement: function(element) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getElement(element);\n\t\t\t}\n\t\t\tvar ele = element;\n\t\t\tif (this.varType(element) == 'string') {\n\t\t\t\tele = this.getByElement(element);\n\t\t\t}\n\t\t\tvar coor = this.getCoor(ele);\n\t\t\treturn {\n\t\t\t\tx: coor['x'],\n\t\t\t\ty: coor['y'],\n\t\t\t\twidth: ele.offsetWidth,\n\t\t\t\theight: ele.offsetHeight,\n\t\t\t\talpha: !this.isUndefined(this.css(ele, 'opacity')) ? parseFloat(this.css(ele, 'opacity')) : 1,\n\t\t\t\tshow: this.css(ele, 'display') == 'none' ? false: true\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t控制元件显示和隐藏\n\t\t*/\n\t\telementShow: function(element, show) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.elementShow(element, show);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(element) == 'string') {\n\t\t\t\tif (element) {\n\t\t\t\t\tthis.css(ele, 'display', show == true ? 'block': 'none');\n\t\t\t\t} else {\n\t\t\t\t\tvar arr = this.elementTempArr;\n\t\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\t\tthis.css(arr[i], 'display', show == true ? 'block': 'none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据节点的x,y计算在播放器里的坐标\n\t\t*/\n\t\tcalculationCoor: function(ele) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.calculationCoor(ele);\n\t\t\t}\n\t\t\tif(this.isUndefined(ele)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (ele == []) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar x, y, position = [];\n\t\t\tvar w = this.PD.offsetWidth,\n\t\t\th = this.PD.offsetHeight;\n\t\t\tvar ew = ele.offsetWidth,\n\t\t\teh = ele.offsetHeight;\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'x'))) {\n\t\t\t\tx = this.getDataset(ele, 'x');\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'y'))) {\n\t\t\t\ty = this.getDataset(ele, 'y');\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'position'))) {\n\t\t\t\ttry {\n\t\t\t\t\tposition = this.getDataset(ele, 'position').toString().split(',');\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t\tif (position.length > 0) {\n\t\t\t\tposition.push(null, null, null, null);\n\t\t\t\tvar i = 0;\n\t\t\t\tfor (i = 0; i < position.length; i++) {\n\t\t\t\t\tif (this.isUndefined(position[i]) || position[i] == null || position[i] == 'null' || position[i] == '') {\n\t\t\t\t\t\tposition[i] = null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition[i] = parseFloat(position[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (position[2] == null) {\n\t\t\t\t\tswitch (position[0]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tx = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tx = parseInt((w - ew) * 0.5);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tx = w - ew;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (position[0]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tx = position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tx = parseInt(w * 0.5) + position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tx = w + position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (position[3] == null) {\n\t\t\t\t\tswitch (position[1]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\ty = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ty = parseInt((h - eh) * 0.5);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ty = h - eh;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (position[1]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\ty = position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ty = parseInt(h * 0.5) + position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ty = h + position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (x.substring(x.length - 1, x.length) == '%') {\n\t\t\t\t\tx = Math.floor(parseInt(x.substring(0, x.length - 1)) * w * 0.01);\n\t\t\t\t}\n\t\t\t\tif (y.substring(y.length - 1, y.length) == '%') {\n\t\t\t\t\ty = Math.floor(parseInt(y.substring(0, y.length - 1)) * h * 0.01);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t修改新增元件的坐标\n\t\t*/\n\t\tchangeElementCoor: function() {\n\t\t\tfor (var i = 0; i < this.elementArr.length; i++) {\n\t\t\t\tif(!this.isUndefined(this.getByElement(this.elementArr[i]))){\n\t\t\t\t\tif (this.getByElement(this.elementArr[i]) != []) {\n\t\t\t\t\t\tvar c = this.calculationCoor(this.getByElement(this.elementArr[i]));\n\t\t\t\t\t\tif (c['x'] && c['y']) {\n\t\t\t\t\t\t\tthis.css(this.elementArr[i], {\n\t\t\t\t\t\t\t\ttop: c['y'] + 'px',\n\t\t\t\t\t\t\t\tleft: c['x'] + 'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t缓动效果集\n\t\t*/\n\t\ttween: function() {\n\t\t\tvar Tween = {\n\t\t\t\tNone: { //均速运动\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuadratic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * (t /= d) * (t - 2) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t + b;\n\t\t\t\t\t\treturn - c / 2 * ((--t) * (t - 2) - 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tCubic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * t + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * t + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuartic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * ((t = t / d - 1) * t * t * t - 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;\n\t\t\t\t\t\treturn - c / 2 * ((t -= 2) * t * t * t - 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuintic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tSine: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * Math.sin(t / d * (Math.PI / 2)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tExponential: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn (t == 0) ? b: c * Math.pow(2, 10 * (t / d - 1)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn (t == d) ? b + c: c * ( - Math.pow(2, -10 * t / d) + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif (t == d) return b + c;\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n\t\t\t\t\t\treturn c / 2 * ( - Math.pow(2, -10 * --t) + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tCircular: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return - c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n\t\t\t\t\t\treturn c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tElastic: {\n\t\t\t\t\teaseIn: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\t\t\tif (!p) p = d * .3;\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\treturn - (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\t\t\tif (!p) p = d * .3;\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\treturn (a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b);\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d / 2) == 2) return b + c;\n\t\t\t\t\t\tif (!p) p = d * (.3 * 1.5);\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\tif (t < 1) return - .5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tBack: {\n\t\t\t\t\teaseIn: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\treturn c * (t /= d) * t * ((s + 1) * t - s) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tBounce: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c - Tween.Bounce.easeOut(d - t, 0, c, d) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d) < (1 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * t * t) + b;\n\t\t\t\t\t\t} else if (t < (2 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (1.5 / 2.75)) * t + .75) + b;\n\t\t\t\t\t\t} else if (t < (2.5 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (2.25 / 2.75)) * t + .9375) + b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (2.625 / 2.75)) * t + .984375) + b;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif (t < d / 2) return Tween.Bounce.easeIn(t * 2, 0, c, d) * .5 + b;\n\t\t\t\t\t\telse return Tween.Bounce.easeOut(t * 2 - d, 0, c, d) * .5 + c * .5 + b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn Tween;\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t缓动效果\n\t\t\tele:Object=需要缓动的对象,\n\t\t\tparameter:String=需要改变的属性：x,y,width,height,alpha,\n\t\t\teffect:String=效果名称,\n\t\t\tstart:Int=起始值,\n\t\t\tend:Int=结束值,\n\t\t\tspeed:Number=运动的总秒数，支持小数\n\t\t*/\n\t\tanimate: function(attribute) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.animate(attribute);\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar animateId = 'animate_' + this.randomString();\n\t\t\tvar obj = {\n\t\t\t\telement: null,\n\t\t\t\tparameter: 'x',\n\t\t\t\tstatic: false,\n\t\t\t\teffect: 'None.easeIn',\n\t\t\t\tstart: null,\n\t\t\t\tend: null,\n\t\t\t\tspeed: 0,\n\t\t\t\toverStop: false,\n\t\t\t\tpauseStop: false,\n\t\t\t\t//暂停播放时缓动是否暂停\n\t\t\t\tcallBack: null\n\t\t\t};\n\t\t\tobj = this.standardization(obj, attribute);\n\t\t\tif (obj['element'] == null || obj['speed'] == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar w = this.PD.offsetWidth,\n\t\t\th = this.PD.offsetHeight;\n\t\t\tvar effArr = (obj['effect'] + '.').split('.');\n\t\t\tvar tweenFun = this.tween()[effArr[0]][effArr[1]];\n\t\t\tvar eleCoor = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t\tif (this.isUndefined(tweenFun)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t//先将该元件从元件数组里删除，让其不再跟随播放器的尺寸改变而改变位置\n\t\t\tvar def = this.arrIndexOf(this.elementArr, obj['element'].className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementTempArr.push(obj['element'].className);\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\t//var run = true;\n\t\t\tvar css = {};\n\t\t\t//对传递的参数进行转化，x和y转化成left,top\n\t\t\tvar pm = this.getElement(obj['element']); //包含x,y,width,height,alpha属性\n\t\t\tvar t = 0; //当前时间\n\t\t\tvar b = 0; //初始值\n\t\t\tvar c = 0; //变化量\n\t\t\tvar d = obj['speed'] * 1000; //持续时间\n\t\t\tvar timerTween = null;\n\t\t\tvar tweenObj = null;\n\t\t\tvar start = obj['start'] == null ? '': obj['start'].toString();\n\t\t\tvar end = obj['end'] == null ? '': obj['end'].toString();\n\t\t\tswitch (obj['parameter']) {\n\t\t\tcase 'x':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['x'];\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(start) * w * 0.01;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(start);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['x'] - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) * w * 0.01 - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(end);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'y':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['y'];\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(start) * h * 0.01;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(start);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['y'] - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) * h * 0.01 - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(end);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'alpha':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['alpha'] * 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(obj['start']);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(obj['start'] * 100);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['alpha'] * 100 - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) * 100 - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) * 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(obj['end']) * 100 - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar callBack = function() {\n\t\t\t\tvar index = thisTemp.arrIndexOf(thisTemp.animateElementArray, animateId);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthisTemp.animateArray.splice(index, 1);\n\t\t\t\t\tthisTemp.animateElementArray.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tindex = thisTemp.arrIndexOf(thisTemp.animatePauseArray, animateId);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthisTemp.animatePauseArray.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tif (obj['callBack'] != null && obj['element'] && obj['callBack'] != 'callBack' && obj['callBack'] != 'tweenX' && obj['tweenY'] != 'callBack' && obj['callBack'] != 'tweenAlpha') {\n\t\t\t\t\tvar cb = eval(obj['callBack']);\n\t\t\t\t\tcb(obj['element']);\n\t\t\t\t\tobj['callBack'] = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar stopTween = function() {\n\t\t\t\tif (timerTween != null) {\n\t\t\t\t\tif (timerTween.runing) {\n\t\t\t\t\t\ttimerTween.stop();\n\t\t\t\t\t}\n\t\t\t\t\ttimerTween = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenX = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\tleft: Math.ceil(tweenFun(t, b, c, d)) + 'px'\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['top'] = eleCoor['y'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defX = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defX > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defX, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenY = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\ttop: Math.ceil(tweenFun(t, b, c, d)) + 'px'\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['left'] = eleCoor['x'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defY = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defY > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defY, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenAlpha = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\tvar ap = Math.ceil(tweenFun(t, b, c, d)) * 0.01;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + ap + ')',\n\t\t\t\t\t\topacity: ap.toString()\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['top'] = eleCoor['y'] + 'px';\n\t\t\t\t\t\tcss['left'] = eleCoor['x'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defA = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defA > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defA, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tswitch (obj['parameter']) {\n\t\t\t\tcase 'x':\n\t\t\t\t\ttweenObj = tweenX;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'y':\n\t\t\t\t\ttweenObj = tweenY;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'alpha':\n\t\t\t\t\ttweenObj = tweenAlpha;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\ttimerTween = new thisTemp.timer(10, tweenObj);\n\t\t\ttimerTween.callBackFunction = callBack;\n\t\t\tif (obj['overStop']) {\n\t\t\t\tvar mouseOver = function() {\n\t\t\t\t\tif (timerTween != null && timerTween.runing) {\n\t\t\t\t\t\ttimerTween.stop();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('mouseover', mouseOver, obj['element']);\n\t\t\t\tvar mouseOut = function() {\n\t\t\t\t\tvar start = true;\n\t\t\t\t\tif (obj['pauseStop'] && thisTemp.getMetaDate()['paused']) {\n\t\t\t\t\t\tstart = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (timerTween != null && !timerTween.runing && start) {\n\t\t\t\t\t\ttimerTween.start();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('mouseout', mouseOut, obj['element']);\n\t\t\t}\n\n\t\t\tthis.animateArray.push(timerTween);\n\t\t\tthis.animateElementArray.push(animateId);\n\t\t\tif (obj['pauseStop']) {\n\t\t\t\tthis.animatePauseArray.push(animateId);\n\t\t\t}\n\t\t\treturn animateId;\n\t\t},\n\t\t/*\n\t\t\t接口函数函数\n\t\t\t继续运行animate\n\t\t*/\n\t\tanimateResume: function(id) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.animateResume(this.isUndefined(id) ? '': id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (id != '' && !this.isUndefined(id) && id != 'pause') {\n\t\t\t\tarr.push(id);\n\t\t\t} else {\n\t\t\t\tif (id === 'pause') {\n\t\t\t\t\tarr = this.animatePauseArray;\n\t\t\t\t} else {\n\t\t\t\t\tarr = this.animateElementArray;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar index = this.arrIndexOf(this.animateElementArray, arr[i]);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.animateArray[index].start();\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t暂停运行animate\n\t\t*/\n\t\tanimatePause: function(id) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.animatePause(this.isUndefined(id) ? '': id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (id != '' && !this.isUndefined(id) && id != 'pause') {\n\t\t\t\tarr.push(id);\n\t\t\t} else {\n\t\t\t\tif (id === 'pause') {\n\t\t\t\t\tarr = this.animatePauseArray;\n\t\t\t\t} else {\n\t\t\t\t\tarr = this.animateElementArray;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar index = this.arrIndexOf(this.animateElementArray, arr[i]);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.animateArray[index].stop();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据ID删除数组里对应的内容\n\t\t*/\n\t\tdeleteAnimate: function(id) {\n\t\t\tif (this.playerType == 'flashplayer' && this.V) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.deleteAnimate(id);\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar index = this.arrIndexOf(this.animateElementArray, id);\n\t\t\tif (index > -1) {\n\t\t\t\tthis.animateArray[index].callBackFunction();\n\t\t\t\tthis.animateArray.splice(index, 1);\n\t\t\t\tthis.animateElementArray.splice(index, 1);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t删除外部新建的元件\n\t\t*/\n\t\tdeleteElement: function(ele) {\n\t\t\tif (this.playerType == 'flashplayer' && this.V) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.deleteElement(ele);\n\t\t\t\t} catch(event) {}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//先将该元件从元件数组里删除，让其不再跟随播放器的尺寸改变而改变位置\n\t\t\tvar def = this.arrIndexOf(this.elementArr, ele.className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdef = this.arrIndexOf(this.elementTempArr, ele.className);\n\t\t\t\tif (def > -1) {\n\t\t\t\t\tthis.elementTempArr.splice(def, 1);\n\t\t\t\t}\n\t\t\t} catch(event) {}\n\t\t\tthis.deleteAnimate(ele.className);\n\t\t\tthis.deleteChild(ele);\n\t\t},\n\t\t/*\n\t\t\t--------------------------------------------------------------\n\t\t\t共用函数部分\n\t\t\t以下函数并非只能在本程序中使用，也可以在页面其它项目中使用\n\t\t\t根据ID或className获取元素对象\n\t\t*/\n\t\tgetByElement: function(obj, parent) {\n\t\t\tif (this.isUndefined(parent)) {\n\t\t\t\tparent = document;\n\t\t\t}\n\t\t\tvar num = obj.substr(0, 1);\n\t\t\tvar res = [];\n\t\t\tif (num != '#') {\n\t\t\t\tif (num == '.') {\n\t\t\t\t\tobj = obj.substr(1, obj.length);\n\t\t\t\t}\n\t\t\t\tif (parent.getElementsByClassName) {\n\t\t\t\t\tres = parent.getElementsByClassName(obj);\n\t\t\t\t\tif(!res.length){\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar reg = new RegExp(' ' + obj + ' ', 'i');\n\t\t\t\t\tvar ele = parent.getElementsByTagName('*');\n\t\t\t\t\tfor (var i = 0; i < ele.length; i++) {\n\t\t\t\t\t\tif (reg.test(' ' + ele[i].className + ' ')) {\n\t\t\t\t\t\t\tres.push(ele[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (res.length > 0) {\n\t\t\t\t\tres=res[0];\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tres=null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (num == '#') {\n\t\t\t\t\tobj = obj.substr(1, obj.length);\n\t\t\t\t}\n\t\t\t\ttry{\n\t\t\t\t\tres=document.getElementById(obj);\n\t\t\t\t}\n\t\t\t\tcatch(event){\n\t\t\t\t\tres=null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t/*\n\t\t \t共用函数\n\t\t\t功能：修改样式或获取指定样式的值，\n\t\t\t\telem：ID对象或ID对应的字符，如果多个对象一起设置，则可以使用数组\n\t\t\t\tattribute：样式名称或对象，如果是对象，则省略掉value值\n\t\t\t\tvalue：attribute为样式名称时，定义的样式值\n\t\t\t\t示例一：\n\t\t\t\tthis.css(ID,'width','100px');\n\t\t\t\t示例二：\n\t\t\t\tthis.css('id','width','100px');\n\t\t\t\t示例三：\n\t\t\t\tthis.css([ID1,ID2,ID3],'width','100px');\n\t\t\t\t示例四：\n\t\t\t\tthis.css(ID,{\n\t\t\t\t\twidth:'100px',\n\t\t\t\t\theight:'100px'\n\t\t\t\t});\n\t\t\t\t示例五(获取宽度)：\n\t\t\t\tvar width=this.css(ID,'width');\n\t\t*/\n\t\tcss: function(elem, attribute, value) {\n\t\t\tvar i = 0;\n\t\t\tvar k = '';\n\t\t\tif (this.varType(elem) == 'array') { //数组\n\t\t\t\tfor (i = 0; i < elem.length; i++) {\n\t\t\t\t\t\tvar el;\n\t\t\t\t\t\tif (typeof(elem[i]) == 'string') {\n\t\t\t\t\t\t\tel = this.getByElement(elem[i])\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel = elem[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof(attribute) != 'object') {\n\t\t\t\t\t\t\tif (!this.isUndefined(value)) {\n\t\t\t\t\t\t\t\tel.style[attribute] = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (k in attribute) {\n\t\t\t\t\t\t\t\tif (!this.isUndefined(attribute[k])) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tel.style[k] = attribute[k];\n\t\t\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\t\t\tthis.log(event);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\n\t\t\t}\n\t\t\tif (this.varType(elem) == 'string') {\n\t\t\t\telem = this.getByElement(elem);\n\t\t\t}\n\t\t\tif (this.varType(attribute) != 'object') {\n\t\t\t\tif (!this.isUndefined(value)) {\n\t\t\t\t\telem.style[attribute] = value;\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.isUndefined(this.getStyle(elem, attribute))) {\n\t\t\t\t\t\treturn this.getStyle(elem, attribute);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (k in attribute) {\n\t\t\t\t\tif (!this.isUndefined(attribute[k])) {\n\t\t\t\t\t\telem.style[k] = attribute[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t兼容型获取style\n\t\t*/\n\t\tgetStyle: function(obj, attr) {\n\t\t\tif (!this.isUndefined(obj.style[attr])) {\n\t\t\t\treturn obj.style[attr];\n\t\t\t} else {\n\t\t\t\tif (obj.currentStyle) {\n\t\t\t\t\treturn obj.currentStyle[attr];\n\t\t\t\t} else {\n\t\t\t\t\treturn getComputedStyle(obj, false)[attr];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断变量是否存在或值是否为undefined\n\t\t*/\n\t\tisUndefined: function(value) {\n\t\t\ttry {\n\t\t\t\tif (value === 'undefined' || value === undefined || value === null || value === 'NaN' || value === NaN) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} catch(event) {\n\t\t\t\tthis.log(event);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t \t共用函数\n\t\t\t外部监听函数\n\t\t*/\n\t\taddListener: function(name, funName) {\n\t\t\tif (name && funName) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tvar ff = ''; //定义用来向flashplayer传递的函数字符\n\t\t\t\t\tif (this.varType(funName) == 'function') {\n\t\t\t\t\t\tff = this.getParameterNames(funName);\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.addListener(name, ff);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar have = false;\n\t\t\t\tfor (var i = 0; i < this.listenerJsArr.length; i++) {\n\t\t\t\t\tvar arr = this.listenerJsArr[i];\n\t\t\t\t\tif (arr[0] == name && arr[1] == funName) {\n\t\t\t\t\t\thave = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!have) {\n\t\t\t\t\tthis.listenerJsArr.push([name, funName]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t外部删除监听函数\n\t\t*/\n\t\tremoveListener: function(name, funName) {\n\t\t\tif (name && funName) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tvar ff = ''; //定义用来向flashplayer传递的函数字符\n\t\t\t\t\tif (this.varType(funName) == 'function') {\n\t\t\t\t\t\tff = this.getParameterNames(funName);\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeListener(name, ff);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfor (var i = 0; i < this.listenerJsArr.length; i++) {\n\t\t\t\t\tvar arr = this.listenerJsArr[i];\n\t\t\t\t\tif (arr[0] == name && arr[1] == funName) {\n\t\t\t\t\t\tthis.listenerJsArr.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部监听函数，调用方式：\n\t\t\tthis.addListenerInside('click',function(event){},[ID]);\n\t\t\td值为空时，则表示监听当前的视频播放器\n\t\t*/\n\t\taddListenerInside: function(e, f, d, t) {\n\t\t\tif (this.isUndefined(t)) {\n\t\t\t\tt = false;\n\t\t\t}\n\t\t\tvar o = this.V;\n\t\t\tif (!this.isUndefined(d)) {\n\t\t\t\to = d;\n\t\t\t}\n\t\t\tif (o.addEventListener) {\n\t\t\t\ttry {\n\t\t\t\t\to.addEventListener(e, f, t);\n\t\t\t\t} catch(event) {this.log(event)}\n\t\t\t} else if (o.attachEvent) {\n\t\t\t\ttry {\n\t\t\t\t\to.attachEvent('on' + e, f);\n\t\t\t\t} catch(event) {this.log(event)}\n\t\t\t} else {\n\t\t\t\to['on' + e] = f;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t删除内部监听函数，调用方式：\n\t\t\tthis.removeListenerInside('click',function(event){}[,ID]);\n\t\t\td值为空时，则表示监听当前的视频播放器\n\t\t*/\n\t\tremoveListenerInside: function(e, f, d, t) {\n\t\t\t/*if(this.playerType=='flashplayer' && this.getParameterNames(f) && this.isUndefined(d)) {\n\t\t\t\treturn;\n\t\t\t}*/\n\t\t\tif (this.isUndefined(t)) {\n\t\t\t\tt = false;\n\t\t\t}\n\t\t\tvar o = this.V;\n\t\t\tif (!this.isUndefined(d)) {\n\t\t\t\to = d;\n\t\t\t}\n\t\t\tif (o.removeEventListener) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.addNum--;\n\t\t\t\t\to.removeEventListener(e, f, t);\n\t\t\t\t} catch(e) {}\n\t\t\t} else if (o.detachEvent) {\n\t\t\t\ttry {\n\t\t\t\t\to.detachEvent('on' + e, f);\n\t\t\t\t} catch(e) {}\n\t\t\t} else {\n\t\t\t\to['on' + e] = null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t统一分配监听，以达到跟as3同样效果\n\t\t*/\n\t\tsendJS: function(name, val) {\n\t\t\tif (this.adPlayerPlay && name.substr( - 2) != 'Ad') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(name)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar list = this.listenerJsArr;\n\t\t\tvar obj = this.vars['variable'];\n\t\t\tif(this.vars['debug']){\n\t\t\t\tthis.log(name+':'+val);\n\t\t\t}\n\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\tvar arr = list[i];\t\t\t\t\n\t\t\t\tif (arr[0] == name) {\n\t\t\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\t\t\tswitch (arr[1].length) {\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\tarr[1](val);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tarr[1](val, obj);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tarr[1]();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarr[1](obj);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取函数名称，如 function ckplayer(){} var fun=ckplayer，则getParameterNames(fun)=ckplayer\n\t\t*/\n\t\tgetParameterNames: function(fn) {\n\t\t\tif (this.varType(fn) !== 'function') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\n\t\t\tvar code = fn.toString().replace(COMMENTS, '');\n\t\t\tvar result = code.slice(code.indexOf(' ') + 1, code.indexOf('('));\n\t\t\treturn result === null ? false: result;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t时间替换\n\t\t*/\n\t\treplaceTime:function(str,obj){\n\t\t\t//var timeStrArr = ['[$timeh]', '[$timei]', '[$timeI]', '[$times]', '[$timeS]', '[$durationh]', '[$durationi]', '[$durationI]', '[$durations]', '[$durationS]','[$liveTimey]', '[$liveTimeY]', '[$liveTimem]', '[$liveTimed]', '[$liveTimeh]', '[$liveTimei]', '[$liveTimes]', '[$liveLanguage]'];\n\t\t\tfor(var k in obj){\n\t\t\t\tstr=str.replace('[$'+k+']',obj[k])\n\t\t\t}\n\t\t\treturn str;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t格式化时分秒\n\t\t\tt:Int：秒数,dt:总时间的秒数\n\t\t*/\n\t\tformatTime: function(t,dt,str) {\n\t\t\tif (this.isUndefined(t) || isNaN(t)) {\n\t\t\t\tseconds = 0;\n\t\t\t}\n\t\t\tif (this.isUndefined(dt) || isNaN(dt)) {\n\t\t\t\tdt = 0;\n\t\t\t}\n\t\t\tvar minuteS=Math.floor(t/60);//将秒数直接转化成分钟取整，这个可以得到如80分钟\n\t\t\tvar minute=minuteS;//获取准确的分钟\n\t\t\tvar hourS=Math.floor(t/3600);//将秒数直接转化成小时取整，这个可以得到100小时\n\t\t\tvar second=t %60;\n\t\t\tif(minuteS>=60){\n\t\t\t\tminute=Math.floor(minuteS%60);\n\t\t\t}\n\t\t\t//总时间\n\t\t\tvar hminuteS=Math.floor(dt/60);//将秒数直接转化成分钟取整，这个可以得到如80分钟\n\t\t\tvar hminute=hminuteS;//获取准确的分钟\n\t\t\tvar hhourS=Math.floor(dt/3600);//将秒数直接转化成小时取整，这个可以得到100小时\n\t\t\tvar hsecond=dt %60;\n\t\t\tif(hminuteS>=60){\n\t\t\t\thminute=Math.floor(hminuteS%60);\n\t\t\t}\n\t\t\t//当前时间\n\t\t\tvar nowDate = new Date();\n\t\t\tvar obj={\n\t\t\t\ttimeh:hourS,//时\n\t\t\t\ttimei:minute,//分\n\t\t\t\ttimeI:minuteS,//只有分\n\t\t\t\ttimes:second,//秒\n\t\t\t\ttimeS:t,//只有秒\n\t\t\t\tdurationh:hhourS,//时\n\t\t\t\tdurationi:hminute,//分\n\t\t\t\tdurationI:hminuteS,//只有分\n\t\t\t\tdurations:hsecond,//秒\n\t\t\t\tdurationS:dt,//只有秒\n\t\t\t\tliveTimey:nowDate.getYear(),//获取当前年份(2位)\n\t\t\t\tliveTimeY:nowDate.getFullYear(),//获取完整的年份(4位,1970-????)\n\t\t\t\tliveTimem:nowDate.getMonth()+1,//获取当前月份(0-11,0代表1月)\n\t\t\t\tliveTimed:nowDate.getDate(),// 获取当前日(1-31)\n\t\t\t\tliveTimeh:nowDate.getHours(),    // 获取当前小时数(0-23)\n\t\t\t\tliveTimei:nowDate.getMinutes(),// 获取当前分钟数(0-59)\n\t\t\t\tliveTimes:nowDate.getSeconds()// 获取当前秒数(0-59)\n\t\t\t};\n\t\t\tfor(var k in obj){\n\t\t\t\tif(obj[k]<10){\n\t\t\t\t\tobj[k]='0'+Math.floor(obj[k]);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tobj[k]=Math.floor(obj[k]).toString();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.replaceTime(str,obj);\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取一个随机字符\n\t\t\tlen：随机字符长度\n\t\t*/\n\t\trandomString: function(len) {\n\t\t\tlen = len || 16;\n\t\t\tvar chars = 'abcdefghijklmnopqrstuvwxyz';\n\t\t\tvar maxPos = chars.length;\n\t\t\tvar val = '';\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tval += chars.charAt(Math.floor(Math.random() * maxPos));\n\t\t\t}\n\t\t\treturn 'ch' + val;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取字符串长度,中文算两,英文数字算1\n\t\t*/\n\t\tgetStringLen: function(str) {\n\t\t\tif(this.isUndefined(str)){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tvar len = 0;\n\t\t\tfor (var i = 0; i < str.length; i++) {\n\t\t\t\tif (str.charCodeAt(i) > 127 || str.charCodeAt(i) == 94) {\n\t\t\t\t\tlen += 2;\n\t\t\t\t} else {\n\t\t\t\t\tlen++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn len;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t用来为ajax提供支持\n\t\t*/\n\t\tcreateXHR: function() {\n\t\t\tif (window.XMLHttpRequest) {\n\t\t\t\t//IE7+、Firefox、Opera、Chrome 和Safari\n\t\t\t\treturn new XMLHttpRequest();\n\t\t\t} else if (window.ActiveXObject) {\n\t\t\t\t//IE6 及以下\n\t\t\t\ttry {\n\t\t\t\t\treturn new ActiveXObject('Microsoft.XMLHTTP');\n\t\t\t\t} catch(event) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn new ActiveXObject('Msxml2.XMLHTTP');\n\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\tthis.eject(this.errorList[7]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.eject(this.errorList[8]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\tajax调用\n\t\t*/\n\t\tajax: function(cObj) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar callback = null;\n\t\t\tvar obj = {\n\t\t\t\tmethod: 'get',//请求类型\n\t\t\t\tdataType: 'json',//请求的数据类型\n\t\t\t\tcharset: 'utf-8',\n\t\t\t\tasync: false,//true表示异步，false表示同步\n\t\t\t\turl: '',\n\t\t\t\tdata: null,\n\t\t\t\tsuccess: null,\n\t\t\t\terror:null\n\t\t\t};\n\t\t\tif (this.varType(cObj) != 'object') {\n\t\t\t\tthis.eject(this.errorList[9]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tobj = this.standardization(obj, cObj);\n\t\t\tif (obj.dataType === 'json' || obj.dataType === 'text' || obj.dataType === 'html' || obj.dataType === 'xml') {\n\t\t\t\tvar xhr = this.createXHR();\n\t\t\t\tcallback = function() {\n\t\t\t\t\t//判断http的交互是否成功\n\t\t\t\t\tif (xhr.status == 200) {\n\t\t\t\t\t\tif (thisTemp.isUndefined(obj.success)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (obj.dataType === 'json') {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tobj.success(eval('(' + xhr.responseText + ')')); //回调传递参数\n\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\tif(!thisTemp.isUndefined(obj['error'])){\n\t\t\t\t\t\t\t\t\tobj.error(event);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj.success(xhr.responseText); //回调传递参数\n\t\t\t\t\t\t}\n\t\t\t\t\t} \n\t\t\t\t\telse {\n\t\t\t\t\t\tobj.success(null);\n\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[10], 'Ajax.status:' + xhr.status);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tobj.url = obj.url.indexOf('?') == -1 ? obj.url + '?rand=' + this.randomString(6) : obj.url;\n\t\t\t\tobj.data = this.formatParams(obj.data); //通过params()将名值对转换成字符串\n\t\t\t\tif (obj.method === 'get' && !this.isUndefined(obj.data)) {\n\t\t\t\t\tif (obj.data != '') {\n\t\t\t\t\t\tif (obj.url.indexOf('?') == -1) {\n\t\t\t\t\t\t\tobj.url += '?' + obj.data\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj.url += '&' + obj.data;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (obj.async === true) { //true表示异步，false表示同步\n\t\t\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t\t\tif (xhr.readyState == 4 && callback != null) { //判断对象的状态是否交互完成\n\t\t\t\t\t\t\tcallback(); //回调\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\txhr.open(obj.method, obj.url, obj.async);\n\t\t\t\tif (obj.method === 'post') {\n\t\t\t\t\ttry{\n\t\t\t\t\t\txhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\t\t\t\t\t\txhr.setRequestHeader('charset', obj['charset']);\n\t\t\t\t\t\txhr.send(obj.data);\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttry{\n\t\t\t\t\t\txhr.send(null); //get方式则填null\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (obj.async === false) { //同步\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t}\n\t\t\telse if (obj.dataType === 'jsonp') {\n\t\t\t\tvar oHead = document.getElementsByTagName('head')[0];\n\t\t\t\tvar oScript = document.createElement('script');\n\t\t\t\tvar callbackName = 'callback' + new Date().getTime();\n\t\t\t\tvar params = this.formatParams(obj.data) + '&callback=' + callbackName; //按时间戳拼接字符串\n\t\t\t\tcallback = obj.success;\n\t\t\t\t//拼接好src\n\t\t\t\toScript.src = obj.url.split('?') + '?' + params;\n\t\t\t\t//插入script标签\n\t\t\t\toHead.insertBefore(oScript, oHead.firstChild);\n\t\t\t\t//jsonp的回调函数\n\t\t\t\twindow[callbackName] = function(json) {\n\t\t\t\t\tcallback(json);\n\t\t\t\t\toHead.removeChild(oScript);\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t动态加载js\n\t\t*/\n\t\tloadJs: function(path, success) {\n\t\t\tvar oHead = document.getElementsByTagName('HEAD').item(0);\n\t\t\tvar oScript = document.createElement('script');\n\t\t\toScript.type = 'text/javascript';\n\t\t\toScript.src = this.getNewUrl(path);\n\t\t\toHead.appendChild(oScript);\n\t\t\toScript.onload = function() {\n\t\t\t\tsuccess();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t排除IE6-9\n\t\t*/\n\t\tisMsie: function() {\n\t\t\tvar browser = navigator.appName;\n\t\t\tvar b_version = navigator.appVersion;\n\t\t\tvar version = b_version.split(';');\n\t\t\tvar trim_Version = '';\n\t\t\tif (version.length > 1) {\n\t\t\t\ttrim_Version = version[1].replace(/[ ]/g, '');\n\t\t\t}\n\t\t\tif (browser == 'Microsoft Internet Explorer' && (trim_Version == 'MSIE6.0' || trim_Version == 'MSIE7.0' || trim_Version == 'MSIE8.0' || trim_Version == 'MSIE9.0' || trim_Version == 'MSIE10.0')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断是否安装了flashplayer\n\t\t*/\n\t\tuploadFlash: function() {\n\t\t\tvar swf;\n\t\t\tif (navigator.userAgent.indexOf('MSIE') > 0) {\n\t\t\t\ttry {\n\t\t\t\t\tvar swf = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n\t\t\t\t\treturn true;\n\t\t\t\t} catch(e) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (navigator.userAgent.indexOf('Firefox') > 0) {\n\t\t\t\tswf = navigator.plugins['Shockwave Flash'];\n\t\t\t\tif (swf) {\n\t\t\t\t\treturn true\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t检测浏览器是否支持HTML5-Video\n\t\t*/\n\t\tsupportVideo: function() {\n\t\t\tif (!this.isMsie()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif ( !! document.createElement('video').canPlayType) {\n\t\t\t\tvar vidTest = document.createElement('video');\n\t\t\t\tvar oggTest;\n\t\t\t\ttry {\n\t\t\t\t\toggTest = vidTest.canPlayType('video/ogg; codecs=\"theora, vorbis\"');\n\t\t\t\t} catch(error) {\n\t\t\t\t\toggTest = false;\n\t\t\t\t}\n\t\t\t\tif (!oggTest) {\n\t\t\t\t\tvar h264Test;\n\t\t\t\t\ttry {\n\t\t\t\t\t\th264Test = vidTest.canPlayType('video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"');\n\t\t\t\t\t} catch(error) {\n\t\t\t\t\t\th264Test = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (!h264Test) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (h264Test == \"probably\") {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (oggTest == \"probably\") {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取属性值\n\t\t*/\n\t\tgetDataset: function(ele, z) {\n\t\t\ttry {\n\t\t\t\treturn ele.dataset[z];\n\t\t\t} catch(error) {\n\t\t\t\ttry {\n\t\t\t\t\treturn ele.getAttribute('data-' + z)\n\t\t\t\t} catch(error) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t返回flashplayer的对象\n\t\t*/\n\t\tgetObjectById: function(id) {\n\t\t\tvar x = null;\n\t\t\tvar y = this.getByElement('#' + id);\n\t\t\tvar r = 'embed';\n\t\t\tif (y && y.nodeName == 'OBJECT') {\n\t\t\t\tif (this.varType(y.SetVariable) != 'undefined') {\n\t\t\t\t\tx = y;\n\t\t\t\t} else {\n\t\t\t\t\tvar z = y.getElementsByTagName(r)[0];\n\t\t\t\t\tif (z) {\n\t\t\t\t\t\tx = z;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn x;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t对象转地址字符串\n\t\t*/\n\t\tformatParams: function(data) {\n\t\t\tvar arr = [];\n\t\t\tfor (var i in data) {\n\t\t\t\tarr.push(encodeURIComponent(i) + '=' + encodeURIComponent(data[i]));\n\t\t\t}\n\t\t\treturn arr.join('&');\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t对地址进行冒泡排序\n\t\t*/\n\t\tarrSort: function(arr) {\n\t\t\tvar temp = [];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tfor (var j = 0; j < arr.length - i; j++) {\n\t\t\t\t\tif (!this.isUndefined(arr[j + 1]) && arr[j][3] < arr[j + 1][3]) {\n\t\t\t\t\t\ttemp = arr[j + 1];\n\t\t\t\t\t\tarr[j + 1] = arr[j];\n\t\t\t\t\t\tarr[j] = temp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取文件名称\n\t\t*/\n\t\tgetFileName: function(filepath) {\n\t\t\tif(!filepath) return '';\n\t\t\treturn filepath.replace(/(.*\\/)*([^.]+).*/ig,'$2');\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t判断文件后缀\n\t\t*/\n\t\tgetFileExt: function(filepath) {\n\t\t\tif (filepath != '' && !this.isUndefined(filepath)) {\n\t\t\t\tif (filepath.indexOf('?') > -1) {\n\t\t\t\t\tfilepath = filepath.split('?')[0];\n\t\t\t\t}\n\t\t\t\tvar pos = '.' + filepath.replace(/.+\\./, '');\n\t\t\t\treturn pos.toLowerCase();\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t判断是否是移动端\n\t\t*/\n\t\tisMobile: function() {\n\t\t\tif (navigator.userAgent.toLowerCase().match(/(iphone|ipad|ipod|android|ios|midp|windows mobile|windows ce|rv:1.2.3.4|ucweb)/i)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t搜索字符串str是否包含key\n\t\t*/\n\t\tisContains: function(str, key) {\n\t\t\treturn str.indexOf(key) > -1;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t给地址添加随机数\n\t\t*/\n\t\tgetNewUrl: function(url) {\n\t\t\tif (this.isContains(url, '?')) {\n\t\t\t\treturn url += '&' + this.randomString(8) + '=' + this.randomString(8);\n\t\t\t} else {\n\t\t\t\treturn url += '?' + this.randomString(8) + '=' + this.randomString(8);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取clientX和clientY\n\t\t*/\n\t\tclient: function(event) {\n\t\t\tvar eve = event || window.event;\n\t\t\tif (this.isUndefined(eve)) {\n\t\t\t\teve = {\n\t\t\t\t\tclientX: 0,\n\t\t\t\t\tclientY: 0\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: eve.clientX + (document.documentElement.scrollLeft || this.body.scrollLeft) - this.pdCoor['x'],\n\t\t\t\ty: eve.clientY + (document.documentElement.scrollTop || this.body.scrollTop) - this.pdCoor['y']\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t获取节点的绝对坐标\n\t\t*/\n\t\tgetCoor: function(obj) {\n\t\t\tvar coor = this.getXY(obj);\n\t\t\treturn {\n\t\t\t\tx: coor['x'] - this.pdCoor['x'],\n\t\t\t\ty: coor['y'] - this.pdCoor['y']\n\t\t\t};\n\t\t},\n\t\tgetXY: function(obj) {\n\t\t\tvar parObj = obj;\n\t\t\tvar left = obj.offsetLeft;\n\t\t\tvar top = obj.offsetTop;\n\t\t\t\n\t\t\twhile (parObj = parObj.offsetParent) {\n\t\t\t\tleft += parObj.offsetLeft;\n\t\t\t\ttop += parObj.offsetTop;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: left,\n\t\t\t\ty: top\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t删除本对象的所有属性\n\t\t*/\n\t\tremoveChild: function() {\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\t//删除计时器\n\t\t\t\tvar i = 0;\n\t\t\t\tvar timerArr = [this.timerError, this.timerFull, this.timerTime, this.timerBuffer, this.timerClick, this.timerCBar, this.timerVCanvas];\n\t\t\t\tfor (i = 0; i < timerArr.length; i++) {\n\t\t\t\t\tif (timerArr[i] != null) {\n\t\t\t\t\t\tif (timerArr[i].runing) {\n\t\t\t\t\t\t\ttimerArr[i].stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttimerArr[i] = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//删除事件监听\n\t\t\t\tvar ltArr = this.listenerJsArr;\n\t\t\t\tfor (i = 0; i < ltArr.length; i++) {\n\t\t\t\t\tthis.removeListener(ltArr[i][0], ltArr[i][1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.playerType == '';\n\t\t\tthis.V = null;\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.deleteChild(this.CB['menu']);\n\t\t\t}\n\t\t\tthis.deleteChild(this.PD);\n\t\t\tthis.CD.innerHTML = '';\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t画封闭的图形\n\t\t*/\n\t\tcanvasFill: function(name, path) {\n\t\t\tname.beginPath();\n\t\t\tfor (var i = 0; i < path.length; i++) {\n\t\t\t\tvar d = path[i];\n\t\t\t\tif (i > 0) {\n\t\t\t\t\tname.lineTo(d[0], d[1]);\n\t\t\t\t} else {\n\t\t\t\t\tname.moveTo(d[0], d[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tname.closePath();\n\t\t\tname.fill();\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t画矩形\n\t\t*/\n\t\tcanvasFillRect: function(name, path) {\n\t\t\tfor (var i = 0; i < path.length; i++) {\n\t\t\t\tvar d = path[i];\n\t\t\t\tname.fillRect(d[0], d[1], d[2], d[3]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t删除容器节点\n\t\t*/\n\t\tdeleteChild: function(f) {\n\t\t\tvar def = this.arrIndexOf(this.elementArr, f.className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\tvar childs = f.childNodes;\n\t\t\tfor (var i = childs.length - 1; i >= 0; i--) {\n\t\t\t\tf.removeChild(childs[i]);\n\t\t\t}\n\n\t\t\tif (f && f != null && f.parentNode) {\n\t\t\t\ttry {\n\t\t\t\t\tif (f.parentNode) {\n\t\t\t\t\t\tf.parentNode.removeChild(f);\n\n\t\t\t\t\t}\n\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t \t根据容器的宽高,内部节点的宽高计算出内部节点的宽高及坐标\n\t\t*/\n\t\tgetProportionCoor: function(stageW, stageH, vw, vh) {\n\t\t\tvar w = 0,\n\t\t\th = 0,\n\t\t\tx = 0,\n\t\t\ty = 0;\n\t\t\tif (stageW / stageH < vw / vh) {\n\t\t\t\tw = stageW;\n\t\t\t\th = w * vh / vw;\n\t\t\t} else {\n\t\t\t\th = stageH;\n\t\t\t\tw = h * vw / vh;\n\t\t\t}\n\t\t\tx = (stageW - w) * 0.5;\n\t\t\ty = (stageH - h) * 0.5;\n\t\t\treturn {\n\t\t\t\twidth: parseInt(w),\n\t\t\t\theight: parseInt(h),\n\t\t\t\tx: parseInt(x),\n\t\t\t\ty: parseInt(y)\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将字幕文件内容转换成数组\n\t\t*/\n\t\tparseSrtSubtitles: function(srt) {\n\t\t\tvar subtitlesArr = [];\n\t\t\tvar textSubtitles = [];\n\t\t\tvar i = 0;\n\t\t\tvar arrs = srt.split('\\n');\n\t\t\tvar arr = [];\n\t\t\tvar delHtmlTag = function(str) {\n\t\t\t\treturn str.replace(/<[^>]+>/g, ''); //去掉所有的html标记\n\t\t\t};\n\t\t\tfor (i = 0; i < arrs.length; i++) {\n\t\t\t\tif (arrs[i].replace(/\\s/g, '').length > 0) {\n\t\t\t\t\tarr.push(arrs[i]);\n\t\t\t\t} else {\n\t\t\t\t\tif (arr.length > 0) {\n\t\t\t\t\t\ttextSubtitles.push(arr);\n\t\t\t\t\t}\n\t\t\t\t\tarr = [];\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (i = 0; i < textSubtitles.length; ++i) {\n\t\t\t\tvar textSubtitle = textSubtitles[i];\n\t\t\t\tif (textSubtitle.length >= 2) {\n\t\t\t\t\tvar sn = textSubtitle[0]; // 字幕的序号\n\t\t\t\t\tvar startTime = this.toSeconds(this.trim(textSubtitle[1].split(' --> ')[0])); // 字幕的开始时间\n\t\t\t\t\tvar endTime = this.toSeconds(this.trim(textSubtitle[1].split(' --> ')[1])); // 字幕的结束时间\n\t\t\t\t\tvar content = [delHtmlTag(textSubtitle[2])]; // 字幕的内容\n\t\t\t\t\tvar cktrackdelay=this.vars['cktrackdelay'];\n\t\t\t\t\tif(cktrackdelay!=0){\n\t\t\t\t\t\tstartTime+=cktrackdelay;\n\t\t\t\t\t\tendTime+=cktrackdelay;\n\t\t\t\t\t}\n\t\t\t\t\t// 字幕可能有多行\n\t\t\t\t\tif (textSubtitle.length > 2) {\n\t\t\t\t\t\tfor (var j = 3; j < textSubtitle.length; j++) {\n\t\t\t\t\t\t\tcontent.push(delHtmlTag(textSubtitle[j]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// 字幕对象\n\t\t\t\t\tvar subtitle = {\n\t\t\t\t\t\tsn: sn,\n\t\t\t\t\t\tstartTime: startTime,\n\t\t\t\t\t\tendTime: endTime,\n\t\t\t\t\t\tcontent: content\n\t\t\t\t\t};\n\t\t\t\t\tsubtitlesArr.push(subtitle);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn subtitlesArr;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t计时器,该函数模拟as3中的timer原理\n\t\t\ttime:计时时间,单位:毫秒\n\t\t\tfun:接受函数\n\t\t\tnumber:运行次数,不设置则无限运行\n\t\t*/\n\t\ttimer: function(time, fun, number) {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.time = 10; //运行间隔\n\t\t\tthis.fun = null; //监听函数\n\t\t\tthis.timeObj = null; //setInterval对象\n\t\t\tthis.number = 0; //已运行次数\n\t\t\tthis.numberTotal = null; //总至需要次数\n\t\t\tthis.runing = false; //当前状态\n\t\t\tthis.startFun = function() {\n\t\t\t\tthisTemp.number++;\n\t\t\t\tthisTemp.fun();\n\t\t\t\tif (thisTemp.numberTotal != null && thisTemp.number >= thisTemp.numberTotal) {\n\t\t\t\t\tthisTemp.stop();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.start = function() {\n\t\t\t\tif (!thisTemp.runing) {\n\t\t\t\t\tthisTemp.runing = true;\n\t\t\t\t\tthisTemp.timeObj = window.setInterval(thisTemp.startFun, time);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.stop = function() {\n\t\t\t\tif (thisTemp.runing) {\n\t\t\t\t\tthisTemp.runing = false;\n\t\t\t\t\twindow.clearInterval(thisTemp.timeObj);\n\t\t\t\t\tthisTemp.timeObj = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (time) {\n\t\t\t\tthis.time = time;\n\t\t\t}\n\t\t\tif (fun) {\n\t\t\t\tthis.fun = fun;\n\t\t\t}\n\t\t\tif (number) {\n\t\t\t\tthis.numberTotal = number;\n\t\t\t}\n\t\t\tthis.start();\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将时分秒转换成秒\n\t\t*/\n\t\ttoSeconds: function(t) {\n\t\t\tvar s = 0.0;\n\t\t\tif (t) {\n\t\t\t\tvar p = t.split(':');\n\t\t\t\tfor (i = 0; i < p.length; i++) {\n\t\t\t\t\ts = s * 60 + parseFloat(p[i].replace(',', '.'));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn s;\n\t\t},\n\t\t/*将字符变成数字形式的数组*/\n\t\tarrayInt: function(str) {\n\t\t\tvar a = str.split(',');\n\t\t\tvar b = [];\n\t\t\tfor (var i = 0; i < a.length; i++) {\n\t\t\t\tif (this.isUndefined(a[i])) {\n\t\t\t\t\ta[i] = 0;\n\t\t\t\t}\n\t\t\t\tif (a[i].substr( - 1) != '%') {\n\t\t\t\t\ta[i] = parseInt(a[i]);\n\t\t\t\t}\n\t\t\t\tb.push(a[i]);\n\t\t\t}\n\t\t\treturn b;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将对象Object标准化\n\t\t*/\n\t\tstandardization: function(o, n) { //n替换进o\n\t\t\tvar h = {};\n\t\t\tvar k;\n\t\t\tfor (k in o) {\n\t\t\t\th[k] = o[k];\n\t\t\t}\n\t\t\tfor (k in n) {\n\t\t\t\tvar type ='';\n\t\t\t\tif(h[k]){\n\t\t\t\t\ttype = this.varType(h[k]);\n\t\t\t\t}\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'number':\n\t\t\t\t\t\th[k] = parseFloat(n[k]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\th[k] = n[k];\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn h;\n\t\t},\n\t\tobjectAssign:function(o,n) {\n\t\t\tif(this.varType(o)!='object' || this.varType(n)!='object'){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar obj1=this.newObj(o),obj2=this.newObj(n);\n\t\t\tfor(var k in obj2){\n\t\t\t\tif(this.varType(obj2[k])=='object'){\n\t\t\t\t\tif(this.varType(obj1[k])!='object'){\n\t\t\t\t\t\tobj1[k]={};\n\t\t\t\t\t}\n\t\t\t\t\tobj1[k]=this.objectAssign(obj1[k],obj2[k]);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tobj1[k]=obj2[k];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn obj1;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t搜索数组\n\t\t */\n\t\tarrIndexOf: function(arr, key) {\n\t\t\tif(this.isUndefined(arr) || this.isUndefined(key)){\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tvar re = new RegExp(key, ['']);\n\t\t\treturn (arr.toString().replace(re, '┢').replace(/[^,┢]/g, '')).indexOf('┢');\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t去掉空格\n\t\t */\n\t\ttrim: function(str) {\n\t\t\tif (str != '') {\n\t\t\t\treturn str.replace(/(^\\s*)|(\\s*$)/g, '');\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t输出内容到控制台\n\t\t*/\n\t\tlog: function(val) {\n\t\t\ttry {\n\t\t\t\tconsole.log(val);\n\t\t\t} catch(e) {}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t弹出提示\n\t\t*/\n\t\teject: function(er, val) {\n\t\t\tif (!this.vars['debug']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar errorVal = er[1];\n\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\terrorVal = errorVal.replace('[error]', val);\n\t\t\t}\n\t\t\tvar value = 'error ' + er[0] + ':' + errorVal;\n\t\t\ttry {\n\t\t\t\tthis.log(value);\n\t\t\t} catch(e) {}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t系统错误\n\t\t*/\n\t\tsysError: function(er, val) {\n\t\t\tvar ele= this.getByElement(this.vars['container']);\n\t\t\tvar errorVal = er[1];\n\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\terrorVal = errorVal.replace('[error]', val);\n\t\t\t}\n\t\t\tvar value = 'error ' + er[0] + ':' + errorVal;\n\t\t\tele.innerHTML=value;\n\t\t\tthis.css(ele,{\n\t\t\t\tbackgroundColor: '#000',\n\t\t\t\tcolor:'#FFF',\n\t\t\t\ttextAlign:'center',\n\t\t\t\tlineHeight:ele.offsetHeight+'px'\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断变量类型\n\t\t*/\n\t\tvarType:function(val){\n\t\t\tif(val===null){\n\t\t\t\treturn 'string';\n\t\t\t}\n\t\t\tvar type = typeof(val);\n\t\t\tswitch(type) {\n\t\t\t\tcase 'string':\n\t\t\t\t\treturn 'string';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'number':\n\t\t\t\t\treturn 'number';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'boolean':\n\t\t\t\t\treturn 'boolean';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'function':\n\t\t\t\t\treturn 'function';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'symbol':\n\t\t\t\t\treturn 'symbol';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'object':\n\t\t\t\t\tif(!this.isUndefined(typeof(val.length))) {\n\t\t\t\t\t\treturn 'array';\n\t\t\t\t\t}\n\t\t\t\t\treturn 'object';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'undefined':\n\t\t\t\t\treturn 'undefined';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn typeof(val);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t获取此js文件所在路径\n\t\t*/\n\t\tgetPath:function(){\n\t\t\tvar scriptList = document.scripts,\n\t\t\tthisPath = scriptList[scriptList.length - 1].src;\n\t\t\tfor(var i=0;i<scriptList.length;i++){\n\t\t\t\tvar scriptName=scriptList[i].getAttribute('name') || scriptList[i].getAttribute('data-name');\n\t\t\t\tvar src=scriptList[i].src.slice(scriptList[i].src.lastIndexOf('/') + 1,scriptList[i].src.lastIndexOf('.'));\n\t\t\t\tif((scriptName && (scriptName=='ckplayer' || scriptName=='ckplayer.min')) || (scriptList[i].src && (src=='ckplayer' || src=='ckplayer.min'))){\n\t\t\t\t\tthisPath = scriptList[i].src;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn thisPath.substring(0, thisPath.lastIndexOf('/') + 1);\n\t\t},\n\t\tgetConfigObject:function(){\n\t\t\treturn this.jsonConfig;\n\t\t},\n\t\tgetStyleObject:function(){\n\t\t\treturn this.jsonStyle;\n\t\t},\n\t\tgetLanguageObject:function(){\n\t\t\treturn this.jsongLanguage;\n\t\t}\n\t};\n\twindow.ckplayer = ckplayer;\n})();","site":{"data":{}},"excerpt":"","more":"/*\n\t软件名称：ckplayer\n\t软件版本：X2\n\t软件作者：niandeng\n\t软件网站：http://www.ckplayer.com\n\t--------------------------------------------------------------------------------------------------------------------\n\t开发说明：\n\t使用的主要程序语言：javascript(js)及actionscript3.0(as3.0)(as3.0主要用于flashplayer部分的开发，不在该页面呈现)\n\t功能：播放视频\n\t特点：兼容HTML5-VIDEO(优先)以及FlashPlayer\n\t--------------------------------------------------------------------------------------------------------------------\n\t使用开源代码部分：\n\t1：flashls-http://flashls.org/\n\t=====================================================================================================================\n*/\n\n!(function() {\n\tvar ckplayer = function(obj) {\n\t\t/*\n\t\t\tjavascript部分开发所用的注释说明：\n\t\t\t1：初始化-程序调用时即运行的代码部分\n\t\t\t2：定义样式-定义容器（div,p,canvas等）的样式表，即css\n\t\t\t3：监听动作-监听元素节点（单击-click，鼠标进入-mouseover，鼠标离开-mouseout，鼠标移动-mousemove等）事件\n\t\t\t4：监听事件-监听视频的状态（播放，暂停，全屏，音量调节等）事件\n\t\t\t5：共用函数-这类函数在外部也可以使用\n\t\t\t6：全局变量-定义成全局使用的变量\n\t\t\t7：其它相关注释\n\t\t\t全局变量说明：\n\t\t\t在本软件中所使用到的全局变量（变量（类型）包括Boolean，String，Int，Object（包含元素对象和变量对象），Array，Function等）\n\t\t\t下面列出重要的全局变量：\n\t\t\t\tV:Object：视频对象\n\t\t\t\tVA:Array：视频列表（包括视频地址，类型，清晰度说明）\n\t\t\t\tID:String：视频ID\n\t\t\t\tCB:Object：控制栏各元素的集合对象\n\t\t\t\tPD:Object：内部视频容器对象\n\t\t\t---------------------------------------------------------------------------------------------\n\t\t\t程序开始\n\t\t\t下面为需要初始化配置的全局变量\n\t\t*/\n\t\t//全局变量：播放器默认配置，在外部传递过来相应配置后，则进行相关替换\n\t\tthis.varsDefault = {\n\t\t\tplayerID: '',//播放器ID\n\t\t\tcontainer: '',//视频容器的ID\n\t\t\tvariable: 'ckplayer',//播放函数(变量)名称\n\t\t\tvolume: 0.8,//默认音量，范围0-1\n\t\t\tposter: '',//封面图片地址\n\t\t\tautoplay: false,//是否自动播放\n\t\t\tloop: false,//是否需要循环播放\n\t\t\tlive: false,//是否是直播\n\t\t\tduration: 0,//指定总时间\n\t\t\tforceduration:0,//强制使用该时间为总时间\n\t\t\tseek: 0,//默认需要跳转的秒数\n\t\t\tdrag: '',//拖动时支持的前置参数\n\t\t\tfront: '',//前一集按钮动作\n\t\t\tnext: '',//下一集按钮动作\n\t\t\tloaded: '',//加载播放器后调用的函数\n\t\t\tflashplayer: false,//设置成true则强制使用flashplayer\n\t\t\thtml5m3u8: false,//PC平台上是否使用h5播放器播放m3u8\n\t\t\ttrack: null,//字幕轨道\n\t\t\tcktrack: null,//ck字幕\n\t\t\tcktrackdelay:0,//字幕显示延迟时间\n\t\t\tpreview: null,//预览图片对象\n\t\t\tprompt: null,//提示点功能\n\t\t\tvideo: null,//视频地址\n\t\t\tconfig: '',//调用配置函数名称\n\t\t\ttype: '',//视频格式\n\t\t\tcrossorigin: '',//设置html5视频的crossOrigin属性\n\t\t\tcrossdomain: '',//安全策略文件地址\n\t\t\tunescape: false,//默认flashplayer里需要解码\n\t\t\tmobileCkControls: false,//移动端h5显示控制栏\n\t\t\tmobileAutoFull: true,//移动端是否默认全屏播放\n\t\t\tplaybackrate: 1,//默认倍速\n\t\t\th5container: '',//h5环境中使用自定义容器\n\t\t\tdebug: false,//是否开启调试模式\n\t\t\toverspread:true,//是否让视频铺满播放器\n\t\t\tlanguage:'',//语言文件路径\n\t\t\tstyle:'',//风格文件路径\n\t\t\t//以下为广告相关配置\n\t\t\tadfront: '',\n\t\t\tadfronttime: '',\n\t\t\tadfrontlink: '',\n\t\t\tadpause: '',\n\t\t\tadpausetime: '',\n\t\t\tadpauselink: '',\n\t\t\tadinsert: '',\n\t\t\tadinserttime: '',\n\t\t\tadinsertlink: '',\n\t\t\tinserttime: '',\n\t\t\tadend: '',\n\t\t\tadendtime: '',\n\t\t\tadendlink: '',\n\t\t\tadvertisements: ''\n\t\t};\n\t\t//全局变量:vars\n\t\tthis.vars = {};\n\t\t//全局变量：配置文件函数\n\t\tthis.ckConfig = {};\n\t\tthis.jsonConfig = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：语言配置\n\t\tthis.ckLanguage = {};\n\t\tthis.jsonLanguage = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：语言配置\n\t\tthis.ckStyle = {};\n\t\tthis.jsonStyle = {};//该变量为一次性赋值，不再变化\n\t\t//全局变量：右键菜单：[菜单标题,类型(link:链接，default:灰色，function：调用函数，javascript:调用js函数),执行内容(包含链接地址，函数名称),[line(间隔线)]]\n\t\tthis.contextMenu = [['ckplayer', 'link', 'http://www.ckplayer.com', '_blank'], ['version:X2', 'default', 'line']];\n\t\t//全局变量：错误提示列表\n\t\tthis.errorList = [\n\t\t\t['000', 'Object does not exist'], \n\t\t\t['001', 'Variables type is not a object'], \n\t\t\t['002', 'Video object does not exist'],\n\t\t\t['003', 'Video object format error'], \n\t\t\t['004', 'Video object format error'], \n\t\t\t['005', 'Video object format error'], \n\t\t\t['006', '[error] does not exist'], \n\t\t\t['007', 'Ajax error'],\n\t\t\t['008', 'Ajax error'],\n\t\t\t['009', 'Ajax object format error'],\n\t\t\t['010', 'Ajax.status:[error]'],\n\t\t\t['011', '[error] File loading failed or error'],\n\t\t\t['012', '[error]']\n\t\t];\n\t\t//全局变量：HTML5变速播放的值数组/如果不需要可以设置成null\n\t\tthis.playbackRateArr = [[0.5, '0.5X'], [1, '1X'], [1.25, '1.25X'], [1.5, '1.5X'], [2, '2X'], [4, '4X']];\n\t\t//全局变量：保存倍速\n\t\tthis.playbackRateTemp=1;\n\t\t//全局变量：HTML5默认变速播放的值\n\t\tthis.playbackRateDefault = 1;\n\t\t//全局变量：HTML5当前显示的字幕编号\n\t\tthis.subtitlesTemp=-1;\n\t\t//全局变量：定义logo\n\t\tthis.logo = '';\n\t\t//全局变量：是否加载了播放器\n\t\tthis.loaded = false;\n\t\t//全局变量：计时器，监听视频加载出错的状态\n\t\tthis.timerError = null;\n\t\t//全局变量：是否出错\n\t\tthis.error = false;\n\t\t//全局变量：出错地址的数组\n\t\tthis.errorUrl = [];\n\t\t//全局变量：计时器，监听全屏与非全屏状态\n\t\tthis.timerFull = null;\n\t\t//全局变量：是否全屏状态\n\t\tthis.full = false;\n\t\t//全局变量：计时器，监听当前的月/日 时=分=秒\n\t\tthis.timerTime = null;\n\t\t//全局变量：计时器，监听视频加载\n\t\tthis.timerBuffer = null;\n\t\t//全局变量：设置进度按钮及进度条是否跟着时间变化，该属性主要用来在按下进度按钮时暂停进度按钮移动和进度条的长度变化\n\t\tthis.isTimeButtonMove = true;\n\t\t//全局变量：进度栏是否有效，如果是直播，则不需要监听时间让进度按钮和进度条变化\n\t\tthis.isTimeButtonDown = false;\n\t\t//全局变量：计时，用来计算鼠标离开清晰度或字幕或倍速按钮后的计算时间标准\n\t\tthis.timeButtonOver=null;\n\t\t//全局变量：鼠标离开清晰度或字幕或倍速是否需要隐藏\n\t\tthis.buttonHide=false;\n\t\t//全局变量：用来模拟双击功能的判断\n\t\tthis.isClick = false;\n\t\t//全局变量：计时器，用来模拟双击功能的计时器\n\t\tthis.timerClick = null;\n\t\t//全局变量：计时器，监听鼠标在视频上移动显示控制栏\n\t\tthis.timerCBar = null;\n\t\t//全局变量：播放视频时如果该变量的值大于0，则进行跳转后设置该值为0\n\t\tthis.needSeek = 0;\n\t\t//全局变量：当前音量\n\t\tthis.volume = 0;\n\t\t//全局变量：静音时保存临时音量\n\t\tthis.volumeTemp = 0;\n\t\t//全局变量/变量类型：Number/功能：当前播放时间\n\t\tthis.time = 0;\n\t\t//全局变量：定义首次调用\n\t\tthis.isFirst = true;\n\t\t//全局变量：是否使用HTML5-VIDEO播放\n\t\tthis.html5Video = true;\n\t\t//全局变量记录视频容器节点的x;y\n\t\tthis.pdCoor = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\t//全局变量：判断当前使用的播放器类型，html5video或flashplayer\n\t\tthis.playerType = '';\n\t\t//全局变量：加载进度条的长度\n\t\tthis.loadTime = 0;\n\t\t//全局变量：body对象\n\t\tthis.body = document.body || document.documentElement;\n\t\t//全局变量：播放器\n\t\tthis.V = null;\n\t\t//全局变量：保存外部js监听事件数组\n\t\tthis.listenerJsArr = [];\n\t\t//全局变量：保存控制栏显示元素的总宽度\n\t\tthis.buttonLen = 0;\n\t\t//全局变量：保存控制栏显示元素的数组\n\t\tthis.buttonArr = [];\n\t\t//全局变量：保存播放器上新增元件的数组\n\t\tthis.elementArr = [];\n\t\t//全局变量：保存播放器上弹幕的临时数组\n\t\tthis.elementTempArr = [];\n\t\t//全局变量：字幕内容\n\t\tthis.track = [];\n\t\t//全局变量：字幕索引\n\t\tthis.trackIndex = 0;\n\t\t//全局变量：当前显示的字幕内容\n\t\tthis.nowTrackShow = {\n\t\t\tsn: ''\n\t\t};\n\t\t//全局变量：保存字幕元件数组\n\t\tthis.trackElement = [];\n\t\t//全局变量：将视频转换为图片\n\t\tthis.timerVCanvas = null;\n\t\t//全局变量：animate，缓动对象数组\n\t\tthis.animateArray = [];\n\t\t//全局变量：保存animate的元件\n\t\tthis.animateElementArray = [];\n\t\t//全局变量：保存需要在暂停时停止缓动的数组\n\t\tthis.animatePauseArray = [];\n\t\t//全局变量：预览图片加载状态/0=没有加载，1=正在加载，2=加载完成\n\t\tthis.previewStart = 0;\n\t\t//全局变量：预览图片容器\n\t\tthis.previewDiv = null;\n\t\t//全局变量：预览框\n\t\tthis.previewTop = null;\n\t\t//全局变量：预览框的宽\n\t\tthis.previewWidth = 120;\n\t\t//全局变量：预览图片容器缓动函数\n\t\tthis.previewTween = null;\n\t\t//全局变量：是否是m3u8格式，是的话则可以加载hls.js\n\t\tthis.isM3u8 = false;\n\t\t//全局变量：保存提示点数组\n\t\tthis.promptArr = [];\n\t\t//全局变量：显示提示点文件的容器\n\t\tthis.promptElement = null;\n\t\t//全局变量：控制栏是否显示\n\t\tthis.conBarShow = true;\n\t\t//全局变量：是否监听过h5的错误\n\t\tthis.errorAdd = false;\n\t\t//全局变量：是否发送了错误\n\t\tthis.errorSend = false;\n\t\t//全局变量：控制栏是否隐藏\n\t\tthis.controlBarIsShow = true;\n\t\t//全局变量，保存当前缩放比例\n\t\tthis.videoScale = 1;\n\t\t//全局变量：设置字体\n\t\tthis.fontFamily = '\"Microsoft YaHei\"; YaHei; \"\\5FAE\\8F6F\\96C5\\9ED1\"; SimHei; \"\\9ED1\\4F53\";Arial';\n\t\t//全局变量：记录第一次拖动进度按钮时的位置\n\t\tthis.timeSliderLeftTemp = 0;\n\t\t//全局变量：判断是否记录了总时间\n\t\tthis.durationSendJS = false;\n\t\t//全局变量：初始化广告分析是否结束设置\n\t\tthis.adAnalysisEnd = false;\n\t\t//全局变量：广告变量\n\t\tthis.advertisements = {};\n\t\t//全局变量：是否是第一次播放视频\n\t\tthis.isFirstTimePlay = true;\n\t\t//全局变量：当前需要播放的广告类型\n\t\tthis.adType = '';\n\t\t//全局变量：播放广告计数\n\t\tthis.adI = 0;\n\t\t//全局变量：要播放的临时地址\n\t\tthis.videoTemp = {\n\t\t\tsrc: '',\n\t\t\tsource: '',\n\t\t\tcurrentSrc: '',\n\t\t\tloop: false\n\t\t};\n\t\t//全局变量：当前要播放的广告组总时间\n\t\tthis.adTimeAllTotal = 0;\n\t\t//全局变量：肖前要播放的广告时间\n\t\tthis.adTimeTotal = 0;\n\t\t//全局变量：用来做倒计时\n\t\tthis.adCountDownObj = null;\n\t\t//全局变量：前置，中插，结尾广告是否已开始运行\n\t\tthis.adPlayStart = false;\n\t\t//全局变量：目前是否在播放广告\n\t\tthis.adPlayerPlay = false;\n\t\t//全局变量：当前广告是否暂停\n\t\tthis.adIsPause = false;\n\t\t//全局变量：视频广告是否静音\n\t\tthis.adVideoMute = false;\n\t\t//全局变量：是否需要记录当前播放的时间供广告播放结束后进行跳转\n\t\tthis.adIsVideoTime = false;\n\t\t//全局变量：后置广告是否播放\n\t\tthis.endAdPlay = false;\n\t\t//全局变量：暂停广告是否在显示\n\t\tthis.adPauseShow = false;\n\t\t//全局变量：是否需要重置广告以实现重新播放时再播放一次\n\t\tthis.adReset = false;\n\t\t//全局变量：记录鼠标在视频上点击时的坐标\n\t\tthis.videoClickXy={x:0,y:0};\n\t\t//全局变量：是否在播放广告时播放过视频广告\n\t\tthis.adVideoPlay = false;\n\t\t\n\t\t//全局变量：临时存储已加载时间的变量\n\t\tthis.loadTimeTemp=0;\n\t\t//全局变量，临时存储hls形式下首次加载时是否需要暂停或播放的判断\n\t\tthis.hlsAutoPlay=true;\n\t\t//全局变量，loading是否显示\n\t\tthis.loadingShow=false;\n\t\t//全局变量，保存视频地址字符串的\n\t\tthis.videoString='';\n\t\t//全局变量，保存所有自定义元件的数组\n\t\tthis.customeElement=[];\n\t\t//全局变量，保存PD的宽高\n\t\tthis.cdWH={w:0,h:0};\n\t\t//全局变量，保存所有的元素变量\n\t\tthis.CB={};\n\t\t//全局变量，调用当前路径\n\t\tthis.ckplayerPath=this.getPath();\n\t\tif (obj) {\n\t\t\tthis.embed(obj);\n\t\t}\n\t};\n\tckplayer.prototype = {\n\t\t/*\n\t\t\t主要函数部分开始\n\t\t\t主接口函数：\n\t\t\t调用播放器需初始化该函数\n\t\t*/\n\t\tembed: function(c) {\n\t\t\t//c:Object：是调用接口传递的属性对象\n\t\t\tif (window.location.href.substr(0, 7) == 'file://') {//如果是使用的file协议打网页则弹出提示\n\t\t\t\talert('Please use the HTTP protocol to open the page');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(c)) {\n\t\t\t\tthis.eject(this.errorList[0]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(c) != 'object') {\n\t\t\t\tthis.eject(this.errorList[1]);\n\t\t\t}\n\t\t\tthis.vars = this.standardization(this.varsDefault, c);\n\t\t\tif (!this.vars['mobileCkControls'] && this.isMobile()) {\n\t\t\t\tthis.vars['flashplayer'] = false;\n\t\t\t\tthis.conBarShow = false;\n\t\t\t}\n\t\t\tvar videoStringTemp = this.vars['video'];\n\t\t\tif (!videoStringTemp) {\n\t\t\t\tthis.eject(this.errorList[2]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(videoStringTemp) == 'string') {\n\t\t\t\tif (videoStringTemp.substr(0, 3) == 'CK:' || videoStringTemp.substr(0, 3) == 'CE:' || videoStringTemp.substr(8, 3) == 'CK:' || videoStringTemp.substr(8, 3) == 'CE:') {\n\t\t\t\t\tthis.vars['flashplayer'] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.varType(videoStringTemp) == 'object') {\n\t\t\t\tif (videoStringTemp.length > 1) {\n\t\t\t\t\tif (videoStringTemp[0][0].substr(0, 3) == 'CK:' || videoStringTemp[0][0].substr(0, 3) == 'CE:' || videoStringTemp[0][0].substr(8, 3) == 'CK:' || videoStringTemp[0][0].substr(8, 3) == 'CE:') {\n\t\t\t\t\t\tthis.vars['flashplayer'] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.videoString=videoStringTemp;\n\t\t\tthis.checkUpConfig();\t\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载config文件\n\t\t*/\n\t\tcheckUpConfig:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar configPath='';\n\t\t\tvar jsTemp=null;\n\t\t\tif (this.vars['config']) {\n\t\t\t\tif (this.vars['config'].substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp= eval(this.vars['config'] + '()');\n\t\t\t\t\tif(!this.isUndefined(jsTemp)){\n\t\t\t\t\t\tthis.ckConfig=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.jsonConfig=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.loadConfig(null);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadConfig(this.ckplayerPath+this.vars['config']);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadConfig(this.ckplayerPath+this.vars['config'].substr(8));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t\t\tvar isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerConfig)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp= ckplayerConfig();\n\t\t\t          \tif(jsTemp){\n\t\t\t          \t\tthis.ckConfig=this.newObj(jsTemp);\n\t\t\t          \t\tthis.jsonConfig=this.newObj(jsTemp);\n\t\t\t          \t\tthis.loadConfig(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthis.loadConfig(this.ckplayerPath+'ckplayer.json');\n\t\t\t\t\t\t}\n\t\t\t        }\n\t\t\t        else {\n\t\t\t           this.loadConfig(this.ckplayerPath+'ckplayer.json');\n\t\t\t        }\n\t\t\t    } catch(e) {\n\t\t\t    \tthisTemp.sysError(thisTemp.errorList[12],e);//系统错误\n\t\t\t    }\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadConfig:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.ckConfig=data;\n\t\t\t\t\t\t\tthisTemp.jsonConfig=thisTemp.newObj(data);\n\t\t\t\t\t\t\tif(!thisTemp.isUndefined(data['flashvars'])){\n\t\t\t\t\t\t\t\tthisTemp.vars=thisTemp.objectAssign(data['flashvars'],thisTemp.vars);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.checkUpLanguage();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'Config');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.checkUpLanguage();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载语言文件\n\t\t*/\n\t\tcheckUpLanguage:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar languagePath='';\n\t\t\tvar jsTemp=null;\n\t\t\tif (this.vars['language']) {\n\t\t\t\tlanguagePath=this.vars['language'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif (this.ckConfig['languagePath']) {\n\t\t\t\t\tlanguagePath=this.ckConfig['languagePath'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (languagePath) {\n\t\t\t\tif (languagePath.substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp = eval(languagePath + '()');\n\t\t\t\t\tif(jsTemp){\n\t\t\t\t\t\tthis.ckLanguage=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.jsonLanguage=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.loadLanguage(null);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadLanguage(this.ckplayerPath+languagePath);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadLanguage(this.ckplayerPath+languagePath.substr(8));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t\t\tvar isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerLanguage)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp = ckplayerLanguage();\n\t\t\t          \tif(jsTemp){\n\t\t\t          \t\tthis.ckLanguage=this.newObj(jsTemp);\n\t\t\t          \t\tthis.jsonLanguage=this.newObj(jsTemp);\n\t\t\t          \t\tthis.loadLanguage(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t this.loadLanguage(this.ckplayerPath+'language.json');\n\t\t\t\t\t\t}\n\t\t\t        }\n\t\t\t        else {\n\t\t\t           this.loadLanguage(this.ckplayerPath+'language.json');\n\t\t\t        }\n\t\t\t    } catch(e) {\n\t\t\t    \tthisTemp.sysError(thisTemp.errorList[12],e);//系统错误\n\t\t\t    }\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadLanguage:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.ckLanguage=data;\n\t\t\t\t\t\t\tthisTemp.jsonLanguage=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.checkUpStyle();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'language.json');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.checkUpStyle();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载皮肤文件\n\t\t*/\n\t\tcheckUpStyle:function(){\n\t\t\tvar thisTemp=this;\n\t\t\tvar stylePath='';\n\t\t\tvar jsTemp=null;\n\t\t\tvar configJs=this.newObj(this.ckConfig);\n\t\t\tif (this.vars['style']) {\n\t\t\t\tstylePath=this.vars['style'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tif (this.ckConfig['stylePath']) {\n\t\t\t\t\tstylePath=''+this.ckConfig['stylePath'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (stylePath) {\n\t\t\t\tif (stylePath.substr(0, 8) != 'website:') {\n\t\t\t\t\tjsTemp = eval(stylePath + '()');\n\t\t\t\t\tif(!this.isUndefined(jsTemp)){\n\t\t\t          \tthis.jsonStyle=this.newObj(jsTemp);\n\t\t\t          \tthis.ckStyle=this.newObj(jsTemp);\n\t\t\t\t\t\tthis.ckStyle['advertisement']=this.objectAssign(configJs['style']['advertisement'],this.ckStyle['advertisement']);\n\t\t\t\t\t\tthis.ckStyle=this.objectAssign(configJs['style'],this.ckStyle);\n\t\t\t\t\t\tthis.loadStyle(null);\n\t\t\t        }\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.loadStyle(this.ckplayerPath+stylePath);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.loadStyle(this.ckplayerPath+stylePath.substr(8));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttry {\n\t\t\t       var isFun=false;\n\t\t\t\t\ttry{\n\t\t\t\t\t\tif(typeof(ckplayerStyle)==='function'){\n\t\t\t\t\t\t\tisFun=true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e){isFun=false;}\n\t\t\t        if(isFun) {\n\t\t\t          \tjsTemp= ckplayerStyle();\n\t\t\t          \tif(!this.isUndefined(jsTemp)){\n\t\t\t          \t\tthis.jsonStyle=this.newObj(jsTemp);\n\t\t\t          \t\tthis.ckStyle=this.newObj(jsTemp);\n\t\t\t\t\t\t\tthis.ckStyle['advertisement']=this.objectAssign(configJs['style']['advertisement'],this.ckStyle['advertisement']);\n\t\t\t\t\t\t\tthis.ckStyle=this.objectAssign(configJs['style'],this.ckStyle);\n\t\t\t\t\t\t\tthis.loadStyle(null);\n\t\t\t          \t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthis.loadStyle(this.ckplayerPath+'style.json');\n\t\t\t\t\t\t}\n\t\t\t\t    }\n\t\t\t        else {\n\t\t\t           this.loadStyle(this.ckplayerPath+'style.json');\n\t\t\t        }\n\t\t\t    } catch(e) {}\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tloadStyle:function(file){\n\t\t\tvar thisTemp=this;\n\t\t\tif(file){\n\t\t\t\tvar configJs=this.newObj(this.ckConfig);\n\t\t\t\tthis.ajax({\n\t\t\t\t\turl:file,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif(data){\n\t\t\t\t\t\t\tthisTemp.jsonStyle=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.ckStyle=thisTemp.newObj(data);\n\t\t\t\t\t\t\tthisTemp.ckStyle['advertisement']=thisTemp.objectAssign(configJs['style']['advertisement'],thisTemp.ckStyle['advertisement']);\n\t\t\t\t\t\t\tthisTemp.ckStyle=thisTemp.objectAssign(configJs['style'],thisTemp.ckStyle);\n\t\t\t\t\t\t\tthisTemp.loadConfigHandler();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[11],'Style');//系统错误\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){\n\t\t\t\t\t\tthisTemp.sysError(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.loadConfigHandler();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t当config,language,style三个文件或函数处理完成后执行的动作\n\t\t*/\n\t\tloadConfigHandler:function(){\n\t\t\tif ((!this.supportVideo() && this.vars['flashplayer'] != '') || (this.vars['flashplayer'] && this.uploadFlash()) || !this.isMsie()) {\n\t\t\t\tthis.html5Video = false;\n\t\t\t\tthis.getVideo();\n\t\t\t} \n\t\t\telse if (this.videoString) {\n\t\t\t\t//判断视频数据类型\n\t\t\t\tthis.analysedVideoUrl(this.videoString);\n\t\t\t} \n\t\t\telse {\n\t\t\t\tthis.eject(this.errorList[2]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据外部传递过来的video开始分析视频地址\n\t\t*/\n\t\tanalysedVideoUrl: function(video) {\n\t\t\tvar i = 0,\n\t\t\ty = 0;\n\t\t\tvar thisTemp = this;\n\t\t\tthis.VA = [];//定义全局变量VA：视频列表（包括视频地址，类型，清晰度说明）\n\t\t\tif (this.varType(video) == 'string') { //如果是字符形式的则判断后缀进行填充\n\t\t\t\tif (video.substr(0, 8) != 'website:') {\n\t\t\t\t\tthis.VA = [[video, '', '', 0]];\n\t\t\t\t\tvar fileExt = this.getFileExt(video);\n\t\t\t\t\tswitch (fileExt) {\n\t\t\t\t\tcase '.mp4':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/mp4';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '.ogg':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/ogg';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '.webm':\n\t\t\t\t\t\tthis.VA[0][1] = 'video/webm';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tthis.getVideo();\n\t\t\t\t} else {\n\t\t\t\t\tif (this.html5Video) {\n\t\t\t\t\t\tvar ajaxObj = {\n\t\t\t\t\t\t\turl: video.substr(8),\n\t\t\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\t\t\tthisTemp.analysedUrl(data);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[5]);\n\t\t\t\t\t\t\t\t\tthis.VA = video;\n\t\t\t\t\t\t\t\t\tthisTemp.getVideo();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\terror:function(data){\n\t\t\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[12],data);//系统错误\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.VA = video;\n\t\t\t\t\t\tthis.getVideo();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t} \n\t\t\telse if(this.varType(video)=='array'){//如果视频地址是数组\n\t\t\t\tif (this.varType(video[0])=='array') { //如果视频地址是二维数组\n\t\t\t\t\tthis.VA = video;\n\t\t\t\t}\n\t\t\t\tthis.getVideo();\n\t\t\t}\n\t\t\telse if(this.varType(video)=='object'){\n\t\t\t\t/*\n\t\t\t\t\t如果video格式是对象形式，则分二种\n\t\t\t\t\t如果video对象里包含type，则直接播放\n\t\t\t\t*/\n\t\t\t\tif (!this.isUndefined(video['type'])) {\n\t\t\t\t\tthis.VA.push([video['file'], video['type'], '', 0]);\n\t\t\t\t\tthis.getVideo();\n\t\t\t\t} else {\n\t\t\t\t\tthis.eject(this.errorList[5]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.eject(this.errorList[4]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t对请求到的视频地址进行重新分析\n\t\t*/\n\t\tanalysedUrl: function(data) {\n\t\t\tthis.vars = this.standardization(this.vars, data);\n\t\t\tif (!this.isUndefined(data['video'])) {\n\t\t\t\tthis.vars['video'] = data['video'];\n\t\t\t}\n\t\t\tthis.analysedVideoUrl(this.vars['video']);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t检查浏览器支持的视频格式，如果是则将支持的视频格式重新分组给播放列表\n\t\t*/\n\t\tgetHtml5Video: function() {\n\t\t\tvar va = this.VA;\n\t\t\tvar nva = [];\n\t\t\tvar mobile = this.isMobile();\n\t\t\tvar video = document.createElement('video');\n\t\t\tvar codecs = function(type) {\n\t\t\t\tvar cod = '';\n\t\t\t\tswitch (type) {\n\t\t\t\tcase 'video/mp4':\n\t\t\t\t\tcod = 'avc1.4D401E, mp4a.40.2';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video/ogg':\n\t\t\t\t\tcod = 'theora, vorbis';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'video/webm':\n\t\t\t\t\tcod = 'vp8.0, vorbis';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn cod;\n\t\t\t};\n\t\t\tvar supportType = function(vidType, codType) {\n\t\t\t\tif (!video.canPlayType) {\n\t\t\t\t\tthis.html5Video = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar isSupp = video.canPlayType(vidType + ';codecs=\"' + codType + '\"');\n\t\t\t\tif (isSupp == '') {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tif (this.vars['flashplayer'] || !this.isMsie()) {\n\t\t\t\tthis.html5Video = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (var i = 0; i < va.length; i++) {\n\t\t\t\tvar v = va[i];\n\t\t\t\tif (v) {\n\t\t\t\t\tif (v[1] != '' && !mobile && supportType(v[1], codecs(v[1])) && v[0].substr(0, 4) != 'rtmp') {\n\t\t\t\t\t\tnva.push(v);\n\t\t\t\t\t}\n\t\t\t\t\tif ((this.getFileExt(v[0]) == '.m3u8' || this.vars['type'] == 'video/m3u8' || this.vars['type'] == 'm3u8' || v[1] == 'video/m3u8' || v[1] == 'm3u8') && this.vars['html5m3u8'] && !mobile) {\n\t\t\t\t\t\tthis.isM3u8 = true;\n\t\t\t\t\t\tnva.push(v);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (nva.length > 0) {\n\t\t\t\tthis.VA = nva;\n\t\t\t} else {\n\t\t\t\tif (!mobile) {\n\t\t\t\t\tthis.html5Video = false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据视频地址开始构建播放器\n\t\t*/\n\t\tgetVideo: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar v = this.vars;\n\t\t\t//如果存在广告字段则开始分析广告\n\t\t\tif (!this.adAnalysisEnd && (v['adfront'] != '' || v['adpause'] != '' || v['adinsert'] != '' || v['adend'] != '' || v['advertisements'] != '')) {\n\t\t\t\tthis.adAnalysisEnd = true;\n\t\t\t\tthis.adAnalysis();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//如果存在字幕则加载\n\t\t\tif (this.V) { //如果播放器已存在，则认为是从newVideo函数发送过来的请求\n\t\t\t\tthis.changeVideo();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.vars['cktrack']) {\n\t\t\t\tthis.loadTrack();\n\t\t\t}\n\t\t\tif (this.supportVideo() && !this.vars['flashplayer']) {\n\t\t\t\tthis.getHtml5Video(); //判断浏览器支持的视频格式\n\t\t\t}\n\t\t\tvar src = '',\n\t\t\tsource = '',\n\t\t\tposter = '',\n\t\t\tloop = '',\n\t\t\tautoplay = '',\n\t\t\ttrack = '',\n\t\t\tcrossorigin='';\n\t\t\tvar video = v['video'];\n\t\t\tvar i = 0;\n\t\t\tvar vBg=this.ckStyle['background']['backgroundColor'].replace('0x','#');\n\t\t\tthis.CD = this.getByElement(v['container']);\n\t\t\tvolume = v['volume'];\n\t\t\tif (this.isUndefined(this.CD)) {\n\t\t\t\tthis.eject(this.errorList[6], v['container']);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\n\t\t\t//开始构建播放器容器\n\t\t\tthis.V = undefined;\n\t\t\tvar thisPd = null;\n\t\t\tif (v['h5container'] != '') {\n\t\t\t\tthisPd = this.getByElement(v['h5container']);\n\t\t\t\tif (this.isUndefined(thisPd)) {\n\t\t\t\t\tthisPd = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar isVideoH5 = null; //isUndefined  thisPd\n\t\t\tif (v['playerID'] != '') {\n\t\t\t\tisVideoH5 = this.getByElement('#' + v['playerID']);\n\t\t\t\tif (this.isUndefined(isVideoH5)) {\n\t\t\t\t\tisVideoH5 = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (thisPd != null && isVideoH5 != null) {\n\t\t\t\tthis.PD = thisPd; //PD:定义播放器容器对象全局变量\n\t\t\t} else {\n\t\t\t\tvar playerID = 'ckplayer-' + this.randomString();\n\t\t\t\tvar playerDiv = document.createElement('div');\n\t\t\t\tplayerDiv.className = playerID;\n\t\t\t\tthis.CD.innerHTML = '';\n\t\t\t\tthis.CD.appendChild(playerDiv);\n\t\t\t\tthis.PD = playerDiv; //PD:定义播放器容器对象全局变量\n\t\t\t}\n\t\t\tthis.css(this.CD, {\n\t\t\t\tbackgroundColor: vBg,\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tposition: 'relative'\n\t\t\t});\n\t\t\tthis.css(this.PD, {\n\t\t\t\tbackgroundColor: vBg,\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '100%',\n\t\t\t\tfontFamily: this.fontFamily\n\t\t\t});\n\t\t\tif (this.html5Video) { //如果支持HTML5-VIDEO则默认使用HTML5-VIDEO播放器\n\t\t\t\t\n\t\t\t\t//禁止播放器容器上鼠标选择文本\n\t\t\t\tthis.PD.onselectstart = this.PD.ondrag = function() {\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t\t//播放器容器构建完成并且设置好样式\n\t\t\t\t//构建播放器\n\t\t\t\tif (this.VA.length == 1) {\n\t\t\t\t\tthis.videoTemp['src'] = decodeURIComponent(this.VA[0][0]);\n\t\t\t\t\tsrc = ' src=\"' + this.videoTemp['src'] + '\"';\n\n\t\t\t\t} else {\n\t\t\t\t\tvar videoArr = this.VA.slice(0);\n\t\t\t\t\tvideoArr = this.arrSort(videoArr);\n\t\t\t\t\tfor (i = 0; i < videoArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = videoArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t\tif (type == ' type=\"video/m3u8\"' || type == ' type=\"m3u8\"') {\n\t\t\t\t\t\t\t\ttype = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + decodeURIComponent(va[0]) + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.videoTemp['source'] = source;\n\t\t\t\t}\n\t\t\t\t//分析视频地址结束\n\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\tautoplay = ' autoplay=\"autoplay\"';\n\t\t\t\t}\n\t\t\t\tif (v['poster']) {\n\t\t\t\t\tposter = ' poster=\"' + v['poster'] + '\"';\n\t\t\t\t}\n\t\t\t\tif (v['loop']) {\n\t\t\t\t\tloop = ' loop=\"loop\"';\n\t\t\t\t}\n\t\t\t\tif (v['seek'] > 0) {\n\t\t\t\t\tthis.needSeek = v['seek'];\n\t\t\t\t}\n\t\t\t\tif (v['track'] != null && v['cktrack'] == null) {\n\t\t\t\t\tvar trackArr = v['track'];\n\t\t\t\t\tvar trackDefault = '';\n\t\t\t\t\tvar defaultHave = false;\n\t\t\t\t\tfor (i = 0; i < trackArr.length; i++) {\n\t\t\t\t\t\tvar trackObj = trackArr[i];\n\t\t\t\t\t\tif (trackObj['default'] && !defaultHave) {\n\t\t\t\t\t\t\ttrackDefault = ' default';\n\t\t\t\t\t\t\tdefaultHave = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttrackDefault = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttrack += '<track kind=\"' + trackObj['kind'] + '\" src=\"' + trackObj['src'] + '\" srclang=\"' + trackObj['srclang'] + '\" label=\"' + trackObj['label'] + '\"' + trackDefault + '>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(v['crossorigin']){\n\t\t\t\t\tcrossorigin=' crossorigin=\"'+v['crossorigin']+'\"';\n\t\t\t\t}\n\t\t\t\tvar autoLoad = this.ckConfig['config']['autoLoad'];\n\t\t\t\tvar preload = '';\n\t\t\t\tif (!autoLoad) {\n\t\t\t\t\tpreload = ' preload=\"meta\"';\n\t\t\t\t}\n\t\t\t\tvar vid = this.randomString();\n\t\t\t\tvar controls = '';\n\t\t\t\tvar mobileAutoFull = v['mobileAutoFull'];\n\t\t\t\tvar mobileautofull = '';\n\t\t\t\tif (!mobileAutoFull) {\n\t\t\t\t\tmobileautofull = ' x-webkit-airplay=\"true\" playsinline  webkit-playsinline=\"true\"  x5-video-player-type=\"h5\"';\n\t\t\t\t}\n\t\t\t\tif(this.isMobile()){\n\t\t\t\t\tcontrols = ' controls=\"controls\"';\n\t\t\t\t}\n\t\t\t\tif (isVideoH5 != null && thisPd != null) {\n\t\t\t\t\tthis.V = isVideoH5;\n\t\t\t\t\tif (v['poster']) {\n\t\t\t\t\t\tthis.V.poster = v['poster'];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar html = '';\n\t\t\t\t\tif (!this.isM3u8) {\n\t\t\t\t\t\thtml = '<video id=\"' + vid + '\"' + src + ' controlslist=\"nodownload\" width=\"100%\" height=\"100%\"' + autoplay + poster + loop + preload + controls + mobileautofull + track + crossorigin+'>' + source + '</video>';\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtml = '<video id=\"' + vid + '\" controlslist=\"nodownload\" width=\"100%\" height=\"100%\"' + poster + loop + preload + controls + mobileautofull + track + crossorigin+'></video>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.PD.innerHTML = html;\n\t\t\t\t\tthis.V = this.getByElement('#' + vid); //V：定义播放器对象全局变量\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.volume = volume; //定义音量\n\t\t\t\t\tif (this.playbackRateArr && this.vars['playbackrate'] > -1) {\n\t\t\t\t\t\tif (this.vars['playbackrate'] < this.playbackRateArr.length) {\n\t\t\t\t\t\t\tthis.playbackRateDefault = this.vars['playbackrate'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.V.playbackRate = this.playbackRateArr[this.playbackRateDefault][0]; //定义倍速\n\t\t\t\t\t}\n\t\t\t\t} catch(error) {}\n\t\t\t\tthis.css(this.V, {\n\t\t\t\t\tbackgroundColor: vBg,\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100%'\n\t\t\t\t});\n\t\t\t\tif (this.isM3u8) {\n\t\t\t\t\tvar loadJsHandler = function() {\n\t\t\t\t\t\tthisTemp.embedHls(thisTemp.VA[0][0], v['autoplay']);\n\t\t\t\t\t};\n\t\t\t\t\tthis.loadJs(this.ckplayerPath + 'hls/hls.min.js', loadJsHandler);\n\t\t\t\t}\n\t\t\t\tthis.css(this.V, 'backgroundColor', vBg);\n\t\t\t\t//创建一个画布容器\n\t\t\t\tif (this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\t\tvar canvasDiv = document.createElement('div');\n\t\t\t\t\tthis.PD.appendChild(canvasDiv);\n\t\t\t\t\tthis.MD = canvasDiv; //定义画布存储容器\n\t\t\t\t\tthis.css(this.MD, {\n\t\t\t\t\t\tbackgroundColor: vBg,\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\ttop: '0px',\n\t\t\t\t\t\tzIndex: '10'\n\t\t\t\t\t});\n\t\t\t\t\tvar cvid = 'ccanvas' + this.randomString();\n\t\t\t\t\tthis.MD.innerHTML = this.newCanvas(cvid, this.MD.offsetWidth, this.MD.offsetHeight);\n\t\t\t\t\tthis.MDC = this.getByElement(cvid + '-canvas');\n\t\t\t\t\tthis.MDCX = this.MDC.getContext('2d');\n\t\t\t\t}\n\t\t\t\tthis.playerType = 'html5video';\n\t\t\t\t//播放器构建完成并且设置好样式\n\t\t\t\t//建立播放器的监听函数，包含操作监听及事件监听\n\t\t\t\tthis.addVEvent();\n\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t//根据清晰度的值构建清晰度切换按钮\n\t\t\t\t\tthis.definition();\n\t\t\t\t\tif (!this.vars['live'] && this.playbackRateArr && this.vars['playbackrate'] > -1) {\n\t\t\t\t\t\tthis.playbackRate();\n\t\t\t\t\t}\n\t\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\t\tthis.loadingStart(true);\n\t\t\t\t\t}\n\t\t\t\t\tthis.subtitleSwitch();\n\t\t\t\t}\n\t\t\t\tthis.playerLoad();\n\t\t\t} else { //如果不支持HTML5-VIDEO则调用flashplayer\n\t\t\t\tthis.embedSWF();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t分析广告数据\n\t\t*/\n\t\tadAnalysis: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar v = this.vars;\n\t\t\tvar isAdvShow = [];\n\t\t\tvar i = 0;\n\t\t\tif (v['advertisements'] != '' && v['advertisements'].substr(0, 8) == 'website:') {\n\t\t\t\tvar ajaxObj = {\n\t\t\t\t\turl: v['advertisements'].substr(8),\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\tvar newData = {};\n\t\t\t\t\t\t\tvar val = null;\n\t\t\t\t\t\t\t//对广告进行分析\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(data['front']) || !thisTemp.isUndefined(data['pause']) || !thisTemp.isUndefined(data['end']) || !thisTemp.isUndefined(data['insert']) || !thisTemp.isUndefined(data['other'])) {\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['front']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['front'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['pause']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['pause'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['insert']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['insert'] = val;\n\t\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(data['inserttime'])) {\n\t\t\t\t\t\t\t\t\t\t\tnewData['inserttime'] = thisTemp.arrayInt(data['inserttime']);\n\t\t\t\t\t\t\t\t\t\t\tisAdvShow = [];\n\t\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < newData['inserttime'].length; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\tisAdvShow.push(false);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tnewData['insertPlay'] = isAdvShow;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['end']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['end'] = val;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tval = thisTemp.arrayDel(data['other']);\n\t\t\t\t\t\t\t\t\tif (!thisTemp.isUndefined(val)) {\n\t\t\t\t\t\t\t\t\t\tnewData['other'] = val;\n\t\t\t\t\t\t\t\t\t\tisAdvShow = [];\n\t\t\t\t\t\t\t\t\t\tvar arrTemp = [];\n\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < val.length; i++) {\n\t\t\t\t\t\t\t\t\t\t\tisAdvShow.push(false);\n\t\t\t\t\t\t\t\t\t\t\tarrTemp.push(parseInt('0' + val[i]['startTime']));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tnewData['othertime'] = arrTemp;\n\t\t\t\t\t\t\t\t\t\tnewData['otherPlay'] = isAdvShow;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\tthisTemp.log(event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.advertisements = newData;\n\t\t\t\t\t\t\t//对广告进行分析结束\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisTemp.getVideo();\n\t\t\t\t\t},\n\t\t\t\t\terror:function(data){}\n\t\t\t\t};\n\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t} else {\n\t\t\t\t//根据广告分析\n\t\t\t\tthis.adAnalysisOne('front', 'adfront', 'adfronttime', 'adfrontlink', 'adfronttype');\n\t\t\t\tthis.adAnalysisOne('pause', 'adpause', 'adpausetime', 'adpauselink', 'adpausetype');\n\t\t\t\tthis.adAnalysisOne('insert', 'adinsert', 'adinserttime', 'adinsertlink', 'adinserttype');\n\t\t\t\tthis.adAnalysisOne('end', 'adend', 'adendtime', 'adendlink', 'adendtype');\n\t\t\t\tif (!this.isUndefined(this.advertisements['insert'])) {\n\t\t\t\t\tif (!this.isUndefined(v['inserttime'])) {\n\t\t\t\t\t\tthisTemp.advertisements['inserttime'] = v['inserttime'];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!this.isUndefined(thisTemp.advertisements['inserttime'])) {\n\t\t\t\t\tthisTemp.advertisements['inserttime'] = thisTemp.arrayInt(thisTemp.advertisements['inserttime']);\n\t\t\t\t\tisInsert = [];\n\t\t\t\t\tfor (i = 0; i < thisTemp.advertisements['inserttime'].length; i++) {\n\t\t\t\t\t\tisInsert.push(false);\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.advertisements['insertPlay'] = isInsert;\n\t\t\t\t}\n\t\t\t\tthisTemp.getVideo();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t将广告数组数据里不是视频和图片的去除\n\t\t*/\n\t\tarrayDel: function(arr) {\n\t\t\tif(this.isUndefined(arr)){\n\t\t\t\treturn arr;\n\t\t\t}\n\t\t\tif (arr.length == 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar newArr = [];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar type = arr[i]['type'];\n\t\t\t\tif (type == 'mp4' || type == 'mov' || this.isStrImage(type)) {\n\t\t\t\t\tnewArr.push(arr[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (newArr.length > 0) {\n\t\t\t\treturn newArr;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\t/*分析单个类型的广告*/\n\t\tadAnalysisOne: function(adType, adName, adTime, adLink, adStype) {\n\t\t\tvar v = this.vars;\n\t\t\tif (this.isUndefined(v[adName])) {\n\t\t\t\tv[adName] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adTime])) {\n\t\t\t\tv[adTime] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adLink])) {\n\t\t\t\tv[adLink] = '';\n\t\t\t}\n\t\t\tif (this.isUndefined(v[adStype])) {\n\t\t\t\tv[adStype] = '';\n\t\t\t}\n\t\t\tif (v[adName] != '') {\n\t\t\t\tvar adList = [];\n\t\t\t\tvar ad = v[adName].split(',');\n\t\t\t\tvar adtime = v[adTime].split(',');\n\t\t\t\tvar adlink = v[adLink].split(',');\n\t\t\t\tvar adstype = v[adStype].split(',');\n\t\t\t\tvar i = 0;\n\t\t\t\tif (ad.length > 0) {\n\t\t\t\t\tvar adLinkLen = adlink.length,\n\t\t\t\t\tadTimeLen = adtime.length;\n\t\t\t\t\tif (v[adLink] == '') {\n\t\t\t\t\t\tadLinkLen = 0;\n\t\t\t\t\t\tadlink = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (v[adTime] == '') {\n\t\t\t\t\t\tadTimeLen = 0;\n\t\t\t\t\t\tadtime = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (adLinkLen < ad.length) {\n\t\t\t\t\t\tfor (i = adLinkLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadlink.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (adTimeLen < ad.length) {\n\t\t\t\t\t\tfor (i = adTimeLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadtime.push('');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar adstypeLen = adstype.length;\n\t\t\t\t\tif (v[adStype] == '') {\n\t\t\t\t\t\tadstypeLen = 0;\n\t\t\t\t\t\tadstype = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (adstypeLen < ad.length) {\n\t\t\t\t\t\tfor (i = adstypeLen; i < ad.length; i++) {\n\t\t\t\t\t\t\tadstype.push(this.getFileExt(ad[i]).replace('.', ''));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (i = 0; i < ad.length; i++) {\n\t\t\t\t\t\tvar type = adstype[i];\n\t\t\t\t\t\tif (type == 'mp4' || type == 'mov' || this.isStrImage(type)) {\n\t\t\t\t\t\t\tvar obj = {\n\t\t\t\t\t\t\t\tfile: ad[i],\n\t\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t\t\ttime: parseInt(adtime[i]) > 0 ? parseInt(adtime[i]) : this.ckStyle['advertisement']['time'],\n\t\t\t\t\t\t\t\tlink: adlink[i]\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tadList.push(obj);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (this.isUndefined(this.advertisements)) {\n\t\t\t\t\t\tthis.advertisements = {};\n\t\t\t\t\t}\n\t\t\t\t\tif (adList.length > 0) {\n\t\t\t\t\t\tthis.advertisements[adType] = adList;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t发送播放器加载成功的消息\n\t\t*/\n\t\tplayerLoad: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.isFirst) {\n\t\t\t\tthis.isFirst = false;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthisTemp.loadedHandler();\n\t\t\t\t},1);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t建立播放器的监听函数，包含操作监听及事件监听\n\t\t*/\n\t\taddVEvent: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar duration=0;\n\t\t\t//监听视频单击事件\n\t\t\tvar eventVideoClick = function(event) {\n\t\t\t\tthisTemp.videoClickXy={x:event.clientX,y:event.clientY};\n\t\t\t\tthisTemp.videoClick();\n\t\t\t};\n\t\t\tthis.addListenerInside('click', eventVideoClick);\n\t\t\tthis.addListenerInside('click', eventVideoClick, this.MDC);\n\t\t\t//延迟计算加载失败事件\n\t\t\tthis.timerErrorFun();\n\t\t\t//监听视频加载到元数据事件\n\t\t\tvar eventJudgeIsLive = function(event) {\n\t\t\t\tthisTemp.sendJS('loadedmetadata');\n\t\t\t\tif (thisTemp.varType(thisTemp.V.duration) == 'number' && thisTemp.V.duration > 1) {\n\t\t\t\t\tduration = thisTemp.V.duration;\n\t\t\t\t\tif(!duration){\n\t\t\t\t\t\tif(thisTemp.vars['duration']>0){\n\t\t\t\t\t\t\tduration=thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.sendJS('duration', duration);\n\t\t\t\t\tthisTemp.formatInserttime(duration);\n\t\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\t\tthisTemp.advertisementsTime(duration + 1);\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.durationSendJS = true;\n\t\t\t\t}\n\t\t\t\tif (thisTemp.conBarShow) {\n\t\t\t\t\tthisTemp.V.controls=null;\n\t\t\t\t\tthisTemp.videoCss();\n\t\t\t\t}\n\t\t\t\tthisTemp.judgeIsLive();\n\t\t\t};\n\t\t\t//监听视频播放事件\n\t\t\tvar eventPlaying = function(event) {\n\t\t\t\tthisTemp.playingHandler();\n\t\t\t\tthisTemp.sendJS('play');\n\t\t\t\tthisTemp.sendJS('paused', false);\n\t\t\t\tif (!thisTemp.durationSendJS && thisTemp.varType(thisTemp.V.duration) == 'number' && thisTemp.V.duration > 0) {\n\t\t\t\t\tduration = thisTemp.V.duration;\n\t\t\t\t\tif(!duration){\n\t\t\t\t\t\tif(thisTemp.vars['duration']>0){\n\t\t\t\t\t\t\tduration=thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.durationSendJS = true;\n\t\t\t\t\tthisTemp.sendJS('duration', duration);\n\t\t\t\t\tthisTemp.formatInserttime(duration);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('playing', eventPlaying);\n\t\t\t//监听视频暂停事件\n\t\t\tvar eventPause = function(event) {\n\t\t\t\tthisTemp.pauseHandler();\n\t\t\t\tthisTemp.sendJS('pause');\n\t\t\t\tthisTemp.sendJS('paused', true);\n\t\t\t};\n\t\t\tthis.addListenerInside('pause', eventPause);\n\t\t\t//监听视频播放结束事件\n\t\t\tvar eventEnded = function(event) {\n\t\t\t\tthisTemp.endedHandler();\n\t\t\t};\n\t\t\tthis.addListenerInside('ended', eventEnded);\n\t\t\t//监听视频播放时间事件\n\t\t\tvar eventTimeupdate = function(event) {\n\t\t\t\tif (thisTemp.loadingShow) {\n\t\t\t\t\tthisTemp.loadingStart(false);\n\t\t\t\t}\n\t\t\t\tif (thisTemp.time) {\n\t\t\t\t\tif (!thisTemp.adPlayerPlay) {\n\t\t\t\t\t\tthisTemp.sendJS('time', thisTemp.time);\n\t\t\t\t\t\t//监听中间插入广告是否需要播放\n\t\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['insert'])) {\n\t\t\t\t\t\t\tthisTemp.checkAdInsert(thisTemp.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t//监听其它广告\n\t\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['other'])) {\n\t\t\t\t\t\t\tthisTemp.checkAdOther(thisTemp.time);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (thisTemp.time < 3 && thisTemp.adReset) {\n\t\t\t\t\t\t\tthisTemp.adReset = false;\n\t\t\t\t\t\t\tthisTemp.endedAdReset();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { //如果是广告则进行广告倒计时\n\t\t\t\t\t\tthisTemp.adPlayerTimeHandler(thisTemp.time);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('timeupdate', eventTimeupdate);\n\t\t\t//监听视频缓冲事件\n\t\t\tvar eventWaiting = function(event) {\n\t\t\t\tthisTemp.loadingStart(true);\n\t\t\t};\n\t\t\tthis.addListenerInside('waiting', eventWaiting);\n\t\t\t//监听视频seek开始事件\n\t\t\tvar eventSeeking = function(event) {\n\t\t\t\tthisTemp.sendJS('seek', 'start');\n\t\t\t};\n\t\t\tthis.addListenerInside('seeking', eventSeeking);\n\t\t\t//监听视频seek结束事件\n\t\t\tvar eventSeeked = function(event) {\n\t\t\t\tthisTemp.seekedHandler();\n\t\t\t\tthisTemp.sendJS('seek', 'ended');\n\t\t\t};\n\t\t\tthis.addListenerInside('seeked', eventSeeked);\n\t\t\t//监听视频音量\n\t\t\tvar eventVolumeChange = function(event) {\n\t\t\t\ttry {\n\t\t\t\t\tthisTemp.volumechangeHandler();\n\t\t\t\t\tthisTemp.sendJS('volume', thisTemp.volume || thisTemp.V.volume);\n\t\t\t\t} catch(event) {}\n\t\t\t};\n\t\t\tthis.addListenerInside('volumechange', eventVolumeChange);\n\t\t\t//监听全屏事件\n\t\t\tvar eventFullChange = function(event) {\n\t\t\t\tvar fullState = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen;\n\t\t\t\tthisTemp.sendJS('full', fullState);\n\t\t\t};\n\t\t\tthis.addListenerInside('fullscreenchange', eventFullChange);\n\t\t\tthis.addListenerInside('webkitfullscreenchange', eventFullChange);\n\t\t\tthis.addListenerInside('mozfullscreenchange', eventFullChange);\n\t\t\t//建立界面\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.interFace();\n\t\t\t}\n\t\t\tthis.addListenerInside('loadedmetadata', eventJudgeIsLive);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重置界面元素\n\t\t*/\n\t\tresetPlayer: function() {\n\t\t\tthis.timeTextHandler();\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.timeProgress(0, 1); //改变时间进度条宽\n\t\t\t\tthis.changeLoad(0);\n\t\t\t\tthis.initPlayPause(); //判断显示播放或暂停按钮\n\t\t\t\tthis.definition(); //构建清晰度按钮\n\t\t\t\tthis.deletePrompt(); //删除提示点\n\t\t\t\tthis.deletePreview(); //删除预览图\n\t\t\t\tthis.trackHide(); //重置字幕\n\t\t\t\tthis.resetTrack();\n\t\t\t\tthis.trackElement = [];\n\t\t\t\tthis.track = [];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建界面元素\n\t\t */\n\t\tinterFace: function() {\n\t\t\tthis.conBarShow = true;\n\t\t\tvar thisTemp = this;\n\t\t\tvar html = ''; //控制栏内容\n\t\t\tvar i = 0;\n\t\t\tvar thisStyle=this.ckStyle;\n\t\t\tvar styleC=thisStyle['controlBar'];\n\t\t\tvar styleCB=styleC['button'];\n\t\t\tvar styleAS=thisStyle['advertisement'];\n\t\t\tvar styleDF=styleC['definition'];\n\t\t\tvar bWidth = 38;//按钮的宽\n\t\t\tvar timeInto = this.formatTime(0,this.vars['duration'],this.ckLanguage['vod']); //时间显示框默认显示内容\t\t\t\n\t\t\t/*\n\t\t\t\t构建一些PD（播放器容器）里使用的元素\n\t\t\t*/\n\t\t\t/*\n\t\t\t \t构建播放器内的元素\n\t\t\t*/\n\t\t\tthis.CB={menu:null};\n\t\t\tvar divEle={\n\t\t\t\tcontrolBarBg:null,\n\t\t\t\tcontrolBar:null,\n\t\t\t\tpauseCenter:null,\n\t\t\t\terrorText:null,\n\t\t\t\tpromptBg:null,\n\t\t\t\tprompt:null,\n\t\t\t\tpromptTriangle:null,\n\t\t\t\tdefinitionP:null,\n\t\t\t\tplaybackrateP:null,\n\t\t\t\tsubtitlesP:null,\n\t\t\t\tloading:null,\n\t\t\t\tlogo:null,\n\t\t\t\tadBackground:null,\n\t\t\t\tadElement:null,\n\t\t\t\tadLink:null,\n\t\t\t\tadPauseClose:null,\n\t\t\t\tadTime:null,\n\t\t\t\tadTimeText:null,\n\t\t\t\tadMute:null,\n\t\t\t\tadEscMute:null,\n\t\t\t\tadSkip:null,\n\t\t\t\tadSkipText:null,\n\t\t\t\tadSkipButton:null\n\t\t\t};\n\t\t\tvar k='';\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.PD.appendChild(this.CB[k]);\n\t\t\t}\n\t\t\t/*\n\t\t\t\t构建鼠标右键容器\n\t\t\t*/\n\t\t\tthis.CB['menu']=document.createElement('div');\n\t\t\tthis.body.appendChild(this.CB['menu']);\n\t\t\tif (this.vars['live']) { //如果是直播，时间显示文本框里显示当前系统时间\n\t\t\t\ttimeInto = this.formatTime(0,0,this.ckLanguage['live']); //时间显示框默认显示内容\n\t\t\t}\n\t\t\t/*\n\t\t\t\t构建控制栏的按钮\n\t\t\t*/\n\t\t\tdivEle={\n\t\t\t\tplay:null,\n\t\t\t\tpause:null,\n\t\t\t\tmute:null,\n\t\t\t\tescMute:null,\n\t\t\t\tfull:null,\n\t\t\t\tescFull:null,\n\t\t\t\tdefinition:null,\n\t\t\t\tplaybackrate:null,\n\t\t\t\tsubtitles:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\tthis.CB[k].dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\tthis.CB['controlBar'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tdivEle={\n\t\t\t\ttimeProgressBg:null,\n\t\t\t\ttimeBoBg:null,\n\t\t\t\tvolume:null,\n\t\t\t\ttimeText:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['controlBar'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['timeText'].innerHTML=timeInto;//初始化时间\n\t\t\tdivEle={\n\t\t\t\tloadProgress:null,\n\t\t\t\ttimeProgress:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['timeProgressBg'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['timeButton']=document.createElement('div');\n\t\t\tthis.CB['timeBoBg'].appendChild(this.CB['timeButton']);\n\t\t\tdivEle={\n\t\t\t\tvolumeBg:null,\n\t\t\t\tvolumeBO:null\n\t\t\t};\n\t\t\tfor(k in divEle){\n\t\t\t\tthis.CB[k]=divEle[k];\n\t\t\t\tthis.CB[k]=document.createElement('div');\t\t\t\t\n\t\t\t\tthis.CB['volume'].appendChild(this.CB[k]);\n\t\t\t}\n\t\t\tthis.CB['volumeUp']=document.createElement('div');\n\t\t\tthis.CB['volumeBg'].appendChild(this.CB['volumeUp']);\n\t\t\t//构建loading图标\n\t\t\tvar imgTemp=null;\n\t\t\tvar imgFile='';\n\t\t\tvar imgFile=thisStyle['loading']['file'];\n\t\t\tif(!this.isUndefined(thisStyle['loading']['fileH5'])){\n\t\t\t\timgFile=thisStyle['loading']['fileH5'];\n\t\t\t}\n\t\t\tif(imgFile){\n\t\t\t\timgTemp=document.createElement('img');\n\t\t\t\timgTemp.src=imgFile;\n\t\t\t\timgTemp.border=0;\n\t\t\t\tthis.CB['loading'].appendChild(imgTemp);\n\t\t\t}\n\t\t\t//构建logo图标\n\t\t\timgFile=thisStyle['logo']['file'];\n\t\t\tif(!this.isUndefined(thisStyle['logo']['fileH5'])){\n\t\t\t\timgFile=thisStyle['logo']['fileH5'];\n\t\t\t}\n\t\t\tif(imgFile){\n\t\t\t\timgTemp=document.createElement('img');\n\t\t\t\timgTemp.src=imgFile;\n\t\t\t\timgTemp.border=0;\n\t\t\t\tthis.CB['logo'].appendChild(imgTemp);\n\t\t\t}\t\t\t\n\t\t\t//定义界面元素的样式\n\t\t\tif(this.ckConfig['config']['buttonMode']['player']){\n\t\t\t\tthis.css(this.PD, {cursor: 'pointer'});\n\t\t\t}\n\t\t\t//控制栏背景\n\t\t\tthis.controlBar(); //改变控制栏\n\t\t\tvar cssTemp=null;\n\t\t\t//定义提示语的样式\n\t\t\tvar promptCss=thisStyle['prompt'];\n\t\t\tcssTemp=this.getEleCss(promptCss,{overflow: 'hidden',zIndex: 900,display:'none'});\n\t\t\tthis.css(this.CB['promptBg'],cssTemp);\n\t\t\tthis.css(this.CB['promptBg'],'padding','0px');\n\t\t\tcssTemp['backgroundColor']='';\n\t\t\tcssTemp['border']='';\n\t\t\tcssTemp['borderRadius']='';\n\t\t\tcssTemp['whiteSpace']='nowrap';\n\t\t\tthis.css(this.CB['prompt'],cssTemp);\n\t\t\t//定义提示语下方的三解形的样式\n\t\t\tcssTemp={\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t\tborderLeft: promptCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\tborderRight: promptCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\tborderTop: promptCss['triangleHeight']+'px solid '+promptCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\toverflow: 'hidden',\n\t\t\t\topacity:promptCss['triangleAlpha'],\n\t\t\t\tfilter:'alpha(opacity:'+promptCss['triangleAlpha']+')',\n\t\t\t\tposition:'absolute',\n\t\t\t\tleft:'0px',\n\t\t\t\ttop:'0px',\n\t\t\t\tzIndex: 900,\n\t\t\t\tdisplay:'none'\n\t\t\t};\n\t\t\tthis.css(this.CB['promptTriangle'],cssTemp);\n\t\t\tthis.elementCoordinate();//中间播放按钮，出错文本框，logo，loading\n\t\t\tthis.css([this.CB['pauseCenter'],this.CB['loading'],this.CB['errorText']],'display','none');\n\t\t\tthis.carbarButton();//控制栏按钮\n\t\t\tthis.playerCustom();//播放器界面自定义元件\n\t\t\tthis.carbarCustom();//控制栏自定义元件\n\t\t\tthis.timeProgressDefault();//进度条默认样式\n\t\t\tthis.videoCss();//计算video的宽高和位置\n\t\t\t//初始化判断播放/暂停按钮隐藏项\n\t\t\tthis.initPlayPause();\n\t\t\tif (this.vars['volume'] > 0) {\n\t\t\t\tthis.css(this.CB['escMute'], 'display', 'none');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['mute'], 'display', 'none');\n\t\t\t}\n\t\t\tif (!this.ckConfig['config']['mobileVolumeBarShow'] && this.isMobile()) {\n\t\t\t\tthis.css([this.CB['mute'], this.CB['escMute'], this.CB['volume']], {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.css(this.CB['escFull'],'display', 'none');\n\t\t\t//设置广告背景层样式\n\t\t\tvar cssObj={\n\t\t\t\talign: 'top',\n\t\t\t\tvAlign:'left',\n\t\t\t\twidth:'100%',\n\t\t\t\theight:'100%',\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\tzIndex: 910,\n\t\t\t\tdisplay: 'none'\n\t\t\t};\n\t\t\tcssTemp=this.getEleCss(styleAS['background'],cssObj);\n\t\t\tthis.css(this.CB['adBackground'],cssTemp);\n\t\t\tthis.css(this.CB['adElement'], {\n\t\t\t\tposition: 'absolute',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\ttop: '0px',\n\t\t\t\tzIndex: 911,\n\t\t\t\tfloat: 'center',\n\t\t\t\tdisplay: 'none'\n\t\t\t});\n\t\t\t//广告控制各元素样式，用一个函数单独定义，这样在播放器尺寸变化时可以重新设置样式\n\t\t\tthis.advertisementStyle();\n\t\t\t//初始化广告控制各元素-隐藏\n\t\t\tthis.css([this.CB['adTime'],this.CB['adTimeText'],this.CB['adMute'],this.CB['adEscMute'],this.CB['adSkip'],this.CB['adSkipText'],this.CB['adSkipButton'],this.CB['adLink'],this.CB['adPauseClose']],'display','none');\n\t\t\t//定义鼠标经过控制栏只显示完整的进度条，鼠标离开进度条则显示简单的进度条\n\t\t\tvar timeProgressOut = function(event) {\n\t\t\t\tthisTemp.timeProgressMouseOut();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', timeProgressOut, this.CB['timeBoBg']);\n\t\t\tvar timeProgressOver = function(event) {\n\t\t\t\tthisTemp.timeProgressDefault();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', timeProgressOver, this.CB['controlBar']);\n\t\t\t//定义各按钮鼠标经过时的切换样式\n\t\t\tthis.buttonEventFun(this.CB['play'],styleCB['play']);//播放按钮\n\t\t\tthis.buttonEventFun(this.CB['pause'],styleCB['pause']);//暂停按钮\n\t\t\tthis.buttonEventFun(this.CB['mute'],styleCB['mute']);//静音按钮\n\t\t\tthis.buttonEventFun(this.CB['escMute'],styleCB['escMute']);//恢复音量按钮\n\t\t\tthis.buttonEventFun(this.CB['full'],styleCB['full']);//全屏按钮\n\t\t\tthis.buttonEventFun(this.CB['escFull'],styleCB['escFull']);//退出全屏按钮\n\t\t\tthis.buttonEventFun(this.CB['adMute'],styleAS['muteButton']);//广告静音按钮\n\t\t\tthis.buttonEventFun(this.CB['adEscMute'],styleAS['escMuteButton']);//恢复广告音量按钮\n\t\t\tthis.buttonEventFun(this.CB['adSkipButton'],styleAS['skipAdButton']);//跳过广告按钮\n\t\t\tthis.buttonEventFun(this.CB['adLink'],styleAS['adLinkButton']);//广告查看详情按钮\n\t\t\tthis.buttonEventFun(this.CB['adPauseClose'],styleAS['closeButton']);//播放暂停时的广告的关闭按钮\n\t\t\tthis.buttonEventFun(this.CB['pauseCenter'],thisStyle['centerPlay']);//播放器中间暂停时的播放按钮\n\t\t\tthis.buttonEventFun(this.CB['volumeBO'],styleC['volumeSchedule']['button']);//音量调节框按钮样式\n\t\t\tthis.buttonEventFun(this.CB['timeButton'],styleC['timeSchedule']['button']);//时间进度调节框按钮样式\n\n\t\t\tthis.addButtonEvent(); //注册按钮及音量调节，进度操作事件\n\t\t\tthis.controlBarHide(); //单独注册控制栏隐藏事件\n\t\t\tthis.newMenu(); //设置右键的样式和事件\n\t\t\tthis.keypress(); //注册键盘事件\n\t\t\t//初始化音量调节框\n\t\t\tthis.changeVolume(this.vars['volume']);\n\t\t\tsetTimeout(function() {\n\t\t\t\tthisTemp.elementCoordinate(); //调整中间暂停按钮/loading的位置/error的位置\n\t\t\t},\n\t\t\t100);\n\t\t\tthis.checkBarWidth();\n\t\t\tvar resize = function() {\n\t\t\t\tthisTemp.log('window.resize');\n\t\t\t\tthisTemp.playerResize();\n\t\t\t};\n\t\t\tvar MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\n\t\t\tvar observer = new MutationObserver(function(){\n\t\t\t\tthisTemp.log('video.resize');\n\t\t\t\tvar cdW=parseInt(thisTemp.css(thisTemp.CD,'width')),cdH=parseInt(thisTemp.css(thisTemp.CD,'height'));\n\t\t\t\tif(cdW!=thisTemp.cdWH['w'] || cdH!=thisTemp.cdWH['h']){\n\t\t\t\t\tthisTemp.cdWH={\n\t\t\t\t\t\tw:cdW,\n\t\t\t\t\t\th:cdH\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.changeSize(cdW,cdH);\n\t\t\t\t}\n\t\t\t});\n\t\t\tobserver.observe(this.CD, {attributes: true, attributeFilter: ['style'], attributeOldValue: true });\n\t\t\tthis.addListenerInside('resize', resize, window);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t进间进度条默认样式\n\t\t*/\n\t\ttimeProgressDefault:function(){\n\t\t\tvar styleCT=this.ckStyle['controlBar']['timeSchedule'];\n\t\t\tvar cssObj=this.newObj(styleCT['default']);\n\t\t\tvar loadBackImg=cssObj['loadProgressImg'],playBackImg=cssObj['playProgressImg'];\n\t\t\tvar cssTemp=null;\n\t\t\tthis.css(this.CB['timeBoBg'],'display','block');\n\t\t\t//时间进度条背景容器\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow: 'hidden',zIndex: 2},this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['timeProgressBg'], cssTemp);\n\t\t\t//加载进度\n\t\t\tcssObj={\n\t\t\t\talign:'left',\n\t\t\t\tvAlign:'top',\n\t\t\t\twidth:1,\n\t\t\t\theight:cssObj['height'],\n\t\t\t\tbackgroundImg:loadBackImg\n\t\t\t};\n\t\t\t//加载进度和时间进度\n\t\t\tif(this.CB['loadProgress'].offsetWidth>1){\n\t\t\t\tcssObj['width']=this.CB['loadProgress'].offsetWidth;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow:'hidden',zIndex:1},this.CB['timeProgressBg']);\n\t\t\tthis.css(this.CB['loadProgress'],cssTemp);\n\t\t\tcssObj['width']=0;\n\t\t\tif(this.CB['timeProgress'].offsetWidth>1 && parseInt(this.css(this.CB['timeButton'],'left'))>0){\n\t\t\t\tcssObj['width']=this.CB['timeProgress'].offsetWidth;\n\t\t\t\t\n\t\t\t}\n\t\t\tcssObj['backgroundImg']=playBackImg;\n\t\t\tcssTemp=this.getEleCss(cssObj,{overflow:'hidden',zIndex:2});\n\t\t\tthis.css(this.CB['timeProgress'],cssTemp);\n\t\t\t//时间进度按钮容器\n\t\t\tcssTemp=this.getEleCss(styleCT['buttonContainer'],{position: 'absolute',overflow: 'hidden',zIndex: 3},this.CB['controlBar']);\n\t\t\tif(this.ckConfig['config']['buttonMode']['timeSchedule']){\n\t\t\t\tcssTemp['cursor']='pointer';\n\t\t\t}\n\t\t\tthis.css(this.CB['timeBoBg'],cssTemp);\n\t\t\t//时间进度按钮\n\t\t\tcssTemp=this.getEleCss(styleCT['button'],{cursor: 'pointer',overflow: 'hidden',zIndex: 4},this.CB['timeBoBg']);\n\t\t\tthis.css(this.CB['timeButton'], cssTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t进间进度条鼠标离开样式\n\t\t*/\n\t\ttimeProgressMouseOut:function(){\n\t\t\tvar styleCT=this.ckStyle['controlBar']['timeSchedule'];\n\t\t\tvar cssObj=this.newObj(styleCT['mouseOut']);\n\t\t\tvar loadBackImg=cssObj['loadProgressImg'],playBackImg=cssObj['playProgressImg'];\n\t\t\tvar cssTemp=null;\n\t\t\tthis.css(this.CB['timeBoBg'],'display','block');\n\t\t\t//时间进度条背景容器\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow: 'hidden',zIndex: 2},this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['timeProgressBg'], cssTemp);\n\t\t\t//加载进度\n\t\t\tcssObj={\n\t\t\t\talign:'left',\n\t\t\t\tvAlign:'top',\n\t\t\t\twidth:1,\n\t\t\t\theight:cssObj['height'],\n\t\t\t\tbackgroundImg:loadBackImg\n\t\t\t};\n\t\t\t//加载进度和时间进度\n\t\t\tif(this.CB['loadProgress'].offsetWidth>1){\n\t\t\t\tcssObj['width']=this.CB['loadProgress'].offsetWidth;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(this.newObj(cssObj),{overflow:'hidden',zIndex:1},this.CB['timeProgressBg']);\n\t\t\tthis.css(this.CB['loadProgress'],cssTemp);\n\t\t\tcssObj['width']=1;\n\t\t\tif(this.CB['timeProgress'].offsetWidth>1 && parseInt(this.css(this.CB['timeButton'],'left'))>0){\n\t\t\t\tcssObj['width']=this.CB['timeProgress'].offsetWidth;\n\t\t\t\tcssObj['backgroundImg']=playBackImg;\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(cssObj,{overflow:'hidden',zIndex:2});\n\t\t\tthis.css(this.CB['timeProgress'],cssTemp);\t\t\t\n\t\t\tthis.css(this.CB['timeBoBg'],'display','none');\t\t\t\n\t\t},\n\t\t/*\n\t\t\t统一注册按钮鼠标经过和离开时的切换动作\n\t\t*/\n\t\tbuttonEventFun:function(ele,cssEle){\n\t\t\tvar thisTemp=this;\n\t\t\tvar overFun = function(event) {\n\t\t\t\tthisTemp.css(ele,{\n\t\t\t\t\tbackgroundImage:'url('+cssEle['mouseOver']+')'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptShow(ele);\n\t\t\t};\n\t\t\tvar outFun = function(event) {\n\t\t\t\tthisTemp.css(ele,{\n\t\t\t\t\tbackgroundImage:'url('+cssEle['mouseOut']+')'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t};\n\t\t\toutFun();\n\t\t\tthis.addListenerInside('mouseover', overFun, ele);\n\t\t\tthis.addListenerInside('mouseout', outFun, ele);\n\t\t\tif(!this.isUndefined(cssEle['clickEvent'])){\n\t\t\t\tvar clickFun=function(event){\n\t\t\t\t\tthisTemp.runFunction(cssEle['clickEvent']);\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', clickFun, ele);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化样式用的数字\n\t\t*/\n\t\tformatNumPx:function(str,z){\n\t\t\tif(!str){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(str.toString().indexOf('%')>-1){//说明是根据百分比来计算\n\t\t\t\tif(!this.isUndefined(z)){//如果有值\n\t\t\t\t\treturn parseInt(str)*z*0.01+'px';\n\t\t\t\t}\n\t\t\t\treturn str;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn str+'px';\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化样式用的数字，返回类型必需是数字或百分比\n\t\t*/\n\t\tformatZToNum:function(str,z){\n\t\t\tif(!str){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(str.toString().indexOf('%')>-1){//说明是根据百分比来计算\n\t\t\t\tif(!this.isUndefined(z)){//如果有值\n\t\t\t\t\treturn parseInt(str)*z*0.01;\n\t\t\t\t}\n\t\t\t\treturn str;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn str;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t对对象进行深度复制\n\t\t*/\n\t\tnewObj:function(obj) {\n\t\t\tif(this.isUndefined(obj)){\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t  \tvar str, newobj ={};//constructor 属性返回对创建此对象的数组函数的引用。创建相同类型的空数据\n\t\t  \tif (this.varType(obj) != 'object') {\n\t\t    \treturn obj;\n\t\t  \t}\n\t\t  \telse {\n\t\t    \tfor (var k in obj) {\n\t\t    \t\tif(this.isUndefined(obj[k])){\n\t\t    \t\t\tnewobj[k] = obj[k];\n\t\t    \t\t}\n\t\t    \t\telse{\n\t\t\t      \t\tif(this.varType(obj[k]) == 'object') { //判断对象的这条属性是否为对象\n\t\t\t        \t\tnewobj[k] = this.newObj(obj[k]);//若是对象进行嵌套调用\n\t\t\t      \t\t}\n\t\t\t      \t\telse{\n\t\t\t        \t\tnewobj[k] = obj[k];\n\t\t\t      \t\t}\n\t\t\t      \t}\n\t\t    \t}\n\t\t  \t}\n\t\t  \treturn newobj;//返回深度克隆后的对象\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t统一的显示图片\n\t\t*/\n\t\tloadImgBg:function(eleid,obj){\n\t\t\tthis.css(this.getByElement(eleid),{\n\t\t\t\tbackgroundImage:'url('+obj+')'\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t格式化css\n\t\t\teleObj=样式,\n\t\t\tsupplement=补充样式,\n\t\t\trrEle=参考对象，\n\t\t\t该函数强制使用position定位的元素\n\t\t*/\n\t\tgetEleCss:function(eleObj,supplement,rrEle){\n\t\t\tvar eleName=null;\n\t\t\tvar pdW=this.PD.offsetWidth,pdH=this.PD.offsetHeight;\n\t\t\tif(rrEle){\n\t\t\t\tpdW=rrEle.offsetWidth;\n\t\t\t\tpdH=rrEle.offsetHeight;\n\t\t\t}\n\t\t\tif(this.isUndefined(eleObj)){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\teleName=this.newObj(eleObj);\n\t\t\tvar cssObject={};\n\t\t\tif(!this.isUndefined(eleName['width'])){\n\t\t\t\tcssObject['width']=this.formatZToNum(eleName['width'],pdW)+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['height'])){\n\t\t\t\tcssObject['height']=this.formatZToNum(eleName['height'],pdH)+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['background'])){\n\t\t\t\tvar bg=eleName['background'];\n\t\t\t\tif(!this.isUndefined(bg['backgroundColor'])){\n\t\t\t\t\tcssObject['backgroundColor']=bg['backgroundColor'].replace('0x','#');\n\t\t\t\t}\n\t\t\t\tif(!this.isUndefined(bg['backgroundImg'])){\n\t\t\t\t\tcssObject['backgroundImage']='url('+bg['backgroundImg']+')';\n\t\t\t\t}\n\t\t\t\tif(!this.isUndefined(bg['alpha'])){\n\t\t\t\t\tcssObject['filter']='alpha(opacity:'+bg['alpha']+')';\n\t\t\t\t\tcssObject['opacity']=bg['alpha'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['backgroundColor'])){\n\t\t\t\tcssObject['backgroundColor']=eleName['backgroundColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['backgroundImg'])){\n\t\t\t\tcssObject['backgroundImage']='url('+eleName['backgroundImg']+')';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['color'])){\n\t\t\t\tcssObject['color']=eleName['color'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['font'])){\n\t\t\t\tcssObject['fontFamily']=eleName['font'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['size'])){\n\t\t\t\tcssObject['fontSize']=eleName['size']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['alpha'])){\n\t\t\t\tcssObject['filter']='alpha(opacity:'+eleName['alpha']+')';\n\t\t\t\tcssObject['opacity']=eleName['alpha'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['lineHeight'])){\n\t\t\t\tcssObject['lineHeight']=eleName['lineHeight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['textAlign'])){\n\t\t\t\tcssObject['textAlign']=eleName['textAlign'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderRadius'])){\n\t\t\t\tcssObject['borderRadius']=eleName['borderRadius']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['radius'])){\n\t\t\t\tcssObject['borderRadius']=eleName['radius']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['padding'])){\n\t\t\t\tcssObject['padding']=eleName['padding']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingLeft'])){\n\t\t\t\tcssObject['paddingLeft']=eleName['paddingLeft']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingRight'])){\n\t\t\t\tcssObject['paddingRight']=eleName['paddingRight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingTop'])){\n\t\t\t\tcssObject['paddingTop']=eleName['paddingTop']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['paddingBottom'])){\n\t\t\t\tcssObject['paddingBottom']=eleName['paddingBottom']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['margin'])){\n\t\t\t\tcssObject['margin']=eleName['margin']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginLeft'])){\n\t\t\t\tcssObject['marginLeft']=eleName['marginLeft']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginRight'])){\n\t\t\t\tcssObject['marginRight']=eleName['marginRight']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginTop'])){\n\t\t\t\tcssObject['marginTop']=eleName['marginTop']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginBottom'])){\n\t\t\t\tcssObject['marginBottom']=eleName['marginBottom']+'px';\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['border']) && !this.isUndefined(eleName['borderColor'])){\n\t\t\t\tcssObject['border']=eleName['border']+'px solid '+eleName['borderColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderLeft']) && !this.isUndefined(eleName['borderLeftColor'])){\n\t\t\t\tcssObject['borderLeft']=eleName['borderLeft']+'px solid '+eleName['borderLeftColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderRight']) && !this.isUndefined(eleName['borderRightColor'])){\n\t\t\t\tcssObject['borderRight']=eleName['borderRight']+'px solid '+eleName['borderRightColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderTop']) && !this.isUndefined(eleName['borderTopColor'])){\n\t\t\t\tcssObject['borderTop']=eleName['borderTop']+'px solid '+eleName['borderTopColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['borderBottom']) && !this.isUndefined(eleName['borderBottomColor'])){\n\t\t\t\tcssObject['borderBottom']=eleName['borderBottom']+'px solid '+eleName['borderBottomColor'].replace('0x','#');\n\t\t\t}\n\t\t\tif(!this.isUndefined(supplement)){\n\t\t\t\tfor(var k in supplement){\n\t\t\t\t\tcssObject[k]=supplement[k];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcssObject['position']='absolute';\n\t\t\tvar left=-10000,top=-10000,right=-10000,bottom=-10000;\n\t\t\tvar offsetX=0,offsetY=0;\n\t\t\tif(!this.isUndefined(eleName['offsetX'])){\n\t\t\t\toffsetX=eleName['offsetX'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginX'])){\n\t\t\t\toffsetX=eleName['marginX'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['offsetY'])){\n\t\t\t\toffsetY=eleName['offsetY'];\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['marginY'])){\n\t\t\t\toffsetY=eleName['marginY'];\n\t\t\t}\n\t\t\toffsetX=this.formatZToNum(offsetX,pdW);\n\t\t\toffsetY=this.formatZToNum(offsetY,pdH);\n\t\t\tif(!this.isUndefined(eleName['align'])){\n\t\t\t\tleft=0;\n\t\t\t\tswitch (eleName['align']) {\n\t\t\t\t\tcase 'left':\n\t\t\t\t\t\tleft = offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'center':\n\t\t\t\t\t\tleft = pdW * 0.5 + offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\tleft = pdW+offsetX;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right2':\n\t\t\t\t\t\tleft = -10000;\n\t\t\t\t\t\tright=offsetX;\n\t\t\t\t\t\tbreak;\t\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(!this.isUndefined(eleName['vAlign'])){\n\t\t\t\ttop=0;\n\t\t\t\tswitch (eleName['vAlign']) {\n\t\t\t\t\tcase 'top':\n\t\t\t\t\t\ttop = offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'middle':\n\t\t\t\t\t\ttop=pdH*0.5+offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\ttop =pdH+offsetY;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom2':\n\t\t\t\t\t\ttop=-10000;\n\t\t\t\t\t\tbottom =offsetY;\n\t\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(left>-10000){\n\t\t\t\tcssObject['left']=left+'px';\n\t\t\t}\n\t\t\tif(right>-10000){\n\t\t\t\tcssObject['right']=right+'px';\n\t\t\t}\n\t\t\tif(top>-10000){\n\t\t\t\tcssObject['top']=top+'px';\n\t\t\t}\n\t\t\tif(bottom>-10000){\n\t\t\t\tcssObject['bottom']=bottom+'px';\n\t\t\t}\n\t\t\treturn cssObject;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t创建按钮，使用canvas画布\n\t\t*/\n\t\tnewCanvas: function(id, width, height) {\n\t\t\treturn '<canvas class=\"' + id + '-canvas\" width=\"' + width + '\" height=\"' + height + '\"></canvas>';\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册按钮，音量调节框，进度操作框事件\n\t\t*/\n\t\taddButtonEvent: function() {\n\t\t\tvar thisTemp = this;\n\t\t\t//定义按钮的单击事件\n\t\t\t\n\t\t\t//定义各个按钮的鼠标经过/离开事件\n\t\t\tvar promptHide = function(event) {\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t};\n\t\t\tvar definitionOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['definition']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', definitionOver, this.CB['definition']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['definition']);\n\t\t\tvar playbackrateOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['playbackrate']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', playbackrateOver, this.CB['playbackrate']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['playbackrate']);\n\t\t\tvar subtitlesOver = function(event) {\n\t\t\t\tthisTemp.promptShow(thisTemp.CB['subtitles']);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', subtitlesOver, this.CB['subtitles']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['subtitles']);\n\t\t\t//定义音量和进度按钮的滑块事件\n\t\t\tvar volumePrompt = function(vol) {\n\t\t\t\tvar volumeBOXY = thisTemp.getCoor(thisTemp.CB['volumeBO']);\n\t\t\t\tvar promptObj = {\n\t\t\t\t\ttitle:thisTemp.ckLanguage['volumeSliderOver'].replace('[$volume]',vol),\n\t\t\t\t\tx: volumeBOXY['x'] + thisTemp.CB['volumeBO'].offsetWidth * 0.5,\n\t\t\t\t\ty: volumeBOXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, promptObj);\n\t\t\t};\n\t\t\tvar volumeObj = {\n\t\t\t\tslider: this.CB['volumeBO'],\n\t\t\t\tfollow: this.CB['volumeUp'],\n\t\t\t\trefer: this.CB['volumeBg'],\n\t\t\t\tgrossValue: 'volume',\n\t\t\t\tpd: true,\n\t\t\t\tstartFun: function(vol) {},\n\t\t\t\tmonitorFun: function(vol) {\n\t\t\t\t\tthisTemp.changeVolume(vol * 0.01, false, false);\n\t\t\t\t\tvolumePrompt(vol);\n\t\t\t\t},\n\t\t\t\tendFun: function(vol) {},\n\t\t\t\toverFun: function(vol) {\n\t\t\t\t\tvolumePrompt(vol);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.slider(volumeObj);\n\t\t\tvar volumeClickObj = {\n\t\t\t\trefer: this.CB['volumeBg'],\n\t\t\t\tgrossValue: 'volume',\n\t\t\t\tfun: function(vol) {\n\t\t\t\t\tthisTemp.changeVolume(vol * 0.01, true, true);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.progressClick(volumeClickObj);\n\t\t\tthis.timeButtonMouseDown(); //用单击的函数来判断是否需要建立控制栏监听\n\t\t\t//鼠标经过/离开音量调节框时的\n\t\t\tvar volumeBgMove = function(event) {\n\t\t\t\tvar volumeBgXY = thisTemp.getCoor(thisTemp.CB['volumeBg']);\n\t\t\t\tvar eventX = thisTemp.client(event)['x'];\n\t\t\t\tvar eventVolume = parseInt((eventX - volumeBgXY['x']) * 100 / thisTemp.CB['volumeBg'].offsetWidth);\n\t\t\t\tvar buttonPromptObj = {\n\t\t\t\t\ttitle:thisTemp.ckLanguage['volumeSliderOver'].replace('[$volume]',eventVolume),\n\t\t\t\t\tx: eventX,\n\t\t\t\t\ty: volumeBgXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, buttonPromptObj);\n\t\t\t};\n\t\t\tthis.addListenerInside('mousemove', volumeBgMove, this.CB['volumeBg']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['volumeBg']);\n\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['volumeBO']);\n\t\t\t//注册清晰度相关事件\n\t\t\tthis.addDefListener();\n\t\t\t//注册倍速相关事件\n\t\t\tthis.addPlaybackrate();\n\t\t\t//注册多字幕事件\n\t\t\tthis.addSubtitles();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册单击视频动作\n\t\t*/\n\t\tvideoClick: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar clearTimerClick = function() {\n\t\t\t\tif (thisTemp.timerClick != null) {\n\t\t\t\t\tif (thisTemp.timerClick.runing) {\n\t\t\t\t\t\tthisTemp.timerClick.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerClick = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timerClickFun = function() {\n\t\t\t\tclearTimerClick();\n\t\t\t\tthisTemp.isClick = false;\n\t\t\t\tthisTemp.sendJS('videoClick',thisTemp.videoClickXy);\n\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\tvar ad = thisTemp.getNowAdvertisements();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (ad['link'] != '') {\n\t\t\t\t\t\t\twindow.open(ad['link']);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.ckConfig['config']['click']) {\n\t\t\t\t\t\tthisTemp.playOrPause();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t};\n\t\t\tclearTimerClick();\n\t\t\tif (this.isClick) {\n\t\t\t\tthis.isClick = false;\n\t\t\t\tthisTemp.sendJS('videoDoubleClick',thisTemp.videoClickXy);\n\t\t\t\tif (thisTemp.ckConfig['config']['doubleClick']) {\n\t\t\t\t\tif (!this.full) {\n\t\t\t\t\t\tthisTemp.fullScreen();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthisTemp.quitFullScreen();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tthis.isClick = true;\n\t\t\t\tthis.timerClick = new this.timer(300, timerClickFun, 1)\n\t\t\t\t//this.timerClick.start();\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册鼠标经过进度滑块的事件\n\t\t*/\n\t\ttimeButtonMouseDown: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar timePrompt = function(time) {\n\t\t\t\tif (isNaN(time)) {\n\t\t\t\t\ttime = 0;\n\t\t\t\t}\n\t\t\t\tvar timeButtonXY = thisTemp.getCoor(thisTemp.CB['timeButton']);\n\t\t\t\tvar promptObj = {\n\t\t\t\t\ttitle: thisTemp.formatTime(time,0,thisTemp.ckLanguage['timeSliderOver']),\n\t\t\t\t\tx: timeButtonXY['x'] - thisTemp.pdCoor['x'] + thisTemp.CB['timeButton'].offsetWidth * 0.5,\n\t\t\t\t\ty: timeButtonXY['y'] - thisTemp.pdCoor['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, promptObj);\n\t\t\t};\n\t\t\tvar timeObj = {\n\t\t\t\tslider: this.CB['timeButton'],\n\t\t\t\tfollow: this.CB['timeProgress'],\n\t\t\t\trefer: this.CB['timeBoBg'],\n\t\t\t\tgrossValue: 'time',\n\t\t\t\tpd: false,\n\t\t\t\tstartFun: function(time) {\n\t\t\t\t\tthisTemp.isTimeButtonMove = false;\n\t\t\t\t},\n\t\t\t\tmonitorFun: function(time) {},\n\t\t\t\tendFun: function(time) {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tif (thisTemp.V.duration > 0) {\n\t\t\t\t\t\t\tthisTemp.needSeek = 0;\n\t\t\t\t\t\t\tthisTemp.videoSeek(parseInt(time));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\toverFun: function(time) {\n\t\t\t\t\ttimePrompt(time);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timeClickObj = {\n\t\t\t\trefer: this.CB['timeBoBg'],\n\t\t\t\tgrossValue: 'time',\n\t\t\t\tfun: function(time) {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tif (thisTemp.V.duration > 0) {\n\t\t\t\t\t\t\tthisTemp.needSeek = 0;\n\t\t\t\t\t\t\tthisTemp.videoSeek(parseInt(time));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar timeBoBgmousemove = function(event) {\n\t\t\t\tvar timeBoBgXY = thisTemp.getCoor(thisTemp.CB['timeBoBg']);\n\t\t\t\tvar eventX = thisTemp.client(event)['x'];\n\t\t\t\tvar duration=thisTemp.V.duration;\n\t\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\t\tduration = thisTemp.vars['duration'];\n\t\t\t\t}\n\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\tduration=thisTemp.vars['forceduration'];\n\t\t\t\t}\n\t\t\t\tvar eventTime = parseInt((eventX - timeBoBgXY['x']) * duration / thisTemp.CB['timeBoBg'].offsetWidth);\n\t\t\t\tvar buttonPromptObj = {\n\t\t\t\t\ttitle: thisTemp.formatTime(eventTime,0,thisTemp.ckLanguage['timeSliderOver']),\n\t\t\t\t\tx: eventX,\n\t\t\t\t\ty: timeBoBgXY['y']\n\t\t\t\t};\n\t\t\t\tthisTemp.promptShow(false, buttonPromptObj);\n\t\t\t\tvar def = false;\n\t\t\t\tif (!thisTemp.isUndefined(thisTemp.CB['definitionP'])) {\n\t\t\t\t\tif (thisTemp.css(thisTemp.CB['definitionP'], 'display') != 'block') {\n\t\t\t\t\t\tdef = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (thisTemp.vars['preview'] != null && def) {\n\t\t\t\t\tbuttonPromptObj['time'] = eventTime;\n\t\t\t\t\tthisTemp.preview(buttonPromptObj);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar promptHide = function(event) {\n\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\tif (thisTemp.previewDiv != null) {\n\t\t\t\t\tthisTemp.css([thisTemp.previewDiv, thisTemp.previewTop], 'display', 'none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (!this.vars['live']) { //如果不是直播\n\t\t\t\tthis.isTimeButtonDown = true;\n\t\t\t\tthis.addListenerInside('mousemove', timeBoBgmousemove, this.CB['timeBoBg']);\n\t\t\t\tthis.addListenerInside('mouseout', promptHide, this.CB['timeBoBg']);\n\t\t\t} else {\n\t\t\t\tthis.isTimeButtonDown = false;\n\t\t\t\ttimeObj['removeListenerInside'] = true;\n\t\t\t\ttimeClickObj['removeListenerInside'] = true;\n\t\t\t}\n\t\t\tthis.slider(timeObj);\n\t\t\tthis.progressClick(timeClickObj);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册调节框上单击事件，包含音量调节框和播放时度调节框\n\t\t*/\n\t\tprogressClick: function(obj) {\n\t\t\t/*\n\t\t\t\trefer:参考对象\n\t\t\t\tfun:返回函数\n\t\t\t\trefer:参考元素，即背景\n\t\t\t\tgrossValue:调用的参考值类型\n\t\t\t\tpd:\n\t\t\t*/\n\t\t\t//建立参考元素的mouseClick事件，用来做为鼠标在其上按下时触发的状态\n\t\t\tvar thisTemp = this;\n\t\t\tvar referMouseClick = function(event) {\n\t\t\t\tvar referX = thisTemp.client(event)['x'] - thisTemp.getCoor(obj['refer'])['x'];\n\t\t\t\tvar rWidth = obj['refer'].offsetWidth;\n\t\t\t\tvar grossValue = 0;\n\t\t\t\tif (obj['grossValue'] == 'volume') {\n\t\t\t\t\tgrossValue = 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tgrossValue = thisTemp.V.duration;\n\t\t\t\t\t\tif (isNaN(grossValue) || parseInt(grossValue) < 0.2) {\n\t\t\t\t\t\t\tgrossValue = thisTemp.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(thisTemp.vars['forceduration']>0){\n\t\t\t\t\t\t\tgrossValue=thisTemp.vars['forceduration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar nowZ = parseInt(referX * grossValue / rWidth);\n\t\t\t\tif (obj['fun']) {\n\t\t\t\t\tif (obj['grossValue'] === 'time') {\n\t\t\t\t\t\tvar sliderXY = thisTemp.getCoor(thisTemp.CB['timeButton']);\n\t\t\t\t\t\tsliderLeft = sliderXY['x'];\n\t\t\t\t\t\tif (!thisTemp.checkSlideLeft(referX, sliderLeft, rWidth)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar bimeButtonWB = thisTemp.CB['timeButton'].offsetWidth * 0.5;\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['timeButton'], 'left', (referX - bimeButtonWB) + 'px');\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['timeProgress'], 'width', (referX) + 'px');\n\t\t\t\t\t}\n\t\t\t\t\tobj['fun'](nowZ);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (this.isUndefined(obj['removeListenerInside'])) {\n\t\t\t\tthis.addListenerInside('click', referMouseClick, obj['refer']);\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('click', referMouseClick, obj['refer']);\n\t\t\t}\n\n\t\t},\n\n\t\t/*\n\t\t\t内部函数\n\t\t\t共用的注册滑块事件\n\t\t*/\n\t\tslider: function(obj) {\n\t\t\t/*\n\t\t\t\tobj={\n\t\t\t\t\tslider:滑块元素\n\t\t\t\t\tfollow:跟随滑块的元素\n\t\t\t\t\trefer:参考元素，即背景\n\t\t\t\t\tgrossValue:调用的参考值类型\n\t\t\t\t\tstartFun:开始调用的元素\n\t\t\t\t\tmonitorFun:监听函数\n\t\t\t\t\tendFun:结束调用的函数\n\t\t\t\t\toverFun:鼠标放上去后调用的函数\n\t\t\t\t\tpd:是否需要修正\n\t\t\t\t}\n\t\t\t*/\n\t\t\tvar thisTemp = this;\n\t\t\tvar clientX = 0,\n\t\t\tcriterionWidth = 0,\n\t\t\tsliderLeft = 0,\n\t\t\treferLeft = 0;\n\t\t\tvar value = 0;\n\t\t\tvar calculation = function() { //根据滑块的left计算百分比\n\t\t\t\tvar sLeft = parseInt(thisTemp.css(obj['slider'], 'left'));\n\t\t\t\tvar rWidth = obj['refer'].offsetWidth - obj['slider'].offsetWidth;\n\t\t\t\tvar grossValue = 0;\n\t\t\t\tif (thisTemp.isUndefined(sLeft) || isNaN(sLeft)) {\n\t\t\t\t\tsLeft = 0;\n\t\t\t\t}\n\t\t\t\tif (obj['grossValue'] == 'volume') {\n\t\t\t\t\tgrossValue = 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (thisTemp.V) {\n\t\t\t\t\t\tgrossValue = thisTemp.V.duration;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn parseInt(sLeft * grossValue / rWidth);\n\t\t\t};\n\t\t\tvar mDown = function(event) {\n\t\t\t\tthisTemp.addListenerInside('mousemove', mMove, document);\n\t\t\t\tthisTemp.addListenerInside('mouseup', mUp, document);\n\t\t\t\tvar referXY = thisTemp.getCoor(obj['refer']);\n\t\t\t\tvar sliderXY = thisTemp.getCoor(obj['slider']);\n\t\t\t\tclientX = thisTemp.client(event)['x'];\n\t\t\t\treferLeft = referXY['x'];\n\t\t\t\tsliderLeft = sliderXY['x'];\n\t\t\t\tcriterionWidth = clientX - sliderLeft;\n\t\t\t\tif (obj['startFun']) {\n\t\t\t\t\tobj['startFun'](calculation());\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mMove = function(event) {\n\t\t\t\tclientX = thisTemp.client(event)['x'];\n\t\t\t\tvar newX = clientX - criterionWidth - referLeft;\n\t\t\t\tif (newX < 0) {\n\t\t\t\t\tnewX = 0;\n\t\t\t\t}\n\t\t\t\tif (newX > obj['refer'].offsetWidth - obj['slider'].offsetWidth) {\n\t\t\t\t\tnewX = obj['refer'].offsetWidth - obj['slider'].offsetWidth;\n\t\t\t\t}\n\t\t\t\tif (obj['slider'] === thisTemp.CB['timeButton']) {\n\t\t\t\t\tif (!thisTemp.checkSlideLeft(newX, sliderLeft, obj['refer'].offsetWidth)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisTemp.css(obj['slider'], 'left', newX + 'px');\n\t\t\t\tthisTemp.css(obj['follow'], 'width', (newX + obj['slider'].offsetWidth * 0.5) + 'px');\n\t\t\t\tvar nowZ = calculation();\n\t\t\t\tif (obj['monitorFun']) {\n\t\t\t\t\tobj['monitorFun'](nowZ);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mUp = function(event) {\n\t\t\t\tthisTemp.removeListenerInside('mousemove', mMove, document);\n\t\t\t\tthisTemp.removeListenerInside('mouseup', mUp, document);\n\t\t\t\tif (obj['endFun']) {\n\t\t\t\t\tobj['endFun'](calculation());\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar mOver = function(event) {\n\t\t\t\tif (obj['overFun']) {\n\t\t\t\t\tobj['overFun'](calculation());\n\t\t\t\t}\n\n\t\t\t};\n\t\t\tif (this.isUndefined(obj['removeListenerInside'])) {\n\t\t\t\tthis.addListenerInside('mousedown', mDown, obj['slider']);\n\t\t\t\tthis.addListenerInside('mouseover', mOver, obj['slider']);\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('mousedown', mDown, obj['slider']);\n\t\t\t\tthis.removeListenerInside('mouseover', mOver, obj['slider']);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否可以拖动进度按钮或点击进度栏\n\t\t*/\n\t\tcheckSlideLeft: function(newX, sliderLeft, refer) {\n\t\t\tvar timeSA = this.ckConfig['config']['timeScheduleAdjust'];\n\t\t\tswitch (timeSA) {\n\t\t\tcase 0:\n\t\t\t\treturn false;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tif (newX < sliderLeft) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tif (newX > sliderLeft) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 4:\n\t\t\t\tif (!this.timeSliderLeftTemp) {\n\t\t\t\t\tthis.timeSliderLeftTemp = sliderLeft / refer;\n\t\t\t\t}\n\t\t\t\tif (newX < this.timeSliderLeftTemp * refer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 5:\n\t\t\t\tif (!this.timeSliderLeftTemp) {\n\t\t\t\t\tthis.timeSliderLeftTemp = sliderLeft / refer;\n\t\t\t\t} else {\n\t\t\t\t\tvar timeSliderMax = sliderLeft / refer;\n\t\t\t\t\tif (timeSliderMax > this.timeSliderLeftTemp) {\n\t\t\t\t\t\tthis.timeSliderLeftTemp = timeSliderMax;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (newX > this.timeSliderLeftTemp * refer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示loading\n\t\t*/\n\t\tloadingStart: function(rot) {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.isUndefined(rot)) {\n\t\t\t\trot = true;\n\t\t\t}\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.css(thisTemp.CB['loading'], 'display', 'none');\n\t\t\t\tthis.loadingShow=false;\n\t\t\t}\n\t\t\tvar buffer = 0;\n\t\t\tif (rot) {\n\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\tthis.css(thisTemp.CB['loading'], 'display', 'block');\n\t\t\t\t\tthis.loadingShow=true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthisTemp.sendJS('buffer', 100);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示提示语\n\t\t*/\n\t\tpromptShow: function(ele, data) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar obj = {};\n\t\t\tvar eleTitle='';\n\t\t\tif(!this.isUndefined(ele)){\n\t\t\t\teleTitle=this.getDataset(ele, 'title');\n\t\t\t\tif(this.isUndefined(eleTitle)){\n\t\t\t\t\tele=null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ele || data) {\n\t\t\t\tif (!this.isUndefined(data)) {\n\t\t\t\t\tobj = data;\n\t\t\t\t} else {\n\t\t\t\t\tvar offsetCoor = this.getCoor(ele);\n\t\t\t\t\tobj = {\n\t\t\t\t\t\ttitle: eleTitle,\n\t\t\t\t\t\tx: offsetCoor['x'] + ele.offsetWidth * 0.5,\n\t\t\t\t\t\ty: offsetCoor['y']\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthis.CB['prompt'].innerHTML = obj['title'];\n\t\t\t\tthis.css(this.CB['prompt'], 'display', 'block');\n\t\t\t\tvar promptStye=this.ckStyle['prompt'];\n\t\t\t\tvar promoptWidth=this.CB['prompt'].offsetWidth,promoptHeight=this.CB['prompt'].offsetHeight;\n\t\t\t\tthis.css(this.CB['promptBg'], {width:promoptWidth + 'px',height:promoptHeight+'px'});\n\t\t\t\tvar x = obj['x'] - (promoptWidth * 0.5);\n\t\t\t\tvar y = obj['y'] - this.CB['prompt'].offsetHeight-promptStye['marginBottom']-promptStye['triangleHeight'];\n\t\t\t\tif (x < 0) {\n\t\t\t\t\tx = 0;\n\t\t\t\t}\n\t\t\t\tif (x > this.PD.offsetWidth - promoptWidth) {\n\t\t\t\t\tx = this.PD.offsetWidth - promoptWidth;\n\t\t\t\t}\n\t\t\t\tthis.css([this.CB['promptBg'], this.CB['prompt']], {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\ttop: y + 'px'\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['promptTriangle'], {\n\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\tleft: x+(promoptWidth-promptStye['triangleWidth'])*0.5+parseInt(promptStye['triangleDeviationX']) + 'px',\n\t\t\t\t\ttop: y +promoptHeight+ 'px'\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.css([this.CB['promptBg'], this.CB['prompt'],this.CB['promptTriangle']], {\n\t\t\t\t\tdisplay: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听错误\n\t\t*/\n\t\ttimerErrorFun: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.errorSend = false;\n\t\t\tvar clearIntervalError = function(event) {\n\t\t\t\tif (thisTemp.timerError != null) {\n\t\t\t\t\tif (thisTemp.timerError.runing) {\n\t\t\t\t\t\tthisTemp.timerError.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerError = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar errorFun = function(event) {\n\t\t\t\tclearIntervalError();\n\t\t\t\tthisTemp.error = true;\n\t\t\t\t//提取错误播放地址\n\t\t\t\tthisTemp.errorUrl = thisTemp.getVideoUrl();\n\t\t\t\t//提取错误播放地址结束\n\t\t\t\tif (!thisTemp.errorSend) {\n\t\t\t\t\tthisTemp.errorSend = true;\n\t\t\t\t\tthisTemp.sendJS('error');\n\t\t\t\t}\n\t\t\t\tif (thisTemp.conBarShow) {\n\t\t\t\t\tthisTemp.CB['errorText'].innerHTML=thisTemp.ckLanguage['error']['streamNotFound'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['errorText'], 'display', 'block');\n\t\t\t\t\tthisTemp.css([thisTemp.CB['pauseCenter'],thisTemp.CB['loading']], 'display', 'none');\n\t\t\t\t}\n\t\t\t\tthisTemp.V.removeAttribute('poster');\n\t\t\t\tthisTemp.resetPlayer();\n\t\t\t};\n\t\t\tvar errorListenerFun = function(event) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif (isNaN(thisTemp.V.duration)) {\n\t\t\t\t\t\terrorFun(event);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tif (!this.errorAdd) {\n\t\t\t\tthis.errorAdd = true;\n\t\t\t\tthis.addListenerInside('error', errorListenerFun);\n\t\t\t}\n\t\t\tclearIntervalError();\n\t\t\tvar timerErrorFun = function() {\n\t\t\t\tif (thisTemp.V && parseInt(thisTemp.V.networkState) == 3) {\n\t\t\t\t\terrorFun();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerError = new this.timer(this.ckConfig['config']['errorTime'], timerErrorFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建判断全屏还是非全屏的判断\n\t\t*/\n\t\tjudgeFullScreen: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.timerFull != null) {\n\t\t\t\tif (this.timerFull.runing) {\n\t\t\t\t\tthis.timerFull.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerFull = null;\n\t\t\t}\n\t\t\tvar fullFun = function() {\n\t\t\t\tthisTemp.isFullScreen();\n\t\t\t};\n\t\t\tthis.timerFull = new this.timer(20, fullFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否是全屏\n\t\t*/\n\t\tisFullScreen: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fullState = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen || document.msFullscreenElement;\n\t\t\tif (fullState && !this.full) {\n\t\t\t\tthis.full = true;\n\t\t\t\tthis.sendJS('full', true);\n\t\t\t\tthis.elementCoordinate();\n\t\t\t\tthis.carbarButton();\n\t\t\t\tthis.customCoor();//控制栏自定义元件\n\t\t\t\tthis.css(this.CB['full'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['escFull'], 'display', 'block');\n\t\t\t\tif (this.vars['live'] == 0) {\n\t\t\t\t\tthis.timeUpdateHandler();\n\t\t\t\t}\n\t\t\t\tthis.PD.appendChild(this.CB['menu']);\n\t\t\t}\n\t\t\tif (!fullState && this.full) {\n\t\t\t\tthis.full = false;\n\t\t\t\tthis.sendJS('full', false);\n\t\t\t\tthis.elementCoordinate();\n\t\t\t\tthis.carbarButton();\n\t\t\t\tthis.customCoor();//控制栏自定义元件\n\t\t\t\tthis.css(this.CB['full'], 'display', 'block');\n\t\t\t\tthis.css(this.CB['escFull'], 'display', 'none');\n\t\t\t\tif (this.timerFull != null) {\n\t\t\t\t\tif (this.timerFull.runing) {\n\t\t\t\t\t\tthis.timerFull.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthis.timerFull = null;\n\t\t\t\t}\n\t\t\t\tif (this.vars['live'] == 0) {\n\t\t\t\t\tthis.timeUpdateHandler();\n\t\t\t\t}\n\t\t\t\tthis.body.appendChild(this.CB['menu']);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建右键内容及注册相关动作事件\n\t\t*/\n\t\tnewMenu: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar i = 0;\n\t\t\tthis.css(this.CB['menu'], {\n\t\t\t\tbackgroundColor: '#FFFFFF',\n\t\t\t\tpadding: '5px',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tleft: '10px',\n\t\t\t\ttop: '20px',\n\t\t\t\tdisplay: 'none',\n\t\t\t\tzIndex: '999',\n\t\t\t\tcolor: '#A1A9BE',\n\t\t\t\tboxShadow: '2px 2px 3px #AAAAAA'\n\t\t\t});\n\t\t\tvar mArr = this.contextMenu;\n\t\t\tvar cMenu = this.ckConfig['menu'];\n\t\t\tif (cMenu['name']) {\n\t\t\t\tif (cMenu['link']) {\n\t\t\t\t\tmArr[0] = [cMenu['name'], 'link', cMenu['link']];\n\t\t\t\t} else {\n\t\t\t\t\tmArr[0] = [cMenu['name'], 'default'];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (cMenu['version']) {\n\t\t\t\tmArr[1] = [cMenu['version'], 'default', 'line'];\n\t\t\t}\n\t\t\tif (cMenu['more']) {\n\t\t\t\tif (this.varType(cMenu['more']) == 'array') {\n\t\t\t\t\tif (cMenu['more'].length > 0) {\n\t\t\t\t\t\tvar moreArr = cMenu['more'];\n\t\t\t\t\t\tfor (i = 0; i < moreArr.length; i++) {\n\t\t\t\t\t\t\tvar mTemp = moreArr[i];\n\t\t\t\t\t\t\tvar arrTemp = [];\n\t\t\t\t\t\t\tif (mTemp['name']) {\n\t\t\t\t\t\t\t\tarrTemp.push(mTemp['name']);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (mTemp['clickEvent'] && mTemp['clickEvent'] != 'none') {\n\t\t\t\t\t\t\t\tvar eveObj = this.clickEvent(mTemp['clickEvent']);\n\t\t\t\t\t\t\t\tarrTemp.push(eveObj['type']);\n\t\t\t\t\t\t\t\tif (eveObj['fun']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(eveObj['fun']);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (eveObj['link']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(eveObj['link']);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (eveObj['target']) {\n\t\t\t\t\t\t\t\t\tarrTemp.push(' target=\"' + eveObj['target'] + '\"');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (mTemp['separatorBefore']) {\n\t\t\t\t\t\t\t\tarrTemp.push('line');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmArr.push(arrTemp);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar html = '';\n\t\t\tfor (i = 0; i < mArr.length; i++) {\n\t\t\t\tvar me = mArr[i];\n\t\t\t\tswitch (me[1]) {\n\t\t\t\tcase 'default':\n\t\t\t\t\thtml += '<p>' + me[0] + '</p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'link':\n\t\t\t\t\tif (me[3]) {\n\t\t\t\t\t\tme[3] = 'target=\"' + me[3] + '\"';\n\t\t\t\t\t}\n\t\t\t\t\thtml += '<p><a href=\"' + me[2] + '\"' + me[3] + '>' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javaScript':\n\t\t\t\t\thtml += '<p><a href=\"javascript:' + me[2] + '\">' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'actionScript':\n\t\t\t\t\thtml += '<p><a href=\"javascript:' + this.vars['variable'] + me[2].replace('thisTemp', '') + '\">' + me[0] + '</a></p>';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.CB['menu'].innerHTML = html;\n\t\t\tvar pArr = this.CB['menu'].childNodes;\n\t\t\tfor (i = 0; i < pArr.length; i++) {\n\t\t\t\tthis.css(pArr[i], {\n\t\t\t\t\theight: '30px',\n\t\t\t\t\tlineHeight: '30px',\n\t\t\t\t\tmargin: '0px',\n\t\t\t\t\tfontFamily: this.fontFamily,\n\t\t\t\t\tfontSize: '12px',\n\t\t\t\t\tpaddingLeft: '10px',\n\t\t\t\t\tpaddingRight: '30px'\n\t\t\t\t});\n\t\t\t\tif (mArr[i][mArr[i].length - 1] == 'line') {\n\t\t\t\t\tthis.css(pArr[i], 'borderBottom', '1px solid #e9e9e9');\n\t\t\t\t}\n\t\t\t\tvar aArr = pArr[i].childNodes;\n\t\t\t\tfor (var n = 0; n < aArr.length; n++) {\n\t\t\t\t\tif (aArr[n].localName == 'a') {\n\t\t\t\t\t\tthis.css(aArr[n], {\n\t\t\t\t\t\t\tcolor: '#000000',\n\t\t\t\t\t\t\ttextDecoration: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.PD.oncontextmenu = function(event) {\n\t\t\t\tvar eve = event || window.event;\n\t\t\t\tvar client = thisTemp.client(event);\n\t\t\t\tif (eve.button == 2) {\n\t\t\t\t\teve.returnvalue = false;\n\t\t\t\t\tvar x = client['x'] + thisTemp.pdCoor['x'] - 2;\n\t\t\t\t\tvar y = client['y'] + thisTemp.pdCoor['y'] - 2;\n\t\t\t\t\tthisTemp.css(thisTemp.CB['menu'], {\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\t\ttop: y + 'px'\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t};\n\t\t\tvar setTimeOutPClose = function() {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar mouseOut = function(event) {\n\t\t\t\tsetTimeOutPClose();\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['menu'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', mouseOut, thisTemp.CB['menu']);\n\t\t\tvar mouseOver = function(event) {\n\t\t\t\tsetTimeOutPClose();\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', mouseOver, thisTemp.CB['menu']);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建控制栏隐藏事件\n\t\t*/\n\t\tcontrolBarHide: function(hide) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar client = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t},\n\t\t\toldClient = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t\tvar cShow = true,\n\t\t\tforce = false;\n\t\t\tvar oldCoor = [0, 0];\n\t\t\tvar controlBarShow = function(show) {\n\t\t\t\tif (show && !cShow && thisTemp.controlBarIsShow) {\n\t\t\t\t\tcShow = true;\n\t\t\t\t\tthisTemp.sendJS('controlBar', true);\n\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBarBg'], 'display', 'block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBar'], 'display', 'block');\n\t\t\t\t\tthisTemp.timeProgressDefault();\n\t\t\t\t\t//thisTemp.css(thisTemp.CB['timeProgressBg'], 'display', 'block');\n\t\t\t\t\t//thisTemp.css(thisTemp.CB['timeBoBg'], 'display', 'block');\n\t\t\t\t\tthisTemp.changeVolume(thisTemp.volume);\n\t\t\t\t\tthisTemp.changeLoad();\n\t\t\t\t\tif (!thisTemp.timerBuffer) {\n\t\t\t\t\t\tthisTemp.bufferEdHandler();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (cShow) {\n\t\t\t\t\t\tcShow = false;\n\t\t\t\t\t\tvar paused = thisTemp.getMetaDate()['paused'];\n\t\t\t\t\t\tif (force) {\n\t\t\t\t\t\t\tpaused = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!paused) {\n\t\t\t\t\t\t\tthisTemp.sendJS('controlBar', false);\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBarBg'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['controlBar'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.promptShow(false);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthisTemp.videoCss();//计算video的宽高和位置\n\t\t\t};\n\t\t\tvar cbarFun = function(event) {\n\t\t\t\tif (client['x'] == oldClient['x'] && client['y'] == oldClient['y']) {\n\t\t\t\t\tvar cdH = parseInt(thisTemp.CD.offsetHeight);\n\t\t\t\t\tif ((client['y'] < cdH - 50 || client['y'] > cdH - 2) && cShow && !thisTemp.getMetaDate()['paused']) {\n\t\t\t\t\t\tcontrolBarShow(false);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!cShow) {\n\t\t\t\t\t\tcontrolBarShow(true);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\toldClient = {\n\t\t\t\t\tx: client['x'],\n\t\t\t\t\ty: client['y']\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerCBar = new this.timer(2000, cbarFun);\n\t\t\tvar cdMove = function(event) {\n\t\t\t\tvar getClient = thisTemp.client(event);\n\t\t\t\tclient['x'] = getClient['x'];\n\t\t\t\tclient['y'] = getClient['y'];\n\t\t\t\tif (!cShow) {\n\t\t\t\t\tcontrolBarShow(true);\n\t\t\t\t}\n\t\t\t\tthisTemp.sendJS('mouse',client);\n\t\t\t};\n\t\t\tthis.addListenerInside('mousemove', cdMove, thisTemp.CD);\n\t\t\tthis.addListenerInside('ended', cdMove);\n\t\t\tthis.addListenerInside('resize', cdMove, window);\n\t\t\tif (hide === true) {\n\t\t\t\tcShow = true;\n\t\t\t\tforce = true;\n\t\t\t\tcontrolBarShow(false);\n\t\t\t}\n\t\t\tif (hide === false) {\n\t\t\t\tcShow = false;\n\t\t\t\tforce = true;\n\t\t\t\tcontrolBarShow(true);\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册键盘按键事件\n\t\t*/\n\t\tkeypress: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar keyDown = function(eve) {\n\t\t\t\tvar keycode = eve.keyCode || eve.which;\n\t\t\t\tif (thisTemp.adPlayerPlay) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tswitch (keycode) {\n\t\t\t\t\tcase 32:\n\t\t\t\t\t\tthisTemp.playOrPause();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 37:\n\t\t\t\t\t\tthisTemp.fastBack();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 39:\n\t\t\t\t\t\tthisTemp.fastNext();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 38:\n\t\t\t\t\t\tnow = thisTemp.volume + thisTemp.ckConfig['config']['volumeJump'];\n\t\t\t\t\t\tthisTemp.changeVolume(now > 1 ? 1 : now);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 40:\n\t\t\t\t\t\tnow = thisTemp.volume - thisTemp.ckConfig['config']['volumeJump'];\n\t\t\t\t\t\tthisTemp.changeVolume(now < 0 ? 0 : now);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('keydown', keyDown, window || document);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册倍速相关\n\t\t*/\n\t\tplaybackRate: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['playbackRate']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['playbackrate'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar thisTemp = this;\n\t\t\tvar dArr = this.playbackRateArr;\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的倍速\n\t\t\tvar i = 0,nowI=0;\n\t\t\tnowD = dArr[this.playbackRateDefault][1];\n\t\t\tnowI=this.playbackRateDefault;\n\t\t\tthis.removeChildAll(this.CB['playbackrateP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['playbackratePB']=document.createElement('div'),this.CB['playbackratePC']=document.createElement('div');\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackratePB']);\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackratePC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['playbackratePC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['playbackrateP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['playbackratePB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i][1];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['playbackrateP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['playbackrateP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['playbackratePC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['playbackratePC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar subClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newPlaybackrate(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', subClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['playbackrateTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['playbackrateP'].appendChild(this.CB['playbackrateTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['playbackrateTriangle'],cssTemp);\n\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = nowD;\n\t\t\t} else {\n\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = this.ckLanguage['playbackrate'];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册切换倍速播放相关事件\n\t\t*/\n\t\taddPlaybackrate: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['playbackrateP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['playbackratePC'])){\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'],'display','block');\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['playbackrate']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackratePB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['playbackratePC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['playbackratePC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['playbackratePC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['playbackratePC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['playbackratePB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['playbackrate']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['playbackrateP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['playbackrateP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['playbackrateP']);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t切换倍速后发生的动作\n\t\t*/\n\t\tnewPlaybackrate: function(title) {\n\t\t\tvar vArr = this.playbackRateArr;\n\t\t\tvar nVArr = [];\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[1] == title) {\n\t\t\t\t\tthis.playbackRateDefault = i;\n\t\t\t\t\tthis.V.playbackRate = v[0];\n\t\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t\tthis.CB['playbackrateButtonText'].innerHTML = v[1];\n\t\t\t\t\t\tthis.playbackRate();\n\t\t\t\t\t}\n\t\t\t\t\tthis.sendJS('playbackRate', v);\n\t\t\t\t\tthis.playbackRateTemp=v[0];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册多字幕切换相关\n\t\t*/\n\t\tsubtitleSwitch: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['subtitle']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar dArr = this.vars['cktrack'];//字幕数组\n\t\t\tif(this.varType(dArr)!='array'){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(dArr[0][1]==''){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['subtitle'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的字幕\n\t\t\tvar i = 0,nowI=0;\n\t\t\t\n\t\t\tif(this.subtitlesTemp==-1 && dArr.length>0){\n\t\t\t\tthis.subtitlesTemp=dArr.length-1;\n\t\t\t}\n\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\tif(this.subtitlesTemp==i){\n\t\t\t\t\tnowD=dArr[i][1];\n\t\t\t\t\tnowI=i;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!nowD) {\n\t\t\t\tnowD = dArr[0][1];\n\t\t\t}\n\t\t\tthis.removeChildAll(this.CB['subtitlesP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['subtitlesPB']=document.createElement('div'),this.CB['subtitlesPC']=document.createElement('div');\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesPB']);\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesPC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['subtitlesPC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['subtitlesP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['subtitlesPB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i][1];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['subtitlesP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['subtitlesP'],dArr[i][1],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['subtitlesPC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['subtitlesPC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar subClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newSubtitles(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', subClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['subtitlesTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['subtitlesP'].appendChild(this.CB['subtitlesTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['subtitlesTriangle'],cssTemp);\n\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = nowD;\n\t\t\t} else {\n\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = this.ckLanguage['subtitle'];\n\t\t\t}\n\t\t\t\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册多字幕切换事件\n\t\t*/\n\t\taddSubtitles:function(){\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['subtitlesP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['subtitlesPC'])){\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['subtitle']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'],'display','block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesPB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['subtitlesPC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['subtitlesPC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['subtitlesPC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['subtitlesPC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['subtitlesPB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['subtitles']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['subtitlesP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['subtitlesP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['subtitlesP']);\n\t\t},\n\t\t/*\n\t\t\t接口函数:修改字幕，按数组编号来\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeSubtitles: function(n) {\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar vArr = this.vars['cktrack'];//字幕数组\n\t\t\tif(this.varType(vArr)!='array'){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeSubtitles(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (vArr.length > n) {\n\t\t\t\tvar arr = vArr[n];\n\t\t\t\tif (arr.length > 2) {\n\t\t\t\t\tvar title = arr[1];\n\t\t\t\t\tif (title) {\n\t\t\t\t\t\tthis.newSubtitles(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数：修改字幕大小\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeSubtitlesSize:function(n,m){\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeSubtitlesSize(n,m);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.ckStyle['cktrack']['size']=n;\n\t\t\tif(!this.isUndefined(m)){\n\t\t\t\tthis.ckStyle['cktrack']['leading']=m;\n\t\t\t}\n\t\t\tthis.trackShowAgain();\n\t\t},\n\t\t/*\n\t\t\t当切换字幕时的动作 \n\t\t*/\n\t\tnewSubtitles:function(title){\n\t\t\tvar vArr = this.vars['cktrack'];//字幕数组\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[1] == title) {\n\t\t\t\t\tthis.subtitlesTemp=i;\n\t\t\t\t\tif (this.conBarShow) {\n\t\t\t\t\t\tthis.CB['subtitleButtonText'].innerHTML = v[1];\n\t\t\t\t\t\tthis.subtitleSwitch();\n\t\t\t\t\t\tthis.loadTrack(i);\n\t\t\t\t\t}\n\t\t\t\t\tthis.sendJS('subtitles', v);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建清晰度按钮及切换事件(Click事件)\n\t\t*/\n\t\tdefinition: function() {\n\t\t\tif (!this.conBarShow || !this.ckConfig['config']['definition']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar styleCD=this.ckStyle['controlBar']['definition'];\n\t\t\tvar cssSup={overflow: 'hidden',display: 'none',zIndex: 995};\n\t\t\tvar cssSup2={overflow: 'hidden',align: 'top',vAlign: 'left',offsetX: 0,offsetY: 0,zIndex: 1};\n\t\t\tvar thisTemp = this;\n\t\t\tvar vArr = this.VA;\n\t\t\tvar dArr = [];\n\t\t\tvar html = '';\n\t\t\tvar nowD = ''; //当前的清晰度\n\t\t\tvar i = 0,nowI=0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar d = vArr[i][2];\n\t\t\t\tif (dArr.indexOf(d) == -1) {\n\t\t\t\t\tdArr.push(d);\n\t\t\t\t}\n\t\t\t\tif (this.V) {\n\t\t\t\t\tif (vArr[i][0] == this.V.currentSrc) {\n\t\t\t\t\t\tnowD = d;\n\t\t\t\t\t\tnowI = i;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!nowD) {\n\t\t\t\tnowD = dArr[0];\n\t\t\t}\n\t\t\tthis.removeChildAll(this.CB['definitionP']);\n\t\t\tif (dArr.length > 1) {\n\t\t\t\t//设置样式\n\t\t\t\tthis.CB['definitionPB']=document.createElement('div'),this.CB['definitionPC']=document.createElement('div');\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionPB']);\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionPC']);\n\t\t\t\t//按钮列表容器样式\n\t\t\t\tvar bgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['backgroundColor']='';\n\t\t\t\t//内容层样式\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['definitionPC'], cssTemp);\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\t//容器层样式\n\t\t\t\tcssTemp=this.getEleCss(this.objectAssign(bgCss,styleCD['backgroundCoorH5']),cssSup);\n\t\t\t\tthis.css(this.CB['definitionP'], cssTemp);\n\t\t\t\t//背景层样式\n\t\t\t\tbgCss=this.newObj(styleCD['background']);\n\t\t\t\tbgCss['alpha']=bgCss['backgroundAlpha'];\n\t\t\t\tbgCss['padding']=0;\n\t\t\t\tbgCss['paddingLeft']=0;\n\t\t\t\tbgCss['paddingTop']=0;\n\t\t\t\tbgCss['paddingRight']=0;\n\t\t\t\tbgCss['paddingBottom']=0;\n\t\t\t\tcssTemp=this.getEleCss(bgCss,cssSup2);\n\t\t\t\tthis.css(this.CB['definitionPB'], cssTemp);\n\t\t\t\t//样式设置结束\n\t\t\t\tfor(i=0;i<dArr.length;i++){\n\t\t\t\t\tvar buttonDiv=document.createElement('div');\n\t\t\t\t\tbuttonDiv.dataset.title=dArr[i];\n\t\t\t\t\tif(nowI!=i){\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['button'],null,this.CB['definitionP'],dArr[i],'');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.textButton(buttonDiv,styleCD['buttonHighlight'],null,this.CB['definitionP'],dArr[i],'');\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(buttonDiv,'position','static');\n\t\t\t\t\tthis.CB['definitionPC'].appendChild(buttonDiv);\n\t\t\t\t\t//构建间隔线\n\t\t\t\t\tif(i<dArr.length-1){\n\t\t\t\t\t\tvar separate=styleCD['separate'];\n\t\t\t\t\t\tseparate['borderTop']=separate['border'];\n\t\t\t\t\t\tseparate['borderTopColor']=separate['color'];\n\t\t\t\t\t\tvar separateDiv=document.createElement('div');\n\t\t\t\t\t\tthis.CB['definitionPC'].appendChild(separateDiv);\n\t\t\t\t\t\tvar cssTemp=this.getEleCss(separate,{width:'100%'});\n\t\t\t\t\t\tcssTemp['position']='static';\n\t\t\t\t\t\tthis.css(separateDiv,cssTemp);\n\t\t\t\t\t}\n\t\t\t\t\tvar defClick = function() {\n\t\t\t\t\t\tvar dName=thisTemp.getDataset(this, 'title');\n\t\t\t\t\t\tif (nowD != dName) {\n\t\t\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], 'display', 'none');\n\t\t\t\t\t\t\tthisTemp.newDefinition(dName);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', defClick, buttonDiv);\n\t\t\t\t}\n\t\t\t\t//下面三角形样式\n\t\t\t\tthis.CB['definitionTriangle']=document.createElement('div');\n\t\t\t\tthis.CB['definitionP'].appendChild(this.CB['definitionTriangle']);\n\t\t\t\tvar tbCss=styleCD['background'];\n\t\t\t\tcssTemp={\n\t\t\t\t\twidth: 0,\n\t\t\t\t\theight: 0,\n\t\t\t\t\tborderLeft: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderRight: tbCss['triangleWidth']*0.5+'px solid transparent',\n\t\t\t\t\tborderTop: tbCss['triangleHeight']+'px solid '+tbCss['triangleBackgroundColor'].replace('0x','#'),\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\topacity:tbCss['triangleAlpha'],\n\t\t\t\t\tfilter:'alpha(opacity:'+tbCss['triangleAlpha']+')',\n\t\t\t\t\tposition:'absolute',\n\t\t\t\t\tleft:'0px',\n\t\t\t\t\ttop:'0px',\n\t\t\t\t\tzIndex: 2\n\t\t\t\t};\n\t\t\t\tthis.css(this.CB['definitionTriangle'],cssTemp);\n\t\t\t\tthis.CB['defaultButtonText'].innerHTML = nowD;\n\t\t\t\tthis.css(this.CB['definition'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.CB['defaultButtonText'].innerHTML = this.ckLanguage['definition'];\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除节点内容\n\t\t*/\n\t\tremoveChildAll:function(ele){\n\t\t\tfor(var i=ele.childNodes.length-1;i>=0;i--){\n\t\t\t\tvar childNode=ele.childNodes[i];\n\t\t\t\tele.removeChild(childNode);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册清晰度相关事件\n\t\t*/\n\t\taddDefListener: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar setTimeOutP = null;\n\t\t\tvar defClick = function(event) {\n\t\t\t\tif(thisTemp.css(thisTemp.CB['definitionP'],'display')!='block' && !thisTemp.isUndefined(thisTemp.CB['definitionPC'])){\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'],'display','block');\n\t\t\t\t\tvar tbCss=thisTemp.ckStyle['controlBar']['definition']['background'];\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionPB'], {\n\t\t\t\t\t\twidth: thisTemp.CB['definitionPC'].offsetWidth+'px',\n\t\t\t\t\t\theight: thisTemp.CB['definitionPC'].offsetHeight+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], {\n\t\t\t\t\t\twidth: (thisTemp.CB['definitionPC'].offsetWidth+tbCss['triangleDeviationX']+tbCss['triangleWidth'])+'px',\n\t\t\t\t\t\theight: (thisTemp.CB['definitionPC'].offsetHeight+tbCss['triangleDeviationY']+tbCss['triangleHeight'])+'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.promptShow(false);\n\t\t\t\t\t//设置三角形样式\n\t\t\t\t\tvar tempELe=thisTemp.CB['definitionPB'];\n\t\t\t\t\tvar tempWidth=tempELe.offsetWidth,tempHeight=tempELe.offsetHeight;\n\t\t\t\t\t\n\t\t\t\t\tvar x = ((tempWidth-tbCss['triangleWidth']) * 0.5)+tbCss['triangleDeviationX'];\n\t\t\t\t\tvar y = tempELe.offsetHeight+tbCss['triangleDeviationY'];\n\t\t\t\t\tvar cssTemp={\n\t\t\t\t\t\tleft:x+'px',\n\t\t\t\t\t\ttop:y+'px'\n\t\t\t\t\t};\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionTriangle'],cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'],'display','none');\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('click', defClick, this.CB['definition']);\n\t\t\tvar defMouseOut = function(event) {\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t\tsetTimeOutP = setTimeout(function(event) {\n\t\t\t\t\tthisTemp.css(thisTemp.CB['definitionP'], 'display', 'none');\n\t\t\t\t},\n\t\t\t\t500);\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseout', defMouseOut, thisTemp.CB['definitionP']);\n\t\t\tvar defMouseOver = function(event) {\n\t\t\t\tthisTemp.buttonHide=false;\n\t\t\t\tif (setTimeOutP) {\n\t\t\t\t\twindow.clearTimeout(setTimeOutP);\n\t\t\t\t\tsetTimeOutP = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.addListenerInside('mouseover', defMouseOver, thisTemp.CB['definitionP']);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t提供给外部api\n\t\t*/\n\t\tchangeDefinition: function(n) {\n\t\t\tif (!this.loaded || n < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeDefinition(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.VA.length > n) {\n\t\t\t\tvar arr = this.VA[n];\n\t\t\t\tif (arr.length > 3) {\n\t\t\t\t\tvar title = arr[2];\n\t\t\t\t\tif (title) {\n\t\t\t\t\t\tthis.newDefinition(title);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t切换清晰度后发生的动作\n\t\t*/\n\t\tnewDefinition: function(title) {\n\t\t\tvar vArr = this.VA;\n\t\t\tvar nVArr = [];\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\tvar v = vArr[i];\n\t\t\t\tif (v[2] == title) {\n\t\t\t\t\tnVArr.push(v);\n\t\t\t\t\tthis.sendJS('definitionChange', i + '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (nVArr.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V != null && this.needSeek == 0) {\n\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t}\n\t\t\tif (this.getFileExt(nVArr[0][0]) != '.m3u8') {\n\t\t\t\tthis.isM3u8 = false;\n\t\t\t}\n\t\t\tif (!this.isM3u8) {\n\t\t\t\tif (nVArr.length == 1) {\n\t\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\t\tthis.V.src = nVArr[0][0];\n\t\t\t\t\tthis.V.currentSrc = nVArr[0][0];\n\t\t\t\t} else {\n\t\t\t\t\tvar source = '';\n\t\t\t\t\tnVArr = this.arrSort(nVArr);\n\t\t\t\t\tfor (i = 0; i < nVArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = nVArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + va[0] + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\tthis.V.innerHTML = source;\n\t\t\t\t\tthis.V.currentSrc = nVArr[0][0];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.embedHls(vArr[0][0], this.vars['autoplay']);\n\t\t\t}\n\t\t\tthis.V.autoplay = 'autoplay';\n\t\t\tthis.V.load();\n\t\t\tif (this.playbackRateTemp!=1) {\n\t\t\t\tthis.V.playbackRate = this.playbackRateTemp; //定义倍速\n\t\t\t}\n\t\t\tthis.timerErrorFun();\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t播放hls\n\t\t*/\n\t\tembedHls: function(url, autoplay) {\n\t\t\tvar thisTemp = this;\n\t\t\tthisTemp.hlsAutoPlay=autoplay;\n\t\t\tif (Hls.isSupported()) {\n\t\t\t\tvar hls = new Hls();\n\t\t\t\thls.loadSource(url);\n\t\t\t\thls.attachMedia(this.V);\n\t\t\t\thls.on(Hls.Events.MANIFEST_PARSED,\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.playerLoad();\n\t\t\t\t\tif (autoplay) {\n\t\t\t\t\t\tthisTemp.videoPlay();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建提示点\n\t\t*/\n\t\tprompt: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar prompt = this.vars['promptSpot'];\n\t\t\tif (prompt == null || this.promptArr.length > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar showPrompt = function(event) {\n\t\t\t\tif (thisTemp.promptElement == null) {\n\t\t\t\t\tvar random2 = 'prompte-' + thisTemp.randomString(5);\n\t\t\t\t\tvar ele2 = document.createElement('div');\n\t\t\t\t\tele2.className = random2;\n\t\t\t\t\tthisTemp.PD.appendChild(ele2);\n\t\t\t\t\tthisTemp.promptElement = thisTemp.getByElement(random2);\n\t\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\t\toverflowX: 'hidden',\n\t\t\t\t\t\tlineHeight: thisTemp.ckStyle['previewPrompt']['lineHeight']+'px',\n\t\t\t\t\t\tfontFamily: thisTemp.ckStyle['previewPrompt']['font'],\n\t\t\t\t\t\tfontSize: thisTemp.ckStyle['previewPrompt']['size']+'px',\n\t\t\t\t\t\tcolor: thisTemp.ckStyle['previewPrompt']['color'].replace('0x','#'),\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\tzIndex: '90'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tvar pcon = thisTemp.getPromptTest();\n\t\t\t\tvar pW = pcon['pW'],\n\t\t\t\tpT = pcon['pT'],\n\t\t\t\tpL = parseInt(thisTemp.css(this, 'left')) - parseInt(pW * 0.5);\n\t\t\t\tif (pcon['pL'] > 10) {\n\t\t\t\t\tpL = pcon['pL'];\n\t\t\t\t}\n\t\t\t\tif (pL < 0) {\n\t\t\t\t\tpL = 0;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\twidth: pW + 'px',\n\t\t\t\t\tleft: ( - pW - 10) + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t\tthisTemp.promptElement.innerHTML = thisTemp.getDataset(this, 'words');\n\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\tleft: pL + 'px',\n\t\t\t\t\ttop: (pT - thisTemp.promptElement.offsetHeight-thisTemp.ckStyle['previewPrompt']['marginBottom']) + 'px'\n\t\t\t\t});\n\t\t\t};\n\t\t\tvar hidePrompt = function(event) {\n\t\t\t\tif (thisTemp.promptElement != null) {\n\t\t\t\t\tthisTemp.css(thisTemp.promptElement, {\n\t\t\t\t\t\tdisplay: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar i = 0;\n\t\t\tfor (i = 0; i < prompt.length; i++) {\n\t\t\t\tvar pr = prompt[i];\n\t\t\t\tvar words = pr['words'];\n\t\t\t\tvar time = pr['time'];\n\t\t\t\tvar random = 'prompttitle-' + this.randomString(5);\n\t\t\t\tvar ele = document.createElement('div');\n\t\t\t\tele.className = random;\n\t\t\t\tthis.CB['timeBoBg'].appendChild(ele);\n\t\t\t\tvar div = this.getByElement(random);\n\t\t\t\ttry{\n\t\t\t\t\tdiv.setAttribute('data-time', time);\n\t\t\t\t\tif(this.ckConfig['config']['promptSpotTime']){\n\t\t\t\t\t\twords=this.formatTime(time,0,this.ckLanguage['timeSliderOver'])+' '+words;\n\t\t\t\t\t}\n\t\t\t\t\tdiv.setAttribute('data-words', words);\n\t\t\t\t}\n\t\t\t\tcatch(event){}\n\t\t\t\tvar pCss=this.getEleCss(this.ckStyle['promptSpotH5'],{marginY:-10000,zIndex: 1});\n\t\t\t\ttry{\n\t\t\t\t\tthis.css(div, pCss);\n\t\t\t\t}\n\t\t\t\tcatch(event){}\n\t\t\t\tthis.addListenerInside('mouseover', showPrompt, div);\n\t\t\t\tthis.addListenerInside('mouseout', hidePrompt, div);\n\t\t\t\tthis.promptArr.push(div);\n\t\t\t}\n\t\t\tthis.changePrompt();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t计算提示文本的位置\n\t\t*/\n\t\tgetPromptTest: function() {\n\t\t\tvar pW = this.previewWidth,\n\t\t\tpT = this.getCoor(this.CB['timeProgressBg'])['y'],\n\t\t\tpL = 0;\n\t\t\tif (this.previewTop != null) {\n\t\t\t\tpT = parseInt(this.css(this.previewTop, 'top'));\n\t\t\t\tpL = parseInt(this.css(this.previewTop, 'left'));\n\t\t\t} else {\n\t\t\t\tpT -= 35;\n\t\t\t}\n\t\t\tpL += 2;\n\t\t\tif (pL < 0) {\n\t\t\t\tpL = 0;\n\t\t\t}\n\t\t\tif (pL > this.PD.offsetWidth - pW) {\n\t\t\t\tpL = this.PD.offsetWidth - pW;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tpW: pW,\n\t\t\t\tpT: pT,\n\t\t\t\tpL: pL\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除提示点\n\t\t*/\n\t\tdeletePrompt: function() {\n\t\t\tvar arr = this.promptArr;\n\t\t\tif (arr.length > 0) {\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i]) {\n\t\t\t\t\t\tthis.deleteChild(arr[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.promptArr = [];\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t计算提示点坐标\n\t\t*/\n\t\tchangePrompt: function() {\n\t\t\tif (this.promptArr.length == 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = this.promptArr;\n\t\t\tvar duration = this.getMetaDate()['duration'];\n\t\t\tvar bw = this.CB['timeBoBg'].offsetWidth;\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar time = parseInt(this.getDataset(arr[i], 'time'));\n\t\t\t\tvar left = parseInt(time * bw / duration) - parseInt(arr[i].offsetWidth * 0.5);\n\t\t\t\tif (left < 0) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\t\t\t\tif (left > bw - parseInt(arr[i].offsetWidth * 0.5)) {\n\t\t\t\t\tleft = bw - parseInt(arr[i].offsetWidth * 0.5);\n\t\t\t\t}\n\t\t\t\tthis.css(arr[i], {\n\t\t\t\t\tleft: left + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t构建预览图片效果\n\t\t*/\n\t\tpreview: function(obj) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar preview = {\n\t\t\t\tfile: null,\n\t\t\t\tscale: 0\n\t\t\t};\n\t\t\tpreview = this.standardization(preview, this.vars['preview']);\n\t\t\tif (preview['file'] == null || preview['scale'] <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar srcArr = preview['file'];\n\t\t\tif (this.previewStart == 0) { //如果还没有构建，则先进行构建\n\t\t\t\tthis.previewStart = 1;\n\t\t\t\tif (srcArr.length > 0) {\n\t\t\t\t\tvar i = 0;\n\t\t\t\t\tvar imgW = 0,\n\t\t\t\t\timgH = 0;\n\t\t\t\t\tvar random = 'preview-'+thisTemp.randomString(10);\n\t\t\t\t\tvar loadNum = 0;\n\t\t\t\t\tvar loadImg = function(i) {\n\t\t\t\t\t\tsrcArr[i] = thisTemp.getNewUrl(srcArr[i]);\n\t\t\t\t\t\tvar n = 0;\n\t\t\t\t\t\tvar img = new Image();\n\t\t\t\t\t\timg.src = srcArr[i];\n\t\t\t\t\t\timg.className = random + i;\n\t\t\t\t\t\timg.onload = function(event) {\n\t\t\t\t\t\t\tloadNum++;\n\t\t\t\t\t\t\tif (thisTemp.previewDiv == null) { //如果没有建立DIV，则建\n\t\t\t\t\t\t\t\timgW = img.width;\n\t\t\t\t\t\t\t\timgH = img.height;\n\t\t\t\t\t\t\t\tthisTemp.previewWidth = parseInt(imgW * 0.1);\n\t\t\t\t\t\t\t\tvar ele = document.createElement('div');\n\t\t\t\t\t\t\t\tele.className = random;\n\t\t\t\t\t\t\t\tthisTemp.PD.appendChild(ele);\n\t\t\t\t\t\t\t\tthisTemp.previewDiv = thisTemp.getByElement(random);\n\t\t\t\t\t\t\t\tvar eleTop = 0;\n\t\t\t\t\t\t\t\teleTop=thisTemp.PD.offsetHeight -thisTemp.ckStyle['preview']['bottom'];\n\t\t\t\t\t\t\t\tthisTemp.css(thisTemp.previewDiv, {\n\t\t\t\t\t\t\t\t\twidth: srcArr.length * imgW * 10 + 'px',\n\t\t\t\t\t\t\t\t\theight: parseInt(imgH * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\tbackgroundColor: '#000000',\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\t\t\ttop: eleTop + 'px',\n\t\t\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t\t\tzIndex: '80'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tele.setAttribute('data-x', '0');\n\t\t\t\t\t\t\t\tele.setAttribute('data-y', eleTop);\n\t\t\t\t\t\t\t\tvar ele2 = document.createElement('div');\n\t\t\t\t\t\t\t\tele2.className = random + 'd2';\n\t\t\t\t\t\t\t\tthisTemp.PD.appendChild(ele2);\n\t\t\t\t\t\t\t\tthisTemp.previewTop = thisTemp.getByElement(ele2.className);\n\t\t\t\t\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\t\t\t\t\twidth: parseInt(imgW * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\theight: parseInt(imgH * 0.1) + 'px',\n\t\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\t\tborder: thisTemp.ckStyle['preview']['border']+'px solid ' + thisTemp.ckStyle['preview']['borderColor'].replace('0x','#'),\n\t\t\t\t\t\t\t\t\tleft: '0px',\n\t\t\t\t\t\t\t\t\ttop: eleTop + 'px',\n\t\t\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t\t\tzIndex: '81'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tvar html = '';\n\t\t\t\t\t\t\t\tfor (n = 0; n < srcArr.length; n++) {\n\t\t\t\t\t\t\t\t\thtml += thisTemp.newCanvas(random + n, imgW * 10, parseInt(imgH * 0.1))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisTemp.previewDiv.innerHTML = html;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisTemp.previewDiv.appendChild(img);\n\t\t\t\t\t\t\tvar cimg = thisTemp.getByElement(img.className);\n\t\t\t\t\t\t\tvar canvas = thisTemp.getByElement(img.className + '-canvas');\n\t\t\t\t\t\t\tvar context = canvas.getContext('2d');\n\t\t\t\t\t\t\tvar sx = 0,\n\t\t\t\t\t\t\tsy = 0,\n\t\t\t\t\t\t\tx = 0,\n\t\t\t\t\t\t\th = parseInt(imgH * 0.1);\n\t\t\t\t\t\t\tfor (n = 0; n < 100; n++) {\n\t\t\t\t\t\t\t\tx = parseInt(n * imgW * 0.1);\n\t\t\t\t\t\t\t\tcontext.drawImage(cimg, sx, sy, parseInt(imgW * 0.1), h, x, 0, parseInt(imgW * 0.1), h);\n\t\t\t\t\t\t\t\tsx += parseInt(imgW * 0.1);\n\t\t\t\t\t\t\t\tif (sx >= imgW) {\n\t\t\t\t\t\t\t\t\tsx = 0;\n\t\t\t\t\t\t\t\t\tsy += h;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisTemp.css(cimg, 'display', 'none');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (loadNum == srcArr.length) {\n\t\t\t\t\t\t\t\tthisTemp.previewStart = 2;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ti++;\n\t\t\t\t\t\t\t\tloadImg(i);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tloadImg(i);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.previewStart == 2) {\n\t\t\t\tvar isTween = true;\n\t\t\t\tvar nowNum = parseInt(obj['time'] / this.vars['preview']['scale']);\n\t\t\t\tvar numTotal = parseInt(thisTemp.getMetaDate()['duration'] / this.vars['preview']['scale']);\n\t\t\t\tif (thisTemp.css(thisTemp.previewDiv, 'display') == 'none') {\n\t\t\t\t\tisTween = false;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'display', 'block');\n\t\t\t\tvar imgWidth = thisTemp.previewDiv.offsetWidth * 0.01 / srcArr.length;\n\t\t\t\tvar left = (imgWidth * nowNum) - obj['x'] + parseInt(imgWidth * 0.5),\n\t\t\t\ttop=thisTemp.PD.offsetHeight- thisTemp.previewDiv.offsetHeight -thisTemp.ckStyle['preview']['bottom'];\n\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'top', top + 2 + 'px');\n\t\t\t\tvar topLeft = obj['x'] - parseInt(imgWidth * 0.5);\n\t\t\t\tvar timepieces = 0;\n\t\t\t\tif (topLeft < 0) {\n\t\t\t\t\ttopLeft = 0;\n\t\t\t\t\ttimepieces = obj['x'] - topLeft - imgWidth * 0.5;\n\t\t\t\t}\n\t\t\t\tif (topLeft > thisTemp.PD.offsetWidth - imgWidth) {\n\t\t\t\t\ttopLeft = thisTemp.PD.offsetWidth - imgWidth;\n\t\t\t\t\ttimepieces = obj['x'] - topLeft - imgWidth * 0.5;\n\t\t\t\t}\n\t\t\t\tif (left < 0) {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\t\t\t\tif (left > numTotal * imgWidth - thisTemp.PD.offsetWidth) {\n\t\t\t\t\tleft = numTotal * imgWidth - thisTemp.PD.offsetWidth;\n\t\t\t\t}\n\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\tleft: topLeft + 'px',\n\t\t\t\t\ttop: top + 2 + 'px',\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t\tif (thisTemp.previewTop.offsetHeight > thisTemp.previewDiv.offsetHeight) {\n\t\t\t\t\tthisTemp.css(thisTemp.previewTop, {\n\t\t\t\t\t\theight: thisTemp.previewDiv.offsetHeight - (thisTemp.previewTop.offsetHeight - thisTemp.previewDiv.offsetHeight) + 'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (this.previewTween != null) {\n\t\t\t\t\tthis.animatePause(this.previewTween);\n\t\t\t\t\tthis.previewTween = null\n\t\t\t\t}\n\t\t\t\tvar nowLeft = parseInt(thisTemp.css(thisTemp.previewDiv, 'left'));\n\t\t\t\tvar leftC = nowLeft + left;\n\t\t\t\tif (nowLeft == -(left + timepieces)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (isTween) {\n\t\t\t\t\tvar obj = {\n\t\t\t\t\t\telement: thisTemp.previewDiv,\n\t\t\t\t\t\tstart: null,\n\t\t\t\t\t\tend: -(left + timepieces),\n\t\t\t\t\t\tspeed: 0.3\n\t\t\t\t\t};\n\t\t\t\t\tthis.previewTween = this.animate(obj);\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css(thisTemp.previewDiv, 'left', -(left + timepieces) + 'px')\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t删除预览图节点\n\t\t*/\n\t\tdeletePreview: function() {\n\t\t\tif (this.previewDiv != null) {\n\t\t\t\tthis.deleteChild(this.previewDiv);\n\t\t\t\tthis.previewDiv = null;\n\t\t\t\tthis.previewStart = 0;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t修改视频地址，属性\n\t\t*/\n\t\tchangeVideo: function() {\n\t\t\tif (!this.html5Video) {\n\t\t\t\tthis.getVarsObject();\n\t\t\t\tthis.V.newVideo(this.vars);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar vArr = this.VA;\n\t\t\tvar v = this.vars;\n\t\t\tvar i = 0;\n\t\t\tif (vArr.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V != null && this.needSeek == 0) {\n\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t}\n\t\t\tif (v['poster']) {\n\t\t\t\tthis.V.poster = v['poster'];\n\t\t\t} else {\n\t\t\t\tthis.V.removeAttribute('poster');\n\t\t\t}\n\t\t\tif (v['loop']) {\n\t\t\t\tthis.V.loop = 'loop';\n\t\t\t} else {\n\t\t\t\tthis.V.removeAttribute('loop');\n\t\t\t}\n\t\t\tif (v['seek'] > 0) {\n\t\t\t\tthis.needSeek = v['seek'];\n\t\t\t} else {\n\t\t\t\tthis.needSeek = 0;\n\t\t\t}\n\t\t\tif (this.getFileExt(vArr[0][0]) != '.m3u8') {\n\t\t\t\tthis.isM3u8 = false;\n\t\t\t}\n\t\t\tif (!this.isM3u8) {\n\t\t\t\tif (vArr.length == 1) {\n\t\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\t\tthis.V.src = vArr[0][0];\n\t\t\t\t} else {\n\t\t\t\t\tvar source = '';\n\t\t\t\t\tvArr = this.arrSort(vArr);\n\t\t\t\t\tfor (i = 0; i < vArr.length; i++) {\n\t\t\t\t\t\tvar type = '';\n\t\t\t\t\t\tvar va = vArr[i];\n\t\t\t\t\t\tif (va[1]) {\n\t\t\t\t\t\t\ttype = ' type=\"' + va[1] + '\"';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsource += '<source src=\"' + va[0] + '\"' + type + '>';\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\tthis.V.innerHTML = source;\n\t\t\t\t}\n\t\t\t\t//分析视频地址结束\n\t\t\t\tif (v['autoplay']) {\n\t\t\t\t\tthis.V.autoplay = 'autoplay';\n\t\t\t\t} else {\n\t\t\t\t\tthis.V.removeAttribute('autoplay');\n\t\t\t\t}\n\t\t\t\tthis.V.load();\n\t\t\t} else {\n\t\t\t\tthis.embedHls(vArr[0][0], v['autoplay']);\n\t\t\t}\n\t\t\tif (!this.isUndefined(v['volume'])) {\n\t\t\t\tthis.changeVolume(v['volume']);\n\t\t\t}\n\t\t\tthis.resetPlayer(); //重置界面元素\n\t\t\tthis.timerErrorFun();\n\t\t\t//如果存在字幕则加载\n\t\t\tif (this.vars['cktrack']) {\n\t\t\t\tthis.loadTrack();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t调整中间暂停按钮,缓冲loading，错误提示文本框的位置\n\t\t*/\n\t\telementCoordinate: function() {\n\t\t\tthis.pdCoor = this.getXY(this.PD);\n\t\t\tvar cssTemp=null;\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['centerPlay'],{cursor:'pointer'});\n\t\t\t\tthis.css(this.CB['pauseCenter'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['loading']);\n\t\t\t\tthis.css(this.CB['loading'],cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['error']);\n\t\t\t\tthis.css(this.CB['errorText'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\ttry {\n\t\t\t\tcssTemp=this.getEleCss(this.ckStyle['logo']);\n\t\t\t\tthis.css(this.CB['logo'], cssTemp);\n\t\t\t} catch(event) {this.log(event);}\n\t\t\tthis.checkBarWidth();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t控制栏内各按钮的位置\n\t\t*/\n\t\tcarbarButton:function(){\n\t\t\tvar styleC=this.ckStyle['controlBar'];\n\t\t\tvar styleCB=styleC['button'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\tvar cssSup2={overflow: 'hidden',cursor: 'default',zIndex: 1};\n\t\t\tvar cssSup4={overflow: 'hidden',cursor: 'pointer',display: 'none',zIndex: 995};\n\t\t\t//播放/暂停按钮\n\t\t\tcssTemp=this.getEleCss(styleCB['play'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['play'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['pause'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['pause'],cssTemp);\n\t\t\t//设置静音/取消静音的按钮样式\n\t\t\tcssTemp=this.getEleCss(styleCB['mute'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['mute'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['escMute'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['escMute'],cssTemp);\n\t\t\t//设置全屏/退出全屏按钮样式\n\t\t\tcssTemp=this.getEleCss(styleCB['full'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['full'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleCB['escFull'],cssSup,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['escFull'],cssTemp);\n\t\t\tcssTemp=this.getEleCss(styleC['timeText']['vod'],cssSup2,this.CB['controlBarBg']);\n \t\t\tthis.css(this.CB['timeText'], cssTemp);\n \t\t\t//音量调节框\n \t\t\tvar volumeSchedule=this.newObj(styleC['volumeSchedule']);\n \t\t\tvolumeSchedule['backgroundImg']='';\n\t\t\tcssTemp=this.getEleCss(volumeSchedule,cssSup2,this.CB['controlBarBg']);\n\t\t\tthis.css(this.CB['volume'],cssTemp);\n\t\t\tcssTemp= {\n\t\t\t\twidth: cssTemp['width'],\n\t\t\t\theight: styleC['volumeSchedule']['backgroundHeight']+'px',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tbackgroundRepeat:'no-repeat',\n\t\t\t\tbackgroundPosition:'left center'\n\t\t\t};\n\t\t\tif(this.ckConfig['config']['buttonMode']['volumeSchedule']){\n\t\t\t\tcssTemp['cursor']='pointer';\n\t\t\t}\n\t\t\tthis.css(this.CB['volumeBg'],cssTemp);\n\t\t\tthis.css(this.CB['volumeBg'], {\n\t\t\t\tposition: 'absolute'\n\t\t\t});\n\t\t\tcssTemp['width']=(this.CB['volumeBO'].offsetWidth*0.5+parseInt(this.css(this.CB['volumeBO'],'left')))+'px';\n\t\t\tthis.css(this.CB['volumeUp'],cssTemp);\n\t\t\tthis.css(this.CB['volumeBg'], 'backgroundImage', 'url('+styleC['volumeSchedule']['backgroundImg']+')');\n\t\t\tthis.css(this.CB['volumeUp'], 'backgroundImage', 'url('+styleC['volumeSchedule']['maskImg']+')');\n\t\t\t//音量调节按钮\n\t\t\tcssTemp=this.getEleCss(styleC['volumeSchedule']['button'],{overflow: 'hidden',cursor: 'pointer',backgroundRepeat:'no-repeat',backgroundPosition:'left center'});\n\t\t\tthis.css(this.CB['volumeBO'],cssTemp);\n\t\t\t//倍速容器\n\t\t\tif(this.ckConfig['config']['playbackRate']){\n\t\t\t\tif(!this.CB['playbackrateButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['playbackrate'],styleC['playbackrate']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['playbackrate']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['playbackrate'],'playbackrateButtonText');\n\t\t\t\t}\n\t\t\t\tcssTemp=this.getEleCss(styleC['playbackrate']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['playbackrate'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['playbackrateP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['playbackrate']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['playbackrateP'], cssTemp);\n\t\t\t}\n\t\t\t//初始化清晰度按钮\n\t\t\tif(this.ckConfig['config']['definition']){\n\t\t\t\tif(!this.CB['defaultButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['definition'],styleC['definition']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['definition']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['definition'],'defaultButtonText');\n\t\t\t\t}\n\t\t\t\tcssTemp=this.getEleCss(styleC['definition']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['definition'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['definitionP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['definition']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['definitionP'], cssTemp);\n\t\t\t}\n\t\t\t//初始化字幕切换按钮\n\t\t\tif(this.ckConfig['config']['subtitle']){\n\t\t\t\tif(!this.CB['subtitleButtonText']){\n\t\t\t\t\tthis.textButton(this.CB['subtitles'],styleC['subtitle']['defaultButton'],this.objectAssign({overflow: 'hidden',cursor: 'pointer',zIndex: 1},styleC['subtitle']['defaultButtonCoor']),this.CB['controlBarBg'],this.ckLanguage['subtitle'],'subtitleButtonText');\n\t\t\t\t}\n\t\t\t\t//字幕按钮列表容器样式\n\t\t\t\tcssTemp=this.getEleCss(styleC['subtitle']['defaultButtonCoor'],cssSup,this.CB['controlBarBg']);\n\t\t\t\tthis.css(this.CB['subtitles'], {\n\t\t\t\t\tleft:cssTemp['left'],\n\t\t\t\t\ttop:cssTemp['top']\n\t\t\t\t});\n\t\t\t\tthis.css(this.CB['subtitlesP'],'display','none');\n\t\t\t\tcssTemp=this.getEleCss(styleC['subtitle']['backgroundCoorH5'],cssSup4);\n\t\t\t\tthis.css(this.CB['subtitlesP'], cssTemp);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t构造一个文字按钮\n\t\t \tele:当前按钮\n\t\t \tcss:样式\n\t\t \tcssSup:补充样式\n\t\t \tupEle：上一级容器对象\n\t\t \ttext:显示的文本\n\t\t \tnewName:文本框名称\n\t\t*/\n\t\ttextButton:function(ele,css,cssSup,upEle,text,newName){\n\t\t\tvar thisTemp=this;\n\t\t\tvar bgCss={\n\t\t\t\twidth:css['width'],\n\t\t\t\theight:css['height']\n\t\t\t};\n\t\t\tif(cssSup){\n\t\t\t\tbgCss={\n\t\t\t\t\twidth:css['width'],\n\t\t\t\t\theight:css['height'],\n\t\t\t\t\talign:cssSup['align'],\n\t\t\t\t\tvAlign:cssSup['vAlign'],\n\t\t\t\t\tmarginX: cssSup['marginX'],\n\t\t\t\t\tmarginY: cssSup['marginY'],\n\t\t\t\t\toffsetX: cssSup['offsetX'],\n\t\t\t\t\toffsetY: cssSup['offsetY'],\n\t\t\t\t\tzIndex:2\n\t\t\t\t};\n\t\t\t}\n\t\t\tcssTemp=this.getEleCss(bgCss,null,upEle);\n\t\t\tthisTemp.css(ele, cssTemp);\n\t\t\tvar outCss=this.newObj(css);\n\t\t\tvar overCss=this.newObj(css);\n\t\t\tvar textOutCss=this.newObj(css);\n\t\t\tvar textOverCss=this.newObj(css);\n\t\t\tvar cssTemp=null;\n\t\t\toutCss['alpha']=css['backgroundAlpha'];\n\t\t\toverCss['backgroundColor']=css['overBackgroundColor'];\n\t\t\toverCss['alpha']=css['backgroundAlpha'];\n\t\t\ttextOutCss['color']=css['textColor'];\n\t\t\ttextOverCss['color']=css['overTextColor'];\n\t\t\ttextOutCss['textAlign']=css['align'];\n\t\t\ttextOverCss['textAlign']=css['align'];\n\t\t\t//修正文字\n\t\t\ttextOutCss['backgroundColor']=textOverCss['backgroundColor']='';\n\t\t\tvar bgEle=document.createElement('div');//按钮背景层\n\t\t\tthis.removeChildAll(ele);\n\t\t\tele.appendChild(bgEle);\n\t\t\tif(newName){\n\t\t\t\tthis.CB[newName]=document.createElement('div');//文字层\n\t\t\t\tele.appendChild(this.CB[newName]);\n\t\t\t\tthis.CB[newName].innerHTML=text;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar newEle=document.createElement('div');//文字层\n\t\t\t\tele.appendChild(newEle);\n\t\t\t\tnewEle.innerHTML=text;\n\t\t\t}\n\t\t\tvar outFun=function(){\n\t\t\t\tcssTemp=thisTemp.getEleCss(outCss,{cursor: 'pointer',zIndex:1},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tthisTemp.css(bgEle, cssTemp);\n\t\t\t\tcssTemp=thisTemp.getEleCss(textOutCss,{cursor: 'pointer',zIndex:2},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tif(newName){\n\t\t\t\t\tthisTemp.css(thisTemp.CB[newName], cssTemp,bgEle);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(newEle, cssTemp,bgEle);\n\t\t\t\t}\n\t\t\t\tthisTemp.buttonHide=true;//显示的列表框需要隐藏\n\t\t\t\tif(thisTemp.timeButtonOver){\n\t\t\t\t\twindow.clearTimeout(thisTemp.timeButtonOver);\n\t\t\t\t\tthisTemp.timeButtonOver=null;\n\t\t\t\t}\n\t\t\t\tthisTemp.timeButtonOver=window.setTimeout(function(){thisTemp.buttonListHide()},1000);\n\t\t\t};\n\t\t\tvar overFun=function(){\n\t\t\t\tcssTemp=thisTemp.getEleCss(overCss,{zIndex:1},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tthisTemp.css(bgEle, cssTemp);\n\t\t\t\tcssTemp=thisTemp.getEleCss(textOverCss,{zIndex:2},bgEle);\n\t\t\t\tcssTemp['left']='';\n\t\t\t\tcssTemp['top']='';\n\t\t\t\tif(newName){\n\t\t\t\t\tthisTemp.css(thisTemp.CB[newName], cssTemp);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthisTemp.css(newEle, cssTemp);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t};\n\t\t\toutFun();\n\t\t\tthis.addListenerInside('mouseout', outFun, ele);\n\t\t\tthis.addListenerInside('mouseover', overFun, ele);\n\t\t},\n\t\t/*\n\t\t\t隐藏所有的列表框 \n\t\t*/\n\t\tbuttonListHide:function(){\n\t\t\tif(this.buttonHide){\n\t\t\t\tthis.css([this.CB['definitionP'],this.CB['subtitlesP'],this.CB['playbackrateP']],'display','none');\n\t\t\t}\n\t\t\tif(this.timeButtonOver){\n\t\t\t\twindow.clearTimeout(this.timeButtonOver);\n\t\t\t\tthis.timeButtonOver=null;\n\t\t\t}\n\t\t\tthis.buttonHide=false;\n\t\t},\n\t\t/*\n\t\t \t计算视频的宽高\n\t\t*/\n\t\tvideoCss:function(){\n\t\t\tvar cssTemp={};\n\t\t\t\n\t\t\tif(this.css(this.CB['controlBar'],'display')=='none'){\n\t\t\t\tcssTemp=this.ckStyle['video']['controlBarHideReserve'];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tcssTemp=this.ckStyle['video']['reserve'];\n\t\t\t}\n\t\t\tvar spacingBottom=cssTemp['spacingBottom'];\n\t\t\tif(this.V.controls && this.isMobile()){\n\t\t\t\tspacingBottom-=40;\n\t\t\t}\n\t\t\tvar pW=this.PD.offsetWidth,pH=this.PD.offsetHeight;\n\t\t\tvar vW=pW-cssTemp['spacingLeft']-cssTemp['spacingRight'];\n\t\t\tvar vH=pH-cssTemp['spacingTop']-spacingBottom;\n\t\t\tif(!this.MD){\n\t\t\t\tthis.css(this.V,{\n\t\t\t\t\twidth:vW+'px',\n\t\t\t\t\theight:vH+'px',\n\t\t\t\t\tmarginLeft:cssTemp['spacingLeft']+'px',\n\t\t\t\t\tmarginTop:cssTemp['spacingTop']+'px'\n\t\t\t\t});\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.css([this.MD,this.MDC],{\n\t\t\t\t\twidth:vW+'px',\n\t\t\t\t\theight:vH+'px',\n\t\t\t\t\tmarginLeft:cssTemp['spacingLeft']+'px',\n\t\t\t\t\tmarginTop:cssTemp['spacingTop']+'px'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t播放器界面自定义元素\n\t\t*/\n\t\tplayerCustom:function(){\n\t\t\tvar custom=this.ckStyle['custom'];\n\t\t\tvar button=custom['button'];\n\t\t\tvar images=custom['images'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup=null;\n\t\t\tvar k='',tempID='';\n\t\t\tvar b={};\n\t\t\tvar tempDiv;\n\t\t\tvar i=0;\n\t\t\tfor(k in button){\n\t\t\t\tb=button[k];\n\t\t\t\tcssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'player-button',name:k});\n\t\t\t\tthis.PD.appendChild(tempDiv);\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\ttempDiv.dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tthis.buttonEventFun(tempDiv,b);\n\t\t\t}\n\t\t\tfor(k in images){\n\t\t\t\tb=images[k];\n\t\t\t\tcssSup={overflow: 'hidden',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'player-images',name:k});\n\t\t\t\tthis.PD.appendChild(tempDiv);\n\t\t\t\tvar img=new Image();\n\t\t\t\timg.src=images[k]['img'];\n\t\t\t\ttempDiv.appendChild(img);\n\t\t\t\ti++\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素\n\t\t*/\n\t\tcarbarCustom:function(){\n\t\t\tvar custom=this.ckStyle['controlBar']['custom'];\n\t\t\tvar button=custom['button'];\n\t\t\tvar images=custom['images'];\n\t\t\tvar cssTemp=null;\n\t\t\tvar cssSup=null;\n\t\t\tvar k='',tempID='';\n\t\t\tvar b={};\n\t\t\tvar tempDiv;\n\t\t\tvar i=0;\n\t\t\tfor(k in button){\n\t\t\t\tb=button[k];\n\t\t\t\tcssSup={overflow: 'hidden',cursor: 'pointer',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup,this.CB['controlBarBg']);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'controlBar-button',name:k});\n\t\t\t\tthis.CB['controlBar'].appendChild(tempDiv);\n\t\t\t\tif(!this.isUndefined(this.ckLanguage['buttonOver'][k])){\n\t\t\t\t\ttempDiv.dataset.title=this.ckLanguage['buttonOver'][k];\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tthis.buttonEventFun(tempDiv,b);\n\t\t\t}\n\t\t\tfor(k in images){\n\t\t\t\tb=images[k];\n\t\t\t\tcssSup={overflow: 'hidden',zIndex: 1};\n\t\t\t\tcssTemp=this.getEleCss(b,cssSup,this.CB['controlBarBg']);\n\t\t\t\ttempDiv = document.createElement('div');\n\t\t\t\tthis.css(tempDiv,cssTemp);\n\t\t\t\tthis.customeElement.push({ele:tempDiv,css:b,cssSup:cssSup,type:'controlBar-images',name:k});\n\t\t\t\tthis.CB['controlBar'].appendChild(tempDiv);\n\t\t\t\tvar img=new Image();\n\t\t\t\timg.src=images[k]['img'];\n\t\t\t\ttempDiv.appendChild(img);\n\t\t\t\ti++;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素的位置\n\t\t*/\n\t\tcustomCoor:function(){\n\t\t\tvar cssTemp=null;\n\t\t\tif(this.customeElement.length>0){\n\t\t\t\tfor(var i=0;i<this.customeElement.length;i++){\n\t\t\t\t\tif(this.customeElement[i]['type']=='controlBar'){\n\t\t\t\t\t\tcssTemp=this.getEleCss(this.customeElement[i]['css'],this.customeElement[i]['cssSup'],this.CB['controlBarBg']);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tcssTemp=this.getEleCss(this.customeElement[i]['css'],this.customeElement[i]['cssSup']);\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(this.customeElement[i]['ele'],cssTemp);\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t},\n\t\t/*\n\t\t \t控制栏自定义元素的显示和隐藏，只对播放器界面的有效，作用是当播放视频广告时隐藏，广告播放完成后显示\n\t\t*/\n\t\tcustomShow:function(show){\n\t\t\tif(this.customeElement.length>0){\n\t\t\t\tfor(var i=0;i<this.customeElement.length;i++){\n\t\t\t\t\tif(this.customeElement[i]['type']=='player'){\n\t\t\t\t\t\tthis.css(this.customeElement[i]['ele'],'display',show?'block':'none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t},\n\t\t/*\n\t\t \t广告控制栏样式\n\t\t*/\n\t\tadvertisementStyle:function(){\n\t\t\tvar asArr=['muteButton','escMuteButton','adLinkButton','closeButton','skipAdButton','countDown','countDownText','skipDelay','skipDelayText'];\n\t\t\tvar eleArr=['adMute','adEscMute','adLink','adPauseClose','adSkipButton','adTime','adTimeText','adSkip','adSkipText'];\n\t\t\tfor(var i=0;i<eleArr.length;i++){\n\t\t\t\tvar cssUp={overflow: 'hidden',zIndex: 999};\n\t\t\t\tif(i<5){\n\t\t\t\t\tcssUp['cursor']='pointer';\n\t\t\t\t}\n\t\t\t\tvar cssTemp=this.getEleCss(this.ckStyle['advertisement'][asArr[i]],cssUp);\n\t\t\t\tthis.css(this.CB[eleArr[i]],cssTemp);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t当播放器尺寸变化时，显示和隐藏相关节点\n\t\t*/\n\t\tcheckBarWidth: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t初始化暂停或播放按钮\n\t\t*/\n\t\tinitPlayPause: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.vars['autoplay']) {\n\t\t\t\tthis.css([this.CB['play'], this.CB['pauseCenter']], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'block');\n\t\t\t\tif (this.css(this.CB['errorText'], 'display') == 'none') {\n\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'block');\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'none');\n\t\t\t}\n\t\t},\n\n\t\t/*\n\t\t\t下面为监听事件\n\t\t\t内部函数\n\t\t\t监听元数据已加载\n\t\t*/\n\t\tloadedHandler: function() {\n\t\t\tthis.loaded = true;\n\t\t\tif (this.vars['loaded'] != '') {\n\t\t\t\ttry {\n\t\t\t\t\teval(this.vars['loaded'] + '(\\''+this.vars['variable']+'\\')');\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放\n\t\t*/\n\t\tplayingHandler: function() {\n\t\t\tthis.playShow(true);\n\t\t\t//如果是第一次播放\n\t\t\tif (this.isFirstTimePlay && !this.isUndefined(this.advertisements['front'])) {\n\t\t\t\tthis.isFirstTimePlay = false;\n\t\t\t\t//调用播放前置广告组件\n\t\t\t\tthis.adI = 0;\n\t\t\t\tthis.adType = 'front';\n\t\t\t\tthis.adMuteInto();\n\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\tthis.adPlayStart = true;\n\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\tthis.videoPause();\n\t\t\t\tthis.advertisementsTime();\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\t//调用播放前置广告组件结束\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//判断第一次播放结束\n\t\t\tif (this.needSeek > 0) {\n\t\t\t\tthis.videoSeek(this.needSeek);\n\t\t\t\tthis.needSeek = 0;\n\t\t\t}\n\t\t\tif (this.animatePauseArray.length > 0) {\n\t\t\t\tthis.animateResume('pause');\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video' && this.V != null && this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\tthis.sendVCanvas();\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['pause']) && !this.adPlayStart) { //如果存在暂停广告\n\t\t\t\tthis.closePauseAd();\n\t\t\t}\n\t\t},\n\t\t/*暂停时播放暂停广告*/\n\t\tadPausePlayer: function() {\n\t\t\tthis.adI = 0;\n\t\t\tthis.adType = 'pause';\n\t\t\tthis.adPauseShow = true;\n\t\t\tthis.loadAdPause();\n\t\t\tthis.sendJS('pauseAd','play');\n\t\t},\n\t\tloadAdPause: function() {\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tvar thisTemp = this;\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tif (this.isStrImage(type) && this.adPauseShow) {\n\t\t\t\tthis.css(this.CB['adElement'], 'display', 'block');\n\t\t\t\tvar imgClass = 'adimg' + this.randomString(10);\n\t\t\t\tvar imgHtml = '<img src=\"' + ad['file'] + '\" class=\"' + imgClass + '\">';\n\t\t\t\tif (ad['link']) {\n\t\t\t\t\timgHtml = '<a href=\"' + ad['link'] + '\" target=\"_blank\">' + imgHtml + '</a>';\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = imgHtml;\n\t\t\t\tthis.addListenerInside('load',\n\t\t\t\tfunction() {\n\t\t\t\t\tvar imgObj = new Image();\n\t\t\t\t\timgObj.src = this.src;\n\t\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\t\tthisTemp.css([thisTemp.getByElement(imgClass), thisTemp.CB['adElement']], {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\tborder: '0px'\n\t\t\t\t\t});\n\t\t\t\t\tif (thisTemp.ckStyle['advertisement']['closeButtonShow'] && thisTemp.adPauseShow) {\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['adPauseClose'], {\n\t\t\t\t\t\t\tdisplay: 'block'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\t\tthisTemp.adPauseCoor();\n\t\t\t\t},\n\t\t\t\tthis.getByElement(imgClass));\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adElement']);\n\t\t\t\tvar newI = this.adI;\n\t\t\t\tif (this.adI < this.advertisements['pause'].length - 1) {\n\t\t\t\t\tnewI++;\n\t\t\t\t} else {\n\t\t\t\t\tnewI = 0;\n\t\t\t\t}\n\t\t\t\tif (ad['time'] > 0) {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tif (thisTemp.adPauseShow) {\n\t\t\t\t\t\t\tthisTemp.adI = newI;\n\t\t\t\t\t\t\tthisTemp.loadAdPause();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tad['time'] * 1000);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*调整暂停广告的位置*/\n\t\tadPauseCoor: function() {\n\t\t\tif (this.css(this.CB['adElement'], 'display') == 'block') {\n\t\t\t\tvar w = this.CB['adElement'].offsetWidth,\n\t\t\t\th = this.CB['adElement'].offsetHeight;\n\t\t\t\tvar pw = this.PD.offsetWidth,\n\t\t\t\tph = this.PD.offsetHeight;\n\t\t\t\tthis.css(this.CB['adElement'], {\n\t\t\t\t\ttop: (ph - h) * 0.5 + 'px',\n\t\t\t\t\tleft: (pw - w) * 0.5 + 'px'\n\t\t\t\t});\n\t\t\t\tif (this.css(this.CB['adPauseClose'], 'display') == 'block') {\n\t\t\t\t\tvar rr=this.ckStyle['advertisement']['closeButton'];\n\t\t\t\t\tvar cxy =  this.getPosition(rr,this.CB['adElement']);\n\t\t\t\t\tthis.css(this.CB['adPauseClose'], {\n\t\t\t\t\t\ttop: cxy['y'] + 'px',\n\t\t\t\t\t\tleft: cxy['x'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t关闭暂停广告\n\t\t*/\n\t\tclosePauseAd: function() {\n\t\t\tthis.CB['adElement'].innerHTML = '';\n\t\t\tthis.css([this.CB['adElement'], this.CB['adPauseClose']], 'display', 'none');\n\t\t\tthis.adPauseShow = false;\n\t\t\tthis.sendJS('pauseAd','ended');\n\t\t},\n\t\t/*计算广告时间*/\n\t\tadvertisementsTime: function(nt) {\n\t\t\tif (this.isUndefined(nt)) {\n\t\t\t\tnt = 0;\n\t\t\t}\n\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\tif (nt > 0) {\n\t\t\t\tad[this.adI]['time'] = Math.ceil(nt);\n\t\t\t}\n\t\t\tthis.adTimeAllTotal = 0;\n\t\t\tfor (var i = this.adI; i < ad.length; i++) {\n\t\t\t\tif (!this.isUndefined(ad[i]['time'])) {\n\t\t\t\t\tthis.adTimeAllTotal += Math.ceil(ad[i]['time']);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.adTimeAllTotal > 0) {\n\t\t\t\tthis.CB['adTimeText'].innerHTML = this.ckLanguage['adCountdown'].replace('[$second]', this.adTimeAllTotal).replace('[$Second]', this.adTimeAllTotal > 9 ? this.adTimeAllTotal: '0' + this.adTimeAllTotal);\n\t\t\t}\n\t\t\tif (this.adPauseShow) {\n\t\t\t\tthis.closePauseAd();\n\t\t\t}\n\t\t\tthis.adOtherCloseAll();\n\t\t\tthis.adTimeTotal = -1;\n\t\t},\n\t\t/*判断是否需要显示跳过广告按钮*/\n\t\tadSkipButtonShow: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tvar skipConfig = this.ckStyle['advertisement'];\n\t\t\tvar delayTimeTemp = skipConfig[this.adType + 'SkipButtonDelay'];\n\t\t\tvar timeFun = function() {\n\t\t\t\tif (delayTimeTemp >= 0) {\n\t\t\t\t\tthisTemp.CB['adSkipText'].innerHTML = thisTemp.ckLanguage['skipDelay'].replace('[$second]', delayTimeTemp).replace('[$Second]', delayTimeTemp > 9 ? delayTimeTemp: '0' + delayTimeTemp);\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','block');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','none');\n\t\t\t\t\tsetTimeout(timeFun, 1000);\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','none');\n\t\t\t\t\tif(thisTemp.css(thisTemp.CB['adTime'],'display')=='block'){\n\t\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','block');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tdelayTimeTemp--;\n\t\t\t};\n\t\t\tif (skipConfig['skipButtonShow']) {\n\t\t\t\tif (skipConfig[this.adType + 'SkipButtonDelay'] > 0 && this.isUndefined(this.adSkipButtonTime)) {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']], 'display', 'block');\n\t\t\t\t\ttimeFun();\n\t\t\t\t} else {\n\t\t\t\t\tthisTemp.css([thisTemp.CB['adSkip'],thisTemp.CB['adSkipText']],'display','none');\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adSkipButton'],'display','block');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*播放广告*/\n\t\tadvertisementsPlay: function() {\n\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText'], this.CB['adSkip'], this.CB['adSkipText'],this.CB['adSkipButton'], this.CB['adLink']], 'display', 'none');\n\t\t\tthis.adPlayerPlay = false;\n\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\tif (this.adI == 0 && (this.adType == 'front' || this.adType == 'insert' || this.adType == 'end')) {\n\t\t\t\tthis.sendJS('process', this.adType + ' ad play');\n\t\t\t\tthis.sendJS(this.adType+'Ad','play');\n\t\t\t}\n\t\t\tthis.trackHide();\n\t\t\tif (this.adI < ad.length) {\n\t\t\t\tif (!this.isUndefined(ad[this.adI]['time'])) {\n\t\t\t\t\tthis.adTimeTotal = parseInt(ad[this.adI]['time']);\n\t\t\t\t}\n\t\t\t\tthis.loadAdvertisements();\n\t\t\t} else {\n\t\t\t\tthis.adEnded();\n\t\t\t}\n\t\t},\n\t\t/*清除当前所有广告*/\n\t\teliminateAd: function() {\n\t\t\tif (this.adType) {\n\t\t\t\tvar ad = this.advertisements[this.adType];\n\t\t\t\tthis.adI = ad.length;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t}\n\n\t\t},\n\t\t/*广告播放结束*/\n\t\tadEnded: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.adPlayStart = false;\n\t\t\tif(this.adType=='front'){\n\t\t\t\tthis.time=0;\n\t\t\t}\n\t\t\tthis.adPlayerPlay = false;\n\t\t\tif (this.adVideoPlay) {\n\t\t\t\tif (this.videoTemp['src'] != '') {\n\t\t\t\t\tthis.V.src = this.videoTemp['src'];\n\t\t\t\t} else {\n\t\t\t\t\tif (this.V.src) {\n\t\t\t\t\t\tthis.V.removeAttribute('src');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['source'] != '') {\n\t\t\t\t\tthis.V.innerHTML = this.videoTemp['source'];\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['currentSrc'] != '') {\n\t\t\t\t\tthis.V.src = this.videoTemp['currentSrc'];\n\t\t\t\t\tthis.V.currentSrc = this.videoTemp['currentSrc'];\n\t\t\t\t}\n\t\t\t\tif (this.videoTemp['loop']) {\n\t\t\t\t\tthis.V.loop = true;\n\t\t\t\t\tthis.videoTemp['loop'] = false;\n\t\t\t\t}\n\t\t\t\tif (this.adType == 'end') {\n\t\t\t\t\tthis.endedHandler();\n\t\t\t\t} else {\n\t\t\t\t\tthis.videoPlay();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.videoPlay();\n\t\t\t}\n\t\t\tthis.changeVolume(this.vars['volume']);\n\t\t\tthis.sendJS('process', this.adType + ' ad ended');\n\t\t\tthis.sendJS(this.adType+'Ad','ended');\n\t\t\tthis.changeControlBarShow(true);\n\t\t\tthis.css(this.CB['logo'], 'display','block');\n\t\t\tthis.customShow(true);\n\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText'], this.CB['adSkip'], this.CB['adSkipText'],this.CB['adSkipButton'], this.CB['adLink'],this.CB['adMute'], this.CB['adEscMute']], 'display', 'none');\n\t\t},\n\t\t/*加载广告*/\n\t\tloadAdvertisements: function() {\n\t\t\t//this.videoTemp\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tvar thisTemp = this;\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tthis.changeControlBarShow(false);\n\t\t\tthis.adPlayerPlay = true;\n\t\t\tthis.css(this.CB['logo'], 'display','none');\n\t\t\tthis.customShow(false);\n\t\t\tif (this.isStrImage(type)) {\n\t\t\t\tthis.css([this.CB['adBackground'], this.CB['adElement'], this.CB['adTime'], this.CB['adTimeText']], 'display', 'block');\n\t\t\t\tthis.css([this.CB['adMute'], this.CB['adEscMute']], 'display', 'none');\n\t\t\t\tvar imgClass = 'adimg' + this.randomString(10);\n\t\t\t\tvar imgHtml = '<img src=\"' + ad['file'] + '\" class=\"' + imgClass + '\">';\n\t\t\t\tif (ad['link']) {\n\t\t\t\t\timgHtml = '<a href=\"' + ad['link'] + '\" target=\"_blank\">' + imgHtml + '</a>';\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = imgHtml;\n\t\t\t\tthis.addListenerInside('load',\n\t\t\t\tfunction() {\n\t\t\t\t\tvar imgObj = new Image();\n\t\t\t\t\timgObj.src = this.src;\n\t\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\t\tthisTemp.css(thisTemp.getByElement(imgClass), {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\tborder: '0px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.css(thisTemp.CB['adElement'], {\n\t\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\t\ttop: (height - imgWH['height']) * 0.5 + 'px',\n\t\t\t\t\t\tleft: (width - imgWH['width']) * 0.5 + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.getByElement(imgClass));\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adElement']);\n\t\t\t\tif (!this.isUndefined(ad['time'])) {\n\t\t\t\t\tthis.adCountDown();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.css([this.CB['adTime'], this.CB['adTimeText']], 'display', 'block');\n\t\t\t\t//判断是否静音\n\t\t\t\tif (this.adVideoMute) {\n\t\t\t\t\tthis.css(this.CB['adEscMute'], 'display', 'block');\n\t\t\t\t\tthis.css(this.CB['adMute'], 'display', 'none');\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.CB['adEscMute'], 'display', 'none');\n\t\t\t\t\tthis.css(this.CB['adMute'], 'display', 'block');\n\t\t\t\t}\n\t\t\t\tthis.CB['adElement'].innerHTML = '';\n\t\t\t\tif (this.videoTemp['currentSrc'] == '') {\n\t\t\t\t\tthis.videoTemp['currentSrc'] = this.getCurrentSrc();\n\t\t\t\t}\n\t\t\t\tif (this.V.loop) {\n\t\t\t\t\tthis.videoTemp['loop'] = true;\n\t\t\t\t\tthis.V.loop = false;\n\t\t\t\t}\n\t\t\t\tif (this.V != null && this.V.currentTime > 0 && this.adIsVideoTime && this.adType!='front') { //当有视频广告时而又没有记录下已播放的时间则进行记录\n\t\t\t\t\tthis.adIsVideoTime = false;\n\t\t\t\t\tthis.needSeek = this.V.currentTime;\n\t\t\t\t}\n\t\t\t\tthis.V.src = ad['file'];\n\t\t\t\tthis.V.currentSrc = ad['file'];\n\t\t\t\tthis.V.innerHTML = '';\n\t\t\t\tthis.V.play();\n\t\t\t\tthis.adVideoPlay = true;\n\t\t\t\tthis.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\tif (!this.adVideoMute) {\n\t\t\t\t\tthis.escAdMute();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ad['link']) {\n\t\t\t\tthis.css(this.CB['adLink'], 'display', 'block');\n\t\t\t\tvar adLinkClick = function(event) {\n\t\t\t\t\tthisTemp.sendJS('clickEvent', 'javaScript->adLinkClick');\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', adLinkClick, this.CB['adLink']);\n\t\t\t\tthis.adLinkTemp=ad['link'];\n\t\t\t\tvar linkTemp = '<a href=\"' + ad['link'] + '\" target=\"_blank\" class=\"ckadmorelink\"><img src=\"' + this.ckStyle['png-1-1'] + '\" width=\"'+this.ckStyle['advertisement']['adLinkButton']['width']+'\" height=\"'+this.ckStyle['advertisement']['adLinkButton']['height']+'\"></a>';\n\t\t\t\tthis.CB['adLink'].innerHTML = linkTemp;\n\t\t\t\tthis.css(this.getByElement('ckadmorelink'), {\n\t\t\t\t\tcolor: '#FFFFFF',\n\t\t\t\t\ttextDecoration: 'none'\n\t\t\t\t});\n\t\t\t\tthis.addListenerInside('click',\n\t\t\t\tfunction() {\n\t\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t\t},\n\t\t\t\tthis.CB['adLink']);\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['adLink'], 'display', 'none');\n\t\t\t}\n\n\t\t},\n\t\t/*普通广告倒计时*/\n\t\tadCountDown: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.adTimeTotal > 0) {\n\t\t\t\tif (!this.adIsPause) {\n\t\t\t\t\tthis.adTimeTotal--;\n\t\t\t\t\tthis.showAdTime();\n\t\t\t\t\tthis.adCountDownObj = null;\n\t\t\t\t\tthis.adCountDownObj = setTimeout(function() {\n\t\t\t\t\t\tthisTemp.adCountDown();\n\t\t\t\t\t},\n\t\t\t\t\t1000);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.adI++;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t}\n\t\t},\n\t\t/*视频广告倒计时*/\n\t\tadPlayerTimeHandler: function(time) {\n\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\tvar type = ad['type'];\n\t\t\tif (this.isStrImage(type)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adTimeTotal != parseInt(time)) {\n\t\t\t\tthis.adTimeTotal = parseInt(time);\n\t\t\t\tthis.showAdTime();\n\t\t\t}\n\t\t},\n\t\t/*格式化广告倒计时显示*/\n\t\tshowAdTime: function() {\n\t\t\tthis.adTimeAllTotal--;\n\t\t\tvar n = this.adTimeAllTotal;\n\t\t\tif (n < 0) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tthis.CB['adTimeText'].innerHTML = this.ckLanguage['adCountdown'].replace('[$second]', n).replace('[$Second]', n < 10 ? '0' + n: n);\n\t\t},\n\t\t/*\n\t\t\t单独监听其它广告\n\t\t*/\n\t\tcheckAdOther: function(t) {\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar adTime = this.advertisements['othertime'];\n\t\t\tvar adPlay = this.advertisements['otherPlay'];\n\t\t\tfor (var i = 0; i < adTime.length; i++) {\n\t\t\t\tif (t >= adTime[i] && !adPlay[i]) { //如果播放时间大于广告时间而该广告还没有播放，则开始播放\n\t\t\t\t\tadPlay[i] = true;\n\t\t\t\t\tthis.newAdOther(i);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t新建其它广告 \n\t\t*/\n\t\tnewAdOther: function(i) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar ad = this.advertisements['other'][i];\n\t\t\tvar randomS = this.randomString(10); //获取一个随机字符串\n\t\t\tvar adDivID = 'adother' + randomS; //广告容器\n\t\t\timgClassName = 'adimgother' + randomS;\n\t\t\tvar adDiv = document.createElement('div');\n\t\t\tadDiv.className = adDivID;\n\t\t\tthis.PD.appendChild(adDiv);\n\t\t\tad['div'] = adDivID;\n\t\t\tad['element'] = imgClassName;\n\t\t\tvar adHtml='<img src=\"' + ad['file'] + '\" class=\"' + imgClassName + '\">';\n\t\t\tif(ad['link']){\n\t\t\t\tadHtml='<a href=\"' + ad['link'] + '\" target=\"blank\">'+adHtml+'</a>';\n\t\t\t}\n\t\t\tthis.getByElement(adDivID).innerHTML =adHtml;\n\t\t\tthis.css(adDivID, {\n\t\t\t\tposition: 'absolute',\n\t\t\t\toverflow: 'hidden',\n\t\t\t\tzIndex: '996',\n\t\t\t\ttop: '-600px',\n\t\t\t\tleft: '-600px',\n\t\t\t\tcursor: 'pointer'\n\t\t\t});\n\t\t\tif (this.ckStyle['advertisement']['closeOtherButtonShow']) {\n\t\t\t\tvar closeAdDivID = 'adotherclose-' + randomS; //广告容器\n\t\t\t\tvar closeAdDiv = document.createElement('div');\n\t\t\t\tcloseAdDiv.className = closeAdDivID;\n\t\t\t\tthis.PD.appendChild(closeAdDiv);\n\t\t\t\tad['closeDiv'] = closeAdDivID;\n\t\t\t\tad['close'] = false;\n\t\t\t\tvar closeAdDivCss=this.getEleCss(this.ckStyle['advertisement']['closeOtherButton'],{offsetX:-10000,offsetY:-10000,cursor: 'pointer',zIndex: 997});\t\t\t\t\n\t\t\t\tthis.css(closeAdDivID, closeAdDivCss);\t\t\t\n\t\t\t\tvar adOtherCloseOver = function() {\n\t\t\t\t\tthisTemp.loadImgBg(closeAdDivID,thisTemp.ckStyle['advertisement']['closeOtherButton']['mouseOver']);\n\t\t\t\t};\n\t\t\t\tvar adOtherCloseOut = function() {\n\t\t\t\t\tthisTemp.loadImgBg(closeAdDivID,thisTemp.ckStyle['advertisement']['closeOtherButton']['mouseOut']);\n\t\t\t\t};\n\t\t\t\tadOtherCloseOut();\n\t\t\t\tthis.addListenerInside('mouseover', adOtherCloseOver, this.getByElement(closeAdDivID));\n\t\t\t\tthis.addListenerInside('mouseout', adOtherCloseOut, this.getByElement(closeAdDivID));\n\t\t\t}\n\t\t\tthis.addListenerInside('load',\n\t\t\tfunction() {\n\t\t\t\tvar imgObj = new Image();\n\t\t\t\timgObj.src = this.src;\n\t\t\t\tvar imgWH = thisTemp.adjustmentWH(imgObj.width, imgObj.height);\n\t\t\t\tthisTemp.css([thisTemp.getByElement(imgClassName), thisTemp.getByElement(adDivID)], {\n\t\t\t\t\twidth: imgWH['width'] + 'px',\n\t\t\t\t\theight: imgWH['height'] + 'px',\n\t\t\t\t\tborder: '0px'\n\t\t\t\t});\n\t\t\t\tthisTemp.advertisements['other'][i] = ad;\n\t\t\t\tthisTemp.ajaxSuccessNull(ad['exhibitionMonitor']);\n\t\t\t\tthisTemp.adOtherCoor();\n\t\t\t},\n\t\t\tthis.getByElement(imgClassName));\n\t\t\tthis.addListenerInside('click',\n\t\t\tfunction() {\n\t\t\t\tthisTemp.adOtherClose(i);\n\t\t\t},\n\t\t\tthis.getByElement(closeAdDivID));\n\t\t\tthis.addListenerInside('click',\n\t\t\tfunction() {\n\t\t\t\tthisTemp.ajaxSuccessNull(ad['clickMonitor']);\n\t\t\t},\n\t\t\tthis.getByElement(imgClassName));\n\t\t\tif (ad['time'] > 0) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthisTemp.adOtherClose(i);\n\t\t\t\t},\n\t\t\t\tad['time'] * 1000);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t关闭其它广告\n\t\t*/\n\t\tadOtherClose: function(i) {\n\t\t\tvar ad = this.advertisements['other'][i];\n\t\t\tif (!this.isUndefined(ad['close'])) {\n\t\t\t\tif (!ad['close']) {\n\t\t\t\t\tad['close'] = true;\n\t\t\t\t\tthis.PD.removeChild(this.getByElement(ad['div']));\n\t\t\t\t\tthis.PD.removeChild(this.getByElement(ad['closeDiv']));\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tadOtherCloseAll: function() {\n\t\t\tif (!this.isUndefined(this.advertisements['other'])) {\n\t\t\t\tvar ad = this.advertisements['other'];\n\t\t\t\tfor (var i = 0; i < ad.length; i++) {\n\t\t\t\t\tthis.adOtherClose(i);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t计算其它广告的坐标\n\t\t*/\n\t\tadOtherCoor: function() {\n\t\t\tif (!this.isUndefined(this.advertisements['other'])) {\n\t\t\t\tvar arr = this.advertisements['other'];\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tvar ad = arr[i];\n\t\t\t\t\tif (!this.isUndefined(ad['close'])) {\n\t\t\t\t\t\tif (!ad['close']) {\n\t\t\t\t\t\t\tvar rr=this.ckStyle['advertisement']['closeOtherButton'];\n\t\t\t\t\t\t\tvar coor = this.getPosition(ad);\n\t\t\t\t\t\t\tvar x = coor['x'],\n\t\t\t\t\t\t\ty = coor['y'];\n\t\t\t\t\t\t\tthis.css(this.getByElement(ad['div']), {\n\t\t\t\t\t\t\t\tleft: x + 'px',\n\t\t\t\t\t\t\t\ttop: y + 'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tvar cxy =  this.getPosition(rr,this.getByElement(ad['div']));\n\t\t\t\t\t\t\tif (!this.isUndefined(ad['closeDiv'])) {\n\t\t\t\t\t\t\t\tthis.css(this.getByElement(ad['closeDiv']), {\n\t\t\t\t\t\t\t\t\tleft: cxy['x'] + 'px',\n\t\t\t\t\t\t\t\t\ttop: cxy['y'] + 'px'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t单独监听中间插入广告\n\t\t*/\n\t\tcheckAdInsert: function(t) {\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar adTime = this.advertisements['inserttime'];\n\t\t\tvar adPlay = this.advertisements['insertPlay'];\n\t\t\tvar duration = this.getMetaDate()['duration'];\n\t\t\tfor (var i = adTime.length - 1; i > -1; i--) {\n\t\t\t\tif (t >= adTime[i] && t < duration - 2 && t > 1 && !adPlay[i]) { //如果播放时间大于广告时间而该广告还没有播放，则开始播放\n\t\t\t\t\tthis.adI = 0;\n\t\t\t\t\tthis.adType = 'insert';\n\t\t\t\t\tthis.adMuteInto();\n\t\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\t\tthis.adPlayStart = true;\n\t\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\t\tthis.videoPause();\n\t\t\t\t\tthis.advertisementsTime();\n\t\t\t\t\tthis.advertisementsPlay();\n\t\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\t\tadPlay[i] = true;\n\t\t\t\t\tfor (var n = 0; n < i + 1; n++) {\n\t\t\t\t\t\tadPlay[n] = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*格式化中间插入广告的播放时间*/\n\t\tformatInserttime: function(duration) {\n\t\t\tif (!this.isUndefined(this.advertisements['inserttime'])) {\n\t\t\t\tvar arr = this.advertisements['inserttime'];\n\t\t\t\tvar newArr = [];\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\tif (arr[i].toString().substr( - 1) == '%') {\n\t\t\t\t\t\tnewArr.push(parseInt(duration * parseInt(arr[i]) * 0.01));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewArr.push(parseInt(arr[i]));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.advertisements['inserttime'] = newArr;\n\t\t\t}\n\t\t},\n\t\t/*获取当前的广告*/\n\t\tgetNowAdvertisements: function() {\n\t\t\tif (this.adI == -1) {\n\t\t\t\treturn {\n\t\t\t\t\tfile: '',\n\t\t\t\t\ttime: 0,\n\t\t\t\t\tlink: ''\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn this.advertisements[this.adType][this.adI];\n\t\t},\n\t\t/*根据元件尺寸和播放器尺寸调整大小*/\n\t\tadjustmentWH: function(w, h) {\n\t\t\tvar width = this.PD.offsetWidth,\n\t\t\theight = this.PD.offsetHeight;\n\t\t\tvar nw = 0,\n\t\t\tnh = 0;\n\t\t\tif (w >= width || h >= height) {\n\t\t\t\tif (width / w > height / h) {\n\t\t\t\t\tnh = height - 20;\n\t\t\t\t\tnw = w * nh / h;\n\t\t\t\t} else {\n\t\t\t\t\tnw = width - 20;\n\t\t\t\t\tnh = h * nw / w;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnw = w;\n\t\t\t\tnh = h;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\twidth: nw,\n\t\t\t\theight: nh\n\t\t\t}\n\t\t},\n\t\t/*单独请求一次地址，但不处理返回的数据*/\n\t\tajaxSuccessNull: function(url) {\n\t\t\tif (!this.isUndefined(url)) {\n\t\t\t\tvar ajaxObj = {\n\t\t\t\t\turl: url,\n\t\t\t\t\tsuccess: function(data) {}\n\t\t\t\t};\n\t\t\t\tthis.ajax(ajaxObj);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t运行指定函数\n\t\t*/\n\t\trunFunction: function(s) {\n\t\t\ttry {\n\t\t\t\tvar arr = s.split('->');\n\t\t\t\tif(arr.length==2){\n\t\t\t\t\tswitch (arr[0]) {\n\t\t\t\t\t\tcase 'javaScript':\n\t\t\t\t\t\t\tif(arr[1].substr(0,11)!='[flashvars]'){\n\t\t\t\t\t\t\t\teval(arr[1] + '()');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\teval(this.vars[arr[1].substr(11)] + '()');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'actionScript':\n\t\t\t\t\t\t\teval('this.' + arr[1] + '()');\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.sendJS('clickEvent', s);\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t使用画布附加视频\n\t\t*/\n\t\tsendVCanvas: function() {\n\t\t\tif (this.timerVCanvas == null) {\n\t\t\t\tthis.css(this.V, 'display', 'none');\n\t\t\t\tthis.css(this.MD, 'display', 'block');\n\t\t\t\tvar thisTemp = this;\n\t\t\t\tvar videoCanvas = function() {\n\t\t\t\t\tif (thisTemp.MDCX.width != thisTemp.MD.offsetWidth) {\n\t\t\t\t\t\tthisTemp.MDC.width = thisTemp.MD.offsetWidth;\n\t\t\t\t\t}\n\t\t\t\t\tif (thisTemp.MDCX.height != thisTemp.MD.offsetHeight) {\n\t\t\t\t\t\tthisTemp.MDC.height = thisTemp.MD.offsetHeight;\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.MDCX.clearRect(0, 0, thisTemp.MDCX.width, thisTemp.MDCX.height);\n\t\t\t\t\tvar coor = thisTemp.getProportionCoor(thisTemp.PD.offsetWidth, thisTemp.PD.offsetHeight, thisTemp.V.videoWidth, thisTemp.V.videoHeight);\n\t\t\t\t\tthisTemp.MDCX.drawImage(thisTemp.V, 0, 0, thisTemp.V.videoWidth, thisTemp.V.videoHeight, coor['x'], coor['y'], coor['width'], coor['height']);\n\t\t\t\t};\n\t\t\t\tthis.timerVCanvas = new this.timer(0, videoCanvas);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听暂停\n\t\t*/\n\t\tpauseHandler: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.playShow(false);\n\t\t\tif (this.animatePauseArray.length > 0) {\n\t\t\t\tthis.animatePause('pause');\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video' && this.V != null && this.ckConfig['config']['videoDrawImage']) {\n\t\t\t\tthis.stopVCanvas();\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['pause']) && !this.adPlayStart && !this.adPauseShow) { //如果存在暂停广告\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif (!thisTemp.isUndefined(thisTemp.advertisements['pause']) && !thisTemp.adPlayStart && !thisTemp.adPauseShow && thisTemp.time > 1) { //如果存在暂停广告\n\t\t\t\t\t\tthisTemp.adPausePlayer();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t300);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t停止画布\n\t\t*/\n\t\tstopVCanvas: function() {\n\t\t\tif (this.timerVCanvas != null) {\n\t\t\t\tthis.css(this.V, 'display', 'block');\n\t\t\t\tthis.css(this.MD, 'display', 'none');\n\t\t\t\tif (this.timerVCanvas.runing) {\n\t\t\t\t\tthis.timerVCanvas.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerVCanvas = null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据当前播放还是暂停确认图标显示\n\t\t*/\n\t\tplayShow: function(b) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (b) {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'none');\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'block');\n\t\t\t} else {\n\t\t\t\tthis.css(this.CB['play'], 'display', 'block');\n\t\t\t\tif (this.css(this.CB['errorText'], 'display') == 'none') {\n\t\t\t\t\tif (!this.adPlayerPlay) {\n\t\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'block');\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.CB['pauseCenter'], 'display', 'none');\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['pause'], 'display', 'none');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听seek结束\n\t\t*/\n\t\tseekedHandler: function() {\n\t\t\tthis.resetTrack();\n\t\t\tthis.isTimeButtonMove = true;\n\t\t\tif (this.V.paused) {\n\t\t\t\tif(this.hlsAutoPlay){\n\t\t\t\t\tthis.videoPlay();\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.hlsAutoPlay=true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放结束\n\t\t*/\n\t\tendedHandler: function() {\n\t\t\tthis.sendJS('ended');\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adI++;\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.endAdPlay && !this.isUndefined(this.advertisements['end'])) {\n\t\t\t\tthis.endAdPlay = true;\n\t\t\t\tthis.adI = 0;\n\t\t\t\tthis.adType = 'end';\n\t\t\t\tthis.adMuteInto();\n\t\t\t\tthis.adIsVideoTime = true;\n\t\t\t\tthis.adPlayStart = true;\n\t\t\t\tthis.adVideoPlay = false;\n\t\t\t\tthis.videoPause();\n\t\t\t\tthis.advertisementsTime();\n\t\t\t\tthis.advertisementsPlay();\n\t\t\t\tthis.adSkipButtonShow();\n\t\t\t\tthis.adReset = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.endedAdReset();\n\t\t\tif (this.vars['loop']) {\n\t\t\t\tthis.videoSeek(0);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t重置结束后相关的设置\n\t\t*/\n\t\tendedAdReset: function() {\n\t\t\tvar arr = [];\n\t\t\tvar i = 0;\n\t\t\tif (!this.isUndefined(this.advertisements['insertPlay'])) {\n\t\t\t\tarr = this.advertisements['insertPlay'];\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tthis.advertisements['insertPlay'][i] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.advertisements['otherPlay'])) {\n\t\t\t\tarr = this.advertisements['otherPlay'];\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tthis.advertisements['otherPlay'][i] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//this.endAdPlay=false;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听音量改变\n\t\t*/\n\t\tvolumechangeHandler: function() {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ((this.ckConfig['config']['mobileVolumeBarShow'] || !this.isMobile()) && this.css(this.CB['volume'], 'display') != 'none') {\n\t\t\t\ttry {\n\t\t\t\t\tvar volume=this.volume || this.V.volume;\n\t\t\t\t\tif (volume > 0) {\n\t\t\t\t\t\tthis.css(this.CB['mute'], 'display', 'block');\n\t\t\t\t\t\tthis.css(this.CB['escMute'], 'display', 'none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.css(this.CB['mute'], 'display', 'none');\n\t\t\t\t\t\tthis.css(this.CB['escMute'], 'display', 'block');\n\t\t\t\t\t}\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放时间调节进度条\n\t\t*/\n\t\ttimeUpdateHandler: function() {\n\t\t\tvar duration = 0;\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\ttry {\n\t\t\t\t\tduration = this.V.duration;\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tif (duration > 0) {\n\t\t\t\tthis.time = this.V.currentTime;\n\t\t\t\tthis.timeTextHandler();\n\t\t\t\tthis.trackShowHandler();\n\t\t\t\tif (this.isTimeButtonMove) {\n\t\t\t\t\tthis.timeProgress(this.time, duration);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t改变控制栏坐标\n\t\t*/\n\t\tcontrolBar:function(){\n\t\t\t//控制栏背景\n\t\t\tvar cb=this.ckStyle['controlBar'];\n\t\t\tvar cssObjTemp={\n\t\t\t\talign:cb['align'],\n\t\t\t\tvAlign:cb['vAlign'],\n\t\t\t\twidth:cb['width'],\n\t\t\t\theight:cb['height'],\n\t\t\t\toffsetX:cb['offsetX'],\n\t\t\t\toffsetY:cb['offsetY']\n\t\t\t\t\n\t\t\t};\n\t\t\tvar bgCss={\n\t\t\t\tbackgroundColor:cb['background']['backgroundColor'],\n\t\t\t\tbackgroundImg:cb['background']['backgroundImg'],\n\t\t\t\talpha:cb['background']['alpha']\n\t\t\t};\n\t\t\tvar cssTemp=this.getEleCss(this.objectAssign(cssObjTemp,bgCss),{zIndex:888});\n\t\t\tthis.css(this.CB['controlBarBg'], cssTemp);\n\t\t\t//控制栏容器\n\t\t\tcssTemp=this.getEleCss(cssObjTemp,{zIndex:889});\n\t\t\tthis.css(this.CB['controlBar'], cssTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t按时间改变进度条\n\t\t*/\n\t\ttimeProgress: function(time, duration) {\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar timeProgressBgW = this.CB['timeProgressBg'].offsetWidth;\n\t\t\tvar timeBOW = parseInt((time * timeProgressBgW / duration) - (this.CB['timeButton'].offsetWidth * 0.5));\n\t\t\tif (timeBOW > timeProgressBgW - this.CB['timeButton'].offsetWidth) {\n\t\t\t\ttimeBOW = timeProgressBgW - this.CB['timeButton'].offsetWidth;\n\t\t\t}\n\t\t\tif (timeBOW < 0) {\n\t\t\t\ttimeBOW = 0;\n\t\t\t}\n\t\t\tthis.css(this.CB['timeProgress'], 'width', timeBOW + 'px');\n\t\t\tthis.css(this.CB['timeButton'], 'left', parseInt(timeBOW) + 'px');\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听播放时间改变时间显示文本框\n\t\t*/\n\t\ttimeTextHandler: function() { //显示时间/总时间\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar duration = this.V.duration;\n\t\t\tvar time = this.V.currentTime;\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tthis.CB['timeText'].innerHTML = this.formatTime(time,duration,this.ckLanguage['vod']);\n\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t监听是否是缓冲状态\n\t\t*/\n\t\tbufferEdHandler: function() {\n\t\t\tif (!this.conBarShow || this.playerType == 'flashplayer') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar clearTimerBuffer = function() {\n\t\t\t\tif (thisTemp.timerBuffer != null) {\n\t\t\t\t\tif (thisTemp.timerBuffer.runing) {\n\t\t\t\t\t\tthisTemp.sendJS('buffer', 100);\n\t\t\t\t\t\tthisTemp.timerBuffer.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.timerBuffer = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tclearTimerBuffer();\n\t\t\tvar bufferFun = function() {\n\t\t\t\tif (!thisTemp.isUndefined(thisTemp.V) && thisTemp.V.buffered.length > 0) {\n\t\t\t\t\tvar duration = thisTemp.V.duration;\n\t\t\t\t\tvar len = thisTemp.V.buffered.length;\n\t\t\t\t\tvar bufferStart = thisTemp.V.buffered.start(len - 1);\n\t\t\t\t\tvar bufferEnd = thisTemp.V.buffered.end(len - 1);\n\t\t\t\t\tvar loadTime = bufferStart + bufferEnd;\n\t\t\t\t\tvar loadProgressBgW = thisTemp.CB['timeProgressBg'].offsetWidth;\n\t\t\t\t\tvar timeButtonW = thisTemp.CB['timeButton'].offsetWidth;\n\t\t\t\t\tvar loadW = parseInt((loadTime * loadProgressBgW / duration) + timeButtonW);\n\t\t\t\t\tif (loadW >= loadProgressBgW) {\n\t\t\t\t\t\tloadW = loadProgressBgW;\n\t\t\t\t\t\tclearTimerBuffer();\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.changeLoad(loadTime);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.timerBuffer = new this.timer(200, bufferFun);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t单独计算加载进度\n\t\t*/\n\t\tchangeLoad: function(loadTime) {\n\t\t\tif (this.V == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.conBarShow) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar loadProgressBgW = this.CB['timeProgressBg'].offsetWidth;\n\t\t\tvar timeButtonW = this.CB['timeButton'].offsetWidth;\n\t\t\tvar duration = this.V.duration;\n\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\tduration = this.vars['duration'];\n\t\t\t}\n\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t}\n\t\t\tif (this.isUndefined(loadTime)) {\n\t\t\t\tloadTime = this.loadTime;\n\t\t\t} else {\n\t\t\t\tthis.loadTime = loadTime;\n\t\t\t}\n\t\t\tvar loadW = parseInt((loadTime * loadProgressBgW / duration) + timeButtonW);\n\t\t\tthis.css(this.CB['loadProgress'], 'width', loadW + 'px');\n\t\t\tthis.sendJS('loadTime',loadTime);\n\t\t\tthis.loadTimeTemp=loadTime;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t判断是否是直播\n\t\t*/\n\t\tjudgeIsLive: function() {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.timerError != null) {\n\t\t\t\tif (this.timerError.runing) {\n\t\t\t\t\tthis.timerError.stop();\n\t\t\t\t}\n\t\t\t\tthis.timerError = null;\n\t\t\t}\n\t\t\tthis.error = false;\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.css(this.CB['errorText'], 'display', 'none');\n\t\t\t}\n\t\t\tvar timeupdate = function(event) {\n\t\t\t\tthisTemp.timeUpdateHandler();\n\t\t\t};\n\t\t\tif (!this.vars['live']) {\n\t\t\t\tif (this.V != null && this.playerType == 'html5video') {\n\t\t\t\t\tthis.addListenerInside('timeupdate', timeupdate);\n\t\t\t\t\tthisTemp.timeTextHandler();\n\t\t\t\t\tthisTemp.prompt(); //添加提示点\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tthisTemp.bufferEdHandler();\n\t\t\t\t\t},\n\t\t\t\t\t200);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.removeListenerInside('timeupdate', timeupdate);\n\t\t\t\tif (this.timerTime != null) {\n\t\t\t\t\twindow.clearInterval(this.timerTime);\n\t\t\t\t\ttimerTime = null;\n\t\t\t\t}\n\t\t\t\tif (this.timerTime != null) {\n\t\t\t\t\tif (this.timerTime.runing) {\n\t\t\t\t\t\tthis.timerTime.stop();\n\t\t\t\t\t}\n\t\t\t\t\tthis.timerTime = null;\n\t\t\t\t}\n\t\t\t\tvar timeFun = function() {\n\t\t\t\t\tif (thisTemp.V != null && !thisTemp.V.paused && thisTemp.conBarShow) {\n\t\t\t\t\t\tthisTemp.CB['timeText'].innerHTML = thisTemp.formatTime(0,0,thisTemp.ckLanguage['live']); //时间显示框默认显示内容\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.timerTime = new this.timer(1000, timeFun);\n\t\t\t\t//timerTime.start();\n\t\t\t}\n\t\t\tthis.definition();\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t加载字幕\n\t\t*/\n\t\tloadTrack: function(def) {\n\t\t\tif (this.playerType == 'flashplayer' || this.vars['flashplayer'] == true) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(def)){\n\t\t\t\tdef=-1;\n\t\t\t}\n\t\t\tvar track = this.vars['cktrack'];\n\t\t\tvar loadTrackUrl='';\n\t\t\tvar type=this.varType(track);\n\t\t\tvar thisTemp = this;\n\t\t\tif(type=='array'){\n\t\t\t\tif(def==-1){\n\t\t\t\t\tvar index=0;\n\t\t\t\t\tvar indexN=0;\n\t\t\t\t\tfor(var i=0;i<track.length;i++){\n\t\t\t\t\t\tvar li=track[i];\n\t\t\t\t\t\tif(li.length==3 && li[2]>indexN){\n\t\t\t\t\t\t\tindexN=li[2];\n\t\t\t\t\t\t\tindex=i;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tindex=def;\n\t\t\t\t}\n\t\t\t\tloadTrackUrl=track[index][0];\n\t\t\t}\n\t\t\telse{\n\t\t\t\tloadTrackUrl=track;\n\t\t\t}\n\t\t\tvar obj = {\n\t\t\t\tmethod: 'get',\n\t\t\t\tdataType: 'text',\n\t\t\t\turl: loadTrackUrl,\n\t\t\t\tcharset: 'utf-8',\n\t\t\t\tsuccess: function(data) {\n\t\t\t\t\tif(data){\n\t\t\t\t\t\tthisTemp.track = thisTemp.parseSrtSubtitles(data);\n\t\t\t\t\t\tthisTemp.trackIndex = 0;\n\t\t\t\t\t\tthisTemp.nowTrackShow = {\n\t\t\t\t\t\t\tsn: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.ajax(obj);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重置字幕\n\t\t*/\n\t\tresetTrack: function() {\n\t\t\tthis.trackIndex = 0;\n\t\t\tthis.nowTrackShow = {\n\t\t\t\tsn: ''\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t根据时间改变读取显示字幕\n\t\t*/\n\t\ttrackShowHandler: function() {\n\t\t\tif (!this.conBarShow || this.adPlayerPlay) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.track.length < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.trackIndex >= this.track.length) {\n\t\t\t\tthis.trackIndex = 0;\n\t\t\t}\n\t\t\tvar nowTrack = this.track[this.trackIndex]; //当前编号对应的字幕内容\n\t\t\t/*\n\t\t\t\tthis.nowTrackShow=当前显示在界面上的内容\n\t\t\t\t如果当前时间正好在nowTrack时间内，则需要判断\n\t\t\t*/\n\t\t\tif (this.time >= nowTrack['startTime'] && this.time <= nowTrack['endTime']) {\n\t\t\t\t/*\n\t\t\t\t \t如果当前显示的内容不等于当前需要显示的内容时，则需要显示正确的内容\n\t\t\t\t*/\n\t\t\t\tvar nowShow = this.nowTrackShow;\n\t\t\t\tif (nowShow['sn'] != nowTrack['sn']) {\n\t\t\t\t\tthis.trackHide();\n\t\t\t\t\tthis.trackShow(nowTrack);\n\t\t\t\t\tthis.nowTrackTemp=nowTrack;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t/*\n\t\t\t\t  如果当前播放时间不在当前编号字幕内，则需要先清空当前的字幕内容，再显示新的字幕内容\n\t\t\t\t*/\n\t\t\t\tthis.trackHide();\n\t\t\t\tthis.checkTrack();\n\t\t\t}\n\t\t},\n\t\ttrackShowAgain:function(){\n\t\t\tthis.trackHide();\n\t\t\tthis.trackShow(this.nowTrackTemp);\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t显示字幕内容\n\t\t*/\n\t\ttrackShow: function(track) {\n\t\t\tthis.nowTrackShow = track;\n\t\t\tvar arr = track['content'];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar obj = {\n\t\t\t\t\tlist: [{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\ttext: arr[i],\n\t\t\t\t\t\tcolor: this.ckStyle['cktrack']['color'],\n\t\t\t\t\t\tsize: this.ckStyle['cktrack']['size'],\n\t\t\t\t\t\tfontFamily: this.ckStyle['cktrack']['font'],\n\t\t\t\t\t\tlineHeight: this.ckStyle['cktrack']['leading']+'px'\n\t\t\t\t\t}],\n\t\t\t\t\tposition: [1, 2, null, -(arr.length - i) * this.ckStyle['cktrack']['leading'] - this.ckStyle['cktrack']['marginBottom']]\n\t\t\t\t};\n\t\t\t\tvar ele = this.addElement(obj);\n\t\t\t\tthis.trackElement.push(ele);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t隐藏字幕内容\n\t\t*/\n\t\ttrackHide: function() {\n\t\t\tfor (var i = 0; i < this.trackElement.length; i++) {\n\t\t\t\tthis.deleteElement(this.trackElement[i]);\n\t\t\t}\n\t\t\tthis.trackElement = [];\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t重新计算字幕的编号\n\t\t*/\n\t\tcheckTrack: function() {\n\t\t\tvar num = this.trackIndex;\n\t\t\tvar arr = this.track;\n\t\t\tvar i = 0;\n\t\t\tfor (i = num; i < arr.length; i++) {\n\t\t\t\tif (this.time >= arr[i]['startTime'] && this.time <= arr[i]['endTime']) {\n\t\t\t\t\tthis.trackIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t-----------------------------------------------------------------------------接口函数开始\n\t\t\t接口函数\n\t\t\t在播放和暂停之间切换\n\t\t*/\n\t\tplayOrPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V == null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.playOrPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.V.paused) {\n\t\t\t\tthis.videoPlay();\n\t\t\t} else {\n\t\t\t\tthis.videoPause();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t播放动作\n\t\t*/\n\t\tvideoPlay: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.eliminateAd(); //清除广告\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (this.V.currentSrc) {\n\t\t\t\t\tthis.V.play();\n\t\t\t\t}\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t暂停动作\n\t\t*/\n\t\tvideoPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.V.pause();\n\t\t\t} catch(event) {}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t跳转时间动作\n\t\t*/\n\t\tvideoSeek: function(time) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoSeek(time);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar duration = this.V.duration>0.2?this.V.duration:this.getMetaDate()['duration'];\n\t\t\tif (duration > 0 && time > duration) {\n\t\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\t\ttime=0;\n\t\t\t\t\tthis.sendJS('ended');\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\ttime = duration-0.1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (time >= 0) {\n\t\t\t\tthis.V.currentTime = time;\n\t\t\t\tthis.sendJS('seekTime', time);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t调节音量/获取音量\n\t\t*/\n\t\tchangeVolume: function(vol, bg, button) {\t\t\t\n\t\t\tif (this.loaded) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tthis.V.changeVolume(vol);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isNaN(vol) || this.isUndefined(vol)) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (!this.loaded) {\n\t\t\t\tthis.vars['volume'] = vol;\n\t\t\t}\n\t\t\tif (!this.html5Video) {\n\t\t\t\tthis.V.changeVolume(vol);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif (this.isUndefined(bg)) {\n\t\t\t\t\tbg = true;\n\t\t\t\t}\n\t\t\t} catch(e) {}\n\t\t\ttry {\n\t\t\t\tif (this.isUndefined(button)) {\n\t\t\t\t\tbutton = true;\n\t\t\t\t}\n\t\t\t} catch(e) {}\n\t\t\tif (!vol) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (vol < 0) {\n\t\t\t\tvol = 0;\n\t\t\t}\n\t\t\tif (vol > 1) {\n\t\t\t\tvol = 1;\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tthis.V.volume = vol;\n\t\t\t} catch(error) {}\n\t\t\tthis.volume = vol;\n\t\t\tif (bg && this.conBarShow) {\n\t\t\t\tvar bgW = vol * this.CB['volumeBg'].offsetWidth;\n\t\t\t\tif (bgW < 0) {\n\t\t\t\t\tbgW = 0;\n\t\t\t\t}\n\t\t\t\tif (bgW > this.CB['volumeBg'].offsetWidth) {\n\t\t\t\t\tbgW = this.CB['volumeBg'].offsetWidth;\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['volumeUp'], 'width', bgW + 'px');\n\t\t\t}\n\n\t\t\tif (button && this.conBarShow) {\n\t\t\t\tvar buLeft = parseInt(this.CB['volumeUp'].offsetWidth - (this.CB['volumeBO'].offsetWidth * 0.5));\n\t\t\t\tif (buLeft > this.CB['volumeBg'].offsetWidth - this.CB['volumeBO'].offsetWidth) {\n\t\t\t\t\tbuLeft = this.CB['volumeBg'].offsetWidth - this.CB['volumeBO'].offsetWidth\n\t\t\t\t}\n\t\t\t\tif (buLeft < 0) {\n\t\t\t\t\tbuLeft = 0;\n\t\t\t\t}\n\t\t\t\tthis.css(this.CB['volumeBO'], 'left', buLeft + 'px');\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t静音\n\t\t*/\n\t\tvideoMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoMute();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.volumeTemp = this.V ? (this.V.volume > 0 ? this.V.volume: this.vars['volume']) : this.vars['volume'];\n\t\t\tthis.changeVolume(0);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t取消静音\n\t\t*/\n\t\tvideoEscMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoEscMute();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.changeVolume(this.volumeTemp > 0 ? this.volumeTemp: this.vars['volume']);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t视频广告静音\n\t\t*/\n\t\tadMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.changeVolume(0);\n\t\t\tthis.adVideoMute = true;\n\t\t\tthis.css(this.CB['adEscMute'], 'display', 'block');\n\t\t\tthis.css(this.CB['adMute'], 'display', 'none');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t视频广告取消静音\n\t\t*/\n\t\tescAdMute: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar v = this.ckStyle['advertisement']['videoVolume'];\n\t\t\tthis.changeVolume(v);\n\t\t\tthis.adMuteInto();\n\t\t},\n\t\t/*\n\t\t \t初始化广告的音量按钮\n\t\t*/\n\t\tadMuteInto: function() {\n\t\t\tthis.adVideoMute = false;\n\t\t\tthis.css(this.CB['adEscMute'], 'display', 'none');\n\t\t\tthis.css(this.CB['adMute'], 'display', 'block');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t快退\n\t\t*/\n\t\tfastBack: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.fastBack();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = this.time - this.ckConfig['config']['timeJump'];\n\t\t\tif (time < 0) {\n\t\t\t\ttime = 0;\n\t\t\t}\n\t\t\tthis.videoSeek(time);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t快进\n\t\t*/\n\t\tfastNext: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.fastNext();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar time = this.time + this.ckConfig['config']['timeJump'];\n\t\t\tif (time > this.V.duration) {\n\t\t\t\ttime = this.V.duration;\n\t\t\t}\n\t\t\tthis.videoSeek(time);\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t获取当前播放的地址\n\t\t*/\n\t\tgetCurrentSrc: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getCurrentSrc();\n\t\t\t}\n\t\t\treturn this.V.currentSrc;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t全屏/退出全屏动作，该动作只能是用户操作才可以触发，比如用户点击按钮触发该事件\n\t\t*/\n\t\tswitchFull: function() {\n\t\t\tif (this.full) {\n\t\t\t\tthis.quitFullScreen();\n\t\t\t} else {\n\t\t\t\tthis.fullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t全屏动作，该动作只能是用户操作才可以触发，比如用户点击按钮触发该事件\n\t\t*/\n\t\tfullScreen: function() {\n\t\t\tif (this.html5Video && this.playerType == 'html5video') {\n\t\t\t\tvar element = this.PD;\n\t\t\t\tif (element.requestFullscreen) {\n\t\t\t\t\telement.requestFullscreen();\n\t\t\t\t} else if (element.mozRequestFullScreen) {\n\t\t\t\t\telement.mozRequestFullScreen();\n\t\t\t\t} else if (element.webkitRequestFullscreen) {\n\t\t\t\t\telement.webkitRequestFullscreen();\n\t\t\t\t} else if (element.msRequestFullscreen) {\n\t\t\t\t\telement.msRequestFullscreen();\n\t\t\t\t} else if (element.oRequestFullscreen) {\n\t\t\t\t\telement.oRequestFullscreen();\n\t\t\t\t}\n\t\t\t\tthis.judgeFullScreen();\n\t\t\t} else {\n\t\t\t\t//this.V.fullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t退出全屏动作\n\t\t*/\n\t\tquitFullScreen: function() {\n\t\t\tif (this.html5Video && this.playerType == 'html5video') {\n\t\t\t\tif (document.exitFullscreen) {\n\t\t\t\t\tdocument.exitFullscreen();\n\t\t\t\t} else if (document.msExitFullscreen) {\n\t\t\t\t\tdocument.msExitFullscreen();\n\t\t\t\t} else if (document.mozCancelFullScreen) {\n\t\t\t\t\tdocument.mozCancelFullScreen();\n\t\t\t\t} else if (document.oRequestFullscreen) {\n\t\t\t\t\tdocument.oCancelFullScreen();\n\t\t\t\t} else if (document.requestFullscreen) {\n\t\t\t\t\tdocument.requestFullscreen();\n\t\t\t\t} else if (document.webkitExitFullscreen) {\n\t\t\t\t\tdocument.webkitExitFullscreen();\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(document.documentElement, 'cssText', '');\n\t\t\t\t\tthis.css(document.document.body, 'cssText', '');\n\t\t\t\t\tthis.css(this.PD, 'cssText', '');\n\t\t\t\t}\n\t\t\t\tthis.judgeFullScreen();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t 下面列出只有flashplayer里支持的 \n\t\t */\n\t\tvideoRotation: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoRotation(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(n)) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tvar tf = this.css(this.V, 'transform');\n\t\t\tif (this.isUndefined(tf) && !tf) {\n\t\t\t\ttf = 'rotate(0deg)';\n\t\t\t}\n\t\t\tvar reg = tf.match(/rotate\\([^)]+\\)/);\n\t\t\treg = reg ? reg[0].replace('rotate(', '').replace('deg)', '') : '';\n\t\t\tif (reg == '') {\n\t\t\t\treg = 0;\n\t\t\t} else {\n\t\t\t\treg = parseInt(reg);\n\t\t\t}\n\t\t\tif (n == -1) {\n\t\t\t\treg -= 90;\n\t\t\t} else if (n == 1) {\n\t\t\t\treg += 90;\n\t\t\t} else {\n\t\t\t\tif (n != 90 && n != 180 && n != 270 && n != -90 && n != -180 && n != -270) {\n\t\t\t\t\treg = 0;\n\t\t\t\t} else {\n\t\t\t\t\treg = n;\n\t\t\t\t}\n\t\t\t}\n\t\t\tn = reg;\n\t\t\tvar y90 = n % 90,\n\t\t\ty180 = n % 180,\n\t\t\ty270 = n % 270;\n\t\t\tvar ys = false;\n\t\t\tif (y90 == 0 && y180 == 90 && y270 == 90) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == 0 && y180 == 90 && y270 == 0) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == -0 && y180 == -90 && y270 == -90) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\tif (y90 == -0 && y180 == -90 && y270 == -0) {\n\t\t\t\tys = true;\n\t\t\t}\n\t\t\ttf = tf.replace(/rotate\\([^)]+\\)/, '').replace(/scale\\([^)]+\\)/, '') + ' rotate(' + n + 'deg)';\n\t\t\tvar cdW = this.CD.offsetWidth,\n\t\t\tcdH = this.CD.offsetHeight,\n\t\t\tvW = this.V.videoWidth,\n\t\t\tvH = this.V.videoHeight;\n\t\t\tif (vW > 0 && vH > 0) {\n\t\t\t\tif (ys) {\n\t\t\t\t\tif (cdW / cdH > vH / vW) {\n\t\t\t\t\t\tnH = cdH;\n\t\t\t\t\t\tnW = vH * nH / vW;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnW = cdW;\n\t\t\t\t\t\tnH = vW * nW / vH;\n\t\t\t\t\t}\n\t\t\t\t\tthis.css(this.V, 'transform', 'rotate(0deg)');\n\t\t\t\t\tthis.css(this.V, 'transform', 'scale(' + nH / cdW + ',' + nW / cdH + ')' + tf);\n\t\t\t\t} else {\n\t\t\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\t}\n\t\t\treturn;\n\t\t},\n\t\tvideoBrightness: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoBrightness(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoContrast: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoContrast(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoSaturation: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoSaturation(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoHue: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoHue(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tvideoZoom: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoZoom(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.isUndefined(n)) {\n\t\t\t\tn = 1;\n\t\t\t}\n\t\t\tif (n < 0) {\n\t\t\t\tn = 0;\n\t\t\t}\n\t\t\tif (n > 2) {\n\t\t\t\tn = 2;\n\t\t\t}\n\t\t\tvar tf = this.css(this.V, 'transform');\n\t\t\ttf = tf.replace(/scale\\([^)]+\\)/, '') + ' scale(' + n + ')';\n\t\t\tthis.videoScale = n;\n\t\t\tthis.css(this.V, 'transform', tf);\n\t\t\treturn;\n\t\t},\n\t\tvideoProportion: function(w, h) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoProportion(w, h);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tadPlay: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.adPlay();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adIsPause = false;\n\t\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\t\tvar type = ad['type'];\n\t\t\t\tif (this.isStrImage(type)) {\n\t\t\t\t\tthis.adCountDown();\n\t\t\t\t} else {\n\t\t\t\t\tthis.V.play();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tadPause: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.adPause();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.adPlayerPlay) {\n\t\t\t\tthis.adIsPause = true;\n\t\t\t\tvar ad = this.getNowAdvertisements();\n\t\t\t\tvar type = ad['type'];\n\t\t\t\tif (type != 'jpg' && type != 'jpeg' && type != 'png' && type != 'svg' && type != 'gif') {\n\t\t\t\t\tthis.videoPause();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tvideoError: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoError(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tchangeConfig: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\tswitch(args.length){\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tthis.V.changeConfig(args[0]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 6:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 7:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 8:\n\t\t\t\t\t\tthis.V.changeConfig(args[0],args[1],args[2],args[3],args[4],args[5],args[6],args[7],args[8]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar obj = this.ckConfig;\n\t\t\tvar arg = arguments;\n\t\t\tfor (var i = 0; i < arg.length - 1; i++) {\n\t\t\t\tif (obj.hasOwnProperty(arg[i])) {\n\t\t\t\t\tobj = obj[arg[i]];\n\t\t\t\t} else {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar val = arg[arg.length - 1];\n\t\t\tswitch (arg.length) {\n\t\t\t\tcase 2:\n\t\t\t\t\tthis.ckConfig[arg[0]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 4:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 5:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 6:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 7:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 8:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 9:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]][arg[7]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 10:\n\t\t\t\t\tthis.ckConfig[arg[0]][arg[1]][arg[2]][arg[3]][arg[4]][arg[5]][arg[6]][arg[7]][arg[8]] = val;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.sendJS('configChange', this.ckConfig);\n\t\t},\n\t\tcustom: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.custom(arguments);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(arguments)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar type='',name='',display='';\n\t\t\tif(arguments.length==4){//控制栏\n\t\t\t\ttype='controlBar-'+arguments[1];\n\t\t\t\tname=arguments[2];\n\t\t\t\tdisplay=arguments[3]?'block':'none';\n\t\t\t}\n\t\t\telse if(arguments.length==3){//播放器\n\t\t\t\ttype='player-'+arguments[0];\n\t\t\t\tname=arguments[1];\n\t\t\t\tdisplay=arguments[2]?'block':'none';\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor(var k in this.customeElement){\n\t\t\t\tvar obj=this.customeElement[k];\n\t\t\t\tif(obj['type']==type && obj['name']==name){\n\t\t\t\t\tthis.css(obj['ele'],'display',display);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tgetConfig: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getConfig(arguments);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tvar temp=this.ckConfig;\n\t\t\t\tfor(var index in arguments) {  \n\t\t\t        try{\n\t\t\t        \ttemp=temp[arguments[index]];\n\t\t\t        }\n\t\t\t        catch(error){\n\t\t\t        \ttemp=null;\n\t\t\t        }\n\t\t\t    }; \n\t\t\t\treturn temp;\n\t\t\t}\n\t\t},\n\t\topenUrl: function(n) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.openUrl(n);\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t清除视频\n\t\t*/\n\t\tvideoClear: function() {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.videoClear();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.V.innerHTML='';\n\t\t\tthis.V.src='';\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t向播放器传递新的视频地址\n\t\t*/\n\t\tnewVideo: function(c) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.newVideo(c);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.embed(c);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t截图\n\t\t*/\n\t\tscreenshot: function(obj, save, name) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.screenshot(obj, save, name);\n\t\t\t\t} catch(error) {\n\t\t\t\t\tthis.log(error);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (obj == 'video') {\n\t\t\t\tvar newCanvas = document.createElement('canvas');\n\t\t\t\tnewCanvas.width = this.V.videoWidth;\n\t\t\t\tnewCanvas.height = this.V.videoHeight;\n\t\t\t\tnewCanvas.getContext('2d').drawImage(this.V, 0, 0, this.V.videoWidth, this.V.videoHeight);\n\t\t\t\ttry {\n\t\t\t\t\tvar base64 = newCanvas.toDataURL('image/jpeg');\n\t\t\t\t\tthis.sendJS('screenshot', {\n\t\t\t\t\t\tobject: obj,\n\t\t\t\t\t\tsave: save,\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tbase64: base64\n\t\t\t\t\t});\n\t\t\t\t} catch(error) {\n\t\t\t\t\tthis.log(error);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t改变播放器尺寸\n\t\t*/\n\t\tchangeSize: function(w, h) {\n\t\t\tif (this.isUndefined(w)) {\n\t\t\t\tw = 0;\n\t\t\t}\n\t\t\tif (this.isUndefined(h)) {\n\t\t\t\th = 0;\n\t\t\t}\n\t\t\tif (w > 0) {\n\t\t\t\tthis.css(this.CD, 'width', w + 'px');\n\t\t\t}\n\t\t\tif (h > 0) {\n\t\t\t\tthis.css(this.CD, 'height', h + 'px');\n\t\t\t}\n\t\t\tif (this.html5Video) {\n\t\t\t\tthis.playerResize();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t重置播放器界面\n\t\t*/\n\t\tplayerResize:function(){\n\t\t\tthis.controlBar();//控制栏按钮\n\t\t\tthis.elementCoordinate();\n\t\t\tthis.carbarButton();\n\t\t\tthis.customCoor();//自定义元件的位置重置\n\t\t\tthis.timeProgressDefault();//进度条默认样式\n\t\t\tthis.videoCss();//计算video的宽高和位置\n\t\t\tthis.timeUpdateHandler();//修改进度条样式\n\t\t\tthis.changeElementCoor(); //修改新加元件的坐标\n\t\t\tthis.changePrompt();//重置提示点\n\t\t\tthis.advertisementStyle();//广告控制样式\n\t\t\tthis.adPauseCoor();\n\t\t\tthis.adOtherCoor();\n\t\t\tthis.changeLoad();\n\t\t\tthis.sendJS('resize');\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t改变视频播放速度\n\t\t*/\n\t\tchangePlaybackRate: function(n) {\n\t\t\tif (this.html5Video) {\n\t\t\t\tvar arr = this.playbackRateArr;\n\t\t\t\tn = parseInt(n);\n\t\t\t\tif (n < arr.length) {\n\t\t\t\t\tthis.newPlaybackrate(arr[n][1]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t注册控制控制栏显示与隐藏函数\n\t\t*/\n\t\tchangeControlBarShow: function(show) {\n\t\t\tif (!this.loaded) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.changeControlBarShow(show);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (show) {\n\t\t\t\tthis.controlBarIsShow = true;\n\t\t\t\tthis.controlBarHide(false);\n\t\t\t} else {\n\t\t\t\tthis.controlBarIsShow = false;\n\t\t\t\tthis.controlBarHide(true);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t-----------------------------------------------------------------------\n\t\t\t调用flashplayer\n\t\t*/\n\t\tembedSWF: function() {\n\t\t\tvar vid = 'ckplayer-'+this.randomString();\n\t\t\tvar flashvars = this.getFlashVars();\n\t\t\tvar param = this.getFlashplayerParam();\n\t\t\tvar flashplayerUrl = 'http://www.macromedia.com/go/getflashplayer';\n\t\t\tvar html = '',\n\t\t\tsrc = this.ckplayerPath + 'ckplayer.swf';\n\t\t\tid = 'id=\"' + vid + '\" name=\"' + vid + '\" ';\n\t\t\thtml += '<object pluginspage=\"' + flashplayerUrl + '\" classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=11,3,0,0\" width=\"100%\" height=\"100%\" ' + id + ' align=\"middle\" wmode=\"transparent\">';\n\t\t\thtml += param['v'];\n\t\t\thtml += '<param name=\"movie\" value=\"' + src + '\">';\n\t\t\thtml += '<param name=\"flashvars\" value=\"' + flashvars + '\">';\n\t\t\thtml += '<param name=\"wmode\" value=\"transparent\">';\n\t\t\thtml += '<embed wmode=\"transparent\" ' + param['w'] + ' src=\"' + src + '\" flashvars=\"' + flashvars + '\" width=\"100%\" height=\"100%\" ' + id + ' align=\"middle\" type=\"application/x-shockwave-flash\" pluginspage=\"' + flashplayerUrl + '\" />';\n\t\t\thtml += '</object>';\n\t\t\tthis.PD.innerHTML = html;\n\t\t\tthis.V = this.getObjectById(vid); //V：定义播放器对象全局变量\n\t\t\tthis.playerType = 'flashplayer';\n\t\t},\n\t\t/*\n\t\t\t判断浏览器是否支持flashplayer \n\t\t*/\n\t\tcheckShockwaveFlash:function(){\n\t\t\tif(window.ActiveXObject) {\n\t\t\t\ttry {\n\t\t\t\t\tvar s = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n\t\t\t\t\tif(s) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {}\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tvar s = navigator.plugins['Shockwave Flash'];\n\t\t\t\t\tif(s) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将vars对象转换成字符\n\t\t*/\n\t\tgetFlashVars: function() {\n\t\t\tthis.getVarsObject();\n\t\t\tvar v = this.vars;\n\t\t\tvar z = '';\n\t\t\tfor (k in v) {\n\t\t\t\tif (k != 'flashplayer' && k != 'container' && v[k] != '') {\n\t\t\t\t\tif (z != '') {\n\t\t\t\t\t\tz += '&';\n\t\t\t\t\t}\n\t\t\t\t\tvar vk = v[k];\n\t\t\t\t\tif (vk == true) {\n\t\t\t\t\t\tvk = 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (vk == false) {\n\t\t\t\t\t\tvk = 0;\n\t\t\t\t\t}\n\t\t\t\t\tz += k + '=' + vk;\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (!v.hasOwnProperty('volume') || !v['volume']) {\n\t\t\t\tif (z != '') {\n\t\t\t\t\tz += '&';\n\t\t\t\t}\n\t\t\t\tz += 'volume=0';\n\t\t\t}\n\t\t\treturn z;\n\t\t},\n\t\t/*判断字符串是否是图片*/\n\t\tisStrImage: function(s) {\n\t\t\tif (s == 'jpg' || s == 'jpeg' || s == 'png' || s == 'svg' || s == 'gif') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将vars格式化成flash能接受的对象。再由getFlashVars函数转化成字符串或由newVideo直接使用\n\t\t*/\n\t\tgetVarsObject: function() {\n\t\t\tvar v = this.vars;\n\t\t\tvar f = '',\n\t\t\td = '',\n\t\t\tw = ''; //f=视频地址，d=清晰度地址,w=权重，z=最终地址\n\t\t\tvar arr = this.VA;\n\t\t\tvar prompt = v['promptSpot'];\n\t\t\tvar i = 0;\n\t\t\tvar video = this.vars['video'];\n\t\t\tif (this.varType(video) == 'array') { //对象或数组\n\t\t\t\tvar arr = video;\n\t\t\t\tfor (i = 0; i < arr.length; i++) {\n\t\t\t\t\tvar arr2 = arr[i];\n\t\t\t\t\tif (arr2) {\n\t\t\t\t\t\tif (f != '') {\n\t\t\t\t\t\t\tf += this.ckConfig['config']['split'];\n\t\t\t\t\t\t\td += ',';\n\t\t\t\t\t\t\tw += ',';\n\t\t\t\t\t\t\tv['type'] += this.ckConfig['config']['split'];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tf += encodeURIComponent(decodeURIComponent(arr2[0]));\n\t\t\t\t\t\td += arr2[2];\n\t\t\t\t\t\tw += arr2[3];\n\t\t\t\t\t\tv['type'] += arr2[1].replace('video/', '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (this.varType(video) == 'object') { //对象或数组\n\t\t\t\tf = encodeURIComponent(decodeURIComponent(video['file']));\n\t\t\t\tif (!this.isUndefined(video['type'])) {\n\t\t\t\t\tv['type'] = video['type'];\n\t\t\t\t}\n\t\t\t\td = '';\n\t\t\t\tw = '';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tf = encodeURIComponent(decodeURIComponent(video));\n\t\t\t}\n\t\t\tif (v['preview'] != null) {\n\t\t\t\tv['previewscale'] = v['preview']['scale'];\n\t\t\t\tv['preview'] = v['preview']['file'].join(',');\n\n\t\t\t}\n\t\t\tif (prompt != null) {\n\t\t\t\tv['promptspot'] = '';\n\t\t\t\tv['promptspottime'] = '';\n\t\t\t\tfor (i = 0; i < prompt.length; i++) {\n\t\t\t\t\tif (v['promptspot'] != '') {\n\t\t\t\t\t\tv['promptspot'] += ',';\n\t\t\t\t\t\tv['promptspottime'] += ',';\n\t\t\t\t\t}\n\t\t\t\t\tv['promptspot'] += prompt[i]['words'];\n\t\t\t\t\tv['promptspottime'] += prompt[i]['time'];\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tif (f != '') {\n\t\t\t\tv['video'] = f;\n\t\t\t\tv['definition'] = d;\n\t\t\t\tv['weight'] = w;\n\t\t\t}\n\t\t\tif (!v['volume']) {\n\t\t\t\tv['volume'] = 0;\n\t\t\t}\n\t\t\tvar newV = {};\n\n\t\t\tfor (var k in v) {\n\t\t\t\tif (v[k] != null) {\n\t\t\t\t\tnewV[k] = v[k];\n\t\t\t\t}\n\t\t\t\tif (k == 'type') {\n\t\t\t\t\tnewV[k] = v[k].replace('video/m3u8', 'm3u8');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.vars = newV;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t将embedSWF里的param的对象进行转换\n\t\t*/\n\t\tgetFlashplayerParam: function() {\n\t\t\tvar w = '',\n\t\t\tv = '',\n\t\t\to = {\n\t\t\t\tallowScriptAccess: 'always',\n\t\t\t\tallowFullScreen: true,\n\t\t\t\tquality: 'high',\n\t\t\t\tbgcolor: '#000'\n\t\t\t};\n\t\t\tfor (var e in o) {\n\t\t\t\tw += e + '=\"' + o[e] + '\" ';\n\t\t\t\tv += '<param name=\"' + e + '\" value=\"' + o[e] + '\" />';\n\t\t\t}\n\t\t\tw = w.replace('movie=', 'src=');\n\t\t\treturn {\n\t\t\t\tw: w,\n\t\t\t\tv: v\n\t\t\t};\n\t\t},\n\n\t\t/*\n\t\t\t操作动作结束\n\t\t\t-----------------------------------------------------------------------\n\t\t\t\n\t\t\t接口函数\n\t\t\t获取元数据部分\n\t\t*/\n\t\tgetMetaDate: function() {\n\t\t\tif (!this.loaded || this.V == null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\tvar duration = 0;\n\t\t\t\ttry {\n\t\t\t\t\tduration = !isNaN(this.V.duration) ? this.V.duration: 0;\n\t\t\t\t\tif (isNaN(duration) || parseInt(duration) < 0.2) {\n\t\t\t\t\t\tif(this.vars['duration']>0){\n\t\t\t\t\t\t\tduration=this.vars['duration'];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(this.vars['forceduration']>0){\n\t\t\t\t\t\tduration=this.vars['forceduration'];\n\t\t\t\t\t}\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t\tvar data = {\n\t\t\t\t\tduration: duration,\n\t\t\t\t\tvolume: this.V.volume,\n\t\t\t\t\tplaybackRate: this.V.playbackRate,\n\t\t\t\t\twidth: this.PD.offsetWidth || this.V.offsetWidth || this.V.width,\n\t\t\t\t\theight: this.PD.offsetHeight || this.V.offsetHeight || this.V.height,\n\t\t\t\t\tstreamWidth: this.V.videoWidth,\n\t\t\t\t\tstreamHeight: this.V.videoHeight,\n\t\t\t\t\tvideoWidth: this.V.offsetWidth,\n\t\t\t\t\tvideoHeight: this.V.offsetHeight,\n\t\t\t\t\tpaused: this.V.paused,\n\t\t\t\t\tloadTime:this.loadTimeTemp\n\t\t\t\t};\n\t\t\t\treturn data;\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\treturn this.V.getMetaDate();\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t取当前提供给播放器播放的视频列表\n\t\t*/\n\t\tgetVideoUrl: function() {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getVideoUrl();\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (this.V.src) {\n\t\t\t\tarr.push(this.V.src);\n\t\t\t} else {\n\t\t\t\tvar uArr = this.V.childNodes;\n\t\t\t\tfor (var i = 0; i < uArr.length; i++) {\n\t\t\t\t\tarr.push(uArr[i].src);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t格式化函数\n\t\t*/\n\t\tclickEvent: function(call) {\n\t\t\tif (call == 'none' || call == '' || call == null) {\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'none'\n\t\t\t\t};\n\t\t\t}\n\t\t\tvar callArr = call.split('->');\n\t\t\tvar type = '',\n\t\t\tfun = '',\n\t\t\tlink = '',\n\t\t\ttarget = '';\n\t\t\tif (callArr.length == 2) {\n\t\t\t\tvar callM = callArr[0];\n\t\t\t\tvar callE = callArr[1];\n\t\t\t\tif (!callE) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'none'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tvar val = '';\n\t\t\t\tvar eArr = [];\n\t\t\t\ttype = callM;\n\t\t\t\tswitch (callM) {\n\t\t\t\tcase 'actionScript':\n\t\t\t\t\t//trace(THIS.hasOwnProperty(callE));\n\t\t\t\t\tif (callE.indexOf('(') > -1) {\n\t\t\t\t\t\teArr = callE.split('(');\n\t\t\t\t\t\tcallE = eArr[0];\n\t\t\t\t\t\tval = eArr[1].replace(')', '');\n\t\t\t\t\t}\n\t\t\t\t\tif (val == '') {\n\t\t\t\t\t\tfun = 'thisTemp.' + callE + '()';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfun = 'thisTemp.' + callE + '(' + val + ')';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'javaScript':\n\t\t\t\t\tif (callE.substr(0, 11) == '[flashvars]') {\n\t\t\t\t\t\tcallE = callE.substr(11);\n\t\t\t\t\t\tif (this.vars.hasOwnProperty(callE)) {\n\t\t\t\t\t\t\tcallE = this.vars[callE];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif (callE.indexOf('(') > -1) {\n\t\t\t\t\t\teArr = callE.split('(');\n\t\t\t\t\t\tcallE = eArr[0];\n\t\t\t\t\t\tval = eArr[1].replace(')', '');\n\t\t\t\t\t}\n\t\t\t\t\tif (val == '') {\n\t\t\t\t\t\tfun = callE + '()';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfun = callE + '(' + val + ')';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"link\":\n\t\t\t\t\tvar callLink = (callE + ',').split(',');\n\t\t\t\t\tif (callLink[0].substr(0, 11) == '[flashvars]') {\n\t\t\t\t\t\tvar fl = callLink[0].replace('[flashvars]', '');\n\t\t\t\t\t\tif (this.vars.hasOwnProperty(fl)) {\n\t\t\t\t\t\t\tcallLink[0] = this.vars[fl];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!callLink[1]) {\n\t\t\t\t\t\tcallLink[1] = '_blank';\n\t\t\t\t\t}\n\t\t\t\t\tlink = callLink[0];\n\t\t\t\t\ttarget = callLink[1];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\ttype: type,\n\t\t\t\tfun: fun,\n\t\t\t\tlink: link,\n\t\t\t\ttarget: target\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据指定的align,valign,offsetX,offsetY计算坐标\n\t\t*/\n\t\tgetPosition: function(obj,rEle) {\n\t\t\t/*\n\t\t\t{\n\t            \"align\": \"right\",\n\t            \"vAlign\": \"right\",\n\t            \"offsetX\": -60,\n\t            \"offsetY\": -60\n\t        } \n\t\t\t*/\n\t\t\tvar pw = this.PD.offsetWidth,\n\t\t\tph = this.PD.offsetHeight;\n\t\t\tvar x = 0,\n\t\t\ty = 0;\n\t\t\tvar left=0,top=0,rw=0,rh=0;\n\t\t\tif(!this.isUndefined(rEle)){\n\t\t\t\tleft=parseInt(this.css(rEle,'left')),top=parseInt(this.css(rEle,'top')),rw=rEle.offsetWidth,rh=rEle.offsetHeight;\n\t\t\t}\n\t\t\tswitch (obj['align']) {\n\t\t\t\tcase 'left':\n\t\t\t\t\tx = obj['offsetX']+left;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'center':\n\t\t\t\t\tx = pw * 0.5 + obj['offsetX'];\n\t\t\t\t\tif(left){\n\t\t\t\t\t\tx-=(pw*0.5-rw*0.5-left);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tx = pw + obj['offsetX'];\n\t\t\t\t\tif(left){\n\t\t\t\t\t\tx-=(pw-left-rw);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tswitch (obj['vAlign']) {\n\t\t\t\tcase 'top':\n\t\t\t\t\ty = obj['offsetY']+top;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'middle':\n\t\t\t\t\ty = ph * 0.5 + obj['offsetY']-top-(rh*0.5);\n\t\t\t\t\tif(top){\n\t\t\t\t\t\tx-=(ph*0.5-rh*0.5-top);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'bottom':\n\t\t\t\t\ty = ph + obj['offsetY'];\n\t\t\t\t\tif(top){\n\t\t\t\t\t\ty-=(ph-top-rh);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t向播放器界面添加一个文本\n\t\t*/\n\t\taddElement: function(attribute) {\n\t\t\tvar thisTemp = this;\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.addElement(attribute);\n\t\t\t}\n\t\t\tvar i = 0;\n\t\t\tvar obj = {\n\t\t\t\tlist: null,\n\t\t\t\tx: '100%',\n\t\t\t\ty: \"50%\",\n\t\t\t\tposition: null,\n\t\t\t\talpha: 1,\n\t\t\t\tbackgroundColor: '',\n\t\t\t\tbackAlpha: 1,\n\t\t\t\tbackRadius: 0,\n\t\t\t\tclickEvent: ''\n\t\t\t};\n\t\t\tobj = this.standardization(obj, attribute);\n\t\t\tvar list = obj['list'];\n\t\t\tif (list == null) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tvar id = 'element-' + this.randomString(10);\n\t\t\tvar ele = document.createElement('div');\n\t\t\tele.className = id;\n\t\t\tif (obj['x']) {\n\t\t\t\tele.setAttribute('data-x', obj['x']);\n\t\t\t}\n\t\t\tif (obj['y']) {\n\t\t\t\tele.setAttribute('data-y', obj['y']);\n\t\t\t}\n\t\t\tif (obj['position'] != null) {\n\t\t\t\tele.setAttribute('data-position', obj['position'].join(','));\n\t\t\t}\n\n\t\t\tthis.PD.appendChild(ele);\n\t\t\tthis.css(ele, {\n\t\t\t\tposition: 'absolute',\n\t\t\t\tfilter: 'alpha(opacity:' + obj['alpha'] + ')',\n\t\t\t\topacity: obj['alpha'].toString(),\n\t\t\t\twidth: '800px',\n\t\t\t\tzIndex: '20'\n\t\t\t});\n\t\t\tvar bgid = 'elementbg' + this.randomString(10);\n\t\t\tvar bgAlpha = obj['alpha'].toString();\n\t\t\tvar bgColor = obj['backgroundColor'].replace('0x', '#');\n\t\t\tvar html = '';\n\t\t\tvar idArr = [];\n\t\t\tvar clickArr = [];\n\t\t\tif (!this.isUndefined(list) && list.length > 0) {\n\t\t\t\tvar textObj, returnObj, clickEvent;\n\t\t\t\tfor (i = 0; i < list.length; i++) {\n\t\t\t\t\tvar newEleid = 'elementnew' + this.randomString(10);\n\t\t\t\t\tswitch (list[i]['type']) {\n\t\t\t\t\tcase 'image':\n\t\t\t\t\tcase 'png':\n\t\t\t\t\tcase 'jpg':\n\t\t\t\t\tcase 'jpeg':\n\t\t\t\t\tcase 'gif':\n\t\t\t\t\t\ttextObj = {\n\t\t\t\t\t\t\ttype: 'image',\n\t\t\t\t\t\t\tfile: '',\n\t\t\t\t\t\t\tradius: 0,//圆角弧度\n\t\t\t\t\t\t\twidth: 30,//定义宽，必需要定义\n\t\t\t\t\t\t\theight: 30,//定义高，必需要定义\n\t\t\t\t\t\t\talpha: 1,//透明度\n\t\t\t\t\t\t\tpaddingLeft: 0,//左边距离\n\t\t\t\t\t\t\tpaddingRight: 0,//右边距离\n\t\t\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\t\t\tmarginLeft: 0,\n\t\t\t\t\t\t\tmarginRight: 0,\n\t\t\t\t\t\t\tmarginTop: 0,\n\t\t\t\t\t\t\tmarginBottom: 0,\n\t\t\t\t\t\t\tbackgroundColor: '',\n\t\t\t\t\t\t\tclickEvent: ''\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tlist[i] = this.standardization(textObj, list[i]);\n\t\t\t\t\t\tclickEvent = this.clickEvent(list[i]['clickEvent']);\n\t\t\t\t\t\tclickArr.push(clickEvent);\n\t\t\t\t\t\tif (clickEvent['type'] == 'link') {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><a href=\"' + clickEvent['link'] + '\" target=\"' + clickEvent['target'] + '\"><img class=\"' + newEleid + '_image\" src=\"' + list[i]['file'] + '\" style=\"border:0;\"></a></div>';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><img class=\"' + newEleid + '_image\" src=\"' + list[i]['file'] + '\" style=\"border:0;\"></div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'text':\n\t\t\t\t\t\ttextObj = {\n\t\t\t\t\t\t\ttype: 'text',//说明是文本\n\t\t\t\t\t\t\ttext: '',//文本内容\n\t\t\t\t\t\t\tcolor: '0xFFFFFF',\n\t\t\t\t\t\t\tsize: 14,\n\t\t\t\t\t\t\tfontFamily: this.fontFamily,\n\t\t\t\t\t\t\tleading: 0,\n\t\t\t\t\t\t\talpha: 1,//透明度\n\t\t\t\t\t\t\tpaddingLeft: 0,//左边距离\n\t\t\t\t\t\t\tpaddingRight: 0,//右边距离\n\t\t\t\t\t\t\tpaddingTop: 0,\n\t\t\t\t\t\t\tpaddingBottom: 0,\n\t\t\t\t\t\t\tmarginLeft: 0,\n\t\t\t\t\t\t\tmarginRight: 0,\n\t\t\t\t\t\t\tmarginTop: 0,\n\t\t\t\t\t\t\tmarginBottom: 0,\n\t\t\t\t\t\t\tbackgroundColor: '',\n\t\t\t\t\t\t\tbackAlpha: 1,\n\t\t\t\t\t\t\tbackRadius: 0,//背景圆角弧度，支持数字统一设置，也支持分开设置[30,20,20,50]，对应上左，上右，下右，下左\n\t\t\t\t\t\t\tclickEvent: ''\n\t\t\t\t\t\t};\n\t\t\t\t\t\tlist[i] = this.standardization(textObj, list[i]);\n\t\t\t\t\t\tclickEvent = this.clickEvent(list[i]['clickEvent']);\n\t\t\t\t\t\tclickArr.push(clickEvent);\n\t\t\t\t\t\tif (clickEvent['type'] == 'link') {\n\t\t\t\t\t\t\thtml += '<div class=\"' + newEleid + '\" data-i=\"' + i + '\"><div class=\"' + newEleid + '_bg\"></div><div class=\"' + newEleid + '_text\"><a href=\"' + clickEvent['link'] + '\" target=\"' + clickEvent['target'] + '\">' + list[i]['text'] + '</a></div></div>';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thtml += '<div  class=\"' + newEleid + '\" data-i=\"' + i + '\"><div class=\"' + newEleid + '_bg\"></div><div class=\"' + newEleid + '_text\">' + list[i]['text'] + '</div></div>';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tidArr.push(newEleid);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar objClickEvent = this.clickEvent(obj['clickEvent']);\n\t\t\tele.innerHTML = '<div class=\"' + bgid + '\"></div><div class=\"' + bgid + '_c\">' + html + '</div>';\n\t\t\tif (objClickEvent['type'] == 'javaScript' || objClickEvent['type'] == 'actionScript') {\n\t\t\t\tvar objClickHandler = function() {\n\t\t\t\t\teval(objClickEvent['fun']);\n\t\t\t\t\tthisTemp.sendJS('clickEvent', clk['type'] + '->' + clk['fun'].replace('thisTemp.', '').replace('()', ''));\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('click', objClickHandler, this.getByElement(bgid + '_c'))\n\t\t\t}\n\t\t\tthis.css(bgid + '_c', {\n\t\t\t\tposition: 'absolute',\n\t\t\t\tzIndex: '2'\n\t\t\t});\n\t\t\tfor (i = 0; i < idArr.length; i++) {\n\t\t\t\tvar clk = clickArr[i];\n\t\t\t\tif (clk['type'] == 'javaScript' || clk['type'] == 'actionScript') {\n\t\t\t\t\tvar clickHandler = function() {\n\t\t\t\t\t\t//clk = clickArr[this.getAttribute('data-i')];\n\t\t\t\t\t\tclk = clickArr[thisTemp.getDataset(this,'i')];\n\t\t\t\t\t\teval(clk['fun']);\n\t\t\t\t\t\tthisTemp.sendJS('clickEvent', clk['type'] + '->' + clk['fun'].replace('thisTemp.', '').replace('()', ''));\n\t\t\t\t\t};\n\t\t\t\t\tthis.addListenerInside('click', clickHandler, this.getByElement(idArr[i]))\n\t\t\t\t}\n\t\t\t\tswitch (list[i]['type']) {\n\t\t\t\tcase 'image':\n\t\t\t\tcase 'png':\n\t\t\t\tcase 'jpg':\n\t\t\t\tcase 'jpeg':\n\t\t\t\tcase 'gif':\n\t\t\t\t\tthis.css(idArr[i], {\n\t\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t\twidth: list[i]['width'] + 'px',\n\t\t\t\t\t\theight: list[i]['height'] + 'px',\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['alpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['alpha'].toString(),\n\t\t\t\t\t\tmarginLeft: list[i]['marginLeft'] + 'px',\n\t\t\t\t\t\tmarginRight: list[i]['marginRight'] + 'px',\n\t\t\t\t\t\tmarginTop: list[i]['marginTop'] + 'px',\n\t\t\t\t\t\tmarginBottom: list[i]['marginBottom'] + 'px',\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px',\n\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i] + '_image', {\n\t\t\t\t\t\twidth: list[i]['width'] + 'px',\n\t\t\t\t\t\theight: list[i]['height'] + 'px',\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'text':\n\t\t\t\t\tthis.css(idArr[i] + '_text', {\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['alpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['alpha'].toString(),\n\t\t\t\t\t\tborderRadius: list[i]['radius'] + 'px',\n\t\t\t\t\t\tfontFamily: list[i]['font'],\n\t\t\t\t\t\tfontSize: list[i]['size'] + 'px',\n\t\t\t\t\t\tcolor: list[i]['color'].replace('0x', '#'),\n\t\t\t\t\t\tlineHeight: list[i]['leading'] > 0 ? list[i]['leading'] + 'px': '',\n\t\t\t\t\t\tpaddingLeft: list[i]['paddingLeft'] + 'px',\n\t\t\t\t\t\tpaddingRight: list[i]['paddingRight'] + 'px',\n\t\t\t\t\t\tpaddingTop: list[i]['paddingTop'] + 'px',\n\t\t\t\t\t\tpaddingBottom: list[i]['paddingBottom'] + 'px',\n\t\t\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tzIndex: '3',\n\t\t\t\t\t\tcursor: 'pointer'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i], {\n\t\t\t\t\t\tfloat: 'left',\n\t\t\t\t\t\twidth: this.getByElement(idArr[i] + '_text').offsetWidth + 'px',\n\t\t\t\t\t\theight: this.getByElement(idArr[i] + '_text').offsetHeight + 'px',\n\t\t\t\t\t\tmarginLeft: list[i]['marginLeft'] + 'px',\n\t\t\t\t\t\tmarginRight: list[i]['marginRight'] + 'px',\n\t\t\t\t\t\tmarginTop: list[i]['marginTop'] + 'px',\n\t\t\t\t\t\tmarginBottom: list[i]['marginBottom'] + 'px'\n\t\t\t\t\t});\n\t\t\t\t\tthis.css(idArr[i] + '_bg', {\n\t\t\t\t\t\twidth: this.getByElement(idArr[i] + '_text').offsetWidth + 'px',\n\t\t\t\t\t\theight: this.getByElement(idArr[i] + '_text').offsetHeight + 'px',\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + list[i]['backAlpha'] + ')',\n\t\t\t\t\t\topacity: list[i]['backAlpha'].toString(),\n\t\t\t\t\t\tborderRadius: list[i]['backRadius'] + 'px',\n\t\t\t\t\t\tbackgroundColor: list[i]['backgroundColor'].replace('0x', '#'),\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tzIndex: '2'\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.css(bgid, {\n\t\t\t\twidth: this.getByElement(bgid + '_c').offsetWidth + 'px',\n\t\t\t\theight: this.getByElement(bgid + '_c').offsetHeight + 'px',\n\t\t\t\tposition: 'absolute',\n\t\t\t\tfilter: 'alpha(opacity:' + bgAlpha + ')',\n\t\t\t\topacity: bgAlpha,\n\t\t\t\tbackgroundColor: bgColor.replace('0x', '#'),\n\t\t\t\tborderRadius: obj['backRadius'] + 'px',\n\t\t\t\tzIndex: '1'\n\t\t\t});\n\t\t\tthis.css(ele, {\n\t\t\t\twidth: this.getByElement(bgid).offsetWidth + 'px',\n\t\t\t\theight: this.getByElement(bgid).offsetHeight + 'px'\n\t\t\t});\n\t\t\tvar eidCoor = this.calculationCoor(ele);\n\t\t\tthis.css(ele, {\n\t\t\t\tleft: eidCoor['x'] + 'px',\n\t\t\t\ttop: eidCoor['y'] + 'px'\n\t\t\t});\n\n\t\t\tthis.elementArr.push(ele.className);\n\t\t\treturn ele;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t获取元件的属性，包括x,y,width,height,alpha\n\t\t*/\n\t\tgetElement: function(element) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.getElement(element);\n\t\t\t}\n\t\t\tvar ele = element;\n\t\t\tif (this.varType(element) == 'string') {\n\t\t\t\tele = this.getByElement(element);\n\t\t\t}\n\t\t\tvar coor = this.getCoor(ele);\n\t\t\treturn {\n\t\t\t\tx: coor['x'],\n\t\t\t\ty: coor['y'],\n\t\t\t\twidth: ele.offsetWidth,\n\t\t\t\theight: ele.offsetHeight,\n\t\t\t\talpha: !this.isUndefined(this.css(ele, 'opacity')) ? parseFloat(this.css(ele, 'opacity')) : 1,\n\t\t\t\tshow: this.css(ele, 'display') == 'none' ? false: true\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t控制元件显示和隐藏\n\t\t*/\n\t\telementShow: function(element, show) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.elementShow(element, show);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.varType(element) == 'string') {\n\t\t\t\tif (element) {\n\t\t\t\t\tthis.css(ele, 'display', show == true ? 'block': 'none');\n\t\t\t\t} else {\n\t\t\t\t\tvar arr = this.elementTempArr;\n\t\t\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\t\t\tthis.css(arr[i], 'display', show == true ? 'block': 'none');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据节点的x,y计算在播放器里的坐标\n\t\t*/\n\t\tcalculationCoor: function(ele) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.calculationCoor(ele);\n\t\t\t}\n\t\t\tif(this.isUndefined(ele)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (ele == []) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar x, y, position = [];\n\t\t\tvar w = this.PD.offsetWidth,\n\t\t\th = this.PD.offsetHeight;\n\t\t\tvar ew = ele.offsetWidth,\n\t\t\teh = ele.offsetHeight;\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'x'))) {\n\t\t\t\tx = this.getDataset(ele, 'x');\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'y'))) {\n\t\t\t\ty = this.getDataset(ele, 'y');\n\t\t\t}\n\t\t\tif (!this.isUndefined(this.getDataset(ele, 'position'))) {\n\t\t\t\ttry {\n\t\t\t\t\tposition = this.getDataset(ele, 'position').toString().split(',');\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t\tif (position.length > 0) {\n\t\t\t\tposition.push(null, null, null, null);\n\t\t\t\tvar i = 0;\n\t\t\t\tfor (i = 0; i < position.length; i++) {\n\t\t\t\t\tif (this.isUndefined(position[i]) || position[i] == null || position[i] == 'null' || position[i] == '') {\n\t\t\t\t\t\tposition[i] = null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition[i] = parseFloat(position[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (position[2] == null) {\n\t\t\t\t\tswitch (position[0]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tx = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tx = parseInt((w - ew) * 0.5);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tx = w - ew;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (position[0]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\tx = position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tx = parseInt(w * 0.5) + position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tx = w + position[2];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (position[3] == null) {\n\t\t\t\t\tswitch (position[1]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\ty = 0;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ty = parseInt((h - eh) * 0.5);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ty = h - eh;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tswitch (position[1]) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\t\ty = position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ty = parseInt(h * 0.5) + position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\ty = h + position[3];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (x.substring(x.length - 1, x.length) == '%') {\n\t\t\t\t\tx = Math.floor(parseInt(x.substring(0, x.length - 1)) * w * 0.01);\n\t\t\t\t}\n\t\t\t\tif (y.substring(y.length - 1, y.length) == '%') {\n\t\t\t\t\ty = Math.floor(parseInt(y.substring(0, y.length - 1)) * h * 0.01);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t修改新增元件的坐标\n\t\t*/\n\t\tchangeElementCoor: function() {\n\t\t\tfor (var i = 0; i < this.elementArr.length; i++) {\n\t\t\t\tif(!this.isUndefined(this.getByElement(this.elementArr[i]))){\n\t\t\t\t\tif (this.getByElement(this.elementArr[i]) != []) {\n\t\t\t\t\t\tvar c = this.calculationCoor(this.getByElement(this.elementArr[i]));\n\t\t\t\t\t\tif (c['x'] && c['y']) {\n\t\t\t\t\t\t\tthis.css(this.elementArr[i], {\n\t\t\t\t\t\t\t\ttop: c['y'] + 'px',\n\t\t\t\t\t\t\t\tleft: c['x'] + 'px'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t缓动效果集\n\t\t*/\n\t\ttween: function() {\n\t\t\tvar Tween = {\n\t\t\t\tNone: { //均速运动\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * t / d + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuadratic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * (t /= d) * (t - 2) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t + b;\n\t\t\t\t\t\treturn - c / 2 * ((--t) * (t - 2) - 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tCubic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * t + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * t + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuartic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * ((t = t / d - 1) * t * t * t - 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;\n\t\t\t\t\t\treturn - c / 2 * ((t -= 2) * t * t * t - 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tQuintic: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * (t /= d) * t * t * t * t + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tSine: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * Math.sin(t / d * (Math.PI / 2)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tExponential: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn (t == 0) ? b: c * Math.pow(2, 10 * (t / d - 1)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn (t == d) ? b + c: c * ( - Math.pow(2, -10 * t / d) + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif (t == d) return b + c;\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n\t\t\t\t\t\treturn c / 2 * ( - Math.pow(2, -10 * --t) + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tCircular: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn - c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\treturn c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return - c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n\t\t\t\t\t\treturn c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tElastic: {\n\t\t\t\t\teaseIn: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\t\t\tif (!p) p = d * .3;\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\treturn - (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d) == 1) return b + c;\n\t\t\t\t\t\tif (!p) p = d * .3;\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\treturn (a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b);\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d, a, p) {\n\t\t\t\t\t\tif (t == 0) return b;\n\t\t\t\t\t\tif ((t /= d / 2) == 2) return b + c;\n\t\t\t\t\t\tif (!p) p = d * (.3 * 1.5);\n\t\t\t\t\t\tif (!a || a < Math.abs(c)) {\n\t\t\t\t\t\t\ta = c;\n\t\t\t\t\t\t\tvar s = p / 4;\n\t\t\t\t\t\t} else var s = p / (2 * Math.PI) * Math.asin(c / a);\n\t\t\t\t\t\tif (t < 1) return - .5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n\t\t\t\t\t\treturn a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * .5 + c + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tBack: {\n\t\t\t\t\teaseIn: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\treturn c * (t /= d) * t * ((s + 1) * t - s) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\treturn c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d, s) {\n\t\t\t\t\t\tif (s == undefined) s = 1.70158;\n\t\t\t\t\t\tif ((t /= d / 2) < 1) return c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b;\n\t\t\t\t\t\treturn c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tBounce: {\n\t\t\t\t\teaseIn: function(t, b, c, d) {\n\t\t\t\t\t\treturn c - Tween.Bounce.easeOut(d - t, 0, c, d) + b;\n\t\t\t\t\t},\n\t\t\t\t\teaseOut: function(t, b, c, d) {\n\t\t\t\t\t\tif ((t /= d) < (1 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * t * t) + b;\n\t\t\t\t\t\t} else if (t < (2 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (1.5 / 2.75)) * t + .75) + b;\n\t\t\t\t\t\t} else if (t < (2.5 / 2.75)) {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (2.25 / 2.75)) * t + .9375) + b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn c * (7.5625 * (t -= (2.625 / 2.75)) * t + .984375) + b;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\teaseInOut: function(t, b, c, d) {\n\t\t\t\t\t\tif (t < d / 2) return Tween.Bounce.easeIn(t * 2, 0, c, d) * .5 + b;\n\t\t\t\t\t\telse return Tween.Bounce.easeOut(t * 2 - d, 0, c, d) * .5 + c * .5 + b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn Tween;\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t缓动效果\n\t\t\tele:Object=需要缓动的对象,\n\t\t\tparameter:String=需要改变的属性：x,y,width,height,alpha,\n\t\t\teffect:String=效果名称,\n\t\t\tstart:Int=起始值,\n\t\t\tend:Int=结束值,\n\t\t\tspeed:Number=运动的总秒数，支持小数\n\t\t*/\n\t\tanimate: function(attribute) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\treturn this.V.animate(attribute);\n\t\t\t}\n\t\t\tvar thisTemp = this;\n\t\t\tvar animateId = 'animate_' + this.randomString();\n\t\t\tvar obj = {\n\t\t\t\telement: null,\n\t\t\t\tparameter: 'x',\n\t\t\t\tstatic: false,\n\t\t\t\teffect: 'None.easeIn',\n\t\t\t\tstart: null,\n\t\t\t\tend: null,\n\t\t\t\tspeed: 0,\n\t\t\t\toverStop: false,\n\t\t\t\tpauseStop: false,\n\t\t\t\t//暂停播放时缓动是否暂停\n\t\t\t\tcallBack: null\n\t\t\t};\n\t\t\tobj = this.standardization(obj, attribute);\n\t\t\tif (obj['element'] == null || obj['speed'] == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar w = this.PD.offsetWidth,\n\t\t\th = this.PD.offsetHeight;\n\t\t\tvar effArr = (obj['effect'] + '.').split('.');\n\t\t\tvar tweenFun = this.tween()[effArr[0]][effArr[1]];\n\t\t\tvar eleCoor = {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t};\n\t\t\tif (this.isUndefined(tweenFun)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t//先将该元件从元件数组里删除，让其不再跟随播放器的尺寸改变而改变位置\n\t\t\tvar def = this.arrIndexOf(this.elementArr, obj['element'].className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementTempArr.push(obj['element'].className);\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\t//var run = true;\n\t\t\tvar css = {};\n\t\t\t//对传递的参数进行转化，x和y转化成left,top\n\t\t\tvar pm = this.getElement(obj['element']); //包含x,y,width,height,alpha属性\n\t\t\tvar t = 0; //当前时间\n\t\t\tvar b = 0; //初始值\n\t\t\tvar c = 0; //变化量\n\t\t\tvar d = obj['speed'] * 1000; //持续时间\n\t\t\tvar timerTween = null;\n\t\t\tvar tweenObj = null;\n\t\t\tvar start = obj['start'] == null ? '': obj['start'].toString();\n\t\t\tvar end = obj['end'] == null ? '': obj['end'].toString();\n\t\t\tswitch (obj['parameter']) {\n\t\t\tcase 'x':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['x'];\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(start) * w * 0.01;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(start);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['x'] - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) * w * 0.01 - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(end);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'y':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['y'];\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(start) * h * 0.01;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(start);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['y'] - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) * h * 0.01 - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(end);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'alpha':\n\t\t\t\tif (obj['start'] == null) {\n\t\t\t\t\tb = pm['alpha'] * 100;\n\t\t\t\t} else {\n\t\t\t\t\tif (start.substring(start.length - 1, start.length) == '%') {\n\t\t\t\t\t\tb = parseInt(obj['start']);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tb = parseInt(obj['start'] * 100);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tif (obj['end'] == null) {\n\t\t\t\t\tc = pm['alpha'] * 100 - b;\n\t\t\t\t} else {\n\t\t\t\t\tif (end.substring(end.length - 1, end.length) == '%') {\n\t\t\t\t\t\tc = parseInt(end) - b;\n\t\t\t\t\t} else if (end.substring(0, 1) == '-' || end.substring(0, 1) == '+') {\n\t\t\t\t\t\tif (this.varType(obj['end']) == 'number') {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) * 100 - b;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc = parseInt(obj['end']) * 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc = parseInt(obj['end']) * 100 - b;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar callBack = function() {\n\t\t\t\tvar index = thisTemp.arrIndexOf(thisTemp.animateElementArray, animateId);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthisTemp.animateArray.splice(index, 1);\n\t\t\t\t\tthisTemp.animateElementArray.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tindex = thisTemp.arrIndexOf(thisTemp.animatePauseArray, animateId);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthisTemp.animatePauseArray.splice(index, 1);\n\t\t\t\t}\n\t\t\t\tif (obj['callBack'] != null && obj['element'] && obj['callBack'] != 'callBack' && obj['callBack'] != 'tweenX' && obj['tweenY'] != 'callBack' && obj['callBack'] != 'tweenAlpha') {\n\t\t\t\t\tvar cb = eval(obj['callBack']);\n\t\t\t\t\tcb(obj['element']);\n\t\t\t\t\tobj['callBack'] = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar stopTween = function() {\n\t\t\t\tif (timerTween != null) {\n\t\t\t\t\tif (timerTween.runing) {\n\t\t\t\t\t\ttimerTween.stop();\n\t\t\t\t\t}\n\t\t\t\t\ttimerTween = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenX = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\tleft: Math.ceil(tweenFun(t, b, c, d)) + 'px'\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['top'] = eleCoor['y'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defX = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defX > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defX, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenY = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\ttop: Math.ceil(tweenFun(t, b, c, d)) + 'px'\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['left'] = eleCoor['x'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defY = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defY > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defY, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar tweenAlpha = function() {\n\t\t\t\tif (t < d) {\n\t\t\t\t\tt += 10;\n\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\tvar ap = Math.ceil(tweenFun(t, b, c, d)) * 0.01;\n\t\t\t\t\tcss = {\n\t\t\t\t\t\tfilter: 'alpha(opacity:' + ap + ')',\n\t\t\t\t\t\topacity: ap.toString()\n\t\t\t\t\t};\n\t\t\t\t\tif (obj['static']) {\n\t\t\t\t\t\teleCoor = thisTemp.calculationCoor(obj['element']);\n\t\t\t\t\t\tcss['top'] = eleCoor['y'] + 'px';\n\t\t\t\t\t\tcss['left'] = eleCoor['x'] + 'px';\n\t\t\t\t\t}\n\t\t\t\t\tthisTemp.css(obj['element'], css);\n\t\t\t\t} else {\n\t\t\t\t\tstopTween();\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar defA = this.arrIndexOf(this.elementTempArr, obj['element'].className);\n\t\t\t\t\t\tif (defA > -1) {\n\t\t\t\t\t\t\tthis.elementTempArr.splice(defA, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch(event) {}\n\t\t\t\t\tthisTemp.elementArr.push(obj['element'].className);\n\t\t\t\t\tcallBack();\n\t\t\t\t}\n\t\t\t};\n\t\t\tswitch (obj['parameter']) {\n\t\t\t\tcase 'x':\n\t\t\t\t\ttweenObj = tweenX;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'y':\n\t\t\t\t\ttweenObj = tweenY;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'alpha':\n\t\t\t\t\ttweenObj = tweenAlpha;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\ttimerTween = new thisTemp.timer(10, tweenObj);\n\t\t\ttimerTween.callBackFunction = callBack;\n\t\t\tif (obj['overStop']) {\n\t\t\t\tvar mouseOver = function() {\n\t\t\t\t\tif (timerTween != null && timerTween.runing) {\n\t\t\t\t\t\ttimerTween.stop();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('mouseover', mouseOver, obj['element']);\n\t\t\t\tvar mouseOut = function() {\n\t\t\t\t\tvar start = true;\n\t\t\t\t\tif (obj['pauseStop'] && thisTemp.getMetaDate()['paused']) {\n\t\t\t\t\t\tstart = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (timerTween != null && !timerTween.runing && start) {\n\t\t\t\t\t\ttimerTween.start();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.addListenerInside('mouseout', mouseOut, obj['element']);\n\t\t\t}\n\n\t\t\tthis.animateArray.push(timerTween);\n\t\t\tthis.animateElementArray.push(animateId);\n\t\t\tif (obj['pauseStop']) {\n\t\t\t\tthis.animatePauseArray.push(animateId);\n\t\t\t}\n\t\t\treturn animateId;\n\t\t},\n\t\t/*\n\t\t\t接口函数函数\n\t\t\t继续运行animate\n\t\t*/\n\t\tanimateResume: function(id) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.animateResume(this.isUndefined(id) ? '': id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (id != '' && !this.isUndefined(id) && id != 'pause') {\n\t\t\t\tarr.push(id);\n\t\t\t} else {\n\t\t\t\tif (id === 'pause') {\n\t\t\t\t\tarr = this.animatePauseArray;\n\t\t\t\t} else {\n\t\t\t\t\tarr = this.animateElementArray;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar index = this.arrIndexOf(this.animateElementArray, arr[i]);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.animateArray[index].start();\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t接口函数\n\t\t\t暂停运行animate\n\t\t*/\n\t\tanimatePause: function(id) {\n\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\tthis.V.animatePause(this.isUndefined(id) ? '': id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar arr = [];\n\t\t\tif (id != '' && !this.isUndefined(id) && id != 'pause') {\n\t\t\t\tarr.push(id);\n\t\t\t} else {\n\t\t\t\tif (id === 'pause') {\n\t\t\t\t\tarr = this.animatePauseArray;\n\t\t\t\t} else {\n\t\t\t\t\tarr = this.animateElementArray;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tvar index = this.arrIndexOf(this.animateElementArray, arr[i]);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis.animateArray[index].stop();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t根据ID删除数组里对应的内容\n\t\t*/\n\t\tdeleteAnimate: function(id) {\n\t\t\tif (this.playerType == 'flashplayer' && this.V) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.deleteAnimate(id);\n\t\t\t\t} catch(event) {\n\t\t\t\t\tthis.log(event);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar index = this.arrIndexOf(this.animateElementArray, id);\n\t\t\tif (index > -1) {\n\t\t\t\tthis.animateArray[index].callBackFunction();\n\t\t\t\tthis.animateArray.splice(index, 1);\n\t\t\t\tthis.animateElementArray.splice(index, 1);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t删除外部新建的元件\n\t\t*/\n\t\tdeleteElement: function(ele) {\n\t\t\tif (this.playerType == 'flashplayer' && this.V) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.V.deleteElement(ele);\n\t\t\t\t} catch(event) {}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//先将该元件从元件数组里删除，让其不再跟随播放器的尺寸改变而改变位置\n\t\t\tvar def = this.arrIndexOf(this.elementArr, ele.className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdef = this.arrIndexOf(this.elementTempArr, ele.className);\n\t\t\t\tif (def > -1) {\n\t\t\t\t\tthis.elementTempArr.splice(def, 1);\n\t\t\t\t}\n\t\t\t} catch(event) {}\n\t\t\tthis.deleteAnimate(ele.className);\n\t\t\tthis.deleteChild(ele);\n\t\t},\n\t\t/*\n\t\t\t--------------------------------------------------------------\n\t\t\t共用函数部分\n\t\t\t以下函数并非只能在本程序中使用，也可以在页面其它项目中使用\n\t\t\t根据ID或className获取元素对象\n\t\t*/\n\t\tgetByElement: function(obj, parent) {\n\t\t\tif (this.isUndefined(parent)) {\n\t\t\t\tparent = document;\n\t\t\t}\n\t\t\tvar num = obj.substr(0, 1);\n\t\t\tvar res = [];\n\t\t\tif (num != '#') {\n\t\t\t\tif (num == '.') {\n\t\t\t\t\tobj = obj.substr(1, obj.length);\n\t\t\t\t}\n\t\t\t\tif (parent.getElementsByClassName) {\n\t\t\t\t\tres = parent.getElementsByClassName(obj);\n\t\t\t\t\tif(!res.length){\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar reg = new RegExp(' ' + obj + ' ', 'i');\n\t\t\t\t\tvar ele = parent.getElementsByTagName('*');\n\t\t\t\t\tfor (var i = 0; i < ele.length; i++) {\n\t\t\t\t\t\tif (reg.test(' ' + ele[i].className + ' ')) {\n\t\t\t\t\t\t\tres.push(ele[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (res.length > 0) {\n\t\t\t\t\tres=res[0];\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tres=null;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (num == '#') {\n\t\t\t\t\tobj = obj.substr(1, obj.length);\n\t\t\t\t}\n\t\t\t\ttry{\n\t\t\t\t\tres=document.getElementById(obj);\n\t\t\t\t}\n\t\t\t\tcatch(event){\n\t\t\t\t\tres=null;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\t\t/*\n\t\t \t共用函数\n\t\t\t功能：修改样式或获取指定样式的值，\n\t\t\t\telem：ID对象或ID对应的字符，如果多个对象一起设置，则可以使用数组\n\t\t\t\tattribute：样式名称或对象，如果是对象，则省略掉value值\n\t\t\t\tvalue：attribute为样式名称时，定义的样式值\n\t\t\t\t示例一：\n\t\t\t\tthis.css(ID,'width','100px');\n\t\t\t\t示例二：\n\t\t\t\tthis.css('id','width','100px');\n\t\t\t\t示例三：\n\t\t\t\tthis.css([ID1,ID2,ID3],'width','100px');\n\t\t\t\t示例四：\n\t\t\t\tthis.css(ID,{\n\t\t\t\t\twidth:'100px',\n\t\t\t\t\theight:'100px'\n\t\t\t\t});\n\t\t\t\t示例五(获取宽度)：\n\t\t\t\tvar width=this.css(ID,'width');\n\t\t*/\n\t\tcss: function(elem, attribute, value) {\n\t\t\tvar i = 0;\n\t\t\tvar k = '';\n\t\t\tif (this.varType(elem) == 'array') { //数组\n\t\t\t\tfor (i = 0; i < elem.length; i++) {\n\t\t\t\t\t\tvar el;\n\t\t\t\t\t\tif (typeof(elem[i]) == 'string') {\n\t\t\t\t\t\t\tel = this.getByElement(elem[i])\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tel = elem[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof(attribute) != 'object') {\n\t\t\t\t\t\t\tif (!this.isUndefined(value)) {\n\t\t\t\t\t\t\t\tel.style[attribute] = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (k in attribute) {\n\t\t\t\t\t\t\t\tif (!this.isUndefined(attribute[k])) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tel.style[k] = attribute[k];\n\t\t\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\t\t\tthis.log(event);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\n\t\t\t}\n\t\t\tif (this.varType(elem) == 'string') {\n\t\t\t\telem = this.getByElement(elem);\n\t\t\t}\n\t\t\tif (this.varType(attribute) != 'object') {\n\t\t\t\tif (!this.isUndefined(value)) {\n\t\t\t\t\telem.style[attribute] = value;\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.isUndefined(this.getStyle(elem, attribute))) {\n\t\t\t\t\t\treturn this.getStyle(elem, attribute);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (k in attribute) {\n\t\t\t\t\tif (!this.isUndefined(attribute[k])) {\n\t\t\t\t\t\telem.style[k] = attribute[k];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t兼容型获取style\n\t\t*/\n\t\tgetStyle: function(obj, attr) {\n\t\t\tif (!this.isUndefined(obj.style[attr])) {\n\t\t\t\treturn obj.style[attr];\n\t\t\t} else {\n\t\t\t\tif (obj.currentStyle) {\n\t\t\t\t\treturn obj.currentStyle[attr];\n\t\t\t\t} else {\n\t\t\t\t\treturn getComputedStyle(obj, false)[attr];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断变量是否存在或值是否为undefined\n\t\t*/\n\t\tisUndefined: function(value) {\n\t\t\ttry {\n\t\t\t\tif (value === 'undefined' || value === undefined || value === null || value === 'NaN' || value === NaN) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} catch(event) {\n\t\t\t\tthis.log(event);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t \t共用函数\n\t\t\t外部监听函数\n\t\t*/\n\t\taddListener: function(name, funName) {\n\t\t\tif (name && funName) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tvar ff = ''; //定义用来向flashplayer传递的函数字符\n\t\t\t\t\tif (this.varType(funName) == 'function') {\n\t\t\t\t\t\tff = this.getParameterNames(funName);\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.addListener(name, ff);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar have = false;\n\t\t\t\tfor (var i = 0; i < this.listenerJsArr.length; i++) {\n\t\t\t\t\tvar arr = this.listenerJsArr[i];\n\t\t\t\t\tif (arr[0] == name && arr[1] == funName) {\n\t\t\t\t\t\thave = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!have) {\n\t\t\t\t\tthis.listenerJsArr.push([name, funName]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t外部删除监听函数\n\t\t*/\n\t\tremoveListener: function(name, funName) {\n\t\t\tif (name && funName) {\n\t\t\t\tif (this.playerType == 'flashplayer') {\n\t\t\t\t\tvar ff = ''; //定义用来向flashplayer传递的函数字符\n\t\t\t\t\tif (this.varType(funName) == 'function') {\n\t\t\t\t\t\tff = this.getParameterNames(funName);\n\t\t\t\t\t}\n\t\t\t\t\tthis.V.removeListener(name, ff);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfor (var i = 0; i < this.listenerJsArr.length; i++) {\n\t\t\t\t\tvar arr = this.listenerJsArr[i];\n\t\t\t\t\tif (arr[0] == name && arr[1] == funName) {\n\t\t\t\t\t\tthis.listenerJsArr.splice(i, 1);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内部监听函数，调用方式：\n\t\t\tthis.addListenerInside('click',function(event){},[ID]);\n\t\t\td值为空时，则表示监听当前的视频播放器\n\t\t*/\n\t\taddListenerInside: function(e, f, d, t) {\n\t\t\tif (this.isUndefined(t)) {\n\t\t\t\tt = false;\n\t\t\t}\n\t\t\tvar o = this.V;\n\t\t\tif (!this.isUndefined(d)) {\n\t\t\t\to = d;\n\t\t\t}\n\t\t\tif (o.addEventListener) {\n\t\t\t\ttry {\n\t\t\t\t\to.addEventListener(e, f, t);\n\t\t\t\t} catch(event) {this.log(event)}\n\t\t\t} else if (o.attachEvent) {\n\t\t\t\ttry {\n\t\t\t\t\to.attachEvent('on' + e, f);\n\t\t\t\t} catch(event) {this.log(event)}\n\t\t\t} else {\n\t\t\t\to['on' + e] = f;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t删除内部监听函数，调用方式：\n\t\t\tthis.removeListenerInside('click',function(event){}[,ID]);\n\t\t\td值为空时，则表示监听当前的视频播放器\n\t\t*/\n\t\tremoveListenerInside: function(e, f, d, t) {\n\t\t\t/*if(this.playerType=='flashplayer' && this.getParameterNames(f) && this.isUndefined(d)) {\n\t\t\t\treturn;\n\t\t\t}*/\n\t\t\tif (this.isUndefined(t)) {\n\t\t\t\tt = false;\n\t\t\t}\n\t\t\tvar o = this.V;\n\t\t\tif (!this.isUndefined(d)) {\n\t\t\t\to = d;\n\t\t\t}\n\t\t\tif (o.removeEventListener) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.addNum--;\n\t\t\t\t\to.removeEventListener(e, f, t);\n\t\t\t\t} catch(e) {}\n\t\t\t} else if (o.detachEvent) {\n\t\t\t\ttry {\n\t\t\t\t\to.detachEvent('on' + e, f);\n\t\t\t\t} catch(e) {}\n\t\t\t} else {\n\t\t\t\to['on' + e] = null;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t统一分配监听，以达到跟as3同样效果\n\t\t*/\n\t\tsendJS: function(name, val) {\n\t\t\tif (this.adPlayerPlay && name.substr( - 2) != 'Ad') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.isUndefined(name)){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar list = this.listenerJsArr;\n\t\t\tvar obj = this.vars['variable'];\n\t\t\tif(this.vars['debug']){\n\t\t\t\tthis.log(name+':'+val);\n\t\t\t}\n\t\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\t\tvar arr = list[i];\t\t\t\t\n\t\t\t\tif (arr[0] == name) {\n\t\t\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\t\t\tswitch (arr[1].length) {\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\tarr[1](val);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tarr[1](val, obj);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tarr[1]();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarr[1](obj);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取函数名称，如 function ckplayer(){} var fun=ckplayer，则getParameterNames(fun)=ckplayer\n\t\t*/\n\t\tgetParameterNames: function(fn) {\n\t\t\tif (this.varType(fn) !== 'function') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\n\t\t\tvar code = fn.toString().replace(COMMENTS, '');\n\t\t\tvar result = code.slice(code.indexOf(' ') + 1, code.indexOf('('));\n\t\t\treturn result === null ? false: result;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t时间替换\n\t\t*/\n\t\treplaceTime:function(str,obj){\n\t\t\t//var timeStrArr = ['[$timeh]', '[$timei]', '[$timeI]', '[$times]', '[$timeS]', '[$durationh]', '[$durationi]', '[$durationI]', '[$durations]', '[$durationS]','[$liveTimey]', '[$liveTimeY]', '[$liveTimem]', '[$liveTimed]', '[$liveTimeh]', '[$liveTimei]', '[$liveTimes]', '[$liveLanguage]'];\n\t\t\tfor(var k in obj){\n\t\t\t\tstr=str.replace('[$'+k+']',obj[k])\n\t\t\t}\n\t\t\treturn str;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t格式化时分秒\n\t\t\tt:Int：秒数,dt:总时间的秒数\n\t\t*/\n\t\tformatTime: function(t,dt,str) {\n\t\t\tif (this.isUndefined(t) || isNaN(t)) {\n\t\t\t\tseconds = 0;\n\t\t\t}\n\t\t\tif (this.isUndefined(dt) || isNaN(dt)) {\n\t\t\t\tdt = 0;\n\t\t\t}\n\t\t\tvar minuteS=Math.floor(t/60);//将秒数直接转化成分钟取整，这个可以得到如80分钟\n\t\t\tvar minute=minuteS;//获取准确的分钟\n\t\t\tvar hourS=Math.floor(t/3600);//将秒数直接转化成小时取整，这个可以得到100小时\n\t\t\tvar second=t %60;\n\t\t\tif(minuteS>=60){\n\t\t\t\tminute=Math.floor(minuteS%60);\n\t\t\t}\n\t\t\t//总时间\n\t\t\tvar hminuteS=Math.floor(dt/60);//将秒数直接转化成分钟取整，这个可以得到如80分钟\n\t\t\tvar hminute=hminuteS;//获取准确的分钟\n\t\t\tvar hhourS=Math.floor(dt/3600);//将秒数直接转化成小时取整，这个可以得到100小时\n\t\t\tvar hsecond=dt %60;\n\t\t\tif(hminuteS>=60){\n\t\t\t\thminute=Math.floor(hminuteS%60);\n\t\t\t}\n\t\t\t//当前时间\n\t\t\tvar nowDate = new Date();\n\t\t\tvar obj={\n\t\t\t\ttimeh:hourS,//时\n\t\t\t\ttimei:minute,//分\n\t\t\t\ttimeI:minuteS,//只有分\n\t\t\t\ttimes:second,//秒\n\t\t\t\ttimeS:t,//只有秒\n\t\t\t\tdurationh:hhourS,//时\n\t\t\t\tdurationi:hminute,//分\n\t\t\t\tdurationI:hminuteS,//只有分\n\t\t\t\tdurations:hsecond,//秒\n\t\t\t\tdurationS:dt,//只有秒\n\t\t\t\tliveTimey:nowDate.getYear(),//获取当前年份(2位)\n\t\t\t\tliveTimeY:nowDate.getFullYear(),//获取完整的年份(4位,1970-????)\n\t\t\t\tliveTimem:nowDate.getMonth()+1,//获取当前月份(0-11,0代表1月)\n\t\t\t\tliveTimed:nowDate.getDate(),// 获取当前日(1-31)\n\t\t\t\tliveTimeh:nowDate.getHours(),    // 获取当前小时数(0-23)\n\t\t\t\tliveTimei:nowDate.getMinutes(),// 获取当前分钟数(0-59)\n\t\t\t\tliveTimes:nowDate.getSeconds()// 获取当前秒数(0-59)\n\t\t\t};\n\t\t\tfor(var k in obj){\n\t\t\t\tif(obj[k]<10){\n\t\t\t\t\tobj[k]='0'+Math.floor(obj[k]);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tobj[k]=Math.floor(obj[k]).toString();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.replaceTime(str,obj);\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取一个随机字符\n\t\t\tlen：随机字符长度\n\t\t*/\n\t\trandomString: function(len) {\n\t\t\tlen = len || 16;\n\t\t\tvar chars = 'abcdefghijklmnopqrstuvwxyz';\n\t\t\tvar maxPos = chars.length;\n\t\t\tvar val = '';\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tval += chars.charAt(Math.floor(Math.random() * maxPos));\n\t\t\t}\n\t\t\treturn 'ch' + val;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取字符串长度,中文算两,英文数字算1\n\t\t*/\n\t\tgetStringLen: function(str) {\n\t\t\tif(this.isUndefined(str)){\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tvar len = 0;\n\t\t\tfor (var i = 0; i < str.length; i++) {\n\t\t\t\tif (str.charCodeAt(i) > 127 || str.charCodeAt(i) == 94) {\n\t\t\t\t\tlen += 2;\n\t\t\t\t} else {\n\t\t\t\t\tlen++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn len;\n\t\t},\n\t\t/*\n\t\t\t内部函数\n\t\t\t用来为ajax提供支持\n\t\t*/\n\t\tcreateXHR: function() {\n\t\t\tif (window.XMLHttpRequest) {\n\t\t\t\t//IE7+、Firefox、Opera、Chrome 和Safari\n\t\t\t\treturn new XMLHttpRequest();\n\t\t\t} else if (window.ActiveXObject) {\n\t\t\t\t//IE6 及以下\n\t\t\t\ttry {\n\t\t\t\t\treturn new ActiveXObject('Microsoft.XMLHTTP');\n\t\t\t\t} catch(event) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn new ActiveXObject('Msxml2.XMLHTTP');\n\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\tthis.eject(this.errorList[7]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.eject(this.errorList[8]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\tajax调用\n\t\t*/\n\t\tajax: function(cObj) {\n\t\t\tvar thisTemp = this;\n\t\t\tvar callback = null;\n\t\t\tvar obj = {\n\t\t\t\tmethod: 'get',//请求类型\n\t\t\t\tdataType: 'json',//请求的数据类型\n\t\t\t\tcharset: 'utf-8',\n\t\t\t\tasync: false,//true表示异步，false表示同步\n\t\t\t\turl: '',\n\t\t\t\tdata: null,\n\t\t\t\tsuccess: null,\n\t\t\t\terror:null\n\t\t\t};\n\t\t\tif (this.varType(cObj) != 'object') {\n\t\t\t\tthis.eject(this.errorList[9]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tobj = this.standardization(obj, cObj);\n\t\t\tif (obj.dataType === 'json' || obj.dataType === 'text' || obj.dataType === 'html' || obj.dataType === 'xml') {\n\t\t\t\tvar xhr = this.createXHR();\n\t\t\t\tcallback = function() {\n\t\t\t\t\t//判断http的交互是否成功\n\t\t\t\t\tif (xhr.status == 200) {\n\t\t\t\t\t\tif (thisTemp.isUndefined(obj.success)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (obj.dataType === 'json') {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tobj.success(eval('(' + xhr.responseText + ')')); //回调传递参数\n\t\t\t\t\t\t\t} catch(event) {\n\t\t\t\t\t\t\t\tif(!thisTemp.isUndefined(obj['error'])){\n\t\t\t\t\t\t\t\t\tobj.error(event);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj.success(xhr.responseText); //回调传递参数\n\t\t\t\t\t\t}\n\t\t\t\t\t} \n\t\t\t\t\telse {\n\t\t\t\t\t\tobj.success(null);\n\t\t\t\t\t\tthisTemp.eject(thisTemp.errorList[10], 'Ajax.status:' + xhr.status);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tobj.url = obj.url.indexOf('?') == -1 ? obj.url + '?rand=' + this.randomString(6) : obj.url;\n\t\t\t\tobj.data = this.formatParams(obj.data); //通过params()将名值对转换成字符串\n\t\t\t\tif (obj.method === 'get' && !this.isUndefined(obj.data)) {\n\t\t\t\t\tif (obj.data != '') {\n\t\t\t\t\t\tif (obj.url.indexOf('?') == -1) {\n\t\t\t\t\t\t\tobj.url += '?' + obj.data\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tobj.url += '&' + obj.data;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (obj.async === true) { //true表示异步，false表示同步\n\t\t\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t\t\tif (xhr.readyState == 4 && callback != null) { //判断对象的状态是否交互完成\n\t\t\t\t\t\t\tcallback(); //回调\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\txhr.open(obj.method, obj.url, obj.async);\n\t\t\t\tif (obj.method === 'post') {\n\t\t\t\t\ttry{\n\t\t\t\t\t\txhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n\t\t\t\t\t\txhr.setRequestHeader('charset', obj['charset']);\n\t\t\t\t\t\txhr.send(obj.data);\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttry{\n\t\t\t\t\t\txhr.send(null); //get方式则填null\n\t\t\t\t\t}\n\t\t\t\t\tcatch(event){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (obj.async === false) { //同步\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\n\t\t\t}\n\t\t\telse if (obj.dataType === 'jsonp') {\n\t\t\t\tvar oHead = document.getElementsByTagName('head')[0];\n\t\t\t\tvar oScript = document.createElement('script');\n\t\t\t\tvar callbackName = 'callback' + new Date().getTime();\n\t\t\t\tvar params = this.formatParams(obj.data) + '&callback=' + callbackName; //按时间戳拼接字符串\n\t\t\t\tcallback = obj.success;\n\t\t\t\t//拼接好src\n\t\t\t\toScript.src = obj.url.split('?') + '?' + params;\n\t\t\t\t//插入script标签\n\t\t\t\toHead.insertBefore(oScript, oHead.firstChild);\n\t\t\t\t//jsonp的回调函数\n\t\t\t\twindow[callbackName] = function(json) {\n\t\t\t\t\tcallback(json);\n\t\t\t\t\toHead.removeChild(oScript);\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t动态加载js\n\t\t*/\n\t\tloadJs: function(path, success) {\n\t\t\tvar oHead = document.getElementsByTagName('HEAD').item(0);\n\t\t\tvar oScript = document.createElement('script');\n\t\t\toScript.type = 'text/javascript';\n\t\t\toScript.src = this.getNewUrl(path);\n\t\t\toHead.appendChild(oScript);\n\t\t\toScript.onload = function() {\n\t\t\t\tsuccess();\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t排除IE6-9\n\t\t*/\n\t\tisMsie: function() {\n\t\t\tvar browser = navigator.appName;\n\t\t\tvar b_version = navigator.appVersion;\n\t\t\tvar version = b_version.split(';');\n\t\t\tvar trim_Version = '';\n\t\t\tif (version.length > 1) {\n\t\t\t\ttrim_Version = version[1].replace(/[ ]/g, '');\n\t\t\t}\n\t\t\tif (browser == 'Microsoft Internet Explorer' && (trim_Version == 'MSIE6.0' || trim_Version == 'MSIE7.0' || trim_Version == 'MSIE8.0' || trim_Version == 'MSIE9.0' || trim_Version == 'MSIE10.0')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断是否安装了flashplayer\n\t\t*/\n\t\tuploadFlash: function() {\n\t\t\tvar swf;\n\t\t\tif (navigator.userAgent.indexOf('MSIE') > 0) {\n\t\t\t\ttry {\n\t\t\t\t\tvar swf = new ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n\t\t\t\t\treturn true;\n\t\t\t\t} catch(e) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (navigator.userAgent.indexOf('Firefox') > 0) {\n\t\t\t\tswf = navigator.plugins['Shockwave Flash'];\n\t\t\t\tif (swf) {\n\t\t\t\t\treturn true\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t检测浏览器是否支持HTML5-Video\n\t\t*/\n\t\tsupportVideo: function() {\n\t\t\tif (!this.isMsie()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif ( !! document.createElement('video').canPlayType) {\n\t\t\t\tvar vidTest = document.createElement('video');\n\t\t\t\tvar oggTest;\n\t\t\t\ttry {\n\t\t\t\t\toggTest = vidTest.canPlayType('video/ogg; codecs=\"theora, vorbis\"');\n\t\t\t\t} catch(error) {\n\t\t\t\t\toggTest = false;\n\t\t\t\t}\n\t\t\t\tif (!oggTest) {\n\t\t\t\t\tvar h264Test;\n\t\t\t\t\ttry {\n\t\t\t\t\t\th264Test = vidTest.canPlayType('video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"');\n\t\t\t\t\t} catch(error) {\n\t\t\t\t\t\th264Test = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (!h264Test) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (h264Test == \"probably\") {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (oggTest == \"probably\") {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取属性值\n\t\t*/\n\t\tgetDataset: function(ele, z) {\n\t\t\ttry {\n\t\t\t\treturn ele.dataset[z];\n\t\t\t} catch(error) {\n\t\t\t\ttry {\n\t\t\t\t\treturn ele.getAttribute('data-' + z)\n\t\t\t\t} catch(error) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t返回flashplayer的对象\n\t\t*/\n\t\tgetObjectById: function(id) {\n\t\t\tvar x = null;\n\t\t\tvar y = this.getByElement('#' + id);\n\t\t\tvar r = 'embed';\n\t\t\tif (y && y.nodeName == 'OBJECT') {\n\t\t\t\tif (this.varType(y.SetVariable) != 'undefined') {\n\t\t\t\t\tx = y;\n\t\t\t\t} else {\n\t\t\t\t\tvar z = y.getElementsByTagName(r)[0];\n\t\t\t\t\tif (z) {\n\t\t\t\t\t\tx = z;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn x;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t对象转地址字符串\n\t\t*/\n\t\tformatParams: function(data) {\n\t\t\tvar arr = [];\n\t\t\tfor (var i in data) {\n\t\t\t\tarr.push(encodeURIComponent(i) + '=' + encodeURIComponent(data[i]));\n\t\t\t}\n\t\t\treturn arr.join('&');\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t对地址进行冒泡排序\n\t\t*/\n\t\tarrSort: function(arr) {\n\t\t\tvar temp = [];\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\t\tfor (var j = 0; j < arr.length - i; j++) {\n\t\t\t\t\tif (!this.isUndefined(arr[j + 1]) && arr[j][3] < arr[j + 1][3]) {\n\t\t\t\t\t\ttemp = arr[j + 1];\n\t\t\t\t\t\tarr[j + 1] = arr[j];\n\t\t\t\t\t\tarr[j] = temp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn arr;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取文件名称\n\t\t*/\n\t\tgetFileName: function(filepath) {\n\t\t\tif(!filepath) return '';\n\t\t\treturn filepath.replace(/(.*\\/)*([^.]+).*/ig,'$2');\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t判断文件后缀\n\t\t*/\n\t\tgetFileExt: function(filepath) {\n\t\t\tif (filepath != '' && !this.isUndefined(filepath)) {\n\t\t\t\tif (filepath.indexOf('?') > -1) {\n\t\t\t\t\tfilepath = filepath.split('?')[0];\n\t\t\t\t}\n\t\t\t\tvar pos = '.' + filepath.replace(/.+\\./, '');\n\t\t\t\treturn pos.toLowerCase();\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t判断是否是移动端\n\t\t*/\n\t\tisMobile: function() {\n\t\t\tif (navigator.userAgent.toLowerCase().match(/(iphone|ipad|ipod|android|ios|midp|windows mobile|windows ce|rv:1.2.3.4|ucweb)/i)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t搜索字符串str是否包含key\n\t\t*/\n\t\tisContains: function(str, key) {\n\t\t\treturn str.indexOf(key) > -1;\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t给地址添加随机数\n\t\t*/\n\t\tgetNewUrl: function(url) {\n\t\t\tif (this.isContains(url, '?')) {\n\t\t\t\treturn url += '&' + this.randomString(8) + '=' + this.randomString(8);\n\t\t\t} else {\n\t\t\t\treturn url += '?' + this.randomString(8) + '=' + this.randomString(8);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t获取clientX和clientY\n\t\t*/\n\t\tclient: function(event) {\n\t\t\tvar eve = event || window.event;\n\t\t\tif (this.isUndefined(eve)) {\n\t\t\t\teve = {\n\t\t\t\t\tclientX: 0,\n\t\t\t\t\tclientY: 0\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: eve.clientX + (document.documentElement.scrollLeft || this.body.scrollLeft) - this.pdCoor['x'],\n\t\t\t\ty: eve.clientY + (document.documentElement.scrollTop || this.body.scrollTop) - this.pdCoor['y']\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t获取节点的绝对坐标\n\t\t*/\n\t\tgetCoor: function(obj) {\n\t\t\tvar coor = this.getXY(obj);\n\t\t\treturn {\n\t\t\t\tx: coor['x'] - this.pdCoor['x'],\n\t\t\t\ty: coor['y'] - this.pdCoor['y']\n\t\t\t};\n\t\t},\n\t\tgetXY: function(obj) {\n\t\t\tvar parObj = obj;\n\t\t\tvar left = obj.offsetLeft;\n\t\t\tvar top = obj.offsetTop;\n\t\t\t\n\t\t\twhile (parObj = parObj.offsetParent) {\n\t\t\t\tleft += parObj.offsetLeft;\n\t\t\t\ttop += parObj.offsetTop;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tx: left,\n\t\t\t\ty: top\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t删除本对象的所有属性\n\t\t*/\n\t\tremoveChild: function() {\n\t\t\tif (this.playerType == 'html5video') {\n\t\t\t\t//删除计时器\n\t\t\t\tvar i = 0;\n\t\t\t\tvar timerArr = [this.timerError, this.timerFull, this.timerTime, this.timerBuffer, this.timerClick, this.timerCBar, this.timerVCanvas];\n\t\t\t\tfor (i = 0; i < timerArr.length; i++) {\n\t\t\t\t\tif (timerArr[i] != null) {\n\t\t\t\t\t\tif (timerArr[i].runing) {\n\t\t\t\t\t\t\ttimerArr[i].stop();\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttimerArr[i] = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//删除事件监听\n\t\t\t\tvar ltArr = this.listenerJsArr;\n\t\t\t\tfor (i = 0; i < ltArr.length; i++) {\n\t\t\t\t\tthis.removeListener(ltArr[i][0], ltArr[i][1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.playerType == '';\n\t\t\tthis.V = null;\n\t\t\tif (this.conBarShow) {\n\t\t\t\tthis.deleteChild(this.CB['menu']);\n\t\t\t}\n\t\t\tthis.deleteChild(this.PD);\n\t\t\tthis.CD.innerHTML = '';\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t画封闭的图形\n\t\t*/\n\t\tcanvasFill: function(name, path) {\n\t\t\tname.beginPath();\n\t\t\tfor (var i = 0; i < path.length; i++) {\n\t\t\t\tvar d = path[i];\n\t\t\t\tif (i > 0) {\n\t\t\t\t\tname.lineTo(d[0], d[1]);\n\t\t\t\t} else {\n\t\t\t\t\tname.moveTo(d[0], d[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tname.closePath();\n\t\t\tname.fill();\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t\t画矩形\n\t\t*/\n\t\tcanvasFillRect: function(name, path) {\n\t\t\tfor (var i = 0; i < path.length; i++) {\n\t\t\t\tvar d = path[i];\n\t\t\t\tname.fillRect(d[0], d[1], d[2], d[3]);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t删除容器节点\n\t\t*/\n\t\tdeleteChild: function(f) {\n\t\t\tvar def = this.arrIndexOf(this.elementArr, f.className);\n\t\t\tif (def > -1) {\n\t\t\t\tthis.elementArr.splice(def, 1);\n\t\t\t}\n\t\t\tvar childs = f.childNodes;\n\t\t\tfor (var i = childs.length - 1; i >= 0; i--) {\n\t\t\t\tf.removeChild(childs[i]);\n\t\t\t}\n\n\t\t\tif (f && f != null && f.parentNode) {\n\t\t\t\ttry {\n\t\t\t\t\tif (f.parentNode) {\n\t\t\t\t\t\tf.parentNode.removeChild(f);\n\n\t\t\t\t\t}\n\n\t\t\t\t} catch(event) {}\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t内置函数\n\t\t \t根据容器的宽高,内部节点的宽高计算出内部节点的宽高及坐标\n\t\t*/\n\t\tgetProportionCoor: function(stageW, stageH, vw, vh) {\n\t\t\tvar w = 0,\n\t\t\th = 0,\n\t\t\tx = 0,\n\t\t\ty = 0;\n\t\t\tif (stageW / stageH < vw / vh) {\n\t\t\t\tw = stageW;\n\t\t\t\th = w * vh / vw;\n\t\t\t} else {\n\t\t\t\th = stageH;\n\t\t\t\tw = h * vw / vh;\n\t\t\t}\n\t\t\tx = (stageW - w) * 0.5;\n\t\t\ty = (stageH - h) * 0.5;\n\t\t\treturn {\n\t\t\t\twidth: parseInt(w),\n\t\t\t\theight: parseInt(h),\n\t\t\t\tx: parseInt(x),\n\t\t\t\ty: parseInt(y)\n\t\t\t};\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将字幕文件内容转换成数组\n\t\t*/\n\t\tparseSrtSubtitles: function(srt) {\n\t\t\tvar subtitlesArr = [];\n\t\t\tvar textSubtitles = [];\n\t\t\tvar i = 0;\n\t\t\tvar arrs = srt.split('\\n');\n\t\t\tvar arr = [];\n\t\t\tvar delHtmlTag = function(str) {\n\t\t\t\treturn str.replace(/<[^>]+>/g, ''); //去掉所有的html标记\n\t\t\t};\n\t\t\tfor (i = 0; i < arrs.length; i++) {\n\t\t\t\tif (arrs[i].replace(/\\s/g, '').length > 0) {\n\t\t\t\t\tarr.push(arrs[i]);\n\t\t\t\t} else {\n\t\t\t\t\tif (arr.length > 0) {\n\t\t\t\t\t\ttextSubtitles.push(arr);\n\t\t\t\t\t}\n\t\t\t\t\tarr = [];\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (i = 0; i < textSubtitles.length; ++i) {\n\t\t\t\tvar textSubtitle = textSubtitles[i];\n\t\t\t\tif (textSubtitle.length >= 2) {\n\t\t\t\t\tvar sn = textSubtitle[0]; // 字幕的序号\n\t\t\t\t\tvar startTime = this.toSeconds(this.trim(textSubtitle[1].split(' --> ')[0])); // 字幕的开始时间\n\t\t\t\t\tvar endTime = this.toSeconds(this.trim(textSubtitle[1].split(' --> ')[1])); // 字幕的结束时间\n\t\t\t\t\tvar content = [delHtmlTag(textSubtitle[2])]; // 字幕的内容\n\t\t\t\t\tvar cktrackdelay=this.vars['cktrackdelay'];\n\t\t\t\t\tif(cktrackdelay!=0){\n\t\t\t\t\t\tstartTime+=cktrackdelay;\n\t\t\t\t\t\tendTime+=cktrackdelay;\n\t\t\t\t\t}\n\t\t\t\t\t// 字幕可能有多行\n\t\t\t\t\tif (textSubtitle.length > 2) {\n\t\t\t\t\t\tfor (var j = 3; j < textSubtitle.length; j++) {\n\t\t\t\t\t\t\tcontent.push(delHtmlTag(textSubtitle[j]));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// 字幕对象\n\t\t\t\t\tvar subtitle = {\n\t\t\t\t\t\tsn: sn,\n\t\t\t\t\t\tstartTime: startTime,\n\t\t\t\t\t\tendTime: endTime,\n\t\t\t\t\t\tcontent: content\n\t\t\t\t\t};\n\t\t\t\t\tsubtitlesArr.push(subtitle);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn subtitlesArr;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t计时器,该函数模拟as3中的timer原理\n\t\t\ttime:计时时间,单位:毫秒\n\t\t\tfun:接受函数\n\t\t\tnumber:运行次数,不设置则无限运行\n\t\t*/\n\t\ttimer: function(time, fun, number) {\n\t\t\tvar thisTemp = this;\n\t\t\tthis.time = 10; //运行间隔\n\t\t\tthis.fun = null; //监听函数\n\t\t\tthis.timeObj = null; //setInterval对象\n\t\t\tthis.number = 0; //已运行次数\n\t\t\tthis.numberTotal = null; //总至需要次数\n\t\t\tthis.runing = false; //当前状态\n\t\t\tthis.startFun = function() {\n\t\t\t\tthisTemp.number++;\n\t\t\t\tthisTemp.fun();\n\t\t\t\tif (thisTemp.numberTotal != null && thisTemp.number >= thisTemp.numberTotal) {\n\t\t\t\t\tthisTemp.stop();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.start = function() {\n\t\t\t\tif (!thisTemp.runing) {\n\t\t\t\t\tthisTemp.runing = true;\n\t\t\t\t\tthisTemp.timeObj = window.setInterval(thisTemp.startFun, time);\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.stop = function() {\n\t\t\t\tif (thisTemp.runing) {\n\t\t\t\t\tthisTemp.runing = false;\n\t\t\t\t\twindow.clearInterval(thisTemp.timeObj);\n\t\t\t\t\tthisTemp.timeObj = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (time) {\n\t\t\t\tthis.time = time;\n\t\t\t}\n\t\t\tif (fun) {\n\t\t\t\tthis.fun = fun;\n\t\t\t}\n\t\t\tif (number) {\n\t\t\t\tthis.numberTotal = number;\n\t\t\t}\n\t\t\tthis.start();\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将时分秒转换成秒\n\t\t*/\n\t\ttoSeconds: function(t) {\n\t\t\tvar s = 0.0;\n\t\t\tif (t) {\n\t\t\t\tvar p = t.split(':');\n\t\t\t\tfor (i = 0; i < p.length; i++) {\n\t\t\t\t\ts = s * 60 + parseFloat(p[i].replace(',', '.'));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn s;\n\t\t},\n\t\t/*将字符变成数字形式的数组*/\n\t\tarrayInt: function(str) {\n\t\t\tvar a = str.split(',');\n\t\t\tvar b = [];\n\t\t\tfor (var i = 0; i < a.length; i++) {\n\t\t\t\tif (this.isUndefined(a[i])) {\n\t\t\t\t\ta[i] = 0;\n\t\t\t\t}\n\t\t\t\tif (a[i].substr( - 1) != '%') {\n\t\t\t\t\ta[i] = parseInt(a[i]);\n\t\t\t\t}\n\t\t\t\tb.push(a[i]);\n\t\t\t}\n\t\t\treturn b;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t将对象Object标准化\n\t\t*/\n\t\tstandardization: function(o, n) { //n替换进o\n\t\t\tvar h = {};\n\t\t\tvar k;\n\t\t\tfor (k in o) {\n\t\t\t\th[k] = o[k];\n\t\t\t}\n\t\t\tfor (k in n) {\n\t\t\t\tvar type ='';\n\t\t\t\tif(h[k]){\n\t\t\t\t\ttype = this.varType(h[k]);\n\t\t\t\t}\n\t\t\t\tswitch (type) {\n\t\t\t\t\tcase 'number':\n\t\t\t\t\t\th[k] = parseFloat(n[k]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\th[k] = n[k];\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn h;\n\t\t},\n\t\tobjectAssign:function(o,n) {\n\t\t\tif(this.varType(o)!='object' || this.varType(n)!='object'){\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar obj1=this.newObj(o),obj2=this.newObj(n);\n\t\t\tfor(var k in obj2){\n\t\t\t\tif(this.varType(obj2[k])=='object'){\n\t\t\t\t\tif(this.varType(obj1[k])!='object'){\n\t\t\t\t\t\tobj1[k]={};\n\t\t\t\t\t}\n\t\t\t\t\tobj1[k]=this.objectAssign(obj1[k],obj2[k]);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tobj1[k]=obj2[k];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn obj1;\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t搜索数组\n\t\t */\n\t\tarrIndexOf: function(arr, key) {\n\t\t\tif(this.isUndefined(arr) || this.isUndefined(key)){\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tvar re = new RegExp(key, ['']);\n\t\t\treturn (arr.toString().replace(re, '┢').replace(/[^,┢]/g, '')).indexOf('┢');\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t去掉空格\n\t\t */\n\t\ttrim: function(str) {\n\t\t\tif (str != '') {\n\t\t\t\treturn str.replace(/(^\\s*)|(\\s*$)/g, '');\n\t\t\t}\n\t\t\treturn '';\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t输出内容到控制台\n\t\t*/\n\t\tlog: function(val) {\n\t\t\ttry {\n\t\t\t\tconsole.log(val);\n\t\t\t} catch(e) {}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t弹出提示\n\t\t*/\n\t\teject: function(er, val) {\n\t\t\tif (!this.vars['debug']) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar errorVal = er[1];\n\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\terrorVal = errorVal.replace('[error]', val);\n\t\t\t}\n\t\t\tvar value = 'error ' + er[0] + ':' + errorVal;\n\t\t\ttry {\n\t\t\t\tthis.log(value);\n\t\t\t} catch(e) {}\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t系统错误\n\t\t*/\n\t\tsysError: function(er, val) {\n\t\t\tvar ele= this.getByElement(this.vars['container']);\n\t\t\tvar errorVal = er[1];\n\t\t\tif (!this.isUndefined(val)) {\n\t\t\t\terrorVal = errorVal.replace('[error]', val);\n\t\t\t}\n\t\t\tvar value = 'error ' + er[0] + ':' + errorVal;\n\t\t\tele.innerHTML=value;\n\t\t\tthis.css(ele,{\n\t\t\t\tbackgroundColor: '#000',\n\t\t\t\tcolor:'#FFF',\n\t\t\t\ttextAlign:'center',\n\t\t\t\tlineHeight:ele.offsetHeight+'px'\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t\t共用函数\n\t\t\t判断变量类型\n\t\t*/\n\t\tvarType:function(val){\n\t\t\tif(val===null){\n\t\t\t\treturn 'string';\n\t\t\t}\n\t\t\tvar type = typeof(val);\n\t\t\tswitch(type) {\n\t\t\t\tcase 'string':\n\t\t\t\t\treturn 'string';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'number':\n\t\t\t\t\treturn 'number';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'boolean':\n\t\t\t\t\treturn 'boolean';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'function':\n\t\t\t\t\treturn 'function';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'symbol':\n\t\t\t\t\treturn 'symbol';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'object':\n\t\t\t\t\tif(!this.isUndefined(typeof(val.length))) {\n\t\t\t\t\t\treturn 'array';\n\t\t\t\t\t}\n\t\t\t\t\treturn 'object';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'undefined':\n\t\t\t\t\treturn 'undefined';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn typeof(val);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t\t获取此js文件所在路径\n\t\t*/\n\t\tgetPath:function(){\n\t\t\tvar scriptList = document.scripts,\n\t\t\tthisPath = scriptList[scriptList.length - 1].src;\n\t\t\tfor(var i=0;i<scriptList.length;i++){\n\t\t\t\tvar scriptName=scriptList[i].getAttribute('name') || scriptList[i].getAttribute('data-name');\n\t\t\t\tvar src=scriptList[i].src.slice(scriptList[i].src.lastIndexOf('/') + 1,scriptList[i].src.lastIndexOf('.'));\n\t\t\t\tif((scriptName && (scriptName=='ckplayer' || scriptName=='ckplayer.min')) || (scriptList[i].src && (src=='ckplayer' || src=='ckplayer.min'))){\n\t\t\t\t\tthisPath = scriptList[i].src;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn thisPath.substring(0, thisPath.lastIndexOf('/') + 1);\n\t\t},\n\t\tgetConfigObject:function(){\n\t\t\treturn this.jsonConfig;\n\t\t},\n\t\tgetStyleObject:function(){\n\t\t\treturn this.jsonStyle;\n\t\t},\n\t\tgetLanguageObject:function(){\n\t\t\treturn this.jsongLanguage;\n\t\t}\n\t};\n\twindow.ckplayer = ckplayer;\n})();"}],"Post":[{"title":"MPLS之Hub and Spoke实验","date":"2022-12-10T14:28:28.000Z","_content":"\n## 实验目的\n\n搭建Hub and Spoke网络，实现分部1到分部2之间可以通过总部网络实现互通，验证分部之间的流量是如何经过总部内网进行传送的。\n\n## 实验环境\n\nGNS3 2.2.34\n\n## 实验步骤\n\n### 1. 搭建网络拓扑\n\n在GNS3中搭建网络拓扑如下图：\n\n![image-20221210222146953](Hub-Spoke/image-20221210222146953.png)\n\n### 2. 接口IP地址配置\n\n使用`config t`命令进入配置模式，然后进行接口IP地址配置\n\n```sh\nR1:\nint lo0\nip address 1.1.1.1 255.255.255.255\nint f0/0\nip address 13.1.1.1 255.255.255.252\nno sh\nint f1/0\nip address 12.1.1.1 255.255.255.252\nno sh\n\nR2:\nint lo0\nip address 2.2.2.2 255.255.255.255\nint f0/0\nip address 12.1.1.2 255.255.255.252\nno sh\nint f1/0\nip address 23.1.1.1 255.255.255.252\nno sh\n\nR3:\nint lo0\nip address 3.3.3.3 255.255.255.255\nint f0/0\nip address 13.1.1.2 255.255.255.252\nno sh\nint f1/0\nip address 23.1.1.2 255.255.255.252\nno sh\nint f2/0\nip address 34.1.1.1 255.255.255.252\nno sh\nint f3/0\nip address 35.1.1.1 255.255.255.252\nno sh\n\nR4:\nint lo0\nip address 4.4.4.4 255.255.255.255\nint f0/0\nip address 34.1.1.2 255.255.255.252\nno sh\ninterface f1/0\nip address 46.1.1.1 255.255.255.252\nno sh\n\nR5:\nint lo0\nip address 5.5.5.5 255.255.255.255\nint f0/0\nip address 35.1.1.2 255.255.255.252\nno sh\nint f1/0\nip address 57.1.1.1 255.255.255.252\nno sh\n\nR6:\nint lo0\nip address 6.6.6.6 255.255.255.255\nint f0/0\nip address 46.1.1.2 255.255.255.252\nno sh\n \nR7:\nint lo0\nip address 7.7.7.7 255.255.255.255\nint f0/0\nip address 57.1.1.2 255.255.255.252\nno sh\n```\n\n配置完成后，可以使用`do show ip int b`命令查看各接口配置是否正确。\n\n![image-20221210222208515](Hub-Spoke/image-20221210222208515.png)\n\n### 3. 域内路由协议配置\n\n此步骤配置AS100域内路由协议\n\n```sh\nR3:\nrouter ospf 1\nrouter-id 3.3.3.3\nnetwork 3.3.3.3 0.0.0.0 area 0\nnetwork 34.1.1.0 0.0.0.3 area 0\nnetwork 35.1.1.0 0.0.0.3 area 0\n\nR4:\nrouter ospf 1\nrouter-id 4.4.4.4\nnetwork 4.4.4.4 0.0.0.0 area 0\nnetwork 34.1.1.0 0.0.0.3 area 0\n\nR5:\nrouter ospf 1\nrouter-id 5.5.5.5\nnetwork 5.5.5.5 0.0.0.0 area 0\nnetwork 35.1.1.0 0.0.0.3 area 0\n```\n\n配置完成后，可以使用下列命令查看OSPF协议是否配置准确，并可使用wireshark抓包分析OSPF协议初始化过程。\n\n```sh\n# 查看OSPF邻居\nshow ip ospf nei\n\n# 查看OSPF链路数据库\nshow ip ospf data\n\n# 在R3上查看公网路由，是否有到5.5.5.5的路由\nshow ip route\n\n# 在R3上ping R5，查看路由器之间的可达性\nping 5.5.5.5\n```\n\n![image-20221210222218254](Hub-Spoke/image-20221210222218254.png)\n\n![image-20221210222226783](Hub-Spoke/image-20221210222226783.png)\n\n![image-20221210222235385](Hub-Spoke/image-20221210222235385.png)\n\n![image-20221210222244737](Hub-Spoke/image-20221210222244737.png)\n\n### 4. MPLS协议配置\n\n此步骤将AS100域内路由器对应接口激活MPLS协议\n\n```sh\nR3:\nip cef\nmpls ldp router-id lo0\nmpls label range 300 399\nint f2/0\nmpls ip\nint f3/0\nmpls ip\n\nR4:\nip cef\nmpls ldp router-id lo0\nmpls label range 400 499\nint f0/0\nmpls ip\n\nR5:\nip cef\nmpls ldp router-id lo0\nmpls label range 500 599\nint f0/0\nmpls ip\n```\n\n配置完成后，可以使用下列命令查看MPLS协议配置是否正确，并可以使用wireshark查看LDP初始化过程。\n\n```sh\n# 查看LDP邻居\nshow mpls ldp nei\n\n# 查看LIB\nshow mpls ldp bindings\n\n# 查看RIB\nshow ip route\n\n# 查看LFIB\nshow mpls forwarding-table\n\n# 查看FIB\nshow ip cef\n\n# 在R3上traceroute R5，查看MPLS域内数据封装过程（此步骤课忽略）\ntraceroute 5.5.5.5\n```\n\n![image-20221210222257879](Hub-Spoke/image-20221210222257879.png)\n\n![image-20221210222303596](Hub-Spoke/image-20221210222303596.png)\n\n### 5. VPN配置\n\n此处配置R3、R4、R5的VRF。\n\n```sh\nR3：\nip vrf import_in\nrd 100:11\nroute-target import 100:67\nint f0/0\nip vrf for import_in\nip addr 13.1.1.2 255.255.255.252\nip vrf export_out\nrd 100:22\nroute-target export 100:12\nint f1/0\nip vrf for export_out\nip addr 23.1.1.2 255.255.255.252\n\nR4：\nip vrf VPN1\nrd 100:6\nroute-target import 100:12\nroute-target export 100:67\nint f1/0\nip vrf for VPN1\nip addr 46.1.1.1 255.255.255.252\n\nR5：\nip vrf VPN2\nrd 100:7\nroute-target import 100:12\nroute-target export 100:67\nint f1/0\nip vrf for VPN2\nip addr 57.1.1.1 255.255.255.252\n\n```\n\n配置完成后，可以通过下列命令查看VRF配置是否正确\n\n```sh\n# 查看私网路由表，确认对应接口路由是否已从公网路由表转移到私网路由表\nshow ip route vrf import_in\n\n# 查看VRF参数\nshow ip vrf detail\n```\n\n![image-20221210222311853](Hub-Spoke/image-20221210222311853.png)\n\n![image-20221210222317251](Hub-Spoke/image-20221210222317251.png)\n\n### 6. 配置BGP协议\n\n此步骤配置总部内部路由、总部、分部和MPLS域之间的路由使用BGP协议。\n\n```sh\nR1:\nrouter bgp 120\nbgp router-id 1.1.1.1\nbgp log-neighbor-changes\nnetwork 1.1.1.1 mask 255.255.255.255\nnetwork 12.1.1.0 mask 255.255.255.252\nnetwork 13.1.1.0 mask 255.255.255.252\nneighbor 12.1.1.2 remote-as 120\nneighbor 12.1.1.2 next-hop-self\nneighbor 13.1.1.2 remote-as 100\n\nR2:\nrouter bgp 120\nbgp router-id 2.2.2.2\nbgp log-neighbor-changes\nnetwork 2.2.2.2 mask 255.255.255.255\nnetwork 23.1.1.0 mask 255.255.255.252\nneighbor 12.1.1.1 remote-as 120\nneighbor 12.1.1.1 next-hop-self\nneighbor 23.1.1.2 remote-as 100\n\nR3:\nrouter bgp 100\nbgp router-id 3.3.3.3\nbgp log-neighbor-changes\nno bgp default ipv4-unicast\nneighbor 4.4.4.4 remote-as 100\nneighbor 4.4.4.4 update-source Loopback0\nneighbor 5.5.5.5 remote-as 100\nneighbor 5.5.5.5 update-source Loopback0\naddress-family vpnv4\nneighbor 4.4.4.4 activate\nneighbor 4.4.4.4 send-community extended\nneighbor 5.5.5.5 activate\nneighbor 5.5.5.5 send-community extended\naddress-family ipv4 vrf export_out\nneighbor 23.1.1.1 remote-as 120\nneighbor 23.1.1.1 activate\naddress-family ipv4 vrf import_in\nneighbor 13.1.1.1 remote-as 120\nneighbor 13.1.1.1 activate\n  \nR4:\nrouter bgp 100\nbgp router-id 4.4.4.4\nbgp log-neighbor-changes\nno bgp default ipv4-unicast\nneighbor 3.3.3.3 remote-as 100\nneighbor 3.3.3.3 update-source Loopback0\naddress-family vpnv4\nneighbor 3.3.3.3 activate\nneighbor 3.3.3.3 send-community extended\naddress-family ipv4 vrf VPN1\nneighbor 46.1.1.2 remote-as 60\nneighbor 46.1.1.2 activate\n\nR5:\nrouter bgp 100\nbgp router-id 5.5.5.5\nbgp log-neighbor-changes\nno bgp default ipv4-unicast\nneighbor 3.3.3.3 remote-as 100\nneighbor 3.3.3.3 update-source Loopback0\naddress-family vpnv4\nneighbor 3.3.3.3 activate\nneighbor 3.3.3.3 send-community extended\naddress-family ipv4 vrf VPN2\nneighbor 57.1.1.2 remote-as 70\nneighbor 57.1.1.2 activate\n\nR6:\nrouter bgp 60\nbgp router-id 6.6.6.6\nbgp log-neighbor-changes\nnetwork 6.6.6.6 mask 255.255.255.255\nnetwork 46.1.1.0 mask 255.255.255.252\nneighbor 46.1.1.1 remote-as 100\n \nR7:\nrouter bgp 70\nbgp router-id 7.7.7.7\nbgp log-neighbor-changes\nnetwork 7.7.7.7 mask 255.255.255.255\nnetwork 57.1.1.0 mask 255.255.255.252\nneighbor 57.1.1.1 remote-as 100\n```\n\n\n\n### 7. 验证\n\n- 在R3上查看BGP vpnv4邻居情况\n\n  ![image-20221210222330945](Hub-Spoke/image-20221210222330945.png)\n\n  由此可以看出，其四个邻居建立成功，并且收到相应的路由。\n\n- 在R3上查看vpn信息\n\n  ![image-20221210222343976](Hub-Spoke/image-20221210222343976.png)\n\n  从以上可知RD为100:11的有import_in 为100:67，而PE-R4及PE-R5的export为100:60、100:70，因此R6和R7的路由加入路由表项中，而RD 为100:22的VRF中，并没有设置import，不能从BGP ×××V4中导入任何路由，因此其收到的路由都是CE-R2通过EBGP传递过来的，其下跳都为23.1.1.1，且其中没有6.6.6.6和7.7.7.7的路由\n\n- 在R2上查看BGP路由情况\n\n  ![image-20221210222357432](Hub-Spoke/image-20221210222357432.png)\n\n  从上可看出，其收到的路由都是来至于R1，并且通过ibgp传递过来，并且经过的AS号为100 60\n\n- 在R3上查看export_out表项\n\n  ![image-20221210222403562](Hub-Spoke/image-20221210222403562.png)\n\n  从此可知，路由表中并没有R7及R6的路由，为什么R2从R1那儿收到了，没有传递给R3呢？因为BGP的防环机制，因为R7及R6的路由也是经过PE-R3传输给CE-R1的，其属性值带得有AS 100，因此在R2传递给R3时，查看到其带有自身AS号，拒绝将其加入路由表，那么此时我们在R6和R7上查看路由情况，会是怎么样呢？\n\n- 分别查看R6和R7的路由\n\n  ![image-20221210222411967](Hub-Spoke/image-20221210222411967.png)\n\n  ![image-20221210222418659](Hub-Spoke/image-20221210222418659.png)\n\n  从上可知R7上并没有收到R6的路由，R7也没有收到R6的路由，但都能收到R1和R2的路由，其原因是PE-R3上配置的VRF export_out的RT export 为100:12，而在上面提到的VRF export_out中恰好有这些路由表项，在PE-R4和PE-R5上设置的import为100:12，因此能将其加入路由表，传输给CE路由器； \n\n- 现在需要将PE-R3的VRF export_out中收到R6和R7的路由，上面已经提到原因了，因为BGP 的防环机制，所在需要在R3上配置允许AS号相同的路由进入，如下配置\n\n  ```sh\n  router bgp 100\n  address-family ipv4 vrf export_out\n  neighbor 23.1.1.1 allowas-in 3 //允许其自治系统号重复的次数\n  ```\n\n  \n\n- 此时在R3上再次查看bgp路由\n\n  ![image-20221210222426550](Hub-Spoke/image-20221210222426550.png)\n\n  由此可见，R6和R7上的路由已经加入export_out路由表中，并且其下一跳是23.1.1.1，由CE-R2通告过来的，其经过的路径为120 100 60、120 100 70\n\n- 此时在R6和R7上查看公网路由\n\n  ![image-20221210222434786](Hub-Spoke/image-20221210222434786.png)\n\n  ![image-20221210222442083](Hub-Spoke/image-20221210222442083.png)\n\n  由此可见，R6和R7上都有到对方的路由\n\n- 此时在R6上traceroute R\n\n  ![image-20221210222448237](Hub-Spoke/image-20221210222448237.png)\n\n  从上可知，路径为：R6->R4->R3->R2->R1->R3->R5->R7\n","source":"_posts/Hub-Spoke.md","raw":"---\ntitle: MPLS之Hub and Spoke实验\ndate: 2022-12-10 22:28:28\ntags:\n---\n\n## 实验目的\n\n搭建Hub and Spoke网络，实现分部1到分部2之间可以通过总部网络实现互通，验证分部之间的流量是如何经过总部内网进行传送的。\n\n## 实验环境\n\nGNS3 2.2.34\n\n## 实验步骤\n\n### 1. 搭建网络拓扑\n\n在GNS3中搭建网络拓扑如下图：\n\n![image-20221210222146953](Hub-Spoke/image-20221210222146953.png)\n\n### 2. 接口IP地址配置\n\n使用`config t`命令进入配置模式，然后进行接口IP地址配置\n\n```sh\nR1:\nint lo0\nip address 1.1.1.1 255.255.255.255\nint f0/0\nip address 13.1.1.1 255.255.255.252\nno sh\nint f1/0\nip address 12.1.1.1 255.255.255.252\nno sh\n\nR2:\nint lo0\nip address 2.2.2.2 255.255.255.255\nint f0/0\nip address 12.1.1.2 255.255.255.252\nno sh\nint f1/0\nip address 23.1.1.1 255.255.255.252\nno sh\n\nR3:\nint lo0\nip address 3.3.3.3 255.255.255.255\nint f0/0\nip address 13.1.1.2 255.255.255.252\nno sh\nint f1/0\nip address 23.1.1.2 255.255.255.252\nno sh\nint f2/0\nip address 34.1.1.1 255.255.255.252\nno sh\nint f3/0\nip address 35.1.1.1 255.255.255.252\nno sh\n\nR4:\nint lo0\nip address 4.4.4.4 255.255.255.255\nint f0/0\nip address 34.1.1.2 255.255.255.252\nno sh\ninterface f1/0\nip address 46.1.1.1 255.255.255.252\nno sh\n\nR5:\nint lo0\nip address 5.5.5.5 255.255.255.255\nint f0/0\nip address 35.1.1.2 255.255.255.252\nno sh\nint f1/0\nip address 57.1.1.1 255.255.255.252\nno sh\n\nR6:\nint lo0\nip address 6.6.6.6 255.255.255.255\nint f0/0\nip address 46.1.1.2 255.255.255.252\nno sh\n \nR7:\nint lo0\nip address 7.7.7.7 255.255.255.255\nint f0/0\nip address 57.1.1.2 255.255.255.252\nno sh\n```\n\n配置完成后，可以使用`do show ip int b`命令查看各接口配置是否正确。\n\n![image-20221210222208515](Hub-Spoke/image-20221210222208515.png)\n\n### 3. 域内路由协议配置\n\n此步骤配置AS100域内路由协议\n\n```sh\nR3:\nrouter ospf 1\nrouter-id 3.3.3.3\nnetwork 3.3.3.3 0.0.0.0 area 0\nnetwork 34.1.1.0 0.0.0.3 area 0\nnetwork 35.1.1.0 0.0.0.3 area 0\n\nR4:\nrouter ospf 1\nrouter-id 4.4.4.4\nnetwork 4.4.4.4 0.0.0.0 area 0\nnetwork 34.1.1.0 0.0.0.3 area 0\n\nR5:\nrouter ospf 1\nrouter-id 5.5.5.5\nnetwork 5.5.5.5 0.0.0.0 area 0\nnetwork 35.1.1.0 0.0.0.3 area 0\n```\n\n配置完成后，可以使用下列命令查看OSPF协议是否配置准确，并可使用wireshark抓包分析OSPF协议初始化过程。\n\n```sh\n# 查看OSPF邻居\nshow ip ospf nei\n\n# 查看OSPF链路数据库\nshow ip ospf data\n\n# 在R3上查看公网路由，是否有到5.5.5.5的路由\nshow ip route\n\n# 在R3上ping R5，查看路由器之间的可达性\nping 5.5.5.5\n```\n\n![image-20221210222218254](Hub-Spoke/image-20221210222218254.png)\n\n![image-20221210222226783](Hub-Spoke/image-20221210222226783.png)\n\n![image-20221210222235385](Hub-Spoke/image-20221210222235385.png)\n\n![image-20221210222244737](Hub-Spoke/image-20221210222244737.png)\n\n### 4. MPLS协议配置\n\n此步骤将AS100域内路由器对应接口激活MPLS协议\n\n```sh\nR3:\nip cef\nmpls ldp router-id lo0\nmpls label range 300 399\nint f2/0\nmpls ip\nint f3/0\nmpls ip\n\nR4:\nip cef\nmpls ldp router-id lo0\nmpls label range 400 499\nint f0/0\nmpls ip\n\nR5:\nip cef\nmpls ldp router-id lo0\nmpls label range 500 599\nint f0/0\nmpls ip\n```\n\n配置完成后，可以使用下列命令查看MPLS协议配置是否正确，并可以使用wireshark查看LDP初始化过程。\n\n```sh\n# 查看LDP邻居\nshow mpls ldp nei\n\n# 查看LIB\nshow mpls ldp bindings\n\n# 查看RIB\nshow ip route\n\n# 查看LFIB\nshow mpls forwarding-table\n\n# 查看FIB\nshow ip cef\n\n# 在R3上traceroute R5，查看MPLS域内数据封装过程（此步骤课忽略）\ntraceroute 5.5.5.5\n```\n\n![image-20221210222257879](Hub-Spoke/image-20221210222257879.png)\n\n![image-20221210222303596](Hub-Spoke/image-20221210222303596.png)\n\n### 5. VPN配置\n\n此处配置R3、R4、R5的VRF。\n\n```sh\nR3：\nip vrf import_in\nrd 100:11\nroute-target import 100:67\nint f0/0\nip vrf for import_in\nip addr 13.1.1.2 255.255.255.252\nip vrf export_out\nrd 100:22\nroute-target export 100:12\nint f1/0\nip vrf for export_out\nip addr 23.1.1.2 255.255.255.252\n\nR4：\nip vrf VPN1\nrd 100:6\nroute-target import 100:12\nroute-target export 100:67\nint f1/0\nip vrf for VPN1\nip addr 46.1.1.1 255.255.255.252\n\nR5：\nip vrf VPN2\nrd 100:7\nroute-target import 100:12\nroute-target export 100:67\nint f1/0\nip vrf for VPN2\nip addr 57.1.1.1 255.255.255.252\n\n```\n\n配置完成后，可以通过下列命令查看VRF配置是否正确\n\n```sh\n# 查看私网路由表，确认对应接口路由是否已从公网路由表转移到私网路由表\nshow ip route vrf import_in\n\n# 查看VRF参数\nshow ip vrf detail\n```\n\n![image-20221210222311853](Hub-Spoke/image-20221210222311853.png)\n\n![image-20221210222317251](Hub-Spoke/image-20221210222317251.png)\n\n### 6. 配置BGP协议\n\n此步骤配置总部内部路由、总部、分部和MPLS域之间的路由使用BGP协议。\n\n```sh\nR1:\nrouter bgp 120\nbgp router-id 1.1.1.1\nbgp log-neighbor-changes\nnetwork 1.1.1.1 mask 255.255.255.255\nnetwork 12.1.1.0 mask 255.255.255.252\nnetwork 13.1.1.0 mask 255.255.255.252\nneighbor 12.1.1.2 remote-as 120\nneighbor 12.1.1.2 next-hop-self\nneighbor 13.1.1.2 remote-as 100\n\nR2:\nrouter bgp 120\nbgp router-id 2.2.2.2\nbgp log-neighbor-changes\nnetwork 2.2.2.2 mask 255.255.255.255\nnetwork 23.1.1.0 mask 255.255.255.252\nneighbor 12.1.1.1 remote-as 120\nneighbor 12.1.1.1 next-hop-self\nneighbor 23.1.1.2 remote-as 100\n\nR3:\nrouter bgp 100\nbgp router-id 3.3.3.3\nbgp log-neighbor-changes\nno bgp default ipv4-unicast\nneighbor 4.4.4.4 remote-as 100\nneighbor 4.4.4.4 update-source Loopback0\nneighbor 5.5.5.5 remote-as 100\nneighbor 5.5.5.5 update-source Loopback0\naddress-family vpnv4\nneighbor 4.4.4.4 activate\nneighbor 4.4.4.4 send-community extended\nneighbor 5.5.5.5 activate\nneighbor 5.5.5.5 send-community extended\naddress-family ipv4 vrf export_out\nneighbor 23.1.1.1 remote-as 120\nneighbor 23.1.1.1 activate\naddress-family ipv4 vrf import_in\nneighbor 13.1.1.1 remote-as 120\nneighbor 13.1.1.1 activate\n  \nR4:\nrouter bgp 100\nbgp router-id 4.4.4.4\nbgp log-neighbor-changes\nno bgp default ipv4-unicast\nneighbor 3.3.3.3 remote-as 100\nneighbor 3.3.3.3 update-source Loopback0\naddress-family vpnv4\nneighbor 3.3.3.3 activate\nneighbor 3.3.3.3 send-community extended\naddress-family ipv4 vrf VPN1\nneighbor 46.1.1.2 remote-as 60\nneighbor 46.1.1.2 activate\n\nR5:\nrouter bgp 100\nbgp router-id 5.5.5.5\nbgp log-neighbor-changes\nno bgp default ipv4-unicast\nneighbor 3.3.3.3 remote-as 100\nneighbor 3.3.3.3 update-source Loopback0\naddress-family vpnv4\nneighbor 3.3.3.3 activate\nneighbor 3.3.3.3 send-community extended\naddress-family ipv4 vrf VPN2\nneighbor 57.1.1.2 remote-as 70\nneighbor 57.1.1.2 activate\n\nR6:\nrouter bgp 60\nbgp router-id 6.6.6.6\nbgp log-neighbor-changes\nnetwork 6.6.6.6 mask 255.255.255.255\nnetwork 46.1.1.0 mask 255.255.255.252\nneighbor 46.1.1.1 remote-as 100\n \nR7:\nrouter bgp 70\nbgp router-id 7.7.7.7\nbgp log-neighbor-changes\nnetwork 7.7.7.7 mask 255.255.255.255\nnetwork 57.1.1.0 mask 255.255.255.252\nneighbor 57.1.1.1 remote-as 100\n```\n\n\n\n### 7. 验证\n\n- 在R3上查看BGP vpnv4邻居情况\n\n  ![image-20221210222330945](Hub-Spoke/image-20221210222330945.png)\n\n  由此可以看出，其四个邻居建立成功，并且收到相应的路由。\n\n- 在R3上查看vpn信息\n\n  ![image-20221210222343976](Hub-Spoke/image-20221210222343976.png)\n\n  从以上可知RD为100:11的有import_in 为100:67，而PE-R4及PE-R5的export为100:60、100:70，因此R6和R7的路由加入路由表项中，而RD 为100:22的VRF中，并没有设置import，不能从BGP ×××V4中导入任何路由，因此其收到的路由都是CE-R2通过EBGP传递过来的，其下跳都为23.1.1.1，且其中没有6.6.6.6和7.7.7.7的路由\n\n- 在R2上查看BGP路由情况\n\n  ![image-20221210222357432](Hub-Spoke/image-20221210222357432.png)\n\n  从上可看出，其收到的路由都是来至于R1，并且通过ibgp传递过来，并且经过的AS号为100 60\n\n- 在R3上查看export_out表项\n\n  ![image-20221210222403562](Hub-Spoke/image-20221210222403562.png)\n\n  从此可知，路由表中并没有R7及R6的路由，为什么R2从R1那儿收到了，没有传递给R3呢？因为BGP的防环机制，因为R7及R6的路由也是经过PE-R3传输给CE-R1的，其属性值带得有AS 100，因此在R2传递给R3时，查看到其带有自身AS号，拒绝将其加入路由表，那么此时我们在R6和R7上查看路由情况，会是怎么样呢？\n\n- 分别查看R6和R7的路由\n\n  ![image-20221210222411967](Hub-Spoke/image-20221210222411967.png)\n\n  ![image-20221210222418659](Hub-Spoke/image-20221210222418659.png)\n\n  从上可知R7上并没有收到R6的路由，R7也没有收到R6的路由，但都能收到R1和R2的路由，其原因是PE-R3上配置的VRF export_out的RT export 为100:12，而在上面提到的VRF export_out中恰好有这些路由表项，在PE-R4和PE-R5上设置的import为100:12，因此能将其加入路由表，传输给CE路由器； \n\n- 现在需要将PE-R3的VRF export_out中收到R6和R7的路由，上面已经提到原因了，因为BGP 的防环机制，所在需要在R3上配置允许AS号相同的路由进入，如下配置\n\n  ```sh\n  router bgp 100\n  address-family ipv4 vrf export_out\n  neighbor 23.1.1.1 allowas-in 3 //允许其自治系统号重复的次数\n  ```\n\n  \n\n- 此时在R3上再次查看bgp路由\n\n  ![image-20221210222426550](Hub-Spoke/image-20221210222426550.png)\n\n  由此可见，R6和R7上的路由已经加入export_out路由表中，并且其下一跳是23.1.1.1，由CE-R2通告过来的，其经过的路径为120 100 60、120 100 70\n\n- 此时在R6和R7上查看公网路由\n\n  ![image-20221210222434786](Hub-Spoke/image-20221210222434786.png)\n\n  ![image-20221210222442083](Hub-Spoke/image-20221210222442083.png)\n\n  由此可见，R6和R7上都有到对方的路由\n\n- 此时在R6上traceroute R\n\n  ![image-20221210222448237](Hub-Spoke/image-20221210222448237.png)\n\n  从上可知，路径为：R6->R4->R3->R2->R1->R3->R5->R7\n","slug":"Hub-Spoke","published":1,"updated":"2022-12-10T14:29:13.465Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clbi1a0z9000040lm11814wkc","content":"<h2 id=\"实验目的\"><a href=\"#实验目的\" class=\"headerlink\" title=\"实验目的\"></a>实验目的</h2><p>搭建Hub and Spoke网络，实现分部1到分部2之间可以通过总部网络实现互通，验证分部之间的流量是如何经过总部内网进行传送的。</p>\n<h2 id=\"实验环境\"><a href=\"#实验环境\" class=\"headerlink\" title=\"实验环境\"></a>实验环境</h2><p>GNS3 2.2.34</p>\n<h2 id=\"实验步骤\"><a href=\"#实验步骤\" class=\"headerlink\" title=\"实验步骤\"></a>实验步骤</h2><h3 id=\"1-搭建网络拓扑\"><a href=\"#1-搭建网络拓扑\" class=\"headerlink\" title=\"1. 搭建网络拓扑\"></a>1. 搭建网络拓扑</h3><p>在GNS3中搭建网络拓扑如下图：</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222146953.png\" class=\"\" title=\"image-20221210222146953\">\n\n<h3 id=\"2-接口IP地址配置\"><a href=\"#2-接口IP地址配置\" class=\"headerlink\" title=\"2. 接口IP地址配置\"></a>2. 接口IP地址配置</h3><p>使用<code>config t</code>命令进入配置模式，然后进行接口IP地址配置</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R1:</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 1.1.1.1 255.255.255.255</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 13.1.1.1 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip address 12.1.1.1 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\"></span><br><span class=\"line\">R2:</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 2.2.2.2 255.255.255.255</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 12.1.1.2 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip address 23.1.1.1 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\"></span><br><span class=\"line\">R3:</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 3.3.3.3 255.255.255.255</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 13.1.1.2 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip address 23.1.1.2 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\">int f2/0</span><br><span class=\"line\">ip address 34.1.1.1 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\">int f3/0</span><br><span class=\"line\">ip address 35.1.1.1 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\"></span><br><span class=\"line\">R4:</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 4.4.4.4 255.255.255.255</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 34.1.1.2 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\">interface f1/0</span><br><span class=\"line\">ip address 46.1.1.1 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\"></span><br><span class=\"line\">R5:</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 5.5.5.5 255.255.255.255</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 35.1.1.2 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip address 57.1.1.1 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\"></span><br><span class=\"line\">R6:</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 6.6.6.6 255.255.255.255</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 46.1.1.2 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\"> </span><br><span class=\"line\">R7:</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 7.7.7.7 255.255.255.255</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 57.1.1.2 255.255.255.252</span><br><span class=\"line\">no sh</span><br></pre></td></tr></table></figure>\n\n<p>配置完成后，可以使用<code>do show ip int b</code>命令查看各接口配置是否正确。</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222208515.png\" class=\"\" title=\"image-20221210222208515\">\n\n<h3 id=\"3-域内路由协议配置\"><a href=\"#3-域内路由协议配置\" class=\"headerlink\" title=\"3. 域内路由协议配置\"></a>3. 域内路由协议配置</h3><p>此步骤配置AS100域内路由协议</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R3:</span><br><span class=\"line\">router ospf 1</span><br><span class=\"line\">router-id 3.3.3.3</span><br><span class=\"line\">network 3.3.3.3 0.0.0.0 area 0</span><br><span class=\"line\">network 34.1.1.0 0.0.0.3 area 0</span><br><span class=\"line\">network 35.1.1.0 0.0.0.3 area 0</span><br><span class=\"line\"></span><br><span class=\"line\">R4:</span><br><span class=\"line\">router ospf 1</span><br><span class=\"line\">router-id 4.4.4.4</span><br><span class=\"line\">network 4.4.4.4 0.0.0.0 area 0</span><br><span class=\"line\">network 34.1.1.0 0.0.0.3 area 0</span><br><span class=\"line\"></span><br><span class=\"line\">R5:</span><br><span class=\"line\">router ospf 1</span><br><span class=\"line\">router-id 5.5.5.5</span><br><span class=\"line\">network 5.5.5.5 0.0.0.0 area 0</span><br><span class=\"line\">network 35.1.1.0 0.0.0.3 area 0</span><br></pre></td></tr></table></figure>\n\n<p>配置完成后，可以使用下列命令查看OSPF协议是否配置准确，并可使用wireshark抓包分析OSPF协议初始化过程。</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看OSPF邻居</span></span><br><span class=\"line\">show ip ospf nei</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看OSPF链路数据库</span></span><br><span class=\"line\">show ip ospf data</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 在R3上查看公网路由，是否有到5.5.5.5的路由</span></span><br><span class=\"line\">show ip route</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 在R3上ping R5，查看路由器之间的可达性</span></span><br><span class=\"line\">ping 5.5.5.5</span><br></pre></td></tr></table></figure>\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222218254.png\" class=\"\" title=\"image-20221210222218254\">\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222226783.png\" class=\"\" title=\"image-20221210222226783\">\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222235385.png\" class=\"\" title=\"image-20221210222235385\">\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222244737.png\" class=\"\" title=\"image-20221210222244737\">\n\n<h3 id=\"4-MPLS协议配置\"><a href=\"#4-MPLS协议配置\" class=\"headerlink\" title=\"4. MPLS协议配置\"></a>4. MPLS协议配置</h3><p>此步骤将AS100域内路由器对应接口激活MPLS协议</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R3:</span><br><span class=\"line\">ip cef</span><br><span class=\"line\">mpls ldp router-id lo0</span><br><span class=\"line\">mpls label range 300 399</span><br><span class=\"line\">int f2/0</span><br><span class=\"line\">mpls ip</span><br><span class=\"line\">int f3/0</span><br><span class=\"line\">mpls ip</span><br><span class=\"line\"></span><br><span class=\"line\">R4:</span><br><span class=\"line\">ip cef</span><br><span class=\"line\">mpls ldp router-id lo0</span><br><span class=\"line\">mpls label range 400 499</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">mpls ip</span><br><span class=\"line\"></span><br><span class=\"line\">R5:</span><br><span class=\"line\">ip cef</span><br><span class=\"line\">mpls ldp router-id lo0</span><br><span class=\"line\">mpls label range 500 599</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">mpls ip</span><br></pre></td></tr></table></figure>\n\n<p>配置完成后，可以使用下列命令查看MPLS协议配置是否正确，并可以使用wireshark查看LDP初始化过程。</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看LDP邻居</span></span><br><span class=\"line\">show mpls ldp nei</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看LIB</span></span><br><span class=\"line\">show mpls ldp bindings</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看RIB</span></span><br><span class=\"line\">show ip route</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看LFIB</span></span><br><span class=\"line\">show mpls forwarding-table</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看FIB</span></span><br><span class=\"line\">show ip cef</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 在R3上traceroute R5，查看MPLS域内数据封装过程（此步骤课忽略）</span></span><br><span class=\"line\">traceroute 5.5.5.5</span><br></pre></td></tr></table></figure>\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222257879.png\" class=\"\" title=\"image-20221210222257879\">\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222303596.png\" class=\"\" title=\"image-20221210222303596\">\n\n<h3 id=\"5-VPN配置\"><a href=\"#5-VPN配置\" class=\"headerlink\" title=\"5. VPN配置\"></a>5. VPN配置</h3><p>此处配置R3、R4、R5的VRF。</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R3：</span><br><span class=\"line\">ip vrf import_in</span><br><span class=\"line\">rd 100:11</span><br><span class=\"line\">route-target import 100:67</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip vrf <span class=\"keyword\">for</span> import_in</span><br><span class=\"line\">ip addr 13.1.1.2 255.255.255.252</span><br><span class=\"line\">ip vrf export_out</span><br><span class=\"line\">rd 100:22</span><br><span class=\"line\">route-target <span class=\"built_in\">export</span> 100:12</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip vrf <span class=\"keyword\">for</span> export_out</span><br><span class=\"line\">ip addr 23.1.1.2 255.255.255.252</span><br><span class=\"line\"></span><br><span class=\"line\">R4：</span><br><span class=\"line\">ip vrf VPN1</span><br><span class=\"line\">rd 100:6</span><br><span class=\"line\">route-target import 100:12</span><br><span class=\"line\">route-target <span class=\"built_in\">export</span> 100:67</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip vrf <span class=\"keyword\">for</span> VPN1</span><br><span class=\"line\">ip addr 46.1.1.1 255.255.255.252</span><br><span class=\"line\"></span><br><span class=\"line\">R5：</span><br><span class=\"line\">ip vrf VPN2</span><br><span class=\"line\">rd 100:7</span><br><span class=\"line\">route-target import 100:12</span><br><span class=\"line\">route-target <span class=\"built_in\">export</span> 100:67</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip vrf <span class=\"keyword\">for</span> VPN2</span><br><span class=\"line\">ip addr 57.1.1.1 255.255.255.252</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>配置完成后，可以通过下列命令查看VRF配置是否正确</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看私网路由表，确认对应接口路由是否已从公网路由表转移到私网路由表</span></span><br><span class=\"line\">show ip route vrf import_in</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看VRF参数</span></span><br><span class=\"line\">show ip vrf detail</span><br></pre></td></tr></table></figure>\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222311853.png\" class=\"\" title=\"image-20221210222311853\">\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222317251.png\" class=\"\" title=\"image-20221210222317251\">\n\n<h3 id=\"6-配置BGP协议\"><a href=\"#6-配置BGP协议\" class=\"headerlink\" title=\"6. 配置BGP协议\"></a>6. 配置BGP协议</h3><p>此步骤配置总部内部路由、总部、分部和MPLS域之间的路由使用BGP协议。</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R1:</span><br><span class=\"line\">router bgp 120</span><br><span class=\"line\">bgp router-id 1.1.1.1</span><br><span class=\"line\">bgp log-neighbor-changes</span><br><span class=\"line\">network 1.1.1.1 mask 255.255.255.255</span><br><span class=\"line\">network 12.1.1.0 mask 255.255.255.252</span><br><span class=\"line\">network 13.1.1.0 mask 255.255.255.252</span><br><span class=\"line\">neighbor 12.1.1.2 remote-as 120</span><br><span class=\"line\">neighbor 12.1.1.2 next-hop-self</span><br><span class=\"line\">neighbor 13.1.1.2 remote-as 100</span><br><span class=\"line\"></span><br><span class=\"line\">R2:</span><br><span class=\"line\">router bgp 120</span><br><span class=\"line\">bgp router-id 2.2.2.2</span><br><span class=\"line\">bgp log-neighbor-changes</span><br><span class=\"line\">network 2.2.2.2 mask 255.255.255.255</span><br><span class=\"line\">network 23.1.1.0 mask 255.255.255.252</span><br><span class=\"line\">neighbor 12.1.1.1 remote-as 120</span><br><span class=\"line\">neighbor 12.1.1.1 next-hop-self</span><br><span class=\"line\">neighbor 23.1.1.2 remote-as 100</span><br><span class=\"line\"></span><br><span class=\"line\">R3:</span><br><span class=\"line\">router bgp 100</span><br><span class=\"line\">bgp router-id 3.3.3.3</span><br><span class=\"line\">bgp log-neighbor-changes</span><br><span class=\"line\">no bgp default ipv4-unicast</span><br><span class=\"line\">neighbor 4.4.4.4 remote-as 100</span><br><span class=\"line\">neighbor 4.4.4.4 update-source Loopback0</span><br><span class=\"line\">neighbor 5.5.5.5 remote-as 100</span><br><span class=\"line\">neighbor 5.5.5.5 update-source Loopback0</span><br><span class=\"line\">address-family vpnv4</span><br><span class=\"line\">neighbor 4.4.4.4 activate</span><br><span class=\"line\">neighbor 4.4.4.4 send-community extended</span><br><span class=\"line\">neighbor 5.5.5.5 activate</span><br><span class=\"line\">neighbor 5.5.5.5 send-community extended</span><br><span class=\"line\">address-family ipv4 vrf export_out</span><br><span class=\"line\">neighbor 23.1.1.1 remote-as 120</span><br><span class=\"line\">neighbor 23.1.1.1 activate</span><br><span class=\"line\">address-family ipv4 vrf import_in</span><br><span class=\"line\">neighbor 13.1.1.1 remote-as 120</span><br><span class=\"line\">neighbor 13.1.1.1 activate</span><br><span class=\"line\">  </span><br><span class=\"line\">R4:</span><br><span class=\"line\">router bgp 100</span><br><span class=\"line\">bgp router-id 4.4.4.4</span><br><span class=\"line\">bgp log-neighbor-changes</span><br><span class=\"line\">no bgp default ipv4-unicast</span><br><span class=\"line\">neighbor 3.3.3.3 remote-as 100</span><br><span class=\"line\">neighbor 3.3.3.3 update-source Loopback0</span><br><span class=\"line\">address-family vpnv4</span><br><span class=\"line\">neighbor 3.3.3.3 activate</span><br><span class=\"line\">neighbor 3.3.3.3 send-community extended</span><br><span class=\"line\">address-family ipv4 vrf VPN1</span><br><span class=\"line\">neighbor 46.1.1.2 remote-as 60</span><br><span class=\"line\">neighbor 46.1.1.2 activate</span><br><span class=\"line\"></span><br><span class=\"line\">R5:</span><br><span class=\"line\">router bgp 100</span><br><span class=\"line\">bgp router-id 5.5.5.5</span><br><span class=\"line\">bgp log-neighbor-changes</span><br><span class=\"line\">no bgp default ipv4-unicast</span><br><span class=\"line\">neighbor 3.3.3.3 remote-as 100</span><br><span class=\"line\">neighbor 3.3.3.3 update-source Loopback0</span><br><span class=\"line\">address-family vpnv4</span><br><span class=\"line\">neighbor 3.3.3.3 activate</span><br><span class=\"line\">neighbor 3.3.3.3 send-community extended</span><br><span class=\"line\">address-family ipv4 vrf VPN2</span><br><span class=\"line\">neighbor 57.1.1.2 remote-as 70</span><br><span class=\"line\">neighbor 57.1.1.2 activate</span><br><span class=\"line\"></span><br><span class=\"line\">R6:</span><br><span class=\"line\">router bgp 60</span><br><span class=\"line\">bgp router-id 6.6.6.6</span><br><span class=\"line\">bgp log-neighbor-changes</span><br><span class=\"line\">network 6.6.6.6 mask 255.255.255.255</span><br><span class=\"line\">network 46.1.1.0 mask 255.255.255.252</span><br><span class=\"line\">neighbor 46.1.1.1 remote-as 100</span><br><span class=\"line\"> </span><br><span class=\"line\">R7:</span><br><span class=\"line\">router bgp 70</span><br><span class=\"line\">bgp router-id 7.7.7.7</span><br><span class=\"line\">bgp log-neighbor-changes</span><br><span class=\"line\">network 7.7.7.7 mask 255.255.255.255</span><br><span class=\"line\">network 57.1.1.0 mask 255.255.255.252</span><br><span class=\"line\">neighbor 57.1.1.1 remote-as 100</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"7-验证\"><a href=\"#7-验证\" class=\"headerlink\" title=\"7. 验证\"></a>7. 验证</h3><ul>\n<li><p>在R3上查看BGP vpnv4邻居情况</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222330945.png\" class=\"\" title=\"image-20221210222330945\">\n\n<p>由此可以看出，其四个邻居建立成功，并且收到相应的路由。</p>\n</li>\n<li><p>在R3上查看vpn信息</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222343976.png\" class=\"\" title=\"image-20221210222343976\">\n\n<p>从以上可知RD为100:11的有import_in 为100:67，而PE-R4及PE-R5的export为100:60、100:70，因此R6和R7的路由加入路由表项中，而RD 为100:22的VRF中，并没有设置import，不能从BGP ×××V4中导入任何路由，因此其收到的路由都是CE-R2通过EBGP传递过来的，其下跳都为23.1.1.1，且其中没有6.6.6.6和7.7.7.7的路由</p>\n</li>\n<li><p>在R2上查看BGP路由情况</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222357432.png\" class=\"\" title=\"image-20221210222357432\">\n\n<p>从上可看出，其收到的路由都是来至于R1，并且通过ibgp传递过来，并且经过的AS号为100 60</p>\n</li>\n<li><p>在R3上查看export_out表项</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222403562.png\" class=\"\" title=\"image-20221210222403562\">\n\n<p>从此可知，路由表中并没有R7及R6的路由，为什么R2从R1那儿收到了，没有传递给R3呢？因为BGP的防环机制，因为R7及R6的路由也是经过PE-R3传输给CE-R1的，其属性值带得有AS 100，因此在R2传递给R3时，查看到其带有自身AS号，拒绝将其加入路由表，那么此时我们在R6和R7上查看路由情况，会是怎么样呢？</p>\n</li>\n<li><p>分别查看R6和R7的路由</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222411967.png\" class=\"\" title=\"image-20221210222411967\">\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222418659.png\" class=\"\" title=\"image-20221210222418659\">\n\n<p>从上可知R7上并没有收到R6的路由，R7也没有收到R6的路由，但都能收到R1和R2的路由，其原因是PE-R3上配置的VRF export_out的RT export 为100:12，而在上面提到的VRF export_out中恰好有这些路由表项，在PE-R4和PE-R5上设置的import为100:12，因此能将其加入路由表，传输给CE路由器； </p>\n</li>\n<li><p>现在需要将PE-R3的VRF export_out中收到R6和R7的路由，上面已经提到原因了，因为BGP 的防环机制，所在需要在R3上配置允许AS号相同的路由进入，如下配置</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router bgp 100</span><br><span class=\"line\">address-family ipv4 vrf export_out</span><br><span class=\"line\">neighbor 23.1.1.1 allowas-in 3 //允许其自治系统号重复的次数</span><br></pre></td></tr></table></figure></li>\n<li><p>此时在R3上再次查看bgp路由</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222426550.png\" class=\"\" title=\"image-20221210222426550\">\n\n<p>由此可见，R6和R7上的路由已经加入export_out路由表中，并且其下一跳是23.1.1.1，由CE-R2通告过来的，其经过的路径为120 100 60、120 100 70</p>\n</li>\n<li><p>此时在R6和R7上查看公网路由</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222434786.png\" class=\"\" title=\"image-20221210222434786\">\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222442083.png\" class=\"\" title=\"image-20221210222442083\">\n\n<p>由此可见，R6和R7上都有到对方的路由</p>\n</li>\n<li><p>此时在R6上traceroute R</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222448237.png\" class=\"\" title=\"image-20221210222448237\">\n\n<p>从上可知，路径为：R6-&gt;R4-&gt;R3-&gt;R2-&gt;R1-&gt;R3-&gt;R5-&gt;R7</p>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"实验目的\"><a href=\"#实验目的\" class=\"headerlink\" title=\"实验目的\"></a>实验目的</h2><p>搭建Hub and Spoke网络，实现分部1到分部2之间可以通过总部网络实现互通，验证分部之间的流量是如何经过总部内网进行传送的。</p>\n<h2 id=\"实验环境\"><a href=\"#实验环境\" class=\"headerlink\" title=\"实验环境\"></a>实验环境</h2><p>GNS3 2.2.34</p>\n<h2 id=\"实验步骤\"><a href=\"#实验步骤\" class=\"headerlink\" title=\"实验步骤\"></a>实验步骤</h2><h3 id=\"1-搭建网络拓扑\"><a href=\"#1-搭建网络拓扑\" class=\"headerlink\" title=\"1. 搭建网络拓扑\"></a>1. 搭建网络拓扑</h3><p>在GNS3中搭建网络拓扑如下图：</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222146953.png\" class=\"\" title=\"image-20221210222146953\">\n\n<h3 id=\"2-接口IP地址配置\"><a href=\"#2-接口IP地址配置\" class=\"headerlink\" title=\"2. 接口IP地址配置\"></a>2. 接口IP地址配置</h3><p>使用<code>config t</code>命令进入配置模式，然后进行接口IP地址配置</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R1:</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 1.1.1.1 255.255.255.255</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 13.1.1.1 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip address 12.1.1.1 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\"></span><br><span class=\"line\">R2:</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 2.2.2.2 255.255.255.255</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 12.1.1.2 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip address 23.1.1.1 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\"></span><br><span class=\"line\">R3:</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 3.3.3.3 255.255.255.255</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 13.1.1.2 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip address 23.1.1.2 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\">int f2/0</span><br><span class=\"line\">ip address 34.1.1.1 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\">int f3/0</span><br><span class=\"line\">ip address 35.1.1.1 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\"></span><br><span class=\"line\">R4:</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 4.4.4.4 255.255.255.255</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 34.1.1.2 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\">interface f1/0</span><br><span class=\"line\">ip address 46.1.1.1 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\"></span><br><span class=\"line\">R5:</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 5.5.5.5 255.255.255.255</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 35.1.1.2 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip address 57.1.1.1 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\"></span><br><span class=\"line\">R6:</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 6.6.6.6 255.255.255.255</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 46.1.1.2 255.255.255.252</span><br><span class=\"line\">no sh</span><br><span class=\"line\"> </span><br><span class=\"line\">R7:</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 7.7.7.7 255.255.255.255</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 57.1.1.2 255.255.255.252</span><br><span class=\"line\">no sh</span><br></pre></td></tr></table></figure>\n\n<p>配置完成后，可以使用<code>do show ip int b</code>命令查看各接口配置是否正确。</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222208515.png\" class=\"\" title=\"image-20221210222208515\">\n\n<h3 id=\"3-域内路由协议配置\"><a href=\"#3-域内路由协议配置\" class=\"headerlink\" title=\"3. 域内路由协议配置\"></a>3. 域内路由协议配置</h3><p>此步骤配置AS100域内路由协议</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R3:</span><br><span class=\"line\">router ospf 1</span><br><span class=\"line\">router-id 3.3.3.3</span><br><span class=\"line\">network 3.3.3.3 0.0.0.0 area 0</span><br><span class=\"line\">network 34.1.1.0 0.0.0.3 area 0</span><br><span class=\"line\">network 35.1.1.0 0.0.0.3 area 0</span><br><span class=\"line\"></span><br><span class=\"line\">R4:</span><br><span class=\"line\">router ospf 1</span><br><span class=\"line\">router-id 4.4.4.4</span><br><span class=\"line\">network 4.4.4.4 0.0.0.0 area 0</span><br><span class=\"line\">network 34.1.1.0 0.0.0.3 area 0</span><br><span class=\"line\"></span><br><span class=\"line\">R5:</span><br><span class=\"line\">router ospf 1</span><br><span class=\"line\">router-id 5.5.5.5</span><br><span class=\"line\">network 5.5.5.5 0.0.0.0 area 0</span><br><span class=\"line\">network 35.1.1.0 0.0.0.3 area 0</span><br></pre></td></tr></table></figure>\n\n<p>配置完成后，可以使用下列命令查看OSPF协议是否配置准确，并可使用wireshark抓包分析OSPF协议初始化过程。</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看OSPF邻居</span></span><br><span class=\"line\">show ip ospf nei</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看OSPF链路数据库</span></span><br><span class=\"line\">show ip ospf data</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 在R3上查看公网路由，是否有到5.5.5.5的路由</span></span><br><span class=\"line\">show ip route</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 在R3上ping R5，查看路由器之间的可达性</span></span><br><span class=\"line\">ping 5.5.5.5</span><br></pre></td></tr></table></figure>\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222218254.png\" class=\"\" title=\"image-20221210222218254\">\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222226783.png\" class=\"\" title=\"image-20221210222226783\">\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222235385.png\" class=\"\" title=\"image-20221210222235385\">\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222244737.png\" class=\"\" title=\"image-20221210222244737\">\n\n<h3 id=\"4-MPLS协议配置\"><a href=\"#4-MPLS协议配置\" class=\"headerlink\" title=\"4. MPLS协议配置\"></a>4. MPLS协议配置</h3><p>此步骤将AS100域内路由器对应接口激活MPLS协议</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R3:</span><br><span class=\"line\">ip cef</span><br><span class=\"line\">mpls ldp router-id lo0</span><br><span class=\"line\">mpls label range 300 399</span><br><span class=\"line\">int f2/0</span><br><span class=\"line\">mpls ip</span><br><span class=\"line\">int f3/0</span><br><span class=\"line\">mpls ip</span><br><span class=\"line\"></span><br><span class=\"line\">R4:</span><br><span class=\"line\">ip cef</span><br><span class=\"line\">mpls ldp router-id lo0</span><br><span class=\"line\">mpls label range 400 499</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">mpls ip</span><br><span class=\"line\"></span><br><span class=\"line\">R5:</span><br><span class=\"line\">ip cef</span><br><span class=\"line\">mpls ldp router-id lo0</span><br><span class=\"line\">mpls label range 500 599</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">mpls ip</span><br></pre></td></tr></table></figure>\n\n<p>配置完成后，可以使用下列命令查看MPLS协议配置是否正确，并可以使用wireshark查看LDP初始化过程。</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看LDP邻居</span></span><br><span class=\"line\">show mpls ldp nei</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看LIB</span></span><br><span class=\"line\">show mpls ldp bindings</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看RIB</span></span><br><span class=\"line\">show ip route</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看LFIB</span></span><br><span class=\"line\">show mpls forwarding-table</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看FIB</span></span><br><span class=\"line\">show ip cef</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 在R3上traceroute R5，查看MPLS域内数据封装过程（此步骤课忽略）</span></span><br><span class=\"line\">traceroute 5.5.5.5</span><br></pre></td></tr></table></figure>\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222257879.png\" class=\"\" title=\"image-20221210222257879\">\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222303596.png\" class=\"\" title=\"image-20221210222303596\">\n\n<h3 id=\"5-VPN配置\"><a href=\"#5-VPN配置\" class=\"headerlink\" title=\"5. VPN配置\"></a>5. VPN配置</h3><p>此处配置R3、R4、R5的VRF。</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R3：</span><br><span class=\"line\">ip vrf import_in</span><br><span class=\"line\">rd 100:11</span><br><span class=\"line\">route-target import 100:67</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip vrf <span class=\"keyword\">for</span> import_in</span><br><span class=\"line\">ip addr 13.1.1.2 255.255.255.252</span><br><span class=\"line\">ip vrf export_out</span><br><span class=\"line\">rd 100:22</span><br><span class=\"line\">route-target <span class=\"built_in\">export</span> 100:12</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip vrf <span class=\"keyword\">for</span> export_out</span><br><span class=\"line\">ip addr 23.1.1.2 255.255.255.252</span><br><span class=\"line\"></span><br><span class=\"line\">R4：</span><br><span class=\"line\">ip vrf VPN1</span><br><span class=\"line\">rd 100:6</span><br><span class=\"line\">route-target import 100:12</span><br><span class=\"line\">route-target <span class=\"built_in\">export</span> 100:67</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip vrf <span class=\"keyword\">for</span> VPN1</span><br><span class=\"line\">ip addr 46.1.1.1 255.255.255.252</span><br><span class=\"line\"></span><br><span class=\"line\">R5：</span><br><span class=\"line\">ip vrf VPN2</span><br><span class=\"line\">rd 100:7</span><br><span class=\"line\">route-target import 100:12</span><br><span class=\"line\">route-target <span class=\"built_in\">export</span> 100:67</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip vrf <span class=\"keyword\">for</span> VPN2</span><br><span class=\"line\">ip addr 57.1.1.1 255.255.255.252</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>配置完成后，可以通过下列命令查看VRF配置是否正确</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看私网路由表，确认对应接口路由是否已从公网路由表转移到私网路由表</span></span><br><span class=\"line\">show ip route vrf import_in</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看VRF参数</span></span><br><span class=\"line\">show ip vrf detail</span><br></pre></td></tr></table></figure>\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222311853.png\" class=\"\" title=\"image-20221210222311853\">\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222317251.png\" class=\"\" title=\"image-20221210222317251\">\n\n<h3 id=\"6-配置BGP协议\"><a href=\"#6-配置BGP协议\" class=\"headerlink\" title=\"6. 配置BGP协议\"></a>6. 配置BGP协议</h3><p>此步骤配置总部内部路由、总部、分部和MPLS域之间的路由使用BGP协议。</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">R1:</span><br><span class=\"line\">router bgp 120</span><br><span class=\"line\">bgp router-id 1.1.1.1</span><br><span class=\"line\">bgp log-neighbor-changes</span><br><span class=\"line\">network 1.1.1.1 mask 255.255.255.255</span><br><span class=\"line\">network 12.1.1.0 mask 255.255.255.252</span><br><span class=\"line\">network 13.1.1.0 mask 255.255.255.252</span><br><span class=\"line\">neighbor 12.1.1.2 remote-as 120</span><br><span class=\"line\">neighbor 12.1.1.2 next-hop-self</span><br><span class=\"line\">neighbor 13.1.1.2 remote-as 100</span><br><span class=\"line\"></span><br><span class=\"line\">R2:</span><br><span class=\"line\">router bgp 120</span><br><span class=\"line\">bgp router-id 2.2.2.2</span><br><span class=\"line\">bgp log-neighbor-changes</span><br><span class=\"line\">network 2.2.2.2 mask 255.255.255.255</span><br><span class=\"line\">network 23.1.1.0 mask 255.255.255.252</span><br><span class=\"line\">neighbor 12.1.1.1 remote-as 120</span><br><span class=\"line\">neighbor 12.1.1.1 next-hop-self</span><br><span class=\"line\">neighbor 23.1.1.2 remote-as 100</span><br><span class=\"line\"></span><br><span class=\"line\">R3:</span><br><span class=\"line\">router bgp 100</span><br><span class=\"line\">bgp router-id 3.3.3.3</span><br><span class=\"line\">bgp log-neighbor-changes</span><br><span class=\"line\">no bgp default ipv4-unicast</span><br><span class=\"line\">neighbor 4.4.4.4 remote-as 100</span><br><span class=\"line\">neighbor 4.4.4.4 update-source Loopback0</span><br><span class=\"line\">neighbor 5.5.5.5 remote-as 100</span><br><span class=\"line\">neighbor 5.5.5.5 update-source Loopback0</span><br><span class=\"line\">address-family vpnv4</span><br><span class=\"line\">neighbor 4.4.4.4 activate</span><br><span class=\"line\">neighbor 4.4.4.4 send-community extended</span><br><span class=\"line\">neighbor 5.5.5.5 activate</span><br><span class=\"line\">neighbor 5.5.5.5 send-community extended</span><br><span class=\"line\">address-family ipv4 vrf export_out</span><br><span class=\"line\">neighbor 23.1.1.1 remote-as 120</span><br><span class=\"line\">neighbor 23.1.1.1 activate</span><br><span class=\"line\">address-family ipv4 vrf import_in</span><br><span class=\"line\">neighbor 13.1.1.1 remote-as 120</span><br><span class=\"line\">neighbor 13.1.1.1 activate</span><br><span class=\"line\">  </span><br><span class=\"line\">R4:</span><br><span class=\"line\">router bgp 100</span><br><span class=\"line\">bgp router-id 4.4.4.4</span><br><span class=\"line\">bgp log-neighbor-changes</span><br><span class=\"line\">no bgp default ipv4-unicast</span><br><span class=\"line\">neighbor 3.3.3.3 remote-as 100</span><br><span class=\"line\">neighbor 3.3.3.3 update-source Loopback0</span><br><span class=\"line\">address-family vpnv4</span><br><span class=\"line\">neighbor 3.3.3.3 activate</span><br><span class=\"line\">neighbor 3.3.3.3 send-community extended</span><br><span class=\"line\">address-family ipv4 vrf VPN1</span><br><span class=\"line\">neighbor 46.1.1.2 remote-as 60</span><br><span class=\"line\">neighbor 46.1.1.2 activate</span><br><span class=\"line\"></span><br><span class=\"line\">R5:</span><br><span class=\"line\">router bgp 100</span><br><span class=\"line\">bgp router-id 5.5.5.5</span><br><span class=\"line\">bgp log-neighbor-changes</span><br><span class=\"line\">no bgp default ipv4-unicast</span><br><span class=\"line\">neighbor 3.3.3.3 remote-as 100</span><br><span class=\"line\">neighbor 3.3.3.3 update-source Loopback0</span><br><span class=\"line\">address-family vpnv4</span><br><span class=\"line\">neighbor 3.3.3.3 activate</span><br><span class=\"line\">neighbor 3.3.3.3 send-community extended</span><br><span class=\"line\">address-family ipv4 vrf VPN2</span><br><span class=\"line\">neighbor 57.1.1.2 remote-as 70</span><br><span class=\"line\">neighbor 57.1.1.2 activate</span><br><span class=\"line\"></span><br><span class=\"line\">R6:</span><br><span class=\"line\">router bgp 60</span><br><span class=\"line\">bgp router-id 6.6.6.6</span><br><span class=\"line\">bgp log-neighbor-changes</span><br><span class=\"line\">network 6.6.6.6 mask 255.255.255.255</span><br><span class=\"line\">network 46.1.1.0 mask 255.255.255.252</span><br><span class=\"line\">neighbor 46.1.1.1 remote-as 100</span><br><span class=\"line\"> </span><br><span class=\"line\">R7:</span><br><span class=\"line\">router bgp 70</span><br><span class=\"line\">bgp router-id 7.7.7.7</span><br><span class=\"line\">bgp log-neighbor-changes</span><br><span class=\"line\">network 7.7.7.7 mask 255.255.255.255</span><br><span class=\"line\">network 57.1.1.0 mask 255.255.255.252</span><br><span class=\"line\">neighbor 57.1.1.1 remote-as 100</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"7-验证\"><a href=\"#7-验证\" class=\"headerlink\" title=\"7. 验证\"></a>7. 验证</h3><ul>\n<li><p>在R3上查看BGP vpnv4邻居情况</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222330945.png\" class=\"\" title=\"image-20221210222330945\">\n\n<p>由此可以看出，其四个邻居建立成功，并且收到相应的路由。</p>\n</li>\n<li><p>在R3上查看vpn信息</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222343976.png\" class=\"\" title=\"image-20221210222343976\">\n\n<p>从以上可知RD为100:11的有import_in 为100:67，而PE-R4及PE-R5的export为100:60、100:70，因此R6和R7的路由加入路由表项中，而RD 为100:22的VRF中，并没有设置import，不能从BGP ×××V4中导入任何路由，因此其收到的路由都是CE-R2通过EBGP传递过来的，其下跳都为23.1.1.1，且其中没有6.6.6.6和7.7.7.7的路由</p>\n</li>\n<li><p>在R2上查看BGP路由情况</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222357432.png\" class=\"\" title=\"image-20221210222357432\">\n\n<p>从上可看出，其收到的路由都是来至于R1，并且通过ibgp传递过来，并且经过的AS号为100 60</p>\n</li>\n<li><p>在R3上查看export_out表项</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222403562.png\" class=\"\" title=\"image-20221210222403562\">\n\n<p>从此可知，路由表中并没有R7及R6的路由，为什么R2从R1那儿收到了，没有传递给R3呢？因为BGP的防环机制，因为R7及R6的路由也是经过PE-R3传输给CE-R1的，其属性值带得有AS 100，因此在R2传递给R3时，查看到其带有自身AS号，拒绝将其加入路由表，那么此时我们在R6和R7上查看路由情况，会是怎么样呢？</p>\n</li>\n<li><p>分别查看R6和R7的路由</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222411967.png\" class=\"\" title=\"image-20221210222411967\">\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222418659.png\" class=\"\" title=\"image-20221210222418659\">\n\n<p>从上可知R7上并没有收到R6的路由，R7也没有收到R6的路由，但都能收到R1和R2的路由，其原因是PE-R3上配置的VRF export_out的RT export 为100:12，而在上面提到的VRF export_out中恰好有这些路由表项，在PE-R4和PE-R5上设置的import为100:12，因此能将其加入路由表，传输给CE路由器； </p>\n</li>\n<li><p>现在需要将PE-R3的VRF export_out中收到R6和R7的路由，上面已经提到原因了，因为BGP 的防环机制，所在需要在R3上配置允许AS号相同的路由进入，如下配置</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">router bgp 100</span><br><span class=\"line\">address-family ipv4 vrf export_out</span><br><span class=\"line\">neighbor 23.1.1.1 allowas-in 3 //允许其自治系统号重复的次数</span><br></pre></td></tr></table></figure></li>\n<li><p>此时在R3上再次查看bgp路由</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222426550.png\" class=\"\" title=\"image-20221210222426550\">\n\n<p>由此可见，R6和R7上的路由已经加入export_out路由表中，并且其下一跳是23.1.1.1，由CE-R2通告过来的，其经过的路径为120 100 60、120 100 70</p>\n</li>\n<li><p>此时在R6和R7上查看公网路由</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222434786.png\" class=\"\" title=\"image-20221210222434786\">\n\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222442083.png\" class=\"\" title=\"image-20221210222442083\">\n\n<p>由此可见，R6和R7上都有到对方的路由</p>\n</li>\n<li><p>此时在R6上traceroute R</p>\n<img src=\"/2022/12/10/Hub-Spoke/image-20221210222448237.png\" class=\"\" title=\"image-20221210222448237\">\n\n<p>从上可知，路径为：R6-&gt;R4-&gt;R3-&gt;R2-&gt;R1-&gt;R3-&gt;R5-&gt;R7</p>\n</li>\n</ul>\n"},{"uuid":"5cce8253-c888-87a1-a890-c98d695ad2c8","title":"4G-LTE配置范例","date":"2022-12-11T07:54:39.000Z","_content":"\nIUV开发的4G-LTE仿真软件配置范例。\n\n<div id=\"dplayer\"></div>\n<script src=\"DPlayer.min.js\"></script>\n\n#### 一、4G实验模式业务验证配置\n\n业务配置1：\n\n{% dplayer \"url=业务配置1.mp4\" \"addition=https://dplayer.daoapp.io/bilibili?aid=4157142\" \"api=https://api.prprpr.me/dplayer/\" \"pic=启动画面.PNG\" \"id=9E2E3368B56CDBB4\" \"loop=yes\" \"theme#b7daff\" \"autoplay=false\" \"hotkey=true\" \"screenshot=true\" %}\n\n业务配置2：\n\n{% dplayer \"url=业务配置2.mp4\" \"addition=https://dplayer.daoapp.io/bilibili?aid=4157142\" \"api=https://api.prprpr.me/dplayer/\" \"pic=启动画面.png\" \"id=9E2E3368B56CDBB4\" \"loop=yes\" \"theme#b7daff\" \"autoplay=false\" \"hotkey=true\" \"screenshot=true\" %}\n\n#### 二、4G实验模式切换和漫游配置\n\n切换和漫游配置1：\n\n{% dplayer \"url=切换和漫游1.mp4\" \"addition=https://dplayer.daoapp.io/bilibili?aid=4157142\" \"api=https://api.prprpr.me/dplayer/\" \"pic=启动画面.png\" \"id=9E2E3368B56CDBB4\" \"loop=yes\" \"theme=#FADFA3\" \"autoplay=false\" \"token=tokendemo\" \"hotkey=true\" %}\n\n切换和漫游配置2：\n\n{% dplayer \"url=切换和漫游2.mp4\" \"addition=https://dplayer.daoapp.io/bilibili?aid=4157142\" \"api=https://api.prprpr.me/dplayer/\" \"pic=启动画面.png\" \"id=9E2E3368B56CDBB4\" \"loop=yes\" \"theme=#FADFA3\" \"autoplay=false\" \"token=tokendemo\" \"hotkey=true\" %}\n\n#### 三、4G承载网数据配置\n\n承载网数据配置1：\n\n{% dplayer \"url=承载网数据配置1.mp4\" \"addition=https://dplayer.daoapp.io/bilibili?aid=4157142\" \"api=https://api.prprpr.me/dplayer/\" \"pic=启动画面.png\" \"id=9E2E3368B56CDBB4\" \"loop=yes\" \"theme=#FADFA3\" \"autoplay=false\" \"token=tokendemo\" %}\n\n承载网数据配置2：\n\n{% dplayer \"url=承载网数据配置2.mp4\" \"addition=https://dplayer.daoapp.io/bilibili?aid=4157142\" \"api=https://api.prprpr.me/dplayer/\" \"pic=启动画面.png\" \"id=9E2E3368B56CDBB4\" \"loop=yes\" \"theme=#FADFA3\" \"autoplay=false\" \"token=tokendemo\" %}\n","source":"_posts/4G-LTE配置范例.md","raw":"---\nuuid: 5cce8253-c888-87a1-a890-c98d695ad2c8\ntitle: 4G-LTE配置范例\ndate: 2022-12-11 15:54:39\ntags:\n---\n\nIUV开发的4G-LTE仿真软件配置范例。\n\n<div id=\"dplayer\"></div>\n<script src=\"DPlayer.min.js\"></script>\n\n#### 一、4G实验模式业务验证配置\n\n业务配置1：\n\n{% dplayer \"url=业务配置1.mp4\" \"addition=https://dplayer.daoapp.io/bilibili?aid=4157142\" \"api=https://api.prprpr.me/dplayer/\" \"pic=启动画面.PNG\" \"id=9E2E3368B56CDBB4\" \"loop=yes\" \"theme#b7daff\" \"autoplay=false\" \"hotkey=true\" \"screenshot=true\" %}\n\n业务配置2：\n\n{% dplayer \"url=业务配置2.mp4\" \"addition=https://dplayer.daoapp.io/bilibili?aid=4157142\" \"api=https://api.prprpr.me/dplayer/\" \"pic=启动画面.png\" \"id=9E2E3368B56CDBB4\" \"loop=yes\" \"theme#b7daff\" \"autoplay=false\" \"hotkey=true\" \"screenshot=true\" %}\n\n#### 二、4G实验模式切换和漫游配置\n\n切换和漫游配置1：\n\n{% dplayer \"url=切换和漫游1.mp4\" \"addition=https://dplayer.daoapp.io/bilibili?aid=4157142\" \"api=https://api.prprpr.me/dplayer/\" \"pic=启动画面.png\" \"id=9E2E3368B56CDBB4\" \"loop=yes\" \"theme=#FADFA3\" \"autoplay=false\" \"token=tokendemo\" \"hotkey=true\" %}\n\n切换和漫游配置2：\n\n{% dplayer \"url=切换和漫游2.mp4\" \"addition=https://dplayer.daoapp.io/bilibili?aid=4157142\" \"api=https://api.prprpr.me/dplayer/\" \"pic=启动画面.png\" \"id=9E2E3368B56CDBB4\" \"loop=yes\" \"theme=#FADFA3\" \"autoplay=false\" \"token=tokendemo\" \"hotkey=true\" %}\n\n#### 三、4G承载网数据配置\n\n承载网数据配置1：\n\n{% dplayer \"url=承载网数据配置1.mp4\" \"addition=https://dplayer.daoapp.io/bilibili?aid=4157142\" \"api=https://api.prprpr.me/dplayer/\" \"pic=启动画面.png\" \"id=9E2E3368B56CDBB4\" \"loop=yes\" \"theme=#FADFA3\" \"autoplay=false\" \"token=tokendemo\" %}\n\n承载网数据配置2：\n\n{% dplayer \"url=承载网数据配置2.mp4\" \"addition=https://dplayer.daoapp.io/bilibili?aid=4157142\" \"api=https://api.prprpr.me/dplayer/\" \"pic=启动画面.png\" \"id=9E2E3368B56CDBB4\" \"loop=yes\" \"theme=#FADFA3\" \"autoplay=false\" \"token=tokendemo\" %}\n","slug":"4G-LTE配置范例","published":1,"updated":"2022-12-14T15:39:50.004Z","_id":"clbj2ohgy0000kglm08jme8ju","comments":1,"layout":"post","photos":[],"link":"","content":"<p>IUV开发的4G-LTE仿真软件配置范例。</p>\n<div id=\"dplayer\"></div>\n<script src=\"DPlayer.min.js\"></script>\n\n<h4 id=\"一、4G实验模式业务验证配置\"><a href=\"#一、4G实验模式业务验证配置\" class=\"headerlink\" title=\"一、4G实验模式业务验证配置\"></a>一、4G实验模式业务验证配置</h4><p>业务配置1：</p>\n<div id=\"dplayer6\" class=\"dplayer hexo-tag-dplayer-mark\" style=\"margin-bottom: 20px;\"></div><script>(function(){var player = new DPlayer({\"container\":document.getElementById(\"dplayer6\"),\"loop\":true,\"screenshot\":true,\"hotkey\":true,\"video\":{\"url\":\"/2022/12/11/4G-LTE配置范例/业务配置1.mp4\",\"pic\":\"启动画面.PNG\"},\"danmaku\":{\"id\":\"9E2E3368B56CDBB4\",\"api\":\"https://api.prprpr.me/dplayer/\",\"addition\":[\"https://dplayer.daoapp.io/bilibili?aid=4157142\"]}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script>\n\n<p>业务配置2：</p>\n<div id=\"dplayer7\" class=\"dplayer hexo-tag-dplayer-mark\" style=\"margin-bottom: 20px;\"></div><script>(function(){var player = new DPlayer({\"container\":document.getElementById(\"dplayer7\"),\"loop\":true,\"screenshot\":true,\"hotkey\":true,\"video\":{\"url\":\"/2022/12/11/4G-LTE配置范例/业务配置2.mp4\",\"pic\":\"启动画面.png\"},\"danmaku\":{\"id\":\"9E2E3368B56CDBB4\",\"api\":\"https://api.prprpr.me/dplayer/\",\"addition\":[\"https://dplayer.daoapp.io/bilibili?aid=4157142\"]}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script>\n\n<h4 id=\"二、4G实验模式切换和漫游配置\"><a href=\"#二、4G实验模式切换和漫游配置\" class=\"headerlink\" title=\"二、4G实验模式切换和漫游配置\"></a>二、4G实验模式切换和漫游配置</h4><p>切换和漫游配置1：</p>\n<div id=\"dplayer8\" class=\"dplayer hexo-tag-dplayer-mark\" style=\"margin-bottom: 20px;\"></div><script>(function(){var player = new DPlayer({\"container\":document.getElementById(\"dplayer8\"),\"theme\":\"#FADFA3\",\"loop\":true,\"hotkey\":true,\"video\":{\"url\":\"/2022/12/11/4G-LTE配置范例/切换和漫游1.mp4\",\"pic\":\"启动画面.png\"},\"danmaku\":{\"id\":\"9E2E3368B56CDBB4\",\"api\":\"https://api.prprpr.me/dplayer/\",\"token\":\"tokendemo\",\"addition\":[\"https://dplayer.daoapp.io/bilibili?aid=4157142\"]}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script>\n\n<p>切换和漫游配置2：</p>\n<div id=\"dplayer9\" class=\"dplayer hexo-tag-dplayer-mark\" style=\"margin-bottom: 20px;\"></div><script>(function(){var player = new DPlayer({\"container\":document.getElementById(\"dplayer9\"),\"theme\":\"#FADFA3\",\"loop\":true,\"hotkey\":true,\"video\":{\"url\":\"/2022/12/11/4G-LTE配置范例/切换和漫游2.mp4\",\"pic\":\"启动画面.png\"},\"danmaku\":{\"id\":\"9E2E3368B56CDBB4\",\"api\":\"https://api.prprpr.me/dplayer/\",\"token\":\"tokendemo\",\"addition\":[\"https://dplayer.daoapp.io/bilibili?aid=4157142\"]}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script>\n\n<h4 id=\"三、4G承载网数据配置\"><a href=\"#三、4G承载网数据配置\" class=\"headerlink\" title=\"三、4G承载网数据配置\"></a>三、4G承载网数据配置</h4><p>承载网数据配置1：</p>\n<div id=\"dplayer10\" class=\"dplayer hexo-tag-dplayer-mark\" style=\"margin-bottom: 20px;\"></div><script>(function(){var player = new DPlayer({\"container\":document.getElementById(\"dplayer10\"),\"theme\":\"#FADFA3\",\"loop\":true,\"video\":{\"url\":\"/2022/12/11/4G-LTE配置范例/承载网数据配置1.mp4\",\"pic\":\"启动画面.png\"},\"danmaku\":{\"id\":\"9E2E3368B56CDBB4\",\"api\":\"https://api.prprpr.me/dplayer/\",\"token\":\"tokendemo\",\"addition\":[\"https://dplayer.daoapp.io/bilibili?aid=4157142\"]}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script>\n\n<p>承载网数据配置2：</p>\n<div id=\"dplayer11\" class=\"dplayer hexo-tag-dplayer-mark\" style=\"margin-bottom: 20px;\"></div><script>(function(){var player = new DPlayer({\"container\":document.getElementById(\"dplayer11\"),\"theme\":\"#FADFA3\",\"loop\":true,\"video\":{\"url\":\"/2022/12/11/4G-LTE配置范例/承载网数据配置2.mp4\",\"pic\":\"启动画面.png\"},\"danmaku\":{\"id\":\"9E2E3368B56CDBB4\",\"api\":\"https://api.prprpr.me/dplayer/\",\"token\":\"tokendemo\",\"addition\":[\"https://dplayer.daoapp.io/bilibili?aid=4157142\"]}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script>\n","site":{"data":{}},"excerpt":"","more":"<p>IUV开发的4G-LTE仿真软件配置范例。</p>\n<div id=\"dplayer\"></div>\n<script src=\"DPlayer.min.js\"></script>\n\n<h4 id=\"一、4G实验模式业务验证配置\"><a href=\"#一、4G实验模式业务验证配置\" class=\"headerlink\" title=\"一、4G实验模式业务验证配置\"></a>一、4G实验模式业务验证配置</h4><p>业务配置1：</p>\n<div id=\"dplayer6\" class=\"dplayer hexo-tag-dplayer-mark\" style=\"margin-bottom: 20px;\"></div><script>(function(){var player = new DPlayer({\"container\":document.getElementById(\"dplayer6\"),\"loop\":true,\"screenshot\":true,\"hotkey\":true,\"video\":{\"url\":\"/2022/12/11/4G-LTE配置范例/业务配置1.mp4\",\"pic\":\"启动画面.PNG\"},\"danmaku\":{\"id\":\"9E2E3368B56CDBB4\",\"api\":\"https://api.prprpr.me/dplayer/\",\"addition\":[\"https://dplayer.daoapp.io/bilibili?aid=4157142\"]}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script>\n\n<p>业务配置2：</p>\n<div id=\"dplayer7\" class=\"dplayer hexo-tag-dplayer-mark\" style=\"margin-bottom: 20px;\"></div><script>(function(){var player = new DPlayer({\"container\":document.getElementById(\"dplayer7\"),\"loop\":true,\"screenshot\":true,\"hotkey\":true,\"video\":{\"url\":\"/2022/12/11/4G-LTE配置范例/业务配置2.mp4\",\"pic\":\"启动画面.png\"},\"danmaku\":{\"id\":\"9E2E3368B56CDBB4\",\"api\":\"https://api.prprpr.me/dplayer/\",\"addition\":[\"https://dplayer.daoapp.io/bilibili?aid=4157142\"]}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script>\n\n<h4 id=\"二、4G实验模式切换和漫游配置\"><a href=\"#二、4G实验模式切换和漫游配置\" class=\"headerlink\" title=\"二、4G实验模式切换和漫游配置\"></a>二、4G实验模式切换和漫游配置</h4><p>切换和漫游配置1：</p>\n<div id=\"dplayer8\" class=\"dplayer hexo-tag-dplayer-mark\" style=\"margin-bottom: 20px;\"></div><script>(function(){var player = new DPlayer({\"container\":document.getElementById(\"dplayer8\"),\"theme\":\"#FADFA3\",\"loop\":true,\"hotkey\":true,\"video\":{\"url\":\"/2022/12/11/4G-LTE配置范例/切换和漫游1.mp4\",\"pic\":\"启动画面.png\"},\"danmaku\":{\"id\":\"9E2E3368B56CDBB4\",\"api\":\"https://api.prprpr.me/dplayer/\",\"token\":\"tokendemo\",\"addition\":[\"https://dplayer.daoapp.io/bilibili?aid=4157142\"]}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script>\n\n<p>切换和漫游配置2：</p>\n<div id=\"dplayer9\" class=\"dplayer hexo-tag-dplayer-mark\" style=\"margin-bottom: 20px;\"></div><script>(function(){var player = new DPlayer({\"container\":document.getElementById(\"dplayer9\"),\"theme\":\"#FADFA3\",\"loop\":true,\"hotkey\":true,\"video\":{\"url\":\"/2022/12/11/4G-LTE配置范例/切换和漫游2.mp4\",\"pic\":\"启动画面.png\"},\"danmaku\":{\"id\":\"9E2E3368B56CDBB4\",\"api\":\"https://api.prprpr.me/dplayer/\",\"token\":\"tokendemo\",\"addition\":[\"https://dplayer.daoapp.io/bilibili?aid=4157142\"]}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script>\n\n<h4 id=\"三、4G承载网数据配置\"><a href=\"#三、4G承载网数据配置\" class=\"headerlink\" title=\"三、4G承载网数据配置\"></a>三、4G承载网数据配置</h4><p>承载网数据配置1：</p>\n<div id=\"dplayer10\" class=\"dplayer hexo-tag-dplayer-mark\" style=\"margin-bottom: 20px;\"></div><script>(function(){var player = new DPlayer({\"container\":document.getElementById(\"dplayer10\"),\"theme\":\"#FADFA3\",\"loop\":true,\"video\":{\"url\":\"/2022/12/11/4G-LTE配置范例/承载网数据配置1.mp4\",\"pic\":\"启动画面.png\"},\"danmaku\":{\"id\":\"9E2E3368B56CDBB4\",\"api\":\"https://api.prprpr.me/dplayer/\",\"token\":\"tokendemo\",\"addition\":[\"https://dplayer.daoapp.io/bilibili?aid=4157142\"]}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script>\n\n<p>承载网数据配置2：</p>\n<div id=\"dplayer11\" class=\"dplayer hexo-tag-dplayer-mark\" style=\"margin-bottom: 20px;\"></div><script>(function(){var player = new DPlayer({\"container\":document.getElementById(\"dplayer11\"),\"theme\":\"#FADFA3\",\"loop\":true,\"video\":{\"url\":\"/2022/12/11/4G-LTE配置范例/承载网数据配置2.mp4\",\"pic\":\"启动画面.png\"},\"danmaku\":{\"id\":\"9E2E3368B56CDBB4\",\"api\":\"https://api.prprpr.me/dplayer/\",\"token\":\"tokendemo\",\"addition\":[\"https://dplayer.daoapp.io/bilibili?aid=4157142\"]}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script>\n"},{"uuid":"024d7cf9-2631-f1c4-5500-1e1b5d26e9d8","title":"MPLS VPN(single)","date":"2022-12-10T15:20:24.000Z","_content":"\n简介：使用MPLS网络实现单个VPN内站点之间的通信。\n\n## 一、网络拓扑图：\n\n在GNS3中添加路由器，搭建如下拓扑。\n\n![img](MPLS-VPN-single/wps1.jpg) \n\n## 二、Ip地址配置：\n\n### 1. IP地址配置规则：\n\n（1）链路地址：班级号.学号.两端路由器号.路由器号/24，如R1的F0/0端口地址为：1.99.12.1/24，R2的F1/0端口IP地址为：1.99.12.2/24。\n\n（2）Loopback地址：路由器号.路由器号.路由器号.路由器号，如R1的Loopback地址为：1.1.1.1/32。\n\n（3）范例配置：1班99号的IP地址\n\n表1 IP地址分配\n\n|      | f0/0接口     | f1/0接口     | Loopback   |\n| ---- | ------------ | ------------ | ---------- |\n| R1   | 1.99.12.1/24 |              | 1.1.1.1/32 |\n| R2   | 1.99.12.2/24 | 1.99.23.2/24 | 2.2.2.2/32 |\n| R3   | 1.99.23.3/24 | 1.99.34.3/24 | 3.3.3.3/32 |\n| R4   | 1.99.34.4/24 | 1.99.45.4/24 | 4.4.4.4/32 |\n| R5   | 1.99.45.5/24 | 1.99.56.5/24 | 5.5.5.5/32 |\n| R6   | 1.99.56.6/24 |              | 6.6.6.6/32 |\n\n（4）配置完后，网络中的IP地址如下图所示\n\n![img](MPLS-VPN-single/wps2.jpg) \n\n### 2. 配置命令：\n\nR1:\n\n```sh\n#R1:\nint f0/0\nip address 1.99.12.1 255.255.255.0\nno shutdown\nint lo0\nip address 1.1.1.1 255.255.255.255\n\n#R2:\nint f0/0\nip address 1.99.12.2 255.255.255.0\nno shutdown\nint f1/0\nip address 1.99.23.2 255.255.255.0\nno shutdown\nint lo0\nip address 2.2.2.2 255.255.255.255\n\n#R3:\nint f0/0\nip address 1.99.23.3 255.255.255.0\nno shutdown\nint f1/0\nip address 1.99.34.3 255.255.255.0\nno shutdown\nint lo0\nip address 3.3.3.3 255.255.255.255\n\n#R4\nint f0/0\nip address 1.99.34.4 255.255.255.0\nno shutdown\nint f1/0\nip address 1.99.45.4 255.255.255.0\nno shutdown\nint lo0\nip address 4.4.4.4 255.255.255.255\n\n#R5\nint f0/0\nip address 1.99.45.5 255.255.255.0\nno shutdown\nint f1/0\nip address 1.99.56.5 255.255.255.0\nno shutdown\nint lo0\nip address 5.5.5.5 255.255.255.255\n\n#R6\nint f0/0\nip address 1.99.56.6 255.255.255.0\nno shutdown\nint lo0\nip address 6.6.6.6 255.255.255.255\n```\n\n\n\n### 3. 查看配置是否正确：\n\n（1）查看端口状态：\n\n![img](MPLS-VPN-single/wps3.jpg) \n\n此时查看路由，可以发现各路由器只有本地直连路由及本地loopback路由。\n\n也可以在配置模式下使用do show ip int b命令跨模式查看。\n\n（2）查看相邻链路可达性\n\n在R2和R3之间的链路上使用Wireshark软件抓包。\n\n可以首先使用show arp命令查看一下地址解析表\n\n在R2上执行ping 1.99.23.3命令。\n\n![img](MPLS-VPN-single/wps4.jpg) \n\n！表示数据发送成功，可以看到第一个是\".\"，则表示数据发送失败，这是因为，第一个包在发送时，R1中并没有1.99.12.2的MAC地址，于是就去发送ARP请求来获得其MAC地址，但是当获得MAC地址之后，第一个包已经超时了（等待MAC地址超时），并没有发送出去。\n\n（3）分析ARP过程\n\n在WireShark中查看ARP包，分析ARP请求报文：\n\n① 第二层地址：\n\nl 源MAC：本地MAC地址\n\nl 目的MAC：全F，广播地址\n\n注意：查看这个ARP请求包的数据链路层的目的MAC地址：全F，是一个广播地址，这也就意味着，发送一个ARP请求包，以太网中的所有主机都能够收到该ARP请求包，但是并不是所有的主机都会回复这个ARP请求包。\n\n② ARP请求报文：\n\nl 发送端IP地址：1.99.23.2\n\nl 目的Ip地址：1.99.23.3\n\nl 发送方MAC地址：本机MAC地址\n\nl 目的MAC地址：全0\n\n分析：在ARP请求包中，会把目的以太网地址字段的值置为全0，因为此时并不知道目的以太网地址是什么。\n\n以太网中只有当接收者的IP地址与ARP请求包中的Target IP address中标识的目的IP地址一致时才会进行回复。\n\n![img](MPLS-VPN-single/wps5.jpg) \n\n分析该ARP响应报文：\n\n![img](MPLS-VPN-single/wps6.jpg) \n\n① 第二层地址：\n\nl 源MAC：本地MAC地址\n\nl 目的MAC：R2的MAC地址\n\n此响应报文发送的时单播包。\n\n② ARP响应报文：\n\nl 发送端IP地址：1.99.23.3\n\nl 目的Ip地址：1.99.23.2\n\nl 发送方MAC地址：本机MAC地址\n\nl 目的MAC地址：R2的MAC地址\n\n此时也可以查看ping发出的ICMP包，只有4对ICMP包，因为第一个包已经超时了。 \n\n此处注意：不能再所有配置都完成后再查看ARP报文，当arp映射表已经形成后，链路上不会再发arp报文\n\n## 三、域内路由协议配置\n\n1. 配置命令\n\n首先配置R2和R3路由器，配置命令如下：\n\n```sh\n#R2\nrouter ospf 50\nrouter-id 2.2.2.2\nnet 1.99.23.2 0.0.0.0 area 0\nnet 2.2.2.2 0.0.0.0 area 0\n\n#R3\nrouter ospf 50\nrouter-id 2.2.2.2\nnet 1.99.23.2 0.0.0.0 area 0\nnet 2.2.2.2 0.0.0.0 area 0\n```\n\n\n\n2. 分析OSPF邻居建立过程\n\n在R2和R3之间的链路上抓包，查看并分析OSPF邻居建立过程\n\n配置完R2后，在Wireshark上查看，发现R2一直在广播Hello报文\n\n![img](MPLS-VPN-single/wps7.jpg) \n\n配置完R3后，在Wireshark上查看链路上的OSPF报文\n\n![img](MPLS-VPN-single/wps8.jpg) \n\n分析该邻居建立及OSPF数据库同步过程\n\n![img](MPLS-VPN-single/wps9.jpg) \n\n\n\n![img](MPLS-VPN-single/wps10.jpg) \n\n\n\n同样配置R4和R5路由器\n\n```sh\n#R4\nrouter ospf 50\nrouter-id 4.4.4.4\nnet 1.99.34.4 0.0.0.0 area 0\nnet 1.99.45.4 0.0.0.0 area 0\nnet 4.4.4.4 0.0.0.0 area 0\n\n#R5\nrouter ospf 50\nrouter-id 5.5.5.5\nnet 1.99.45.5 0.0.0.0 area 0\nnet 5.5.5.5 0.0.0.0 area 0\n```\n\n \n\n3. 查看配置是否正确\n\n（1）使用show ip ospf nei命令查看OSPF邻居关系\n\n![img](MPLS-VPN-single/wps11.jpg) \n\n表明邻居关系已经建立成功。\n\n（2）使用show ip ospf data命令查看OSPF LS数据库\n\n![img](MPLS-VPN-single/wps12.jpg) \n\nOSPF数据库中的链路状态分为两部分：路由器链路状态和网络链路状态\n\n路由器R3发布的链路状态信息包括三条链路：3.3.3.3、1.99.34.3、1.99.23.3\n\n（3）使用show ip route命令查看公网路由表\n\n![img](MPLS-VPN-single/wps13.jpg) \n\n可以看到路由器R2中包含了域内各网络路由。\n\n（4）使用ping命令查看域内各路由器之间是否互通\n\n在R2路由器上ping R5，查看是否实现互通\n\n![img](MPLS-VPN-single/wps14.jpg) \n\n## 四、域内MPLS配置\n\n在R2、R3、R4和R5的对应接口配置MPLS，激活LDP。此步骤需注意边缘路由器的接口配置。\n\n1. 配置命令\n\n   ```sh\n   #R2\n   ip cef\n   mpls ldp router-id lo0\n   mpls label range 200 299\n   int f1/0\n   mpls ip\n   \n   #R3\n   ip cef\n   mpls ldp router-id lo0\n   mpls label range 300 399\n   int f0/0\n   mpls ip\n   int f1/0\n   mpls ip\n   \n   #R4\n   ip cef\n   mpls ldp router-id lo0\n   mpls label range 400 499\n   int f0/0\n   mpls ip\n   int f1/0m\n   pls ip\n   \n   #R5\n   ip cef\n   mpls ldp router-id lo0\n   mpls label range 500 599\n   int f0/0\n   mpls ip\n   ```\n\n   \n\n2. 分析LDP邻居建立过程\n\n配置完R2后，可以看到链路上R2在不停发LDP Hello报文。\n\n![img](MPLS-VPN-single/wps15.jpg) \n\n配置完R3后，可以看到LDP邻居建立过程。查看各数据包，分析LDP邻居建立过程：\n\n![img](MPLS-VPN-single/wps16.jpg) \n\n由此可总结出LDP邻居建立过程：\n\n![img](MPLS-VPN-single/wps17.jpg) \n\n查看Hello报文，可以看出，LDP的Hello报文由UDP协议封装\n\n3. 查看配置是否正确\n\n配置成功后，使用show命令查看。\n\n（1）查看LDP邻居\n\n![img](MPLS-VPN-single/wps22.jpg) \n\n可以看到R3路由器有两个LDP邻居：2.2.2.2、4.4.4.4\n\n（2）查看标签映射表LIB、路由表RIB、标签转发表LFIB\n\n![img](MPLS-VPN-single/wps23.jpg) \n\n图中的imp-null 是隐式空标签， 如果匹配到它，就要将标签弹出。\n\n由此可以看出，R3上的标签映射表可以总结为下表：\n\n| 目的IP    | 本地标签 | R2分配 的标签 | R4分配的标签 |\n| --------- | -------- | ------------- | ------------ |\n| 1.99.12.0 |          | POP           |              |\n| 1.99.23.0 | POP      | POP           | 400          |\n| 1.99.34.0 | POP      | 200           | POP          |\n| 1.99.45.0 | 300      | 201           | POP          |\n| 2.2.2.2   | 301      | POP           | 401          |\n| 3.3.3.3   | POP      | 202           | 402          |\n| 4.4.4.4   | 302      | 203           | POP          |\n| 5.5.5.5   | 303      | 204           | 403          |\n\n查看R3上的路由表：\n\n![img](MPLS-VPN-single/wps24.jpg) \n\n该路由表可简化成下列格式：\n\n| 目的子网  | 下一跳    |\n| --------- | --------- |\n| 1.99.23.0 | 直连      |\n| 1.99.34.0 | 直连      |\n| 1.99.45.0 | 1.99.34.4 |\n| 2.2.2.2   | 1.99.23.2 |\n| 3.3.3.3   | 直连      |\n| 4.4.4.4   | 1.99.34.4 |\n| 5.5.5.5   | 1.99.34.4 |\n\n由此可以得出R3上的标签转发表应生成如下：\n\n![img](MPLS-VPN-single/wps25.png)\n\n验证：查看R3上的标签转发表：\n\n![img](MPLS-VPN-single/wps26.jpg) \n\n符合前面表格\n\n（4）查看MPLS域内数据封装过程\n\n在R2上traceroute R5，查看数据包的标签封装过程\n\n![img](MPLS-VPN-single/wps27.jpg) \n\n（5）小结：MPLS网络中的数据传递过程：\n\n![img](MPLS-VPN-single/wps28.jpg) \n\n看到，数据包在1.99.23.0链路上标签为303，在1.99.34.0链路上标签为403，在1.99.45.0链路上无标签，此为倒数第二跳弹栈技术。\n\n## 五、PE上VRF配置\n\n### 1. 配置命令\n\n在R2(PE1)和R5(PE2)上配置VRF，把对应接口放入VRF中\n\n配置命令如下：\n\n```sh\n#R2\nip vrf VPN1_VRF\nrd 1:1\nroute-target export 2345:2\nroute-target import 2345:5\nint f0/0\nip vrf for VPN1_VRF\nip addr 1.99.12.2 255.255.255.0\n\n#R5\nip vrf VPN1_VRF\nrd 1:1\nroute-target export 2345:5\nroute-target import 2345:2\nint f1/0ip vrf for VPN1_VRF\nip addr 1.99.56.5 255.255.255.0\n```\n\n\n\n注意两个VRF中的RT值配置。\n\n### 2. 查看配置是否正确\n\n使用show命令查看VRF路由表和公网路由表，注意配置VRF前后公网路由表的变化。\n\n（1）配置VRF前，查看公网路由：\n\n![img](MPLS-VPN-single/wps29.png)![img](MPLS-VPN-single/wps30.jpg) \n\n注意此时公网路由中有1.99.12.0网段路由\n\n（2）配置VRF后，查看公网路由：\n\n![img](MPLS-VPN-single/wps31.jpg) \n\n注意：此时公网路由中无1.99.12.0网段\n\n（3）配置VRF后，查看私网路由：\n\n![img](MPLS-VPN-single/wps33.jpg) \n\n注意，此时1.99.12.0网段已放置到VPN1_VRF的私网路由中，此时，R2路由器内部维护两个路由表：私网路由和公网路由，且PE-CE间接口放置到公网中\n\n（4）配置VRF后，查看VRF参数：\n\n![img](MPLS-VPN-single/wps35.jpg)\n\n\n\n## 六、PE-CE之间路由配置\n\nPE和CE之间可以使用任意路由协议，本例中在R1(CE1)-R2(PE1)之间使用OSPF协议，在R5(PE2)-R6(CE2)之间使用RIP协议\n\n### 1. 配置CE1-PE1之间的OSPF协议\n\n（1）配置命令如下：\n\n```sh\n#R1\nrouter ospf 1\nrouter-id 1.1.1.1\nnetwork 1.1.1.1 0.0.0.0 area 1\nnetwork 1.99.12.1 0.0.0.0 area 1\n\n#R2\nrouter ospf 1 vrf VPN1_VRF\nnetwork 1.99.12.2 0.0.0.0 area 1\n```\n\n \n\n（2）查看R2的VRF路由表，确定其中是否包含CE1上路由。（此步骤时间较长）\n\n![img](MPLS-VPN-single/wps38.jpg) \n\n由上可见，此时VRF表中含有1.99.12.0和1.1.1.1两项路由，且此时1.1.1.1路由类型为O，说明此路由来自于OSPF协议。\n\n### 2. 配置CE2-PE2之间的RIP协议\n\n（1）配置命令如下\n\n```sh\n#R5\nrouter rip\naddress-family ipv4 vrf VPN1_VRF\nversion 2\nno auto-summary\nnetwork 1.99.56.5\n\n#R5\nrouter rip\nversion 2\nno auto-summary\nnetwork 6.6.6.6\nnetwork 1.99.56.6\n```\n\n\n\n（2）查看R5中私网路由\n\n![img](MPLS-VPN-single/wps40.jpg) \n\n\n\n由此可见，此时R5的VRF中包含两条路由：1.99.56.0和6.6.6.6，且路由6.6.6.6为RIP协议引入，配置成功。\n\n## 七、配置MP-iBGP协议\n\n### 1. 配置命令\n\n在PE1和PE2上配置MP-iBGP协议，此步骤需一定时间\n\n配置命令如下：\n\n```sh\n#R2\nrouter bgp 2345\nbgp router-id 2.2.2.2\nno bgp default ipv4-unicast\nneighbor 5.5.5.5 remote 2345\nneighbor 5.5.5.5 update-source loopback 0\naddress-family vpnv4\nneighbor 5.5.5.5 activate\nneighbor 5.5.5.5 send-community extended\nrouter ospf 1 vrf VPN1_VRF\nredistribute bgp 2345 subnets\nrouter bgp 2345\naddress-family ipv4 vrf VPN1_VRF\nredistribute ospf 1 match internal external\nno synchronization\n\n#R5\nrouter bgp 2345\nbgp router-id 5.5.5.5\nno bgp default ipv4-unicast\nneighbor 2.2.2.2 remote 2345\nneighbor 2.2.2.2 update-source loopback 0\naddress-family vpnv4\nneighbor 2.2.2.2 activate\nneighbor 2.2.2.2 send-community extended\nrouter rip\naddress-family ipv4 vrf VPN1_VRF\nredistribute bgp 2345 metric transparent\nrouter bgp 2345\naddress-family ipv4 vrf VPN1_VRF\nredistribute rip\nexit-address-family\n```\n\n\n\n### 2. 查看配置是否正确\n\n此时查看PE1上VRF路由\n\n![img](MPLS-VPN-single/wps43.jpg) \n\n可以看出，此时PE1上的VRF表中已经获得CE2路由6.6.6.6\n\n### 3. 结果分析\n\n综合上述路由协议配置，可以得出MPLS VPN网络内的路由协议分布如下。\n\n![img](MPLS-VPN-single/wps44.jpg) \n\n此时可以查看R2-R3链路上的BGP数据包，可以查到R2和R5之间互发的BGP更新报文中分别装载了目的网络、私网标签、RD值、RT值。\n\n![img](MPLS-VPN-single/wps45.jpg)![img](MPLS-VPN-single/wps48.png) \n\n## 八、VPN客户端互通测试\n\n### 1. 测试CE1和CE2之间的互通\n\n![img](MPLS-VPN-single/wps49.jpg) \n\n此时两个客户端可以ping通\n\n### 2. 使用traceroute命令，查看标签\n\n在R1上使用traceroute命令，发现无法查看标签\n\n![img](MPLS-VPN-single/wps50.jpg) \n\n在R1的f0/0接口开通MPLS，再使用traceroute命令，此时可以查看到标签。\n\n![img](MPLS-VPN-single/wps51.jpg) \n\n分析私网数据在MPLS VPN结构中传递过程，在PE1封装了两个标签，栈底标签为506，栈顶标签为303，其中私网标签和前面BGP协议携带的私网标签一致，栈顶标签和R2中的标记信息库中的标签一致。\n\n![img](MPLS-VPN-single/wps52.png)  图37 \n\n此时还可以在沿途路由器上查看各路由器的标签转发表：\n\n（1）在R2上查看标签压入情况\n\n![img](MPLS-VPN-single/wps54.jpg) \n\n（2）在R3上查看LFIB\n\n![img](MPLS-VPN-single/wps57.jpg) \n\n（3）在R4上查看LFIB\n\n![img](MPLS-VPN-single/wps59.jpg) \n\n（4）最后在R5上使用show mpls forwarding-table vrf VPN1_VRF命令查看。\n\n![img](MPLS-VPN-single/wps61.jpg) \n\n结果符合前面traceroute过程。\n","source":"_posts/MPLS-VPN-single.md","raw":"---\nuuid: 024d7cf9-2631-f1c4-5500-1e1b5d26e9d8\ntitle: MPLS VPN(single)\ndate: 2022-12-10 23:20:24\ntags:\n---\n\n简介：使用MPLS网络实现单个VPN内站点之间的通信。\n\n## 一、网络拓扑图：\n\n在GNS3中添加路由器，搭建如下拓扑。\n\n![img](MPLS-VPN-single/wps1.jpg) \n\n## 二、Ip地址配置：\n\n### 1. IP地址配置规则：\n\n（1）链路地址：班级号.学号.两端路由器号.路由器号/24，如R1的F0/0端口地址为：1.99.12.1/24，R2的F1/0端口IP地址为：1.99.12.2/24。\n\n（2）Loopback地址：路由器号.路由器号.路由器号.路由器号，如R1的Loopback地址为：1.1.1.1/32。\n\n（3）范例配置：1班99号的IP地址\n\n表1 IP地址分配\n\n|      | f0/0接口     | f1/0接口     | Loopback   |\n| ---- | ------------ | ------------ | ---------- |\n| R1   | 1.99.12.1/24 |              | 1.1.1.1/32 |\n| R2   | 1.99.12.2/24 | 1.99.23.2/24 | 2.2.2.2/32 |\n| R3   | 1.99.23.3/24 | 1.99.34.3/24 | 3.3.3.3/32 |\n| R4   | 1.99.34.4/24 | 1.99.45.4/24 | 4.4.4.4/32 |\n| R5   | 1.99.45.5/24 | 1.99.56.5/24 | 5.5.5.5/32 |\n| R6   | 1.99.56.6/24 |              | 6.6.6.6/32 |\n\n（4）配置完后，网络中的IP地址如下图所示\n\n![img](MPLS-VPN-single/wps2.jpg) \n\n### 2. 配置命令：\n\nR1:\n\n```sh\n#R1:\nint f0/0\nip address 1.99.12.1 255.255.255.0\nno shutdown\nint lo0\nip address 1.1.1.1 255.255.255.255\n\n#R2:\nint f0/0\nip address 1.99.12.2 255.255.255.0\nno shutdown\nint f1/0\nip address 1.99.23.2 255.255.255.0\nno shutdown\nint lo0\nip address 2.2.2.2 255.255.255.255\n\n#R3:\nint f0/0\nip address 1.99.23.3 255.255.255.0\nno shutdown\nint f1/0\nip address 1.99.34.3 255.255.255.0\nno shutdown\nint lo0\nip address 3.3.3.3 255.255.255.255\n\n#R4\nint f0/0\nip address 1.99.34.4 255.255.255.0\nno shutdown\nint f1/0\nip address 1.99.45.4 255.255.255.0\nno shutdown\nint lo0\nip address 4.4.4.4 255.255.255.255\n\n#R5\nint f0/0\nip address 1.99.45.5 255.255.255.0\nno shutdown\nint f1/0\nip address 1.99.56.5 255.255.255.0\nno shutdown\nint lo0\nip address 5.5.5.5 255.255.255.255\n\n#R6\nint f0/0\nip address 1.99.56.6 255.255.255.0\nno shutdown\nint lo0\nip address 6.6.6.6 255.255.255.255\n```\n\n\n\n### 3. 查看配置是否正确：\n\n（1）查看端口状态：\n\n![img](MPLS-VPN-single/wps3.jpg) \n\n此时查看路由，可以发现各路由器只有本地直连路由及本地loopback路由。\n\n也可以在配置模式下使用do show ip int b命令跨模式查看。\n\n（2）查看相邻链路可达性\n\n在R2和R3之间的链路上使用Wireshark软件抓包。\n\n可以首先使用show arp命令查看一下地址解析表\n\n在R2上执行ping 1.99.23.3命令。\n\n![img](MPLS-VPN-single/wps4.jpg) \n\n！表示数据发送成功，可以看到第一个是\".\"，则表示数据发送失败，这是因为，第一个包在发送时，R1中并没有1.99.12.2的MAC地址，于是就去发送ARP请求来获得其MAC地址，但是当获得MAC地址之后，第一个包已经超时了（等待MAC地址超时），并没有发送出去。\n\n（3）分析ARP过程\n\n在WireShark中查看ARP包，分析ARP请求报文：\n\n① 第二层地址：\n\nl 源MAC：本地MAC地址\n\nl 目的MAC：全F，广播地址\n\n注意：查看这个ARP请求包的数据链路层的目的MAC地址：全F，是一个广播地址，这也就意味着，发送一个ARP请求包，以太网中的所有主机都能够收到该ARP请求包，但是并不是所有的主机都会回复这个ARP请求包。\n\n② ARP请求报文：\n\nl 发送端IP地址：1.99.23.2\n\nl 目的Ip地址：1.99.23.3\n\nl 发送方MAC地址：本机MAC地址\n\nl 目的MAC地址：全0\n\n分析：在ARP请求包中，会把目的以太网地址字段的值置为全0，因为此时并不知道目的以太网地址是什么。\n\n以太网中只有当接收者的IP地址与ARP请求包中的Target IP address中标识的目的IP地址一致时才会进行回复。\n\n![img](MPLS-VPN-single/wps5.jpg) \n\n分析该ARP响应报文：\n\n![img](MPLS-VPN-single/wps6.jpg) \n\n① 第二层地址：\n\nl 源MAC：本地MAC地址\n\nl 目的MAC：R2的MAC地址\n\n此响应报文发送的时单播包。\n\n② ARP响应报文：\n\nl 发送端IP地址：1.99.23.3\n\nl 目的Ip地址：1.99.23.2\n\nl 发送方MAC地址：本机MAC地址\n\nl 目的MAC地址：R2的MAC地址\n\n此时也可以查看ping发出的ICMP包，只有4对ICMP包，因为第一个包已经超时了。 \n\n此处注意：不能再所有配置都完成后再查看ARP报文，当arp映射表已经形成后，链路上不会再发arp报文\n\n## 三、域内路由协议配置\n\n1. 配置命令\n\n首先配置R2和R3路由器，配置命令如下：\n\n```sh\n#R2\nrouter ospf 50\nrouter-id 2.2.2.2\nnet 1.99.23.2 0.0.0.0 area 0\nnet 2.2.2.2 0.0.0.0 area 0\n\n#R3\nrouter ospf 50\nrouter-id 2.2.2.2\nnet 1.99.23.2 0.0.0.0 area 0\nnet 2.2.2.2 0.0.0.0 area 0\n```\n\n\n\n2. 分析OSPF邻居建立过程\n\n在R2和R3之间的链路上抓包，查看并分析OSPF邻居建立过程\n\n配置完R2后，在Wireshark上查看，发现R2一直在广播Hello报文\n\n![img](MPLS-VPN-single/wps7.jpg) \n\n配置完R3后，在Wireshark上查看链路上的OSPF报文\n\n![img](MPLS-VPN-single/wps8.jpg) \n\n分析该邻居建立及OSPF数据库同步过程\n\n![img](MPLS-VPN-single/wps9.jpg) \n\n\n\n![img](MPLS-VPN-single/wps10.jpg) \n\n\n\n同样配置R4和R5路由器\n\n```sh\n#R4\nrouter ospf 50\nrouter-id 4.4.4.4\nnet 1.99.34.4 0.0.0.0 area 0\nnet 1.99.45.4 0.0.0.0 area 0\nnet 4.4.4.4 0.0.0.0 area 0\n\n#R5\nrouter ospf 50\nrouter-id 5.5.5.5\nnet 1.99.45.5 0.0.0.0 area 0\nnet 5.5.5.5 0.0.0.0 area 0\n```\n\n \n\n3. 查看配置是否正确\n\n（1）使用show ip ospf nei命令查看OSPF邻居关系\n\n![img](MPLS-VPN-single/wps11.jpg) \n\n表明邻居关系已经建立成功。\n\n（2）使用show ip ospf data命令查看OSPF LS数据库\n\n![img](MPLS-VPN-single/wps12.jpg) \n\nOSPF数据库中的链路状态分为两部分：路由器链路状态和网络链路状态\n\n路由器R3发布的链路状态信息包括三条链路：3.3.3.3、1.99.34.3、1.99.23.3\n\n（3）使用show ip route命令查看公网路由表\n\n![img](MPLS-VPN-single/wps13.jpg) \n\n可以看到路由器R2中包含了域内各网络路由。\n\n（4）使用ping命令查看域内各路由器之间是否互通\n\n在R2路由器上ping R5，查看是否实现互通\n\n![img](MPLS-VPN-single/wps14.jpg) \n\n## 四、域内MPLS配置\n\n在R2、R3、R4和R5的对应接口配置MPLS，激活LDP。此步骤需注意边缘路由器的接口配置。\n\n1. 配置命令\n\n   ```sh\n   #R2\n   ip cef\n   mpls ldp router-id lo0\n   mpls label range 200 299\n   int f1/0\n   mpls ip\n   \n   #R3\n   ip cef\n   mpls ldp router-id lo0\n   mpls label range 300 399\n   int f0/0\n   mpls ip\n   int f1/0\n   mpls ip\n   \n   #R4\n   ip cef\n   mpls ldp router-id lo0\n   mpls label range 400 499\n   int f0/0\n   mpls ip\n   int f1/0m\n   pls ip\n   \n   #R5\n   ip cef\n   mpls ldp router-id lo0\n   mpls label range 500 599\n   int f0/0\n   mpls ip\n   ```\n\n   \n\n2. 分析LDP邻居建立过程\n\n配置完R2后，可以看到链路上R2在不停发LDP Hello报文。\n\n![img](MPLS-VPN-single/wps15.jpg) \n\n配置完R3后，可以看到LDP邻居建立过程。查看各数据包，分析LDP邻居建立过程：\n\n![img](MPLS-VPN-single/wps16.jpg) \n\n由此可总结出LDP邻居建立过程：\n\n![img](MPLS-VPN-single/wps17.jpg) \n\n查看Hello报文，可以看出，LDP的Hello报文由UDP协议封装\n\n3. 查看配置是否正确\n\n配置成功后，使用show命令查看。\n\n（1）查看LDP邻居\n\n![img](MPLS-VPN-single/wps22.jpg) \n\n可以看到R3路由器有两个LDP邻居：2.2.2.2、4.4.4.4\n\n（2）查看标签映射表LIB、路由表RIB、标签转发表LFIB\n\n![img](MPLS-VPN-single/wps23.jpg) \n\n图中的imp-null 是隐式空标签， 如果匹配到它，就要将标签弹出。\n\n由此可以看出，R3上的标签映射表可以总结为下表：\n\n| 目的IP    | 本地标签 | R2分配 的标签 | R4分配的标签 |\n| --------- | -------- | ------------- | ------------ |\n| 1.99.12.0 |          | POP           |              |\n| 1.99.23.0 | POP      | POP           | 400          |\n| 1.99.34.0 | POP      | 200           | POP          |\n| 1.99.45.0 | 300      | 201           | POP          |\n| 2.2.2.2   | 301      | POP           | 401          |\n| 3.3.3.3   | POP      | 202           | 402          |\n| 4.4.4.4   | 302      | 203           | POP          |\n| 5.5.5.5   | 303      | 204           | 403          |\n\n查看R3上的路由表：\n\n![img](MPLS-VPN-single/wps24.jpg) \n\n该路由表可简化成下列格式：\n\n| 目的子网  | 下一跳    |\n| --------- | --------- |\n| 1.99.23.0 | 直连      |\n| 1.99.34.0 | 直连      |\n| 1.99.45.0 | 1.99.34.4 |\n| 2.2.2.2   | 1.99.23.2 |\n| 3.3.3.3   | 直连      |\n| 4.4.4.4   | 1.99.34.4 |\n| 5.5.5.5   | 1.99.34.4 |\n\n由此可以得出R3上的标签转发表应生成如下：\n\n![img](MPLS-VPN-single/wps25.png)\n\n验证：查看R3上的标签转发表：\n\n![img](MPLS-VPN-single/wps26.jpg) \n\n符合前面表格\n\n（4）查看MPLS域内数据封装过程\n\n在R2上traceroute R5，查看数据包的标签封装过程\n\n![img](MPLS-VPN-single/wps27.jpg) \n\n（5）小结：MPLS网络中的数据传递过程：\n\n![img](MPLS-VPN-single/wps28.jpg) \n\n看到，数据包在1.99.23.0链路上标签为303，在1.99.34.0链路上标签为403，在1.99.45.0链路上无标签，此为倒数第二跳弹栈技术。\n\n## 五、PE上VRF配置\n\n### 1. 配置命令\n\n在R2(PE1)和R5(PE2)上配置VRF，把对应接口放入VRF中\n\n配置命令如下：\n\n```sh\n#R2\nip vrf VPN1_VRF\nrd 1:1\nroute-target export 2345:2\nroute-target import 2345:5\nint f0/0\nip vrf for VPN1_VRF\nip addr 1.99.12.2 255.255.255.0\n\n#R5\nip vrf VPN1_VRF\nrd 1:1\nroute-target export 2345:5\nroute-target import 2345:2\nint f1/0ip vrf for VPN1_VRF\nip addr 1.99.56.5 255.255.255.0\n```\n\n\n\n注意两个VRF中的RT值配置。\n\n### 2. 查看配置是否正确\n\n使用show命令查看VRF路由表和公网路由表，注意配置VRF前后公网路由表的变化。\n\n（1）配置VRF前，查看公网路由：\n\n![img](MPLS-VPN-single/wps29.png)![img](MPLS-VPN-single/wps30.jpg) \n\n注意此时公网路由中有1.99.12.0网段路由\n\n（2）配置VRF后，查看公网路由：\n\n![img](MPLS-VPN-single/wps31.jpg) \n\n注意：此时公网路由中无1.99.12.0网段\n\n（3）配置VRF后，查看私网路由：\n\n![img](MPLS-VPN-single/wps33.jpg) \n\n注意，此时1.99.12.0网段已放置到VPN1_VRF的私网路由中，此时，R2路由器内部维护两个路由表：私网路由和公网路由，且PE-CE间接口放置到公网中\n\n（4）配置VRF后，查看VRF参数：\n\n![img](MPLS-VPN-single/wps35.jpg)\n\n\n\n## 六、PE-CE之间路由配置\n\nPE和CE之间可以使用任意路由协议，本例中在R1(CE1)-R2(PE1)之间使用OSPF协议，在R5(PE2)-R6(CE2)之间使用RIP协议\n\n### 1. 配置CE1-PE1之间的OSPF协议\n\n（1）配置命令如下：\n\n```sh\n#R1\nrouter ospf 1\nrouter-id 1.1.1.1\nnetwork 1.1.1.1 0.0.0.0 area 1\nnetwork 1.99.12.1 0.0.0.0 area 1\n\n#R2\nrouter ospf 1 vrf VPN1_VRF\nnetwork 1.99.12.2 0.0.0.0 area 1\n```\n\n \n\n（2）查看R2的VRF路由表，确定其中是否包含CE1上路由。（此步骤时间较长）\n\n![img](MPLS-VPN-single/wps38.jpg) \n\n由上可见，此时VRF表中含有1.99.12.0和1.1.1.1两项路由，且此时1.1.1.1路由类型为O，说明此路由来自于OSPF协议。\n\n### 2. 配置CE2-PE2之间的RIP协议\n\n（1）配置命令如下\n\n```sh\n#R5\nrouter rip\naddress-family ipv4 vrf VPN1_VRF\nversion 2\nno auto-summary\nnetwork 1.99.56.5\n\n#R5\nrouter rip\nversion 2\nno auto-summary\nnetwork 6.6.6.6\nnetwork 1.99.56.6\n```\n\n\n\n（2）查看R5中私网路由\n\n![img](MPLS-VPN-single/wps40.jpg) \n\n\n\n由此可见，此时R5的VRF中包含两条路由：1.99.56.0和6.6.6.6，且路由6.6.6.6为RIP协议引入，配置成功。\n\n## 七、配置MP-iBGP协议\n\n### 1. 配置命令\n\n在PE1和PE2上配置MP-iBGP协议，此步骤需一定时间\n\n配置命令如下：\n\n```sh\n#R2\nrouter bgp 2345\nbgp router-id 2.2.2.2\nno bgp default ipv4-unicast\nneighbor 5.5.5.5 remote 2345\nneighbor 5.5.5.5 update-source loopback 0\naddress-family vpnv4\nneighbor 5.5.5.5 activate\nneighbor 5.5.5.5 send-community extended\nrouter ospf 1 vrf VPN1_VRF\nredistribute bgp 2345 subnets\nrouter bgp 2345\naddress-family ipv4 vrf VPN1_VRF\nredistribute ospf 1 match internal external\nno synchronization\n\n#R5\nrouter bgp 2345\nbgp router-id 5.5.5.5\nno bgp default ipv4-unicast\nneighbor 2.2.2.2 remote 2345\nneighbor 2.2.2.2 update-source loopback 0\naddress-family vpnv4\nneighbor 2.2.2.2 activate\nneighbor 2.2.2.2 send-community extended\nrouter rip\naddress-family ipv4 vrf VPN1_VRF\nredistribute bgp 2345 metric transparent\nrouter bgp 2345\naddress-family ipv4 vrf VPN1_VRF\nredistribute rip\nexit-address-family\n```\n\n\n\n### 2. 查看配置是否正确\n\n此时查看PE1上VRF路由\n\n![img](MPLS-VPN-single/wps43.jpg) \n\n可以看出，此时PE1上的VRF表中已经获得CE2路由6.6.6.6\n\n### 3. 结果分析\n\n综合上述路由协议配置，可以得出MPLS VPN网络内的路由协议分布如下。\n\n![img](MPLS-VPN-single/wps44.jpg) \n\n此时可以查看R2-R3链路上的BGP数据包，可以查到R2和R5之间互发的BGP更新报文中分别装载了目的网络、私网标签、RD值、RT值。\n\n![img](MPLS-VPN-single/wps45.jpg)![img](MPLS-VPN-single/wps48.png) \n\n## 八、VPN客户端互通测试\n\n### 1. 测试CE1和CE2之间的互通\n\n![img](MPLS-VPN-single/wps49.jpg) \n\n此时两个客户端可以ping通\n\n### 2. 使用traceroute命令，查看标签\n\n在R1上使用traceroute命令，发现无法查看标签\n\n![img](MPLS-VPN-single/wps50.jpg) \n\n在R1的f0/0接口开通MPLS，再使用traceroute命令，此时可以查看到标签。\n\n![img](MPLS-VPN-single/wps51.jpg) \n\n分析私网数据在MPLS VPN结构中传递过程，在PE1封装了两个标签，栈底标签为506，栈顶标签为303，其中私网标签和前面BGP协议携带的私网标签一致，栈顶标签和R2中的标记信息库中的标签一致。\n\n![img](MPLS-VPN-single/wps52.png)  图37 \n\n此时还可以在沿途路由器上查看各路由器的标签转发表：\n\n（1）在R2上查看标签压入情况\n\n![img](MPLS-VPN-single/wps54.jpg) \n\n（2）在R3上查看LFIB\n\n![img](MPLS-VPN-single/wps57.jpg) \n\n（3）在R4上查看LFIB\n\n![img](MPLS-VPN-single/wps59.jpg) \n\n（4）最后在R5上使用show mpls forwarding-table vrf VPN1_VRF命令查看。\n\n![img](MPLS-VPN-single/wps61.jpg) \n\n结果符合前面traceroute过程。\n","slug":"MPLS-VPN-single","published":1,"updated":"2022-12-14T15:18:47.205Z","_id":"clbj2ohh40001kglm327qel9j","comments":1,"layout":"post","photos":[],"link":"","content":"<p>简介：使用MPLS网络实现单个VPN内站点之间的通信。</p>\n<h2 id=\"一、网络拓扑图：\"><a href=\"#一、网络拓扑图：\" class=\"headerlink\" title=\"一、网络拓扑图：\"></a>一、网络拓扑图：</h2><p>在GNS3中添加路由器，搭建如下拓扑。</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps1.jpg\" class=\"\" title=\"img\"> \n\n<h2 id=\"二、Ip地址配置：\"><a href=\"#二、Ip地址配置：\" class=\"headerlink\" title=\"二、Ip地址配置：\"></a>二、Ip地址配置：</h2><h3 id=\"1-IP地址配置规则：\"><a href=\"#1-IP地址配置规则：\" class=\"headerlink\" title=\"1. IP地址配置规则：\"></a>1. IP地址配置规则：</h3><p>（1）链路地址：班级号.学号.两端路由器号.路由器号/24，如R1的F0/0端口地址为：1.99.12.1/24，R2的F1/0端口IP地址为：1.99.12.2/24。</p>\n<p>（2）Loopback地址：路由器号.路由器号.路由器号.路由器号，如R1的Loopback地址为：1.1.1.1/32。</p>\n<p>（3）范例配置：1班99号的IP地址</p>\n<p>表1 IP地址分配</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>f0/0接口</th>\n<th>f1/0接口</th>\n<th>Loopback</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>R1</td>\n<td>1.99.12.1/24</td>\n<td></td>\n<td>1.1.1.1/32</td>\n</tr>\n<tr>\n<td>R2</td>\n<td>1.99.12.2/24</td>\n<td>1.99.23.2/24</td>\n<td>2.2.2.2/32</td>\n</tr>\n<tr>\n<td>R3</td>\n<td>1.99.23.3/24</td>\n<td>1.99.34.3/24</td>\n<td>3.3.3.3/32</td>\n</tr>\n<tr>\n<td>R4</td>\n<td>1.99.34.4/24</td>\n<td>1.99.45.4/24</td>\n<td>4.4.4.4/32</td>\n</tr>\n<tr>\n<td>R5</td>\n<td>1.99.45.5/24</td>\n<td>1.99.56.5/24</td>\n<td>5.5.5.5/32</td>\n</tr>\n<tr>\n<td>R6</td>\n<td>1.99.56.6/24</td>\n<td></td>\n<td>6.6.6.6/32</td>\n</tr>\n</tbody></table>\n<p>（4）配置完后，网络中的IP地址如下图所示</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps2.jpg\" class=\"\" title=\"img\"> \n\n<h3 id=\"2-配置命令：\"><a href=\"#2-配置命令：\" class=\"headerlink\" title=\"2. 配置命令：\"></a>2. 配置命令：</h3><p>R1:</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#R1:</span></span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 1.99.12.1 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 1.1.1.1 255.255.255.255</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R2:</span></span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 1.99.12.2 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip address 1.99.23.2 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 2.2.2.2 255.255.255.255</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R3:</span></span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 1.99.23.3 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip address 1.99.34.3 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 3.3.3.3 255.255.255.255</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R4</span></span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 1.99.34.4 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip address 1.99.45.4 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 4.4.4.4 255.255.255.255</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R5</span></span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 1.99.45.5 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip address 1.99.56.5 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 5.5.5.5 255.255.255.255</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R6</span></span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 1.99.56.6 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 6.6.6.6 255.255.255.255</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"3-查看配置是否正确：\"><a href=\"#3-查看配置是否正确：\" class=\"headerlink\" title=\"3. 查看配置是否正确：\"></a>3. 查看配置是否正确：</h3><p>（1）查看端口状态：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps3.jpg\" class=\"\" title=\"img\"> \n\n<p>此时查看路由，可以发现各路由器只有本地直连路由及本地loopback路由。</p>\n<p>也可以在配置模式下使用do show ip int b命令跨模式查看。</p>\n<p>（2）查看相邻链路可达性</p>\n<p>在R2和R3之间的链路上使用Wireshark软件抓包。</p>\n<p>可以首先使用show arp命令查看一下地址解析表</p>\n<p>在R2上执行ping 1.99.23.3命令。</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps4.jpg\" class=\"\" title=\"img\"> \n\n<p>！表示数据发送成功，可以看到第一个是”.”，则表示数据发送失败，这是因为，第一个包在发送时，R1中并没有1.99.12.2的MAC地址，于是就去发送ARP请求来获得其MAC地址，但是当获得MAC地址之后，第一个包已经超时了（等待MAC地址超时），并没有发送出去。</p>\n<p>（3）分析ARP过程</p>\n<p>在WireShark中查看ARP包，分析ARP请求报文：</p>\n<p>① 第二层地址：</p>\n<p>l 源MAC：本地MAC地址</p>\n<p>l 目的MAC：全F，广播地址</p>\n<p>注意：查看这个ARP请求包的数据链路层的目的MAC地址：全F，是一个广播地址，这也就意味着，发送一个ARP请求包，以太网中的所有主机都能够收到该ARP请求包，但是并不是所有的主机都会回复这个ARP请求包。</p>\n<p>② ARP请求报文：</p>\n<p>l 发送端IP地址：1.99.23.2</p>\n<p>l 目的Ip地址：1.99.23.3</p>\n<p>l 发送方MAC地址：本机MAC地址</p>\n<p>l 目的MAC地址：全0</p>\n<p>分析：在ARP请求包中，会把目的以太网地址字段的值置为全0，因为此时并不知道目的以太网地址是什么。</p>\n<p>以太网中只有当接收者的IP地址与ARP请求包中的Target IP address中标识的目的IP地址一致时才会进行回复。</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps5.jpg\" class=\"\" title=\"img\"> \n\n<p>分析该ARP响应报文：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps6.jpg\" class=\"\" title=\"img\"> \n\n<p>① 第二层地址：</p>\n<p>l 源MAC：本地MAC地址</p>\n<p>l 目的MAC：R2的MAC地址</p>\n<p>此响应报文发送的时单播包。</p>\n<p>② ARP响应报文：</p>\n<p>l 发送端IP地址：1.99.23.3</p>\n<p>l 目的Ip地址：1.99.23.2</p>\n<p>l 发送方MAC地址：本机MAC地址</p>\n<p>l 目的MAC地址：R2的MAC地址</p>\n<p>此时也可以查看ping发出的ICMP包，只有4对ICMP包，因为第一个包已经超时了。 </p>\n<p>此处注意：不能再所有配置都完成后再查看ARP报文，当arp映射表已经形成后，链路上不会再发arp报文</p>\n<h2 id=\"三、域内路由协议配置\"><a href=\"#三、域内路由协议配置\" class=\"headerlink\" title=\"三、域内路由协议配置\"></a>三、域内路由协议配置</h2><ol>\n<li>配置命令</li>\n</ol>\n<p>首先配置R2和R3路由器，配置命令如下：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#R2</span></span><br><span class=\"line\">router ospf 50</span><br><span class=\"line\">router-id 2.2.2.2</span><br><span class=\"line\">net 1.99.23.2 0.0.0.0 area 0</span><br><span class=\"line\">net 2.2.2.2 0.0.0.0 area 0</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R3</span></span><br><span class=\"line\">router ospf 50</span><br><span class=\"line\">router-id 2.2.2.2</span><br><span class=\"line\">net 1.99.23.2 0.0.0.0 area 0</span><br><span class=\"line\">net 2.2.2.2 0.0.0.0 area 0</span><br></pre></td></tr></table></figure>\n\n\n\n<ol start=\"2\">\n<li>分析OSPF邻居建立过程</li>\n</ol>\n<p>在R2和R3之间的链路上抓包，查看并分析OSPF邻居建立过程</p>\n<p>配置完R2后，在Wireshark上查看，发现R2一直在广播Hello报文</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps7.jpg\" class=\"\" title=\"img\"> \n\n<p>配置完R3后，在Wireshark上查看链路上的OSPF报文</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps8.jpg\" class=\"\" title=\"img\"> \n\n<p>分析该邻居建立及OSPF数据库同步过程</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps9.jpg\" class=\"\" title=\"img\"> \n\n\n\n<img src=\"/2022/12/10/MPLS-VPN-single/wps10.jpg\" class=\"\" title=\"img\"> \n\n\n\n<p>同样配置R4和R5路由器</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#R4</span></span><br><span class=\"line\">router ospf 50</span><br><span class=\"line\">router-id 4.4.4.4</span><br><span class=\"line\">net 1.99.34.4 0.0.0.0 area 0</span><br><span class=\"line\">net 1.99.45.4 0.0.0.0 area 0</span><br><span class=\"line\">net 4.4.4.4 0.0.0.0 area 0</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R5</span></span><br><span class=\"line\">router ospf 50</span><br><span class=\"line\">router-id 5.5.5.5</span><br><span class=\"line\">net 1.99.45.5 0.0.0.0 area 0</span><br><span class=\"line\">net 5.5.5.5 0.0.0.0 area 0</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>查看配置是否正确</li>\n</ol>\n<p>（1）使用show ip ospf nei命令查看OSPF邻居关系</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps11.jpg\" class=\"\" title=\"img\"> \n\n<p>表明邻居关系已经建立成功。</p>\n<p>（2）使用show ip ospf data命令查看OSPF LS数据库</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps12.jpg\" class=\"\" title=\"img\"> \n\n<p>OSPF数据库中的链路状态分为两部分：路由器链路状态和网络链路状态</p>\n<p>路由器R3发布的链路状态信息包括三条链路：3.3.3.3、1.99.34.3、1.99.23.3</p>\n<p>（3）使用show ip route命令查看公网路由表</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps13.jpg\" class=\"\" title=\"img\"> \n\n<p>可以看到路由器R2中包含了域内各网络路由。</p>\n<p>（4）使用ping命令查看域内各路由器之间是否互通</p>\n<p>在R2路由器上ping R5，查看是否实现互通</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps14.jpg\" class=\"\" title=\"img\"> \n\n<h2 id=\"四、域内MPLS配置\"><a href=\"#四、域内MPLS配置\" class=\"headerlink\" title=\"四、域内MPLS配置\"></a>四、域内MPLS配置</h2><p>在R2、R3、R4和R5的对应接口配置MPLS，激活LDP。此步骤需注意边缘路由器的接口配置。</p>\n<ol>\n<li><p>配置命令</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#R2</span></span><br><span class=\"line\">ip cef</span><br><span class=\"line\">mpls ldp router-id lo0</span><br><span class=\"line\">mpls label range 200 299</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">mpls ip</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R3</span></span><br><span class=\"line\">ip cef</span><br><span class=\"line\">mpls ldp router-id lo0</span><br><span class=\"line\">mpls label range 300 399</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">mpls ip</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">mpls ip</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R4</span></span><br><span class=\"line\">ip cef</span><br><span class=\"line\">mpls ldp router-id lo0</span><br><span class=\"line\">mpls label range 400 499</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">mpls ip</span><br><span class=\"line\">int f1/0m</span><br><span class=\"line\">pls ip</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R5</span></span><br><span class=\"line\">ip cef</span><br><span class=\"line\">mpls ldp router-id lo0</span><br><span class=\"line\">mpls label range 500 599</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">mpls ip</span><br></pre></td></tr></table></figure></li>\n<li><p>分析LDP邻居建立过程</p>\n</li>\n</ol>\n<p>配置完R2后，可以看到链路上R2在不停发LDP Hello报文。</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps15.jpg\" class=\"\" title=\"img\"> \n\n<p>配置完R3后，可以看到LDP邻居建立过程。查看各数据包，分析LDP邻居建立过程：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps16.jpg\" class=\"\" title=\"img\"> \n\n<p>由此可总结出LDP邻居建立过程：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps17.jpg\" class=\"\" title=\"img\"> \n\n<p>查看Hello报文，可以看出，LDP的Hello报文由UDP协议封装</p>\n<ol start=\"3\">\n<li>查看配置是否正确</li>\n</ol>\n<p>配置成功后，使用show命令查看。</p>\n<p>（1）查看LDP邻居</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps22.jpg\" class=\"\" title=\"img\"> \n\n<p>可以看到R3路由器有两个LDP邻居：2.2.2.2、4.4.4.4</p>\n<p>（2）查看标签映射表LIB、路由表RIB、标签转发表LFIB</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps23.jpg\" class=\"\" title=\"img\"> \n\n<p>图中的imp-null 是隐式空标签， 如果匹配到它，就要将标签弹出。</p>\n<p>由此可以看出，R3上的标签映射表可以总结为下表：</p>\n<table>\n<thead>\n<tr>\n<th>目的IP</th>\n<th>本地标签</th>\n<th>R2分配 的标签</th>\n<th>R4分配的标签</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.99.12.0</td>\n<td></td>\n<td>POP</td>\n<td></td>\n</tr>\n<tr>\n<td>1.99.23.0</td>\n<td>POP</td>\n<td>POP</td>\n<td>400</td>\n</tr>\n<tr>\n<td>1.99.34.0</td>\n<td>POP</td>\n<td>200</td>\n<td>POP</td>\n</tr>\n<tr>\n<td>1.99.45.0</td>\n<td>300</td>\n<td>201</td>\n<td>POP</td>\n</tr>\n<tr>\n<td>2.2.2.2</td>\n<td>301</td>\n<td>POP</td>\n<td>401</td>\n</tr>\n<tr>\n<td>3.3.3.3</td>\n<td>POP</td>\n<td>202</td>\n<td>402</td>\n</tr>\n<tr>\n<td>4.4.4.4</td>\n<td>302</td>\n<td>203</td>\n<td>POP</td>\n</tr>\n<tr>\n<td>5.5.5.5</td>\n<td>303</td>\n<td>204</td>\n<td>403</td>\n</tr>\n</tbody></table>\n<p>查看R3上的路由表：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps24.jpg\" class=\"\" title=\"img\"> \n\n<p>该路由表可简化成下列格式：</p>\n<table>\n<thead>\n<tr>\n<th>目的子网</th>\n<th>下一跳</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.99.23.0</td>\n<td>直连</td>\n</tr>\n<tr>\n<td>1.99.34.0</td>\n<td>直连</td>\n</tr>\n<tr>\n<td>1.99.45.0</td>\n<td>1.99.34.4</td>\n</tr>\n<tr>\n<td>2.2.2.2</td>\n<td>1.99.23.2</td>\n</tr>\n<tr>\n<td>3.3.3.3</td>\n<td>直连</td>\n</tr>\n<tr>\n<td>4.4.4.4</td>\n<td>1.99.34.4</td>\n</tr>\n<tr>\n<td>5.5.5.5</td>\n<td>1.99.34.4</td>\n</tr>\n</tbody></table>\n<p>由此可以得出R3上的标签转发表应生成如下：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps25.png\" class=\"\" title=\"img\">\n\n<p>验证：查看R3上的标签转发表：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps26.jpg\" class=\"\" title=\"img\"> \n\n<p>符合前面表格</p>\n<p>（4）查看MPLS域内数据封装过程</p>\n<p>在R2上traceroute R5，查看数据包的标签封装过程</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps27.jpg\" class=\"\" title=\"img\"> \n\n<p>（5）小结：MPLS网络中的数据传递过程：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps28.jpg\" class=\"\" title=\"img\"> \n\n<p>看到，数据包在1.99.23.0链路上标签为303，在1.99.34.0链路上标签为403，在1.99.45.0链路上无标签，此为倒数第二跳弹栈技术。</p>\n<h2 id=\"五、PE上VRF配置\"><a href=\"#五、PE上VRF配置\" class=\"headerlink\" title=\"五、PE上VRF配置\"></a>五、PE上VRF配置</h2><h3 id=\"1-配置命令\"><a href=\"#1-配置命令\" class=\"headerlink\" title=\"1. 配置命令\"></a>1. 配置命令</h3><p>在R2(PE1)和R5(PE2)上配置VRF，把对应接口放入VRF中</p>\n<p>配置命令如下：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#R2</span></span><br><span class=\"line\">ip vrf VPN1_VRF</span><br><span class=\"line\">rd 1:1</span><br><span class=\"line\">route-target <span class=\"built_in\">export</span> 2345:2</span><br><span class=\"line\">route-target import 2345:5</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip vrf <span class=\"keyword\">for</span> VPN1_VRF</span><br><span class=\"line\">ip addr 1.99.12.2 255.255.255.0</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R5</span></span><br><span class=\"line\">ip vrf VPN1_VRF</span><br><span class=\"line\">rd 1:1</span><br><span class=\"line\">route-target <span class=\"built_in\">export</span> 2345:5</span><br><span class=\"line\">route-target import 2345:2</span><br><span class=\"line\">int f1/0ip vrf <span class=\"keyword\">for</span> VPN1_VRF</span><br><span class=\"line\">ip addr 1.99.56.5 255.255.255.0</span><br></pre></td></tr></table></figure>\n\n\n\n<p>注意两个VRF中的RT值配置。</p>\n<h3 id=\"2-查看配置是否正确\"><a href=\"#2-查看配置是否正确\" class=\"headerlink\" title=\"2. 查看配置是否正确\"></a>2. 查看配置是否正确</h3><p>使用show命令查看VRF路由表和公网路由表，注意配置VRF前后公网路由表的变化。</p>\n<p>（1）配置VRF前，查看公网路由：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps29.png\" class=\"\" title=\"img\"><img src=\"/2022/12/10/MPLS-VPN-single/wps30.jpg\" class=\"\" title=\"img\"> \n\n<p>注意此时公网路由中有1.99.12.0网段路由</p>\n<p>（2）配置VRF后，查看公网路由：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps31.jpg\" class=\"\" title=\"img\"> \n\n<p>注意：此时公网路由中无1.99.12.0网段</p>\n<p>（3）配置VRF后，查看私网路由：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps33.jpg\" class=\"\" title=\"img\"> \n\n<p>注意，此时1.99.12.0网段已放置到VPN1_VRF的私网路由中，此时，R2路由器内部维护两个路由表：私网路由和公网路由，且PE-CE间接口放置到公网中</p>\n<p>（4）配置VRF后，查看VRF参数：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps35.jpg\" class=\"\" title=\"img\">\n\n\n\n<h2 id=\"六、PE-CE之间路由配置\"><a href=\"#六、PE-CE之间路由配置\" class=\"headerlink\" title=\"六、PE-CE之间路由配置\"></a>六、PE-CE之间路由配置</h2><p>PE和CE之间可以使用任意路由协议，本例中在R1(CE1)-R2(PE1)之间使用OSPF协议，在R5(PE2)-R6(CE2)之间使用RIP协议</p>\n<h3 id=\"1-配置CE1-PE1之间的OSPF协议\"><a href=\"#1-配置CE1-PE1之间的OSPF协议\" class=\"headerlink\" title=\"1. 配置CE1-PE1之间的OSPF协议\"></a>1. 配置CE1-PE1之间的OSPF协议</h3><p>（1）配置命令如下：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#R1</span></span><br><span class=\"line\">router ospf 1</span><br><span class=\"line\">router-id 1.1.1.1</span><br><span class=\"line\">network 1.1.1.1 0.0.0.0 area 1</span><br><span class=\"line\">network 1.99.12.1 0.0.0.0 area 1</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R2</span></span><br><span class=\"line\">router ospf 1 vrf VPN1_VRF</span><br><span class=\"line\">network 1.99.12.2 0.0.0.0 area 1</span><br></pre></td></tr></table></figure>\n\n<p>（2）查看R2的VRF路由表，确定其中是否包含CE1上路由。（此步骤时间较长）</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps38.jpg\" class=\"\" title=\"img\"> \n\n<p>由上可见，此时VRF表中含有1.99.12.0和1.1.1.1两项路由，且此时1.1.1.1路由类型为O，说明此路由来自于OSPF协议。</p>\n<h3 id=\"2-配置CE2-PE2之间的RIP协议\"><a href=\"#2-配置CE2-PE2之间的RIP协议\" class=\"headerlink\" title=\"2. 配置CE2-PE2之间的RIP协议\"></a>2. 配置CE2-PE2之间的RIP协议</h3><p>（1）配置命令如下</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#R5</span></span><br><span class=\"line\">router rip</span><br><span class=\"line\">address-family ipv4 vrf VPN1_VRF</span><br><span class=\"line\">version 2</span><br><span class=\"line\">no auto-summary</span><br><span class=\"line\">network 1.99.56.5</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R5</span></span><br><span class=\"line\">router rip</span><br><span class=\"line\">version 2</span><br><span class=\"line\">no auto-summary</span><br><span class=\"line\">network 6.6.6.6</span><br><span class=\"line\">network 1.99.56.6</span><br></pre></td></tr></table></figure>\n\n\n\n<p>（2）查看R5中私网路由</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps40.jpg\" class=\"\" title=\"img\"> \n\n\n\n<p>由此可见，此时R5的VRF中包含两条路由：1.99.56.0和6.6.6.6，且路由6.6.6.6为RIP协议引入，配置成功。</p>\n<h2 id=\"七、配置MP-iBGP协议\"><a href=\"#七、配置MP-iBGP协议\" class=\"headerlink\" title=\"七、配置MP-iBGP协议\"></a>七、配置MP-iBGP协议</h2><h3 id=\"1-配置命令-1\"><a href=\"#1-配置命令-1\" class=\"headerlink\" title=\"1. 配置命令\"></a>1. 配置命令</h3><p>在PE1和PE2上配置MP-iBGP协议，此步骤需一定时间</p>\n<p>配置命令如下：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#R2</span></span><br><span class=\"line\">router bgp 2345</span><br><span class=\"line\">bgp router-id 2.2.2.2</span><br><span class=\"line\">no bgp default ipv4-unicast</span><br><span class=\"line\">neighbor 5.5.5.5 remote 2345</span><br><span class=\"line\">neighbor 5.5.5.5 update-source loopback 0</span><br><span class=\"line\">address-family vpnv4</span><br><span class=\"line\">neighbor 5.5.5.5 activate</span><br><span class=\"line\">neighbor 5.5.5.5 send-community extended</span><br><span class=\"line\">router ospf 1 vrf VPN1_VRF</span><br><span class=\"line\">redistribute bgp 2345 subnets</span><br><span class=\"line\">router bgp 2345</span><br><span class=\"line\">address-family ipv4 vrf VPN1_VRF</span><br><span class=\"line\">redistribute ospf 1 match internal external</span><br><span class=\"line\">no synchronization</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R5</span></span><br><span class=\"line\">router bgp 2345</span><br><span class=\"line\">bgp router-id 5.5.5.5</span><br><span class=\"line\">no bgp default ipv4-unicast</span><br><span class=\"line\">neighbor 2.2.2.2 remote 2345</span><br><span class=\"line\">neighbor 2.2.2.2 update-source loopback 0</span><br><span class=\"line\">address-family vpnv4</span><br><span class=\"line\">neighbor 2.2.2.2 activate</span><br><span class=\"line\">neighbor 2.2.2.2 send-community extended</span><br><span class=\"line\">router rip</span><br><span class=\"line\">address-family ipv4 vrf VPN1_VRF</span><br><span class=\"line\">redistribute bgp 2345 metric transparent</span><br><span class=\"line\">router bgp 2345</span><br><span class=\"line\">address-family ipv4 vrf VPN1_VRF</span><br><span class=\"line\">redistribute rip</span><br><span class=\"line\">exit-address-family</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2-查看配置是否正确-1\"><a href=\"#2-查看配置是否正确-1\" class=\"headerlink\" title=\"2. 查看配置是否正确\"></a>2. 查看配置是否正确</h3><p>此时查看PE1上VRF路由</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps43.jpg\" class=\"\" title=\"img\"> \n\n<p>可以看出，此时PE1上的VRF表中已经获得CE2路由6.6.6.6</p>\n<h3 id=\"3-结果分析\"><a href=\"#3-结果分析\" class=\"headerlink\" title=\"3. 结果分析\"></a>3. 结果分析</h3><p>综合上述路由协议配置，可以得出MPLS VPN网络内的路由协议分布如下。</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps44.jpg\" class=\"\" title=\"img\"> \n\n<p>此时可以查看R2-R3链路上的BGP数据包，可以查到R2和R5之间互发的BGP更新报文中分别装载了目的网络、私网标签、RD值、RT值。</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps45.jpg\" class=\"\" title=\"img\"><img src=\"/2022/12/10/MPLS-VPN-single/wps48.png\" class=\"\" title=\"img\"> \n\n<h2 id=\"八、VPN客户端互通测试\"><a href=\"#八、VPN客户端互通测试\" class=\"headerlink\" title=\"八、VPN客户端互通测试\"></a>八、VPN客户端互通测试</h2><h3 id=\"1-测试CE1和CE2之间的互通\"><a href=\"#1-测试CE1和CE2之间的互通\" class=\"headerlink\" title=\"1. 测试CE1和CE2之间的互通\"></a>1. 测试CE1和CE2之间的互通</h3><img src=\"/2022/12/10/MPLS-VPN-single/wps49.jpg\" class=\"\" title=\"img\"> \n\n<p>此时两个客户端可以ping通</p>\n<h3 id=\"2-使用traceroute命令，查看标签\"><a href=\"#2-使用traceroute命令，查看标签\" class=\"headerlink\" title=\"2. 使用traceroute命令，查看标签\"></a>2. 使用traceroute命令，查看标签</h3><p>在R1上使用traceroute命令，发现无法查看标签</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps50.jpg\" class=\"\" title=\"img\"> \n\n<p>在R1的f0/0接口开通MPLS，再使用traceroute命令，此时可以查看到标签。</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps51.jpg\" class=\"\" title=\"img\"> \n\n<p>分析私网数据在MPLS VPN结构中传递过程，在PE1封装了两个标签，栈底标签为506，栈顶标签为303，其中私网标签和前面BGP协议携带的私网标签一致，栈顶标签和R2中的标记信息库中的标签一致。</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps52.png\" class=\"\" title=\"img\">  图37 \n\n<p>此时还可以在沿途路由器上查看各路由器的标签转发表：</p>\n<p>（1）在R2上查看标签压入情况</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps54.jpg\" class=\"\" title=\"img\"> \n\n<p>（2）在R3上查看LFIB</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps57.jpg\" class=\"\" title=\"img\"> \n\n<p>（3）在R4上查看LFIB</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps59.jpg\" class=\"\" title=\"img\"> \n\n<p>（4）最后在R5上使用show mpls forwarding-table vrf VPN1_VRF命令查看。</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps61.jpg\" class=\"\" title=\"img\"> \n\n<p>结果符合前面traceroute过程。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>简介：使用MPLS网络实现单个VPN内站点之间的通信。</p>\n<h2 id=\"一、网络拓扑图：\"><a href=\"#一、网络拓扑图：\" class=\"headerlink\" title=\"一、网络拓扑图：\"></a>一、网络拓扑图：</h2><p>在GNS3中添加路由器，搭建如下拓扑。</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps1.jpg\" class=\"\" title=\"img\"> \n\n<h2 id=\"二、Ip地址配置：\"><a href=\"#二、Ip地址配置：\" class=\"headerlink\" title=\"二、Ip地址配置：\"></a>二、Ip地址配置：</h2><h3 id=\"1-IP地址配置规则：\"><a href=\"#1-IP地址配置规则：\" class=\"headerlink\" title=\"1. IP地址配置规则：\"></a>1. IP地址配置规则：</h3><p>（1）链路地址：班级号.学号.两端路由器号.路由器号/24，如R1的F0/0端口地址为：1.99.12.1/24，R2的F1/0端口IP地址为：1.99.12.2/24。</p>\n<p>（2）Loopback地址：路由器号.路由器号.路由器号.路由器号，如R1的Loopback地址为：1.1.1.1/32。</p>\n<p>（3）范例配置：1班99号的IP地址</p>\n<p>表1 IP地址分配</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>f0/0接口</th>\n<th>f1/0接口</th>\n<th>Loopback</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>R1</td>\n<td>1.99.12.1/24</td>\n<td></td>\n<td>1.1.1.1/32</td>\n</tr>\n<tr>\n<td>R2</td>\n<td>1.99.12.2/24</td>\n<td>1.99.23.2/24</td>\n<td>2.2.2.2/32</td>\n</tr>\n<tr>\n<td>R3</td>\n<td>1.99.23.3/24</td>\n<td>1.99.34.3/24</td>\n<td>3.3.3.3/32</td>\n</tr>\n<tr>\n<td>R4</td>\n<td>1.99.34.4/24</td>\n<td>1.99.45.4/24</td>\n<td>4.4.4.4/32</td>\n</tr>\n<tr>\n<td>R5</td>\n<td>1.99.45.5/24</td>\n<td>1.99.56.5/24</td>\n<td>5.5.5.5/32</td>\n</tr>\n<tr>\n<td>R6</td>\n<td>1.99.56.6/24</td>\n<td></td>\n<td>6.6.6.6/32</td>\n</tr>\n</tbody></table>\n<p>（4）配置完后，网络中的IP地址如下图所示</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps2.jpg\" class=\"\" title=\"img\"> \n\n<h3 id=\"2-配置命令：\"><a href=\"#2-配置命令：\" class=\"headerlink\" title=\"2. 配置命令：\"></a>2. 配置命令：</h3><p>R1:</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#R1:</span></span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 1.99.12.1 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 1.1.1.1 255.255.255.255</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R2:</span></span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 1.99.12.2 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip address 1.99.23.2 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 2.2.2.2 255.255.255.255</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R3:</span></span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 1.99.23.3 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip address 1.99.34.3 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 3.3.3.3 255.255.255.255</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R4</span></span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 1.99.34.4 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip address 1.99.45.4 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 4.4.4.4 255.255.255.255</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R5</span></span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 1.99.45.5 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">ip address 1.99.56.5 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 5.5.5.5 255.255.255.255</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R6</span></span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip address 1.99.56.6 255.255.255.0</span><br><span class=\"line\">no shutdown</span><br><span class=\"line\">int lo0</span><br><span class=\"line\">ip address 6.6.6.6 255.255.255.255</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"3-查看配置是否正确：\"><a href=\"#3-查看配置是否正确：\" class=\"headerlink\" title=\"3. 查看配置是否正确：\"></a>3. 查看配置是否正确：</h3><p>（1）查看端口状态：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps3.jpg\" class=\"\" title=\"img\"> \n\n<p>此时查看路由，可以发现各路由器只有本地直连路由及本地loopback路由。</p>\n<p>也可以在配置模式下使用do show ip int b命令跨模式查看。</p>\n<p>（2）查看相邻链路可达性</p>\n<p>在R2和R3之间的链路上使用Wireshark软件抓包。</p>\n<p>可以首先使用show arp命令查看一下地址解析表</p>\n<p>在R2上执行ping 1.99.23.3命令。</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps4.jpg\" class=\"\" title=\"img\"> \n\n<p>！表示数据发送成功，可以看到第一个是”.”，则表示数据发送失败，这是因为，第一个包在发送时，R1中并没有1.99.12.2的MAC地址，于是就去发送ARP请求来获得其MAC地址，但是当获得MAC地址之后，第一个包已经超时了（等待MAC地址超时），并没有发送出去。</p>\n<p>（3）分析ARP过程</p>\n<p>在WireShark中查看ARP包，分析ARP请求报文：</p>\n<p>① 第二层地址：</p>\n<p>l 源MAC：本地MAC地址</p>\n<p>l 目的MAC：全F，广播地址</p>\n<p>注意：查看这个ARP请求包的数据链路层的目的MAC地址：全F，是一个广播地址，这也就意味着，发送一个ARP请求包，以太网中的所有主机都能够收到该ARP请求包，但是并不是所有的主机都会回复这个ARP请求包。</p>\n<p>② ARP请求报文：</p>\n<p>l 发送端IP地址：1.99.23.2</p>\n<p>l 目的Ip地址：1.99.23.3</p>\n<p>l 发送方MAC地址：本机MAC地址</p>\n<p>l 目的MAC地址：全0</p>\n<p>分析：在ARP请求包中，会把目的以太网地址字段的值置为全0，因为此时并不知道目的以太网地址是什么。</p>\n<p>以太网中只有当接收者的IP地址与ARP请求包中的Target IP address中标识的目的IP地址一致时才会进行回复。</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps5.jpg\" class=\"\" title=\"img\"> \n\n<p>分析该ARP响应报文：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps6.jpg\" class=\"\" title=\"img\"> \n\n<p>① 第二层地址：</p>\n<p>l 源MAC：本地MAC地址</p>\n<p>l 目的MAC：R2的MAC地址</p>\n<p>此响应报文发送的时单播包。</p>\n<p>② ARP响应报文：</p>\n<p>l 发送端IP地址：1.99.23.3</p>\n<p>l 目的Ip地址：1.99.23.2</p>\n<p>l 发送方MAC地址：本机MAC地址</p>\n<p>l 目的MAC地址：R2的MAC地址</p>\n<p>此时也可以查看ping发出的ICMP包，只有4对ICMP包，因为第一个包已经超时了。 </p>\n<p>此处注意：不能再所有配置都完成后再查看ARP报文，当arp映射表已经形成后，链路上不会再发arp报文</p>\n<h2 id=\"三、域内路由协议配置\"><a href=\"#三、域内路由协议配置\" class=\"headerlink\" title=\"三、域内路由协议配置\"></a>三、域内路由协议配置</h2><ol>\n<li>配置命令</li>\n</ol>\n<p>首先配置R2和R3路由器，配置命令如下：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#R2</span></span><br><span class=\"line\">router ospf 50</span><br><span class=\"line\">router-id 2.2.2.2</span><br><span class=\"line\">net 1.99.23.2 0.0.0.0 area 0</span><br><span class=\"line\">net 2.2.2.2 0.0.0.0 area 0</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R3</span></span><br><span class=\"line\">router ospf 50</span><br><span class=\"line\">router-id 2.2.2.2</span><br><span class=\"line\">net 1.99.23.2 0.0.0.0 area 0</span><br><span class=\"line\">net 2.2.2.2 0.0.0.0 area 0</span><br></pre></td></tr></table></figure>\n\n\n\n<ol start=\"2\">\n<li>分析OSPF邻居建立过程</li>\n</ol>\n<p>在R2和R3之间的链路上抓包，查看并分析OSPF邻居建立过程</p>\n<p>配置完R2后，在Wireshark上查看，发现R2一直在广播Hello报文</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps7.jpg\" class=\"\" title=\"img\"> \n\n<p>配置完R3后，在Wireshark上查看链路上的OSPF报文</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps8.jpg\" class=\"\" title=\"img\"> \n\n<p>分析该邻居建立及OSPF数据库同步过程</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps9.jpg\" class=\"\" title=\"img\"> \n\n\n\n<img src=\"/2022/12/10/MPLS-VPN-single/wps10.jpg\" class=\"\" title=\"img\"> \n\n\n\n<p>同样配置R4和R5路由器</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#R4</span></span><br><span class=\"line\">router ospf 50</span><br><span class=\"line\">router-id 4.4.4.4</span><br><span class=\"line\">net 1.99.34.4 0.0.0.0 area 0</span><br><span class=\"line\">net 1.99.45.4 0.0.0.0 area 0</span><br><span class=\"line\">net 4.4.4.4 0.0.0.0 area 0</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R5</span></span><br><span class=\"line\">router ospf 50</span><br><span class=\"line\">router-id 5.5.5.5</span><br><span class=\"line\">net 1.99.45.5 0.0.0.0 area 0</span><br><span class=\"line\">net 5.5.5.5 0.0.0.0 area 0</span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>查看配置是否正确</li>\n</ol>\n<p>（1）使用show ip ospf nei命令查看OSPF邻居关系</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps11.jpg\" class=\"\" title=\"img\"> \n\n<p>表明邻居关系已经建立成功。</p>\n<p>（2）使用show ip ospf data命令查看OSPF LS数据库</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps12.jpg\" class=\"\" title=\"img\"> \n\n<p>OSPF数据库中的链路状态分为两部分：路由器链路状态和网络链路状态</p>\n<p>路由器R3发布的链路状态信息包括三条链路：3.3.3.3、1.99.34.3、1.99.23.3</p>\n<p>（3）使用show ip route命令查看公网路由表</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps13.jpg\" class=\"\" title=\"img\"> \n\n<p>可以看到路由器R2中包含了域内各网络路由。</p>\n<p>（4）使用ping命令查看域内各路由器之间是否互通</p>\n<p>在R2路由器上ping R5，查看是否实现互通</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps14.jpg\" class=\"\" title=\"img\"> \n\n<h2 id=\"四、域内MPLS配置\"><a href=\"#四、域内MPLS配置\" class=\"headerlink\" title=\"四、域内MPLS配置\"></a>四、域内MPLS配置</h2><p>在R2、R3、R4和R5的对应接口配置MPLS，激活LDP。此步骤需注意边缘路由器的接口配置。</p>\n<ol>\n<li><p>配置命令</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#R2</span></span><br><span class=\"line\">ip cef</span><br><span class=\"line\">mpls ldp router-id lo0</span><br><span class=\"line\">mpls label range 200 299</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">mpls ip</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R3</span></span><br><span class=\"line\">ip cef</span><br><span class=\"line\">mpls ldp router-id lo0</span><br><span class=\"line\">mpls label range 300 399</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">mpls ip</span><br><span class=\"line\">int f1/0</span><br><span class=\"line\">mpls ip</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R4</span></span><br><span class=\"line\">ip cef</span><br><span class=\"line\">mpls ldp router-id lo0</span><br><span class=\"line\">mpls label range 400 499</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">mpls ip</span><br><span class=\"line\">int f1/0m</span><br><span class=\"line\">pls ip</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R5</span></span><br><span class=\"line\">ip cef</span><br><span class=\"line\">mpls ldp router-id lo0</span><br><span class=\"line\">mpls label range 500 599</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">mpls ip</span><br></pre></td></tr></table></figure></li>\n<li><p>分析LDP邻居建立过程</p>\n</li>\n</ol>\n<p>配置完R2后，可以看到链路上R2在不停发LDP Hello报文。</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps15.jpg\" class=\"\" title=\"img\"> \n\n<p>配置完R3后，可以看到LDP邻居建立过程。查看各数据包，分析LDP邻居建立过程：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps16.jpg\" class=\"\" title=\"img\"> \n\n<p>由此可总结出LDP邻居建立过程：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps17.jpg\" class=\"\" title=\"img\"> \n\n<p>查看Hello报文，可以看出，LDP的Hello报文由UDP协议封装</p>\n<ol start=\"3\">\n<li>查看配置是否正确</li>\n</ol>\n<p>配置成功后，使用show命令查看。</p>\n<p>（1）查看LDP邻居</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps22.jpg\" class=\"\" title=\"img\"> \n\n<p>可以看到R3路由器有两个LDP邻居：2.2.2.2、4.4.4.4</p>\n<p>（2）查看标签映射表LIB、路由表RIB、标签转发表LFIB</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps23.jpg\" class=\"\" title=\"img\"> \n\n<p>图中的imp-null 是隐式空标签， 如果匹配到它，就要将标签弹出。</p>\n<p>由此可以看出，R3上的标签映射表可以总结为下表：</p>\n<table>\n<thead>\n<tr>\n<th>目的IP</th>\n<th>本地标签</th>\n<th>R2分配 的标签</th>\n<th>R4分配的标签</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.99.12.0</td>\n<td></td>\n<td>POP</td>\n<td></td>\n</tr>\n<tr>\n<td>1.99.23.0</td>\n<td>POP</td>\n<td>POP</td>\n<td>400</td>\n</tr>\n<tr>\n<td>1.99.34.0</td>\n<td>POP</td>\n<td>200</td>\n<td>POP</td>\n</tr>\n<tr>\n<td>1.99.45.0</td>\n<td>300</td>\n<td>201</td>\n<td>POP</td>\n</tr>\n<tr>\n<td>2.2.2.2</td>\n<td>301</td>\n<td>POP</td>\n<td>401</td>\n</tr>\n<tr>\n<td>3.3.3.3</td>\n<td>POP</td>\n<td>202</td>\n<td>402</td>\n</tr>\n<tr>\n<td>4.4.4.4</td>\n<td>302</td>\n<td>203</td>\n<td>POP</td>\n</tr>\n<tr>\n<td>5.5.5.5</td>\n<td>303</td>\n<td>204</td>\n<td>403</td>\n</tr>\n</tbody></table>\n<p>查看R3上的路由表：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps24.jpg\" class=\"\" title=\"img\"> \n\n<p>该路由表可简化成下列格式：</p>\n<table>\n<thead>\n<tr>\n<th>目的子网</th>\n<th>下一跳</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1.99.23.0</td>\n<td>直连</td>\n</tr>\n<tr>\n<td>1.99.34.0</td>\n<td>直连</td>\n</tr>\n<tr>\n<td>1.99.45.0</td>\n<td>1.99.34.4</td>\n</tr>\n<tr>\n<td>2.2.2.2</td>\n<td>1.99.23.2</td>\n</tr>\n<tr>\n<td>3.3.3.3</td>\n<td>直连</td>\n</tr>\n<tr>\n<td>4.4.4.4</td>\n<td>1.99.34.4</td>\n</tr>\n<tr>\n<td>5.5.5.5</td>\n<td>1.99.34.4</td>\n</tr>\n</tbody></table>\n<p>由此可以得出R3上的标签转发表应生成如下：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps25.png\" class=\"\" title=\"img\">\n\n<p>验证：查看R3上的标签转发表：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps26.jpg\" class=\"\" title=\"img\"> \n\n<p>符合前面表格</p>\n<p>（4）查看MPLS域内数据封装过程</p>\n<p>在R2上traceroute R5，查看数据包的标签封装过程</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps27.jpg\" class=\"\" title=\"img\"> \n\n<p>（5）小结：MPLS网络中的数据传递过程：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps28.jpg\" class=\"\" title=\"img\"> \n\n<p>看到，数据包在1.99.23.0链路上标签为303，在1.99.34.0链路上标签为403，在1.99.45.0链路上无标签，此为倒数第二跳弹栈技术。</p>\n<h2 id=\"五、PE上VRF配置\"><a href=\"#五、PE上VRF配置\" class=\"headerlink\" title=\"五、PE上VRF配置\"></a>五、PE上VRF配置</h2><h3 id=\"1-配置命令\"><a href=\"#1-配置命令\" class=\"headerlink\" title=\"1. 配置命令\"></a>1. 配置命令</h3><p>在R2(PE1)和R5(PE2)上配置VRF，把对应接口放入VRF中</p>\n<p>配置命令如下：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#R2</span></span><br><span class=\"line\">ip vrf VPN1_VRF</span><br><span class=\"line\">rd 1:1</span><br><span class=\"line\">route-target <span class=\"built_in\">export</span> 2345:2</span><br><span class=\"line\">route-target import 2345:5</span><br><span class=\"line\">int f0/0</span><br><span class=\"line\">ip vrf <span class=\"keyword\">for</span> VPN1_VRF</span><br><span class=\"line\">ip addr 1.99.12.2 255.255.255.0</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R5</span></span><br><span class=\"line\">ip vrf VPN1_VRF</span><br><span class=\"line\">rd 1:1</span><br><span class=\"line\">route-target <span class=\"built_in\">export</span> 2345:5</span><br><span class=\"line\">route-target import 2345:2</span><br><span class=\"line\">int f1/0ip vrf <span class=\"keyword\">for</span> VPN1_VRF</span><br><span class=\"line\">ip addr 1.99.56.5 255.255.255.0</span><br></pre></td></tr></table></figure>\n\n\n\n<p>注意两个VRF中的RT值配置。</p>\n<h3 id=\"2-查看配置是否正确\"><a href=\"#2-查看配置是否正确\" class=\"headerlink\" title=\"2. 查看配置是否正确\"></a>2. 查看配置是否正确</h3><p>使用show命令查看VRF路由表和公网路由表，注意配置VRF前后公网路由表的变化。</p>\n<p>（1）配置VRF前，查看公网路由：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps29.png\" class=\"\" title=\"img\"><img src=\"/2022/12/10/MPLS-VPN-single/wps30.jpg\" class=\"\" title=\"img\"> \n\n<p>注意此时公网路由中有1.99.12.0网段路由</p>\n<p>（2）配置VRF后，查看公网路由：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps31.jpg\" class=\"\" title=\"img\"> \n\n<p>注意：此时公网路由中无1.99.12.0网段</p>\n<p>（3）配置VRF后，查看私网路由：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps33.jpg\" class=\"\" title=\"img\"> \n\n<p>注意，此时1.99.12.0网段已放置到VPN1_VRF的私网路由中，此时，R2路由器内部维护两个路由表：私网路由和公网路由，且PE-CE间接口放置到公网中</p>\n<p>（4）配置VRF后，查看VRF参数：</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps35.jpg\" class=\"\" title=\"img\">\n\n\n\n<h2 id=\"六、PE-CE之间路由配置\"><a href=\"#六、PE-CE之间路由配置\" class=\"headerlink\" title=\"六、PE-CE之间路由配置\"></a>六、PE-CE之间路由配置</h2><p>PE和CE之间可以使用任意路由协议，本例中在R1(CE1)-R2(PE1)之间使用OSPF协议，在R5(PE2)-R6(CE2)之间使用RIP协议</p>\n<h3 id=\"1-配置CE1-PE1之间的OSPF协议\"><a href=\"#1-配置CE1-PE1之间的OSPF协议\" class=\"headerlink\" title=\"1. 配置CE1-PE1之间的OSPF协议\"></a>1. 配置CE1-PE1之间的OSPF协议</h3><p>（1）配置命令如下：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#R1</span></span><br><span class=\"line\">router ospf 1</span><br><span class=\"line\">router-id 1.1.1.1</span><br><span class=\"line\">network 1.1.1.1 0.0.0.0 area 1</span><br><span class=\"line\">network 1.99.12.1 0.0.0.0 area 1</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R2</span></span><br><span class=\"line\">router ospf 1 vrf VPN1_VRF</span><br><span class=\"line\">network 1.99.12.2 0.0.0.0 area 1</span><br></pre></td></tr></table></figure>\n\n<p>（2）查看R2的VRF路由表，确定其中是否包含CE1上路由。（此步骤时间较长）</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps38.jpg\" class=\"\" title=\"img\"> \n\n<p>由上可见，此时VRF表中含有1.99.12.0和1.1.1.1两项路由，且此时1.1.1.1路由类型为O，说明此路由来自于OSPF协议。</p>\n<h3 id=\"2-配置CE2-PE2之间的RIP协议\"><a href=\"#2-配置CE2-PE2之间的RIP协议\" class=\"headerlink\" title=\"2. 配置CE2-PE2之间的RIP协议\"></a>2. 配置CE2-PE2之间的RIP协议</h3><p>（1）配置命令如下</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#R5</span></span><br><span class=\"line\">router rip</span><br><span class=\"line\">address-family ipv4 vrf VPN1_VRF</span><br><span class=\"line\">version 2</span><br><span class=\"line\">no auto-summary</span><br><span class=\"line\">network 1.99.56.5</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R5</span></span><br><span class=\"line\">router rip</span><br><span class=\"line\">version 2</span><br><span class=\"line\">no auto-summary</span><br><span class=\"line\">network 6.6.6.6</span><br><span class=\"line\">network 1.99.56.6</span><br></pre></td></tr></table></figure>\n\n\n\n<p>（2）查看R5中私网路由</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps40.jpg\" class=\"\" title=\"img\"> \n\n\n\n<p>由此可见，此时R5的VRF中包含两条路由：1.99.56.0和6.6.6.6，且路由6.6.6.6为RIP协议引入，配置成功。</p>\n<h2 id=\"七、配置MP-iBGP协议\"><a href=\"#七、配置MP-iBGP协议\" class=\"headerlink\" title=\"七、配置MP-iBGP协议\"></a>七、配置MP-iBGP协议</h2><h3 id=\"1-配置命令-1\"><a href=\"#1-配置命令-1\" class=\"headerlink\" title=\"1. 配置命令\"></a>1. 配置命令</h3><p>在PE1和PE2上配置MP-iBGP协议，此步骤需一定时间</p>\n<p>配置命令如下：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#R2</span></span><br><span class=\"line\">router bgp 2345</span><br><span class=\"line\">bgp router-id 2.2.2.2</span><br><span class=\"line\">no bgp default ipv4-unicast</span><br><span class=\"line\">neighbor 5.5.5.5 remote 2345</span><br><span class=\"line\">neighbor 5.5.5.5 update-source loopback 0</span><br><span class=\"line\">address-family vpnv4</span><br><span class=\"line\">neighbor 5.5.5.5 activate</span><br><span class=\"line\">neighbor 5.5.5.5 send-community extended</span><br><span class=\"line\">router ospf 1 vrf VPN1_VRF</span><br><span class=\"line\">redistribute bgp 2345 subnets</span><br><span class=\"line\">router bgp 2345</span><br><span class=\"line\">address-family ipv4 vrf VPN1_VRF</span><br><span class=\"line\">redistribute ospf 1 match internal external</span><br><span class=\"line\">no synchronization</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#R5</span></span><br><span class=\"line\">router bgp 2345</span><br><span class=\"line\">bgp router-id 5.5.5.5</span><br><span class=\"line\">no bgp default ipv4-unicast</span><br><span class=\"line\">neighbor 2.2.2.2 remote 2345</span><br><span class=\"line\">neighbor 2.2.2.2 update-source loopback 0</span><br><span class=\"line\">address-family vpnv4</span><br><span class=\"line\">neighbor 2.2.2.2 activate</span><br><span class=\"line\">neighbor 2.2.2.2 send-community extended</span><br><span class=\"line\">router rip</span><br><span class=\"line\">address-family ipv4 vrf VPN1_VRF</span><br><span class=\"line\">redistribute bgp 2345 metric transparent</span><br><span class=\"line\">router bgp 2345</span><br><span class=\"line\">address-family ipv4 vrf VPN1_VRF</span><br><span class=\"line\">redistribute rip</span><br><span class=\"line\">exit-address-family</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"2-查看配置是否正确-1\"><a href=\"#2-查看配置是否正确-1\" class=\"headerlink\" title=\"2. 查看配置是否正确\"></a>2. 查看配置是否正确</h3><p>此时查看PE1上VRF路由</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps43.jpg\" class=\"\" title=\"img\"> \n\n<p>可以看出，此时PE1上的VRF表中已经获得CE2路由6.6.6.6</p>\n<h3 id=\"3-结果分析\"><a href=\"#3-结果分析\" class=\"headerlink\" title=\"3. 结果分析\"></a>3. 结果分析</h3><p>综合上述路由协议配置，可以得出MPLS VPN网络内的路由协议分布如下。</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps44.jpg\" class=\"\" title=\"img\"> \n\n<p>此时可以查看R2-R3链路上的BGP数据包，可以查到R2和R5之间互发的BGP更新报文中分别装载了目的网络、私网标签、RD值、RT值。</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps45.jpg\" class=\"\" title=\"img\"><img src=\"/2022/12/10/MPLS-VPN-single/wps48.png\" class=\"\" title=\"img\"> \n\n<h2 id=\"八、VPN客户端互通测试\"><a href=\"#八、VPN客户端互通测试\" class=\"headerlink\" title=\"八、VPN客户端互通测试\"></a>八、VPN客户端互通测试</h2><h3 id=\"1-测试CE1和CE2之间的互通\"><a href=\"#1-测试CE1和CE2之间的互通\" class=\"headerlink\" title=\"1. 测试CE1和CE2之间的互通\"></a>1. 测试CE1和CE2之间的互通</h3><img src=\"/2022/12/10/MPLS-VPN-single/wps49.jpg\" class=\"\" title=\"img\"> \n\n<p>此时两个客户端可以ping通</p>\n<h3 id=\"2-使用traceroute命令，查看标签\"><a href=\"#2-使用traceroute命令，查看标签\" class=\"headerlink\" title=\"2. 使用traceroute命令，查看标签\"></a>2. 使用traceroute命令，查看标签</h3><p>在R1上使用traceroute命令，发现无法查看标签</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps50.jpg\" class=\"\" title=\"img\"> \n\n<p>在R1的f0/0接口开通MPLS，再使用traceroute命令，此时可以查看到标签。</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps51.jpg\" class=\"\" title=\"img\"> \n\n<p>分析私网数据在MPLS VPN结构中传递过程，在PE1封装了两个标签，栈底标签为506，栈顶标签为303，其中私网标签和前面BGP协议携带的私网标签一致，栈顶标签和R2中的标记信息库中的标签一致。</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps52.png\" class=\"\" title=\"img\">  图37 \n\n<p>此时还可以在沿途路由器上查看各路由器的标签转发表：</p>\n<p>（1）在R2上查看标签压入情况</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps54.jpg\" class=\"\" title=\"img\"> \n\n<p>（2）在R3上查看LFIB</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps57.jpg\" class=\"\" title=\"img\"> \n\n<p>（3）在R4上查看LFIB</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps59.jpg\" class=\"\" title=\"img\"> \n\n<p>（4）最后在R5上使用show mpls forwarding-table vrf VPN1_VRF命令查看。</p>\n<img src=\"/2022/12/10/MPLS-VPN-single/wps61.jpg\" class=\"\" title=\"img\"> \n\n<p>结果符合前面traceroute过程。</p>\n"}],"PostAsset":[{"_id":"source/_posts/Hub-Spoke/image-20221210222146953.png","slug":"image-20221210222146953.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222208515.png","slug":"image-20221210222208515.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222218254.png","slug":"image-20221210222218254.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222226783.png","slug":"image-20221210222226783.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222235385.png","slug":"image-20221210222235385.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222244737.png","slug":"image-20221210222244737.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222257879.png","slug":"image-20221210222257879.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222303596.png","slug":"image-20221210222303596.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222311853.png","slug":"image-20221210222311853.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222317251.png","slug":"image-20221210222317251.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222330945.png","slug":"image-20221210222330945.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222343976.png","slug":"image-20221210222343976.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222357432.png","slug":"image-20221210222357432.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222403562.png","slug":"image-20221210222403562.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222411967.png","slug":"image-20221210222411967.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222418659.png","slug":"image-20221210222418659.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222426550.png","slug":"image-20221210222426550.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222434786.png","slug":"image-20221210222434786.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222442083.png","slug":"image-20221210222442083.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/Hub-Spoke/image-20221210222448237.png","slug":"image-20221210222448237.png","post":"clbi1a0z9000040lm11814wkc","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps1.jpg","slug":"wps1.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps10.jpg","slug":"wps10.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps11.jpg","slug":"wps11.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps12.jpg","slug":"wps12.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps13.jpg","slug":"wps13.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps14.jpg","slug":"wps14.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps15.jpg","slug":"wps15.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps16.jpg","slug":"wps16.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps17.jpg","slug":"wps17.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps18.jpg","slug":"wps18.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps19.jpg","slug":"wps19.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps2.jpg","slug":"wps2.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps20.jpg","slug":"wps20.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps21.jpg","slug":"wps21.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps22.jpg","slug":"wps22.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps23.jpg","slug":"wps23.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps24.jpg","slug":"wps24.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps25.png","slug":"wps25.png","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps26.jpg","slug":"wps26.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps27.jpg","slug":"wps27.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps28.jpg","slug":"wps28.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps29.png","slug":"wps29.png","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps3.jpg","slug":"wps3.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps30.jpg","slug":"wps30.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps31.jpg","slug":"wps31.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps32.png","slug":"wps32.png","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps33.jpg","slug":"wps33.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps34.png","slug":"wps34.png","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps35.jpg","slug":"wps35.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps36.png","slug":"wps36.png","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps37.png","slug":"wps37.png","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps38.jpg","slug":"wps38.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps39.png","slug":"wps39.png","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps4.jpg","slug":"wps4.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps40.jpg","slug":"wps40.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps41.png","slug":"wps41.png","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps42.png","slug":"wps42.png","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps43.jpg","slug":"wps43.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps44.jpg","slug":"wps44.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps45.jpg","slug":"wps45.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps46.png","slug":"wps46.png","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps47.png","slug":"wps47.png","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps48.png","slug":"wps48.png","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps49.jpg","slug":"wps49.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps5.jpg","slug":"wps5.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps50.jpg","slug":"wps50.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps51.jpg","slug":"wps51.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps52.png","slug":"wps52.png","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps53.png","slug":"wps53.png","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps54.jpg","slug":"wps54.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps55.png","slug":"wps55.png","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps56.png","slug":"wps56.png","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps57.jpg","slug":"wps57.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps58.png","slug":"wps58.png","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps59.jpg","slug":"wps59.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps6.jpg","slug":"wps6.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps60.png","slug":"wps60.png","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps61.jpg","slug":"wps61.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps7.jpg","slug":"wps7.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps8.jpg","slug":"wps8.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/MPLS-VPN-single/wps9.jpg","slug":"wps9.jpg","post":"clbj2ohh40001kglm327qel9j","modified":0,"renderable":0},{"_id":"source/_posts/4G-LTE配置范例/启动画面.PNG","slug":"启动画面.PNG","post":"clbj2ohgy0000kglm08jme8ju","modified":0,"renderable":0},{"_id":"source/_posts/4G-LTE配置范例/业务配置1.mp4","slug":"业务配置1.mp4","post":"clbj2ohgy0000kglm08jme8ju","modified":0,"renderable":0},{"_id":"source/_posts/4G-LTE配置范例/切换和漫游1.mp4","slug":"切换和漫游1.mp4","post":"clbj2ohgy0000kglm08jme8ju","modified":0,"renderable":0},{"_id":"source/_posts/4G-LTE配置范例/切换和漫游2.mp4","slug":"切换和漫游2.mp4","post":"clbj2ohgy0000kglm08jme8ju","modified":0,"renderable":0},{"_id":"source/_posts/4G-LTE配置范例/承载网数据配置1.mp4","slug":"承载网数据配置1.mp4","post":"clbj2ohgy0000kglm08jme8ju","modified":0,"renderable":0},{"_id":"source/_posts/4G-LTE配置范例/承载网数据配置2.mp4","slug":"承载网数据配置2.mp4","post":"clbj2ohgy0000kglm08jme8ju","modified":0,"renderable":0},{"_id":"source/_posts/4G-LTE配置范例/业务配置2.mp4","slug":"业务配置2.mp4","post":"clbj2ohgy0000kglm08jme8ju","modified":0,"renderable":0}],"PostCategory":[],"PostTag":[],"Tag":[]}}